(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{82887:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,{CacheProvider:function(){return U},ClassNames:function(){return Y},Global:function(){return z},ThemeContext:function(){return L},createElement:function(){return K},css:function(){return V},jsx:function(){return K},keyframes:function(){return W},withEmotionCache:function(){return P}});var i,o,a,s,l,u,c,A,d,h,f,p=n(2784),g=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n,r=((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t);n=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,n),this.tags.push(r)}var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(i);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,a?0:o.cssRules.length)}catch(e){}}else i.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),m="/*|*/",v=m+"}";function y(e){e&&b.current.insert(e+"}")}var b={current:null};function w(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "}),r}var _=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do e.insert("."+r,i,e.sheet,!0),i=i.next;while(void 0!==i)}},E=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)},C={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},B=/[A-Z]|^ms/g,x=/_EMO_([^_]+?)_([^]*?)_EMO_/g,I=function(e){return 45===e.charCodeAt(1)},T=function(e){return null!=e&&"boolean"!=typeof e},S=(i=function(e){return I(e)?e:e.replace(B,"-$&").toLowerCase()},o={},function(e){return void 0===o[e]&&(o[e]=i(e)),o[e]}),k=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(x,function(e,t,n){return f={name:t,styles:n,next:f},t})}return 1===C[e]||I(e)||"number"!=typeof t||0===t?t:t+"px"};function N(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)f={name:i.name,styles:i.styles,next:f},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=N(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":T(a)&&(r+=S(o)+":"+k(o,a)+";");else if(Array.isArray(a)&&"string"==typeof a[0]&&(null==t||void 0===t[a[0]]))for(var s=0;s<a.length;s++)T(a[s])&&(r+=S(o)+":"+k(o,a[s])+";");else{var l=N(e,t,a,!1);switch(o){case"animation":case"animationName":r+=S(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}}return r}(e,t,n);case"function":if(void 0!==e){var o=f,a=n(e);return f=o,N(e,t,a,r)}}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var D=/label:\s*([^\s;\n{]+)\s*;/g,O=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r,i=!0,o="";f=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=N(n,t,a,!1)):o+=a[0];for(var s=1;s<e.length;s++)o+=N(n,t,e[s],46===o.charCodeAt(o.length-1)),i&&(o+=a[s]);D.lastIndex=0;for(var l="";null!==(r=D.exec(o));)l+="-"+r[1];return{name:E(o)+l,styles:o,next:f}},R=Object.prototype.hasOwnProperty,F=(0,p.createContext)("undefined"!=typeof HTMLElement?(void 0===a&&(a={}),u=a.key||"css",void 0!==a.prefix&&(s={prefix:a.prefix}),c=new function(e){function t(e,t,r){var i=t.trim().split(f);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var u=0;u<a;++u)t[l++]=n(e[u]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(p,"$1"+e.trim());case 58:return e.trim()+t.replace(p,"$1"+e.trim());default:if(0<+n&&0<t.indexOf("\f"))return t.replace(p,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===S||2===S&&i(l,1)?"-webkit-"+l+l:l}if(0===S||2===S&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(B,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return d.test(a)?a.replace(A,":-webkit-")+a.replace(A,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(y,"tb");break;case 232:l=a.replace(y,"tb-rl");break;case 220:l=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(_,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(_,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,a,s,u,c){for(var A,d=0,h=t;d<D;++d)switch(A=N[d].call(l,e,h,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:h=A}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?S=1:(S=2,O=e):S=0),s}function l(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<D){var l=a(-1,n,s,s,I,x,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var A=function e(n,s,l,A,d){for(var h,f,p,y,w,_=0,E=0,C=0,B=0,N=0,O=0,F=p=h=0,L=0,U=0,P=0,M=0,j=l.length,Z=j-1,Q="",H="",V="",K="";L<j;){if(f=l.charCodeAt(L),L===Z&&0!==E+B+C+_&&(0!==E&&(f=47===E?10:47),B=C=_=0,j++,Z++),0===E+B+C+_){if(L===Z&&(0<U&&(Q=Q.replace(c,"")),0<Q.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:Q+=l.charAt(L)}f=59}switch(f){case 123:for(h=(Q=Q.trim()).charCodeAt(0),p=1,M=++L;L<j;){switch(f=l.charCodeAt(L)){case 123:p++;break;case 125:p--;break;case 47:switch(f=l.charCodeAt(L+1)){case 42:case 47:e:{for(F=L+1;F<Z;++F)switch(l.charCodeAt(F)){case 47:if(42===f&&42===l.charCodeAt(F-1)&&L+2!==F){L=F+1;break e}break;case 10:if(47===f){L=F+1;break e}}L=F}}break;case 91:f++;case 40:f++;case 34:case 39:for(;L++<Z&&l.charCodeAt(L)!==f;);}if(0===p)break;L++}if(p=l.substring(M,L),0===h&&(h=(Q=Q.replace(u,"").trim()).charCodeAt(0)),64===h){switch(0<U&&(Q=Q.replace(c,"")),f=Q.charCodeAt(1)){case 100:case 109:case 115:case 45:U=s;break;default:U=k}if(M=(p=e(s,U,p,f,d+1)).length,0<D&&(w=a(3,p,U=t(k,Q,P),s,I,x,M,f,d,A),Q=U.join(""),void 0!==w&&0===(M=(p=w.trim()).length)&&(f=0,p="")),0<M)switch(f){case 115:Q=Q.replace(b,o);case 100:case 109:case 45:p=Q+"{"+p+"}";break;case 107:p=(Q=Q.replace(g,"$1 $2"))+"{"+p+"}",p=1===S||2===S&&i("@"+p,3)?"@-webkit-"+p+"@"+p:"@"+p;break;default:p=Q+p,112===A&&(H+=p,p="")}else p=""}else p=e(s,t(s,Q,P),p,A,d+1);V+=p,p=P=U=F=h=0,Q="",f=l.charCodeAt(++L);break;case 125:case 59:if(1<(M=(Q=(0<U?Q.replace(c,""):Q).trim()).length))switch(0===F&&(45===(h=Q.charCodeAt(0))||96<h&&123>h)&&(M=(Q=Q.replace(" ",":")).length),0<D&&void 0!==(w=a(1,Q,s,n,I,x,H.length,A,d,A))&&0===(M=(Q=w.trim()).length)&&(Q="\0\0"),h=Q.charCodeAt(0),f=Q.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){K+=Q+l.charAt(L);break}default:58!==Q.charCodeAt(M-1)&&(H+=r(Q,h,f,Q.charCodeAt(2)))}P=U=F=h=0,Q="",f=l.charCodeAt(++L)}}switch(f){case 13:case 10:47===E?E=0:0===1+h&&107!==A&&0<Q.length&&(U=1,Q+="\0"),0<D*R&&a(0,Q,s,n,I,x,H.length,A,d,A),x=1,I++;break;case 59:case 125:if(0===E+B+C+_){x++;break}default:switch(x++,y=l.charAt(L),f){case 9:case 32:if(0===B+_+E)switch(N){case 44:case 58:case 9:case 32:y="";break;default:32!==f&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===B+E+_&&(U=P=1,y="\f"+y);break;case 108:if(0===B+E+_+T&&0<F)switch(L-F){case 2:112===N&&58===l.charCodeAt(L-3)&&(T=N);case 8:111===O&&(T=O)}break;case 58:0===B+E+_&&(F=L);break;case 44:0===E+C+B+_&&(U=1,y+="\r");break;case 34:case 39:0===E&&(B=B===f?0:0===B?f:B);break;case 91:0===B+E+C&&_++;break;case 93:0===B+E+C&&_--;break;case 41:0===B+E+_&&C--;break;case 40:0===B+E+_&&(0===h&&(2*N+3*O==533||(h=1)),C++);break;case 64:0===E+C+B+_+F+p&&(p=1);break;case 42:case 47:if(!(0<B+_+C))switch(E){case 0:switch(2*f+3*l.charCodeAt(L+1)){case 235:E=47;break;case 220:M=L,E=42}break;case 42:47===f&&42===N&&M+2!==L&&(33===l.charCodeAt(M+2)&&(H+=l.substring(M,L+1)),y="",E=0)}}0===E&&(Q+=y)}O=N,N=f,L++}if(0<(M=H.length)){if(U=s,0<D&&void 0!==(w=a(2,H,U,n,I,x,M,A,d,A))&&0===(H=w).length)return K+H+V;if(H=U.join(",")+"{"+H+"}",0!=S*T){switch(2!==S||i(H,2)||(T=0),T){case 111:H=H.replace(v,":-moz-$1")+H;break;case 112:H=H.replace(m,"::-webkit-input-$1")+H.replace(m,"::-moz-$1")+H.replace(m,":-ms-input-$1")+H}T=0}}return K+H+V}(k,s,n,0,0);return 0<D&&void 0!==(l=a(-2,A,s,s,I,x,A.length,0,0,0))&&(A=l),T=0,x=I=1,A}var u=/^\0+/g,c=/[\0\r\f]/g,A=/: */g,d=/zoo|gra/,h=/([,: ])(transform)/g,f=/,\r+?/g,p=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,v=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,B=/([^-])(image-set\()/,x=1,I=1,T=0,S=1,k=[],N=[],D=0,O=null,R=0;return l.use=function e(t){switch(t){case void 0:case null:D=N.length=0;break;default:if("function"==typeof t)N[D++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},l.set=s,void 0!==e&&s(e),l}(s),A={},l=a.container||document.head,d=document.querySelectorAll("style[data-emotion-"+u+"]"),Array.prototype.forEach.call(d,function(e){e.getAttribute("data-emotion-"+u).split(" ").forEach(function(e){A[e]=!0}),e.parentNode!==l&&l.appendChild(e)}),c.use(a.stylisPlugins)(function(e,t,n,r,i,o,a,s,l,u){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return b.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+m;break;case 3:switch(s){case 102:case 112:return b.current.insert(n[0]+t),"";default:return t+(0===u?m:"")}case -2:t.split(v).forEach(y)}}),h={key:u,sheet:new g({key:u,container:l,nonce:a.nonce,speedy:a.speedy}),nonce:a.nonce,inserted:A,registered:{},insert:function(e,t,n,r){var i=t.name;b.current=n,c(e,t.styles),r&&(h.inserted[i]=!0)}}):null),L=(0,p.createContext)({}),U=F.Provider,P=function(e){return(0,p.forwardRef)(function(t,n){return(0,p.createElement)(F.Consumer,null,function(r){return e(t,r,n)})})},M="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",j=function(e,t){var n={};for(var r in t)R.call(t,r)&&(n[r]=t[r]);return n[M]=e,n},Z=function(){return null},Q=function(e,t,n,r){var i=null===n?t.css:t.css(n);"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var o=t[M],a=[i],s="";"string"==typeof t.className?s=w(e.registered,a,t.className):null!=t.className&&(s=t.className+" ");var l=O(a);_(e,l,"string"==typeof o),s+=e.key+"-"+l.name;var u={};for(var c in t)R.call(t,c)&&"css"!==c&&c!==M&&(u[c]=t[c]);u.ref=r,u.className=s;var A=(0,p.createElement)(o,u),d=(0,p.createElement)(Z,null);return(0,p.createElement)(p.Fragment,null,d,A)},H=P(function(e,t,n){return"function"==typeof e.css?(0,p.createElement)(L.Consumer,null,function(r){return Q(t,e,r,n)}):Q(t,e,null,n)}),V=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return O(t)},K=function(e,t){var n=arguments;if(null==t||!R.call(t,"css"))return p.createElement.apply(void 0,n);var r=n.length,i=Array(r);i[0]=H,i[1]=j(e,t);for(var o=2;o<r;o++)i[o]=n[o];return p.createElement.apply(null,i)},z=P(function(e,t){var n=e.styles;if("function"==typeof n)return(0,p.createElement)(L.Consumer,null,function(e){var r=O([n(e)]);return(0,p.createElement)(G,{serialized:r,cache:t})});var r=O([n]);return(0,p.createElement)(G,{serialized:r,cache:t})}),G=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new g({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&_(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(p.Component),W=function(){var e=V.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},q=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},$=function(){return null},Y=P(function(e,t){return(0,p.createElement)(L.Consumer,null,function(n){var r=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=O(n,t.registered);return _(t,i,!1),t.key+"-"+i.name},i=e.children({css:r,cx:function(){for(var e,n,i,o,a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return e=t.registered,o=w(e,i=[],n=q(s)),i.length<2?n:o+r(i)},theme:n}),o=(0,p.createElement)($,null);return(0,p.createElement)(p.Fragment,null,o,i)})})},93980:function(e,t,n){"use strict";n.d(t,{BH:function(){return b},LL:function(){return j},ZR:function(){return M},gQ:function(){return et},hu:function(){return i},g5:function(){return o},US:function(){return l},tV:function(){return d},h$:function(){return c},L:function(){return A},r3:function(){return G},Sg:function(){return E},ne:function(){return en},p$:function(){return h},vZ:function(){return function e(t,n){if(t===n)return!0;let r=Object.keys(t),i=Object.keys(n);for(let o of r){if(!i.includes(o))return!1;let r=t[o],a=n[o];if(Y(r)&&Y(a)){if(!e(r,a))return!1}else if(r!==a)return!1}for(let e of i)if(!r.includes(e))return!1;return!0}},gK:function(){return eo},pd:function(){return ee},aH:function(){return v},q4:function(){return g},P0:function(){return m},Pz:function(){return y},Rd:function(){return f},m9:function(){return el},z$:function(){return I},GJ:function(){return z},ru:function(){return N},Xx:function(){return w},L_:function(){return k},xb:function(){return q},w1:function(){return O},hl:function(){return U},uI:function(){return T},Yr:function(){return R},b$:function(){return D},G6:function(){return F},WO:function(){return L},w9:function(){return K},cI:function(){return Q},UI:function(){return $},Uo:function(){return _},xO:function(){return J},zd:function(){return X},DV:function(){return W},ug:function(){return es},dS:function(){return ea},Wl:function(){return H},dp:function(){return x},eu:function(){return P}});var r=n(34406);let i=function(e,t){if(!e)throw o(t)},o=function(e){return Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},s=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{let o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,A=(15&a)<<2|l>>6,d=63&l;!s&&(d=64,o||(A=64)),r.push(n[u],n[c],n[A],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):s(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,s=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw new u;let l=i<<2|o>>4;if(r.push(l),64!==a){let e=o<<4&240|a>>2;if(r.push(e),64!==s){let e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class u extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let c=function(e){let t=a(e);return l.encodeByteArray(t,!0)},A=function(e){return c(e).replace(/\./g,"")},d=function(e){try{return l.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(e){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(let r in n)n.hasOwnProperty(r)&&"__proto__"!==r&&(t[r]=e(t[r],n[r]));return t}(void 0,e)}function f(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("Unable to locate global object.")}let p=()=>{try{return f().__FIREBASE_DEFAULTS__||(()=>{if(void 0===r||void 0===r.env)return;let e=r.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&d(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},g=e=>p()?.emulatorHosts?.[e],m=e=>{let t=g(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},v=()=>p()?.config,y=e=>p()?.[`_${e}`];class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function w(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _(e){return(await fetch(e,{credentials:"include"})).ok}function E(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[A(JSON.stringify({alg:"none",type:"JWT"})),A(JSON.stringify(o)),""].join(".")}let C={},B=!1;function x(e,t){if("undefined"==typeof window||"undefined"==typeof document||!w(window.location.host)||C[e]===t||C[e]||B)return;function n(e){return`__firebase__banner__${e}`}C[e]=t;let r="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(C))C[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){let e,t,o=(e=document.getElementById(r),t=!1,e||((e=document.createElement("div")).setAttribute("id",r),t=!0),{created:t,element:e}),a=n("text"),s=document.getElementById(a)||document.createElement("span"),l=n("learnmore"),u=document.getElementById(l)||document.createElement("a"),c=n("preprendIcon"),A=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(o.created){let e,t=o.element;t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center",u.setAttribute("id",l),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline";let n=((e=document.createElement("span")).style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{let e;B=!0,(e=document.getElementById(r))&&e.remove()},e);A.setAttribute("width","24"),A.setAttribute("id",c),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px",t.append(A,s,u,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,s.innerText="Preview backend running in this workspace."),s.setAttribute("id",a)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function I(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())}function S(){let e=p()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function k(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function N(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function D(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function O(){let e=I();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function R(){return false}function F(){return!S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){return!S()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function U(){try{return"object"==typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}class M extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],s=a?(n=a,r=i,n.replace(Z,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${s} (${o}).`;return new M(o,l,i)}}let Z=/\{\$([^}]+)}/g;function Q(e){return JSON.parse(e)}function H(e){return JSON.stringify(e)}let V=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Q(d(o[0])||""),n=Q(d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},K=function(e){let t=V(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},z=function(e){let t=V(e).claims;return"object"==typeof t&&!0===t.admin};function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function q(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Y(e){return null!==e&&"object"==typeof e}function J(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function X(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ee(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class et{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0}compress_(e,t){let n,r;t||(t=0);let i=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)i[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)i[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=i[e-3]^i[e-8]^i[e-14]^i[e-16];i[e]=(t<<1|t>>>31)&0xffffffff}let o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=l^a&(s^l),r=0x5a827999):(n=a^s^l,r=0x6ed9eba1):e<60?(n=a&s|l&(a|s),r=0x8f1bbcdc):(n=a^s^l,r=0xca62c1d6);let t=(o<<5|o>>>27)+n+u+r+i[e]|0;u=l,l=s,s=(a<<30|a>>>2)&0xffffffff,a=o,o=t}this.chain_[0]=this.chain_[0]+o|0,this.chain_[1]=this.chain_[1]+a|0,this.chain_[2]=this.chain_[2]+s|0,this.chain_[3]=this.chain_[3]+l|0,this.chain_[4]=this.chain_[4]+u|0}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function en(e,t){let n=new er(e,t);return n.subscribe.bind(n)}class er{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=ei),void 0===r.error&&(r.error=ei),void 0===r.complete&&(r.complete=ei);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}function eo(e,t){return`${e} failed: ${t} argument `}let ea=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){let t=o-55296;i(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(o<65536?t[n++]=o>>12|224:(t[n++]=o>>18|240,t[n++]=o>>12&63|128),t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t},es=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function el(e){return e&&e._delegate?e._delegate:e}},19947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12003);t.default=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}()},10870:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72683);t.default=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.makeGetRequest=function(e,t){return a.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(o(n(56664)).default)},72683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12003),i=n(72531).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var n=new XMLHttpRequest;return{responsePromise:new Promise(function(o,a){n.open("GET",e,!0),Object.keys(t).forEach(function(e){var r=t[e];n.setRequestHeader(e,r)}),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status)return void a(Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach(function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),i=e.slice(t+2);i.length>0&&(r[n]=i)}}),r}(n);o({statusCode:n.status,body:n.responseText,headers:e})}},n.timeout=r.REQUEST_TIMEOUT_MS,n.ontimeout=function(){i.error("Request timed out")},n.send()}),abort:function(){n.abort()}}}},12003:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},38423:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach(function(e){(0,n[e])(t)})},e.prototype.removeAllListeners=function(){this.listeners={}},e}()},56664:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(72531),a=n(71185),s=i(n(38423)),l=n(12003),u=i(n(19947)),c=o.getLogger("DatafileManager");function A(e){return e>=200&&e<400}var d={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}};t.default=function(){function e(e){var t=this,n=r(r({},this.getConfigDefaults()),e),i=n.datafile,o=n.autoUpdate,A=n.sdkKey,h=n.updateInterval,f=void 0===h?l.DEFAULT_UPDATE_INTERVAL:h,p=n.urlTemplate,g=void 0===p?l.DEFAULT_URL_TEMPLATE:p,m=n.cache;(this.cache=void 0===m?d:m,this.cacheKey="opt-datafile-"+A,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise(function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n}),i?(this.currentDatafile=i,A||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=a.sprintf(g,A),this.emitter=new s.default,this.autoUpdate=void 0!==o&&o,f>=l.MIN_UPDATE_INTERVAL)?this.updateInterval=f:(c.warn("Invalid updateInterval %s, defaulting to %s",f,l.DEFAULT_UPDATE_INTERVAL),this.updateInterval=l.DEFAULT_UPDATE_INTERVAL),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new u.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(c.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return c.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?c.error("Error fetching datafile: %s",e.message,e):"string"==typeof e?c.error("Error fetching datafile: %s",e):c.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){void 0!==e.statusCode&&A(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);""!==t&&(c.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled?this.emitter.emit("update",{datafile:t}):this.resolveReadyPromise())}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),c.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,function(){return JSON.stringify(t)}),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then(function(t){e.onRequestResolved(t)},function(t){e.onRequestRejected(t)}).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=Math.max(this.backoffController.getDelay(),this.updateInterval);c.debug("Scheduling sync in %s ms",t),this.currentTimeout=setTimeout(function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()},t)},e.prototype.getNextDatafileFromResponse=function(e){return(c.debug("Response status code: %s",e.statusCode),void 0===e.statusCode||304===e.statusCode)?"":A(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];void 0!==t&&(this.lastResponseLastModified=t,c.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then(function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(c.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())})},e}()},36124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpPollingDatafileManager=n(10870).default},40939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},65609:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var r=n(28344),i=n(72531),o=n(71185);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var a=i.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(a.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(a.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),e=Math.max(1,e)},t.getQueue=function(e,t,n,i,o){return e>1?new r.DefaultEventQueue({flushInterval:t,maxQueueSize:e,batchComparator:n,sink:i,closingSink:o}):new r.SingleEventQueue({sink:i})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(o.NOTIFICATION_TYPES.LOG_EVENT,t)}},28344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var r=n(72531).getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}();t.SingleEventQueue=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}(),t.DefaultEventQueue=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,o=e.closingSink,a=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.closingSink=o,this.batchComparator=a,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.closingSink?this.closingSink(this.buffer):this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(!this.started)return void r.warn("Queue is stopped, not accepting event");var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}()},88514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering}},29473:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88514),t),i(n(65609),t),i(n(40939),t),i(n(62949),t),i(n(52621),t),i(n(56066),t),i(n(65495),t)},62949:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},52621:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var o=n(72531),a=n(85187),s=n(71185),l=o.getLogger("EventProcessor"),u=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:s.generateUUID(),timestamp:s.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();l.debug("Sending %s pending events from previous page",t.length),t.forEach(function(t){try{e.send(t,function(){})}catch(e){}})},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,function(r){n.store.remove(e.uuid),t(r)})},e}();t.PendingEventsDispatcher=u,t.LocalStoragePendingEventsDispatcher=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new a.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return i(t,e),t}(u)},85187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var r=n(71185),i=n(72531).getLogger("EventProcessor");t.LocalStorageStore=function(){function e(e){var t=e.key,n=e.maxValues;this.LS_KEY=t,this.maxValues=void 0===n?1e3:n}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return r.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(e){i.error(e)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map(function(t){return{key:t,value:e[t]}});r.sort(function(e,t){return e.value.timestamp-t.value.timestamp});for(var i=0;i<n;i++)delete e[r[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(e){i.error(e)}return{}},e}()},68349:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var n=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach(function(e){return e()}),t.reqsCompleteResolvers=[])};e.then(n,n)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise(function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)})},e}()},56066:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var r="$opt_bot_filtering";function i(e){var t=[],n=e[0];return e.forEach(function(e){if("conversion"===e.type||"impression"===e.type){var n=s(e);"impression"===e.type?n.snapshots.push(a(e)):"conversion"===e.type&&n.snapshots.push(o(e)),t.push(n)}}),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function o(e){var t=n({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}function a(e){var t,n,r=e.layer,i=e.experiment,o=e.variation,a=e.ruleKey,s=e.flagKey,l=e.ruleType,u=e.enabled,c=r?r.id:null;return{decisions:[{campaign_id:c,experiment_id:null!=(t=null==i?void 0:i.id)?t:"",variation_id:null!=(n=null==o?void 0:o.id)?n:"",metadata:{flag_key:s,rule_key:a,rule_type:l,variation_key:o?o.key:"",enabled:u}}],events:[{entity_id:c,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function s(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach(function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})}),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:r,key:r,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=i,t.buildImpressionEventV1=function(e){var t=s(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=s(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:i(e)}}},65495:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var l=[o,s];if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var a=n(72531),s=n(65609),l=o(n(68349)),u=n(88514),c=n(56066),A=a.getLogger("LogTierV1EventProcessor");t.LogTierV1EventProcessor=function(){function e(e){var t=e.dispatcher,n=e.closingDispatcher,r=e.flushInterval,i=void 0===r?s.DEFAULT_FLUSH_INTERVAL:r,o=e.batchSize,a=void 0===o?s.DEFAULT_BATCH_SIZE:o,c=e.notificationCenter;this.dispatcher=t,this.closingDispatcher=n,this.notificationCenter=c,this.requestTracker=new l.default,i=s.validateAndGetFlushInterval(i),a=s.validateAndGetBatchSize(a),this.queue=s.getQueue(a,i,u.areEventContextsEqual,this.drainQueue.bind(this,!1),this.drainQueue.bind(this,!0))}return e.prototype.drainQueue=function(e,t){var n=this,r=new Promise(function(r){if(A.debug("draining queue with %s events",t.length),0===t.length)return void r();var i=c.formatEvents(t);(e&&n.closingDispatcher?n.closingDispatcher:n.dispatcher).dispatchEvent(i,function(){r()}),s.sendEventNotification(n.notificationCenter,i)});return this.requestTracker.trackRequest(r),r},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){A.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return this.queue.start(),[2]})})},e}()},63077:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=n;var r=new n;t.setErrorHandler=function(e){r=e},t.getErrorHandler=function(){return r},t.resetErrorHandler=function(){r=new n}},72531:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(63077)),r(n(32011)),r(n(51628))},51628:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(63077),o=n(71185),a=n(32011),s={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function l(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),s[e])?s[e]:e}var u=function(){function e(){this.defaultLoggerFacade=new d,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new d({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}();t.ConsoleLogHandler=function(){function e(e){void 0===e&&(e={}),this.logLevel=a.LogLevel.NOTSET,void 0!==e.logLevel&&o.isValidEnum(a.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=l(e),o.isValidEnum(a.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=a.LogLevel.ERROR},e.prototype.getTime=function(){return new Date().toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case a.LogLevel.DEBUG:return"DEBUG";case a.LogLevel.INFO:return"INFO ";case a.LogLevel.WARNING:return"WARN ";case a.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case a.LogLevel.DEBUG:console.log.apply(console,t);break;case a.LogLevel.INFO:console.info.apply(console,t);break;case a.LogLevel.WARNING:console.warn.apply(console,t);break;case a.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();var c=a.LogLevel.NOTSET,A=null,d=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.internalLog(l(e),{message:t,splat:n})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+o.sprintf.apply(void 0,r([e.message],e.splat))},e.prototype.internalLog=function(e,t){!A||!(e<c)&&(A.log(e,this.format(t)),t.error&&t.error instanceof Error&&i.getErrorHandler().handleError(t.error))},e.prototype.namedLog=function(e,t,n){if(t instanceof Error){t=(r=t).message,this.internalLog(e,{error:r,message:t,splat:n});return}if(0===n.length)return void this.internalLog(e,{message:t,splat:n});var r,i=n[n.length-1];i instanceof Error&&(r=i,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})},e}(),h=new u;t.getLogger=function(e){return h.getLogger(e)},t.setLogHandler=function(e){A=e},t.setLogLevel=function(e){e=l(e),c=o.isValidEnum(a.LogLevel,e)&&void 0!==e?e:a.LogLevel.ERROR},t.getLogLevel=function(){return c},t.resetLogger=function(){h=new u,c=a.LogLevel.NOTSET}},32011:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.LogLevel||(t.LogLevel={}))[n.NOTSET=0]="NOTSET",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR"},71185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(63217);function o(e){return Object.keys(e).map(function(t){return e[t]})}t.generateUUID=function(){return i.v4()},t.getTimestamp=function(){return new Date().getTime()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach(function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)}),o(n)},t.objectValues=o,t.objectEntries=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.find=function(e,t){for(var n,r=0;r<e.length;r++){var i=e[r];if(t(i)){n=i;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach(function(e){n[t(e)]=e}),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)})},(r=t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",r.DECISION="DECISION:type, userId, attributes, decisionInfo",r.LOG_EVENT="LOG_EVENT:logEvent",r.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",r.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"},63217:function(e,t,n){var r=n(14195),i=n(35916);i.v1=r,i.v4=i,e.exports=i},54146:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0;return""+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]}},48378:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=0x100000000*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},14195:function(e,t,n){var r,i,o=n(48378),a=n(54146),s=0,l=0;e.exports=function(e,t,n){var u=t&&n||0,c=t||[],A=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==A||null==d){var h=o();null==A&&(A=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=(h[6]<<8|h[7])&16383)}var f=void 0!==e.msecs?e.msecs:new Date().getTime(),p=void 0!==e.nsecs?e.nsecs:l+1,g=f-s+(p-l)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||f>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,l=p,i=d;var m=((0xfffffff&(f+=122192928e5))*1e4+p)%0x100000000;c[u++]=m>>>24&255,c[u++]=m>>>16&255,c[u++]=m>>>8&255,c[u++]=255&m;var v=f/0x100000000*1e4&0xfffffff;c[u++]=v>>>8&255,c[u++]=255&v,c[u++]=v>>>24&15|16,c[u++]=v>>>16&255,c[u++]=d>>>8|128,c[u++]=255&d;for(var y=0;y<6;++y)c[u+y]=A[y];return t||a(c)}},35916:function(e,t,n){var r=n(48378),i=n(54146);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},41962:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i,o=n(72531),a=n(29473),s=r(n(69015)),l=r(n(86077)),u=n(36124),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function A(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,A([e],t));for(var r=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r}function h(e,t){return e?function(e,t){var n={};return e.forEach(function(e){n[t(e)]=e}),n}(e,function(e){return e[t]}):{}}function f(e){return Object.keys(e).map(function(t){return e[t]})}function p(e,t){for(var n,r=0;r<e.length;r++){var i=e[r];if(t(i)){n=i;break}}return n}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)})}var m,v=function(){return Math.round((new Date).getTime())},y=function(e){return"number"==typeof e&&0x20000000000000>=Math.abs(e)},b=function(){return s.v4()},w=function(e){return"number"==typeof e},_={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},E={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},C={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},B={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},x={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},I={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},T={RULE:"rule",EXPERIMENT:"experiment"},S={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},k={V2:"2",V3:"3",V4:"4"},N={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'};(Z=m||(m={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",Z.DECISION="DECISION:type, userId, attributes, decisionInfo",Z.LOG_EVENT="LOG_EVENT:logEvent",Z.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",Z.TRACK="TRACK:event_key, user_id, attributes, event_tags, event";var D=Object.freeze({__proto__:null,LOG_LEVEL:_,ERROR_MESSAGES:E,LOG_MESSAGES:C,CONTROL_ATTRIBUTES:B,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",BROWSER_CLIENT_VERSION:"4.10.1",NODE_CLIENT_VERSION:"4.10.1",DECISION_NOTIFICATION_TYPES:x,DECISION_SOURCES:I,AUDIENCE_EVALUATION_TYPES:T,FEATURE_VARIABLE_TYPES:S,DATAFILE_VERSIONS:k,DECISION_MESSAGES:N,get NOTIFICATION_TYPES(){return m}}),O="CONFIG_VALIDATOR",R=[k.V2,k.V3,k.V4],F=function(e){if("object"==typeof e&&null!==e){var t=e.errorHandler,n=e.eventDispatcher,r=e.logger;if(t&&"function"!=typeof t.handleError)throw Error(g(E.INVALID_ERROR_HANDLER,O));if(n&&"function"!=typeof n.dispatchEvent)throw Error(g(E.INVALID_EVENT_DISPATCHER,O));if(r&&"function"!=typeof r.log)throw Error(g(E.INVALID_LOGGER,O));return!0}throw Error(g(E.INVALID_CONFIG,O))},L=function(e){if(!e)throw Error(g(E.NO_DATAFILE_SPECIFIED,O));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw Error(g(E.INVALID_DATAFILE_MALFORMED,O))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===R.indexOf(e.version))throw Error(g(E.INVALID_DATAFILE_VERSION,O,e.version));return e},U={dispatchEvent:function(e,t){var n,r=e.params,i=e.url;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",i,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send(JSON.stringify(r))):(i+="?wxhr=true",r&&(i+="&"+Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&")),(n=new XMLHttpRequest).open("GET",i,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send())}},P={dispatchEvent:function(e,t){var n=e.params,r=e.url,i=new Blob([JSON.stringify(n)],{type:"application/json"});t({statusCode:navigator.sendBeacon(r,i)?200:500})}},M=function(){function e(){}return e.prototype.log=function(){},e}();function j(e){return new o.ConsoleLogHandler(e)}var Z,Q,H,V=Object.freeze({__proto__:null,NoOpLogger:M,createLogger:j,createNoOpLogger:function(){return new M}});function K(e,t,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:n}}(i=Q||(Q={})).BOOLEAN="boolean",i.DOUBLE="double",i.INTEGER="integer",i.STRING="string",i.JSON="json",(H=t.N1||(t.N1={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",H.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",H.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",H.INCLUDE_REASONS="INCLUDE_REASONS",H.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var z=function(){function e(e){var t,n=e.optimizely,r=e.userId,i=e.attributes;this.optimizely=n,this.userId=r,this.attributes=null!=(t=c({},i))?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return c({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var n,r=e.flagKey,i=null!=(n=e.ruleKey)?n:B.FORCED_DECISION_NULL_RULE_KEY,o={variationKey:t.variationKey};return this.forcedDecisionsMap[r]||(this.forcedDecisionsMap[r]={}),this.forcedDecisionsMap[r][i]=o,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,n=null!=(t=e.ruleKey)?t:B.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey,i=!1;return this.forcedDecisionsMap.hasOwnProperty(r)&&(this.forcedDecisionsMap[r].hasOwnProperty(n)&&(delete this.forcedDecisionsMap[r][n],i=!0),0===Object.keys(this.forcedDecisionsMap[r]).length&&delete this.forcedDecisionsMap[r]),i},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,n=null!=(t=e.ruleKey)?t:B.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var i=this.forcedDecisionsMap[r];if(i.hasOwnProperty(n))return{variationKey:i[n].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=c({},this.forcedDecisionsMap)),t},e}(),G=["and","or","not"];function W(e,t){if(Array.isArray(e)){var n=e[0],r=e.slice(1);switch("string"==typeof n&&-1===G.indexOf(n)&&(n="or",r=e),n){case"and":var i=r,o=!1;if(Array.isArray(i)){for(var a=0;a<i.length;a++){var s=W(i[a],t);if(!1===s)return!1;null===s&&(o=!0)}return!o||null}return null;case"not":var l=r;if(Array.isArray(l)&&l.length>0){var u=W(l[0],t);return null===u?null:!u}return null;default:var c=r,A=!1;if(Array.isArray(c)){for(var d=0;d<c.length;d++){var h=W(c[d],t);if(!0===h)return!0;null===h&&(A=!0)}return!!A&&null}return null}}return t(e)}var q=function(){function e(t,n){this.sdkKey=null!=(r=t.sdkKey)?r:"",this.environmentKey=null!=(i=t.environmentKey)?i:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var r,i,o=(t.featureFlags||[]).reduce(function(e,t){return e[t.id]=t.variables,e},{}),a=e.getVariableIdMap(t),s=e.getExperimentsMapById(t,o,a);this.experimentsMap=e.getExperimentsKeyMap(s),this.featuresMap=e.getFeaturesMap(t,o,s,a),this.datafile=n}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],n=[];return(e.typedAudiences||[]).forEach(function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),n.push(e.id)}),(e.audiences||[]).forEach(function(e){-1===n.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})}),t},e.getSerializedAudiences=function(t,n){var r="";if(t){var i="";t.forEach(function(t){var o="";if(t instanceof Array)o="("+(o=e.getSerializedAudiences(t,n))+")";else if(G.indexOf(t)>-1)i=t.toUpperCase();else{var a=n[t]?n[t].name:t;r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+' "'+n[t].name+'"':r.concat(" "+i+' "'+a+'"')):r='"'+a+'"'}""!==o&&(""!==r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+" "+o:r.concat(" "+i+" "+o)):r=r.concat(o))})}return r},e.getExperimentAudiences=function(t,n){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,n.audiencesById):""},e.mergeFeatureVariables=function(e,t,n,r,i){var o=(e[n]||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{});return(r||[]).forEach(function(e){var n=t[e.id],r={id:e.id,key:n.key,type:n.type,value:i?e.value:n.defaultValue};o[n.key]=r}),o},e.getVariationsMap=function(t,n,r,i){return t.reduce(function(t,o){var a=e.mergeFeatureVariables(n,r,i,o.variables,o.featureEnabled);return t[o.key]={id:o.id,key:o.key,featureEnabled:o.featureEnabled,variablesMap:a},t},{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce(function(e,t){return t.variables.forEach(function(t){e[t.id]=t}),e},{})},e.getDeliveryRules=function(t,n,r,i,o){return i.map(function(i){return{id:i.id,key:i.key,audiences:e.getExperimentAudiences(i,t),variationsMap:e.getVariationsMap(i.variations,n,o,r)}})},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach(function(e){e.experiments.forEach(function(e){t.push(e.id)})}),t},e.getExperimentsMapById=function(t,n,r){var i=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce(function(o,a){if(-1===i.indexOf(a.id)){var s=t.experimentFeatureMap[a.id],l="";s&&s.length>0&&(l=s[0]);var u=e.getVariationsMap(a.variations,n,r,l.toString());o[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:u}}return o},{})},e.getExperimentsKeyMap=function(e){var t={};for(var n in e){var r=e[n];t[r.key]=r}return t},e.getFeaturesMap=function(t,n,r,i){var o={};return t.featureFlags.forEach(function(a){var s={},l=[];a.experimentIds.forEach(function(e){var t=r[e];t&&(s[t.key]=t),l.push(r[e])});var u=(a.variables||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{}),c=[],A=t.rolloutIdMap[a.rolloutId];A&&(c=e.getDeliveryRules(t,n,a.id,A.experiments,i)),o[a.key]={id:a.id,key:a.key,experimentRules:l,deliveryRules:c,experimentsMap:s,variablesMap:u}}),o},e}(),$="PROJECT_CONFIG",Y=function(e,t){void 0===t&&(t=null);var n,r,i,o,a=((o=d({},e)).audiences=(e.audiences||[]).map(function(e){return d({},e)}),o.experiments=(e.experiments||[]).map(function(e){return d({},e)}),o.featureFlags=(e.featureFlags||[]).map(function(e){return d({},e)}),o.groups=(e.groups||[]).map(function(e){var t=d({},e);return t.experiments=(e.experiments||[]).map(function(e){return d({},e)}),t}),o.rollouts=(e.rollouts||[]).map(function(e){var t=d({},e);return t.experiments=(e.experiments||[]).map(function(e){return d({},e)}),t}),o.environmentKey=null!=(r=e.environmentKey)?r:"",o.sdkKey=null!=(i=e.sdkKey)?i:"",o);return a.__datafileStr=null===t?JSON.stringify(e):t,(a.audiences||[]).forEach(function(e){e.conditions=JSON.parse(e.conditions)}),a.audiencesById=h(a.audiences,"id"),d(a.audiencesById,h(a.typedAudiences,"id")),a.attributeKeyMap=h(a.attributes,"key"),a.eventKeyMap=h(a.events,"key"),a.groupIdMap=h(a.groups,"id"),Object.keys(a.groupIdMap||{}).forEach(function(e){(a.groupIdMap[e].experiments||[]).forEach(function(t){a.experiments.push(d(t,{groupId:e}))})}),a.rolloutIdMap=h(a.rollouts||[],"id"),f(a.rolloutIdMap||{}).forEach(function(e){(e.experiments||[]).forEach(function(e){a.experiments.push(e),e.variationKeyMap=h(e.variations,"key")})}),a.experimentKeyMap=h(a.experiments,"key"),a.experimentIdMap=h(a.experiments,"id"),a.variationIdMap={},a.variationVariableUsageMap={},(a.experiments||[]).forEach(function(e){e.variationKeyMap=h(e.variations,"key"),d(a.variationIdMap,h(e.variations,"id")),f(e.variationKeyMap||{}).forEach(function(e){e.variables&&(a.variationVariableUsageMap[e.id]=h(e.variables,"id"))})}),a.experimentFeatureMap={},a.featureKeyMap=h(a.featureFlags||[],"key"),f(a.featureKeyMap||{}).forEach(function(e){e.variables.forEach(function(e){e.type===S.STRING&&e.subType===S.JSON&&(e.type=S.JSON,delete e.subType)}),e.variableKeyMap=h(e.variables,"key"),(e.experimentIds||[]).forEach(function(t){a.experimentFeatureMap[t]?a.experimentFeatureMap[t].push(e.id):a.experimentFeatureMap[t]=[e.id]})}),a.flagRulesMap={},(a.featureFlags||[]).forEach(function(e){var t=[];e.experimentIds.forEach(function(e){var n=a.experimentIdMap[e];n&&t.push(n)});var n=a.rolloutIdMap[e.rolloutId];n&&t.push.apply(t,n.experiments),a.flagRulesMap[e.key]=t}),a.flagVariationsMap={},Object.keys(n=a.flagRulesMap||{}).map(function(e){return[e,n[e]]}).forEach(function(e){var t=e[0],n=e[1],r=[];n.forEach(function(e){e.variations.forEach(function(e){p(r,function(t){return t.id===e.id})||r.push(e)})}),a.flagVariationsMap[t]=r}),a},J=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(g(E.INVALID_EXPERIMENT_ID,$,t));return n.layerId},X=function(e,t,n){var r=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return r?(i&&n.log(_.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),r.id):i?t:(n.log(_.DEBUG,E.UNRECOGNIZED_ATTRIBUTE,$,t),null)},ee=function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},et=function(e,t){var n=e.experimentKeyMap[t];if(!n)throw Error(g(E.INVALID_EXPERIMENT_KEY,$,t));return n.status},en=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},er=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw Error(g(E.EXPERIMENT_KEY_NOT_IN_DATAFILE,$,t))},ei=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(g(E.INVALID_EXPERIMENT_ID,$,t));return n.trafficAllocation},eo=function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(_.ERROR,E.INVALID_EXPERIMENT_ID,$,t),null},ea=function(e,t,n){return e&&p(e.flagVariationsMap[t],function(e){return e.key===n})||null},es=function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(_.ERROR,E.FEATURE_NOT_IN_DATAFILE,$,t),null},el=function(e){return e.__datafileStr},eu=function(e){try{t=L(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(_.INFO,C.VALID_DATAFILE,$)}catch(e){return{configObj:null,error:e}}else e.logger.log(_.INFO,C.SKIPPING_JSON_VALIDATION,$);var t,n=[t];return"string"==typeof e.datafile&&n.push(e.datafile),{configObj:Y.apply(void 0,n),error:null}},ec=function(e){return!!e.sendFlagDecisions},eA=o.getLogger();function ed(e,t){return e instanceof Error?e.message:t||"Unknown error"}var eh=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=Error(g(E.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:ed(t)}),void eA.error(t)}var n=null;e.datafile&&(n=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:ed(n,"Invalid datafile")})}catch(e){eA.error(e),this.readyPromise=Promise.resolve({success:!1,reason:ed(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:ed(e)}:{success:!0}}return{success:!1,reason:ed(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:ed(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=eu({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:eA}),n=t.configObj,r=t.error;if(r)eA.error(r);else{var i=this.configObj?this.configObj.revision:"null";n&&i!==n.revision&&(this.configObj=n,this.optimizelyConfigObj=null,this.updateListeners.forEach(function(e){return e(n)}))}return r},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=new q(this.configObj,el(this.configObj))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var n=t.updateListeners.indexOf(e);n>-1&&t.updateListeners.splice(n,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),ef=function(e){var t=[],n=e.experimentIdMap[e.experimentId].groupId;if(n){var r=e.groupIdMap[n];if(!r)throw Error(g(E.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var i=ep(r,e.bucketingId,e.userId,e.logger);if(null===i)return e.logger.log(_.INFO,C.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n),t.push([C.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n]),{result:null,reasons:t};if(i!==e.experimentId)return e.logger.log(_.INFO,C.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([C.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n]),{result:null,reasons:t};e.logger.log(_.INFO,C.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([C.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n])}}var o=em(""+e.bucketingId+e.experimentId);e.logger.log(_.DEBUG,C.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,e.userId),t.push([C.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,e.userId]);var a=eg(o,e.trafficAllocationConfig);return null===a||e.variationIdMap[a]?{result:a,reasons:t}:(a&&(e.logger.log(_.WARNING,C.INVALID_VARIATION_ID,"BUCKETER"),t.push([C.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},ep=function(e,t,n,r){var i=em(""+t+e.id);return r.log(_.DEBUG,C.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",i,n),eg(i,e.trafficAllocation)},eg=function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},em=function(e){try{var t=l.v3(e,1)/0x100000000;return Math.floor(1e4*t)}catch(t){throw Error(g(E.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ev=o.getLogger();function ey(e){return/^\d+$/.test(e)}function eb(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(t<0)&&(n<0||t<n)}function ew(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(n<0)&&(t<0||n<t)}function e_(e){var t=e,n="";if(/\s/.test(e))return ev.warn(C.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(eb(e)?(t=e.substring(0,e.indexOf("-")),n=e.substring(e.indexOf("-")+1)):ew(e)&&(t=e.substring(0,e.indexOf("+")),n=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof n)return null;var r=t.split(".").length-1;if(r>2)return ev.warn(C.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=r+1)return ev.warn(C.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0;o<i.length;o++)if(!ey(i[o]))return ev.warn(C.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return n&&i.push(n),i}var eE="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",eC=o.getLogger(),eB=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],ex={};function eI(e){return"string"==typeof e||"boolean"==typeof e||w(e)}function eT(e,t){var n=e.value,r=typeof n,i=e.name,o=t[i],a=typeof o;return!eI(n)||w(n)&&!y(n)?(eC.warn(C.UNEXPECTED_CONDITION_VALUE,eE,JSON.stringify(e)),null):null===o?(eC.debug(C.UNEXPECTED_TYPE_NULL,eE,JSON.stringify(e),i),null):eI(o)&&r===a?w(o)&&!y(o)?(eC.warn(C.OUT_OF_BOUNDS,eE,JSON.stringify(e),i),null):n===o:(eC.warn(C.UNEXPECTED_TYPE,eE,JSON.stringify(e),a,i),null)}function eS(e,t){var n=e.name,r=t[n],i=typeof r,o=e.value;return null!==o&&y(o)?null===r?(eC.debug(C.UNEXPECTED_TYPE_NULL,eE,JSON.stringify(e),n),!1):w(r)?!!y(r)||(eC.warn(C.OUT_OF_BOUNDS,eE,JSON.stringify(e),n),!1):(eC.warn(C.UNEXPECTED_TYPE,eE,JSON.stringify(e),i,n),!1):(eC.warn(C.UNEXPECTED_CONDITION_VALUE,eE,JSON.stringify(e)),!1)}function ek(e,t){var n=e.name,r=t[n],i=e.value;return"string"!=typeof i?(eC.warn(C.UNEXPECTED_CONDITION_VALUE,eE,JSON.stringify(e)),null):null===r?(eC.debug(C.UNEXPECTED_TYPE_NULL,eE,JSON.stringify(e),n),null):"string"!=typeof r?(eC.warn(C.UNEXPECTED_TYPE,eE,JSON.stringify(e),typeof r,n),null):function(e,t){var n=e_(t),r=e_(e);if(!n||!r)return null;for(var i=n.length,o=0;o<r.length;o++){if(i<=o)return eb(e)||ew(e)?1:-1;if(ey(n[o])){var a=parseInt(n[o]),s=parseInt(r[o]);if(a>s)return 1;if(a<s)return -1}else{if(n[o]<r[o])return eb(e)&&!eb(t)?1:-1;if(n[o]>r[o])return!eb(e)&&eb(t)?-1:1}}return eb(t)&&!eb(e)?-1:0}(i,r)}ex.exact=eT,ex.exists=function(e,t){return null!=t[e.name]},ex.gt=function(e,t){var n=t[e.name],r=e.value;return eS(e,t)&&null!==r?n>r:null},ex.ge=function(e,t){var n=t[e.name],r=e.value;return eS(e,t)&&null!==r?n>=r:null},ex.lt=function(e,t){var n=t[e.name],r=e.value;return eS(e,t)&&null!==r?n<r:null},ex.le=function(e,t){var n=t[e.name],r=e.value;return eS(e,t)&&null!==r?n<=r:null},ex.substring=function(e,t){var n=e.name,r=t[e.name],i=typeof r,o=e.value;return"string"!=typeof o?(eC.warn(C.UNEXPECTED_CONDITION_VALUE,eE,JSON.stringify(e)),null):null===r?(eC.debug(C.UNEXPECTED_TYPE_NULL,eE,JSON.stringify(e),n),null):"string"!=typeof r?(eC.warn(C.UNEXPECTED_TYPE,eE,JSON.stringify(e),i,n),null):-1!==r.indexOf(o)},ex.semver_eq=function(e,t){var n=ek(e,t);return null===n?null:0===n},ex.semver_gt=function(e,t){var n=ek(e,t);return null===n?null:n>0},ex.semver_ge=function(e,t){var n=ek(e,t);return null===n?null:n>=0},ex.semver_lt=function(e,t){var n=ek(e,t);return null===n?null:n<0},ex.semver_le=function(e,t){var n=ek(e,t);return null===n?null:n<=0};var eN=Object.freeze({__proto__:null,evaluate:function(e,t){var n=e.match;if(void 0!==n&&-1===eB.indexOf(n))return eC.warn(C.UNKNOWN_MATCH_TYPE,eE,JSON.stringify(e)),null;var r=e.name;return t.hasOwnProperty(r)||"exists"==n?(n&&ex[n]||eT)(e,t):(eC.debug(C.MISSING_ATTRIBUTE_VALUE,eE,JSON.stringify(e),r),null)}}),eD=o.getLogger(),eO=function(){function e(e){this.typeToEvaluatorMap=d({},e,{custom_attribute:eN})}return e.prototype.evaluate=function(e,t,n){var r=this;return void 0===n&&(n={}),!e||0===e.length||!!W(e,function(e){var i=t[e];if(i){eD.log(_.DEBUG,C.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(i.conditions));var o=W(i.conditions,r.evaluateConditionWithUserAttributes.bind(r,n)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return eD.log(_.DEBUG,C.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),o}return null})},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return eD.log(_.WARNING,C.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return n.evaluate(t,e)}catch(e){eD.log(_.ERROR,E.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function eR(e){return"string"==typeof e&&""!==e}var eF="DECISION_SERVICE",eL=function(){function e(e){this.audienceEvaluator=new eO(e.UNSTABLE_conditionEvaluators),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,n,r,i){void 0===i&&(i={});var o=r.getUserId(),a=r.getAttributes(),s=this.getBucketingId(o,a),l=[],u=n.key;if(!this.checkIfExperimentIsActive(e,u))return this.logger.log(_.INFO,C.EXPERIMENT_NOT_RUNNING,eF,u),l.push([C.EXPERIMENT_NOT_RUNNING,eF,u]),{result:null,reasons:l};var c=this.getForcedVariation(e,u,o);l.push.apply(l,c.reasons);var A=c.result;if(A)return{result:A,reasons:l};var d=this.getWhitelistedVariation(n,o);l.push.apply(l,d.reasons);var h=d.result;if(h)return{result:h.key,reasons:l};var f=i[t.N1.IGNORE_USER_PROFILE_SERVICE],p=this.resolveExperimentBucketMap(o,a);if(!f&&(h=this.getStoredVariation(e,n,o,p)))return this.logger.log(_.INFO,C.RETURNING_STORED_VARIATION,eF,h.key,u,o),l.push([C.RETURNING_STORED_VARIATION,eF,h.key,u,o]),{result:h.key,reasons:l};var g=this.checkIfUserIsInAudience(e,n,T.EXPERIMENT,a,"");if(l.push.apply(l,g.reasons),!g.result)return this.logger.log(_.INFO,C.USER_NOT_IN_EXPERIMENT,eF,o,u),l.push([C.USER_NOT_IN_EXPERIMENT,eF,o,u]),{result:null,reasons:l};var m=ef(this.buildBucketerParams(e,n,s,o));l.push.apply(l,m.reasons);var v=m.result;return v&&(h=e.variationIdMap[v]),h?(this.logger.log(_.INFO,C.USER_HAS_VARIATION,eF,o,h.key,u),l.push([C.USER_HAS_VARIATION,eF,o,h.key,u]),f||this.saveUserProfile(n,h,o,p),{result:h.key,reasons:l}):(this.logger.log(_.DEBUG,C.USER_HAS_NO_VARIATION,eF,o,u),l.push([C.USER_HAS_NO_VARIATION,eF,o,u]),{result:null,reasons:l})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.getUserProfile(e)||{},r=t[B.STICKY_BUCKETING_KEY];return d({},n.experiment_bucket_map,r)},e.prototype.checkIfExperimentIsActive=function(e,t){return"Running"===et(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var n=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(r)?(this.logger.log(_.INFO,C.USER_FORCED_IN_VARIATION,eF,t,r),n.push([C.USER_FORCED_IN_VARIATION,eF,t,r]),{result:e.variationKeyMap[r],reasons:n}):(this.logger.log(_.ERROR,C.FORCED_BUCKETING_FAILED,eF,r,t),n.push([C.FORCED_BUCKETING_FAILED,eF,r,t]),{result:null,reasons:n})}return{result:null,reasons:n}},e.prototype.checkIfUserIsInAudience=function(e,t,n,r,i){var o=[],a=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(g(E.INVALID_EXPERIMENT_ID,$,t));return n.audienceConditions||n.audienceIds}(e,t.id),s=e.audiencesById;this.logger.log(_.DEBUG,C.EVALUATING_AUDIENCES_COMBINED,eF,n,i||t.key,JSON.stringify(a)),o.push([C.EVALUATING_AUDIENCES_COMBINED,eF,n,i||t.key,JSON.stringify(a)]);var l=this.audienceEvaluator.evaluate(a,s,r);return this.logger.log(_.INFO,C.AUDIENCE_EVALUATION_RESULT_COMBINED,eF,n,i||t.key,l.toString().toUpperCase()),o.push([C.AUDIENCE_EVALUATION_RESULT_COMBINED,eF,n,i||t.key,l.toString().toUpperCase()]),{result:l,reasons:o}},e.prototype.buildBucketerParams=function(e,t,n,r){return{bucketingId:n,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:ei(e,t.id),userId:r,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var i=r[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(_.INFO,C.SAVED_VARIATION_NOT_FOUND,eF,n,o,t.key)}return null},e.prototype.getUserProfile=function(e){if(!this.userProfileService)return{user_id:e,experiment_bucket_map:{}};try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(_.ERROR,E.USER_PROFILE_LOOKUP_ERROR,eF,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{r[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:r}),this.logger.log(_.INFO,C.SAVED_VARIATION,eF,t.key,e.key,n)}catch(e){this.logger.log(_.ERROR,E.USER_PROFILE_SAVE_ERROR,eF,n,e.message)}},e.prototype.getVariationForFeature=function(e,t,n,r){void 0===r&&(r={});var i=[],o=this.getVariationForFeatureExperiment(e,t,n,r);i.push.apply(i,o.reasons);var a=o.result;if(null!==a.variation)return{result:a,reasons:i};var s=this.getVariationForRollout(e,t,n);i.push.apply(i,s.reasons);var l=s.result,u=n.getUserId();return l.variation?(this.logger.log(_.DEBUG,C.USER_IN_ROLLOUT,eF,u,t.key),i.push([C.USER_IN_ROLLOUT,eF,u,t.key])):(this.logger.log(_.DEBUG,C.USER_NOT_IN_ROLLOUT,eF,u,t.key),i.push([C.USER_NOT_IN_ROLLOUT,eF,u,t.key])),{result:l,reasons:i}},e.prototype.getVariationForFeatureExperiment=function(e,t,n,r){void 0===r&&(r={});var i,o,a=[],s=null;if(t.experimentIds.length>0)for(o=0;o<t.experimentIds.length;o++){var l=eo(e,t.experimentIds[o],this.logger);if(l&&(i=this.getVariationFromExperimentRule(e,t.key,l,n,r),a.push.apply(a,i.reasons),s=i.result)){var u=null;return(u=l.variationKeyMap[s])||(u=ea(e,t.key,s)),{result:{experiment:l,variation:u,decisionSource:I.FEATURE_TEST},reasons:a}}}else this.logger.log(_.DEBUG,C.FEATURE_HAS_NO_EXPERIMENTS,eF,t.key),a.push([C.FEATURE_HAS_NO_EXPERIMENTS,eF,t.key]);return{result:{experiment:null,variation:null,decisionSource:I.FEATURE_TEST},reasons:a}},e.prototype.getVariationForRollout=function(e,t,n){var r=[];if(!t.rolloutId)return this.logger.log(_.DEBUG,C.NO_ROLLOUT_EXISTS,eF,t.key),r.push([C.NO_ROLLOUT_EXISTS,eF,t.key]),{result:{experiment:null,variation:null,decisionSource:I.ROLLOUT},reasons:r};var i=e.rolloutIdMap[t.rolloutId];if(!i)return this.logger.log(_.ERROR,E.INVALID_ROLLOUT_ID,eF,t.rolloutId,t.key),r.push([E.INVALID_ROLLOUT_ID,eF,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:I.ROLLOUT},reasons:r};var o,a,s,l=i.experiments;if(0===l.length)return this.logger.log(_.ERROR,C.ROLLOUT_HAS_NO_EXPERIMENTS,eF,t.rolloutId),r.push([C.ROLLOUT_HAS_NO_EXPERIMENTS,eF,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:I.ROLLOUT},reasons:r};for(var u=0;u<l.length;){if(o=this.getVariationFromDeliveryRule(e,t.key,l,u,n),r.push.apply(r,o.reasons),s=o.result,a=o.skipToEveryoneElse,s)return{result:{experiment:e.experimentIdMap[l[u].id],variation:s,decisionSource:I.ROLLOUT},reasons:r};u=a?l.length-1:u+1}return{result:{experiment:null,variation:null,decisionSource:I.ROLLOUT},reasons:r}},e.prototype.getBucketingId=function(e,t){var n=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(B.BUCKETING_ID)&&("string"==typeof t[B.BUCKETING_ID]?(n=t[B.BUCKETING_ID],this.logger.log(_.DEBUG,C.VALID_BUCKETING_ID,eF,n)):this.logger.log(_.WARNING,C.BUCKETING_ID_NOT_STRING,eF)),n},e.prototype.findValidatedForcedDecision=function(e,t,n,r){var i,o=[],a=t.getForcedDecision({flagKey:n,ruleKey:r}),s=null,l=t.getUserId();return e&&a&&((s=ea(e,n,i=a.variationKey))?r?(this.logger.log(_.INFO,C.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,n,r,l),o.push([C.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,n,r,l])):(this.logger.log(_.INFO,C.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,n,l),o.push([C.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,n,l])):r?(this.logger.log(_.INFO,C.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,l),o.push([C.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,l])):(this.logger.log(_.INFO,C.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,l),o.push([C.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,l]))),{result:s,reasons:o}},e.prototype.removeForcedVariation=function(e,t,n){if(!e)throw Error(g(E.INVALID_USER_ID,eF));if(!this.forcedVariationMap.hasOwnProperty(e))throw Error(g(E.USER_NOT_IN_FORCED_VARIATION,eF,e));delete this.forcedVariationMap[e][t],this.logger.log(_.DEBUG,C.VARIATION_REMOVED_FOR_USER,eF,n,e)},e.prototype.setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=n,this.logger.log(_.DEBUG,C.USER_MAPPED_TO_FORCED_VARIATION,eF,n,t,e)},e.prototype.getForcedVariation=function(e,t,n){var r,i=[],o=this.forcedVariationMap[n];if(!o)return this.logger.log(_.DEBUG,C.USER_HAS_NO_FORCED_VARIATION,eF,n),{result:null,reasons:i};try{var a=er(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(_.ERROR,E.IMPROPERLY_FORMATTED_EXPERIMENT,eF,t),i.push([E.IMPROPERLY_FORMATTED_EXPERIMENT,eF,t]),{result:null,reasons:i};r=a.id}catch(e){return this.logger.log(_.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var s=o[r];if(!s)return this.logger.log(_.DEBUG,C.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,eF,t,n),{result:null,reasons:i};var l=en(e,s);return l?(this.logger.log(_.DEBUG,C.USER_HAS_FORCED_VARIATION,eF,l,t,n),i.push([C.USER_HAS_FORCED_VARIATION,eF,l,t,n])):this.logger.log(_.DEBUG,C.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,eF,t,n),{result:l,reasons:i}},e.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!eR(r))return this.logger.log(_.ERROR,E.INVALID_VARIATION_KEY,eF),!1;try{var i,o,a=er(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(_.ERROR,E.IMPROPERLY_FORMATTED_EXPERIMENT,eF,t),!1;o=a.id}catch(e){return this.logger.log(_.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,o,t),!0}catch(e){return this.logger.log(_.ERROR,e.message),!1}var s=(i=e.experimentKeyMap[t]).variationKeyMap.hasOwnProperty(r)?i.variationKeyMap[r].id:null;if(!s)return this.logger.log(_.ERROR,E.NO_VARIATION_FOR_EXPERIMENT_KEY,eF,r,t),!1;try{return this.setInForcedVariationMap(n,o,s),!0}catch(e){return this.logger.log(_.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,n,r,i){void 0===i&&(i={});var o=[],a=this.findValidatedForcedDecision(e,r,t,n.key);o.push.apply(o,a.reasons);var s=a.result;if(s)return{result:s.key,reasons:o};var l=this.getVariation(e,n,r,i);return o.push.apply(o,l.reasons),{result:l.result,reasons:o}},e.prototype.getVariationFromDeliveryRule=function(e,t,n,r,i){var o=[],a=!1,s=n[r],l=this.findValidatedForcedDecision(e,i,t,s.key);o.push.apply(o,l.reasons);var u=l.result;if(u)return{result:u,reasons:o,skipToEveryoneElse:a};var c,A,d=i.getUserId(),h=i.getAttributes(),f=this.getBucketingId(d,h),p=r===n.length-1,g=p?"Everyone Else":r+1,m=null,v=this.checkIfUserIsInAudience(e,s,T.RULE,h,g);return o.push.apply(o,v.reasons),v.result?(this.logger.log(_.DEBUG,C.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,eF,d,g),o.push([C.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,eF,d,g]),A=ef(this.buildBucketerParams(e,s,f,d)),o.push.apply(o,A.reasons),(c=A.result)&&(m=e.variationIdMap.hasOwnProperty(c)?e.variationIdMap[c]:null),m?(this.logger.log(_.DEBUG,C.USER_BUCKETED_INTO_TARGETING_RULE,eF,d,g),o.push([C.USER_BUCKETED_INTO_TARGETING_RULE,eF,d,g])):p||(this.logger.log(_.DEBUG,C.USER_NOT_BUCKETED_INTO_TARGETING_RULE,eF,d,g),o.push([C.USER_NOT_BUCKETED_INTO_TARGETING_RULE,eF,d,g]),a=!0)):(this.logger.log(_.DEBUG,C.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,eF,d,g),o.push([C.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,eF,d,g])),{result:m,reasons:o,skipToEveryoneElse:a}},e}();function eU(e,t){if(e.hasOwnProperty("revenue")){var n=e.revenue,r=void 0;return"string"==typeof n?isNaN(r=parseInt(n))?(t.log(_.INFO,C.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n),null):(t.log(_.INFO,C.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):"number"==typeof n?(r=n,t.log(_.INFO,C.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function eP(e,t){if(e.hasOwnProperty("value")){var n=e.value,r=void 0;return"string"==typeof n?isNaN(r=parseFloat(n))?(t.log(_.INFO,C.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n),null):(t.log(_.INFO,C.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):"number"==typeof n?(r=n,t.log(_.INFO,C.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function eM(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||w(t)&&y(t))}var ej="https://logx.optimizely.com/v1/events";function eZ(e){var t=e.attributes,n=e.userId,r=e.clientEngine,i=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,l=o.botFiltering,u={account_id:o.accountId,project_id:o.projectId,visitors:[{snapshots:[],visitor_id:n,attributes:[]}],revision:o.revision,client_name:r,client_version:i,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach(function(e){if(eM(e,t[e])){var n=X(o,e,a);n&&u.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:t[e]})}}),"boolean"==typeof l&&u.visitors[0].attributes.push({entity_id:B.BOT_FILTERING,key:B.BOT_FILTERING,type:"custom",value:l}),u}function eQ(e){var t,n;return null!=(n=null==(t=e.experiment)?void 0:t.key)?n:""}function eH(e){var t,n;return null!=(n=null==(t=e.variation)?void 0:t.key)?n:""}function eV(e){var t,n;return null!=(n=null==(t=e.variation)?void 0:t.featureEnabled)&&n}function eK(e){var t,n;return null!=(n=null==(t=e.experiment)?void 0:t.id)?n:null}function ez(e){var t,n;return null!=(n=null==(t=e.variation)?void 0:t.id)?n:null}var eG=o.getLogger("EVENT_BUILDER");function eW(e,t){var n=[];return t&&Object.keys(t||{}).forEach(function(r){if(eM(r,t[r])){var i=X(e,r,eG);i&&n.push({entityId:i,key:r,value:t[r]})}}),n}var eq="USER_PROFILE_SERVICE_VALIDATOR",e$=function(){function e(e){var n,r=this,i=e.clientEngine;i||(e.logger.log(_.INFO,C.INVALID_CLIENT_ENGINE,"OPTIMIZELY",i),i="node-sdk"),this.clientEngine=i,this.clientVersion=e.clientVersion||"4.10.1",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var o=null!=(n=e.defaultDecideOptions)?n:[];Array.isArray(o)||(this.logger.log(_.DEBUG,C.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),o=[]);var a={};o.forEach(function(e){t.N1[e]?a[e]=!0:r.logger.log(_.WARNING,C.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)}),this.defaultDecideOptions=a,this.projectConfigManager=new eh({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate(function(e){r.logger.log(_.INFO,C.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),r.notificationCenter.sendNotifications(m.OPTIMIZELY_CONFIG_UPDATE)});var s=this.projectConfigManager.onReady(),l=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw Error(g(E.INVALID_USER_PROFILE_SERVICE,eq,"Missing function 'lookup'"));if("function"!=typeof e.save)throw Error(g(E.INVALID_USER_PROFILE_SERVICE,eq,"Missing function 'save'"));return!0}throw Error(g(E.INVALID_USER_PROFILE_SERVICE,eq))})(e.userProfileService)&&(l=e.userProfileService,this.logger.log(_.INFO,C.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(_.WARNING,e.message)}this.decisionService=new eL({userProfileService:l,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators}),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var u=this.eventProcessor.start();this.readyPromise=Promise.all([s,u]).then(function(e){return e[0]}),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},n))return this.notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var i=this.getVariation(e,t,n);if(null===i)return this.notActivatingExperiment(e,t);if("Running"!==et(r,e))return this.logger.log(_.DEBUG,C.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),i;var o=er(r,e),a={experiment:o,variation:o.variationKeyMap[i],decisionSource:I.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,n),i}catch(n){return this.logger.log(_.ERROR,n.message),this.logger.log(_.INFO,C.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s,l,u,c,A,d,h,f,p,g,m,y,w,_,E=(s=(a={decisionObj:e,flagKey:t,enabled:r,userId:n,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o}).configObj,l=a.decisionObj,u=a.userId,c=a.flagKey,A=a.enabled,d=a.userAttributes,h=a.clientEngine,f=a.clientVersion,p=l.decisionSource,g=eQ(l),m=eK(l),y=eH(l),w=ez(l),_=null!==m?J(s,m):null,{type:"impression",timestamp:v(),uuid:b(),user:{id:u,attributes:eW(s,d)},context:{accountId:s.accountId,projectId:s.projectId,revision:s.revision,clientName:h,clientVersion:f,anonymizeIP:s.anonymizeIP||!1,botFiltering:s.botFiltering},layer:{id:_},experiment:{id:m,key:g},variation:{id:w,key:y},ruleKey:g,flagKey:c,ruleType:p,enabled:A});this.eventProcessor.process(E),this.emitNotificationCenterActivate(e,t,n,r,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,l=eQ(e),u=eK(e),c=eH(e),A=ez(e);null!==u&&""!==c&&(a=o.experimentIdMap[u]);var d,h,f,p,g,y,w,_,E,C,B,x,I,T=(B=eZ(d={attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:u,ruleKey:l,flagKey:t,ruleType:s,userId:n,enabled:r,variationId:A,logger:this.logger}),h=d.configObj,f=d.experimentId,p=d.variationId,g=d.ruleKey,y=d.ruleType,w=d.flagKey,_=d.enabled,E=f?J(h,f):null,C=p?en(h,p):null,x={decisions:[{campaign_id:E,experiment_id:f,variation_id:p,metadata:{flag_key:w,rule_key:g,rule_type:y,variation_key:C=C||"",enabled:_}}],events:[{entity_id:E,timestamp:v(),key:"campaign_activated",uuid:b()}]},B.visitors[0].snapshots.push(x),{httpVerb:"POST",url:ej,params:B});a&&a.variationKeyMap&&""!==c&&(I=a.variationKeyMap[c]),this.notificationCenter.sendNotifications(m.ACTIVATE,{experiment:a,userId:n,attributes:i,variation:I,logEvent:T})}},e.prototype.track=function(e,t,n,r){try{if(!this.isValidInstance())return void this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},n,r))return;var i,o,a,s,l,u,c,A,d,h,f,p=this.projectConfigManager.getConfig();if(!p)return;if(!p.eventKeyMap.hasOwnProperty(e))return this.logger.log(_.WARNING,C.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(_.WARNING,C.NOT_TRACKING_USER,"OPTIMIZELY",t);var g=(o=(i={eventKey:e,eventTags:r=this.filterEmptyValues(r),userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:p}).configObj,a=i.userId,s=i.userAttributes,l=i.clientEngine,u=i.clientVersion,c=i.eventKey,A=i.eventTags,d=ee(o,c),h=A?eU(A,eG):null,f=A?eP(A,eG):null,{type:"conversion",timestamp:v(),uuid:b(),user:{id:a,attributes:eW(o,s)},context:{accountId:o.accountId,projectId:o.projectId,revision:o.revision,clientName:l,clientVersion:u,anonymizeIP:o.anonymizeIP||!1,botFiltering:o.botFiltering},event:{id:d,key:c},revenue:h,value:f,tags:A});this.logger.log(_.INFO,C.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(g),this.emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(_.ERROR,C.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,n,r){try{var i,o,a,s=this.projectConfigManager.getConfig();if(!s)return;var l=(i={attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:s,eventKey:e,eventTags:r,logger:this.logger,userId:t},o=eZ(i),a=function(e,t,n,r){var i={events:[]},o={entity_id:ee(e,t),timestamp:v(),uuid:b(),key:t};if(r){var a=eU(r,n);null!==a&&(o.revenue=a);var s=eP(r,n);null!==s&&(o.value=s),o.tags=r}return i.events.push(o),i}(i.configObj,i.eventKey,i.logger,i.eventTags),o.visitors[0].snapshots=[a],{httpVerb:"POST",url:ej,params:o});this.notificationCenter.sendNotifications(m.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:l})}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,n){var r;try{if(!this.isValidInstance())return this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},n))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=i.experimentKeyMap[e];if(!o)return this.logger.log(_.DEBUG,E.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var a=this.decisionService.getVariation(i,o,this.createUserContext(t,n)).result,s=(r=o.id,i.experimentFeatureMap.hasOwnProperty(r)?x.FEATURE_TEST:x.AB_TEST);return this.notificationCenter.sendNotifications(m.DECISION,{type:s,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:a}}),a}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.setForcedVariation=function(e,t,n){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t).result}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!=typeof r||null===r||"undefined"===r)throw Error(g(E.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach(function(t){if(!eR(e[t]))throw Error(g(E.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))}),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(g(E.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach(function(t){if(void 0===e[t])throw Error(g(E.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))})}(t),n&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(g(E.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(n),!0}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(_.INFO,C.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)e.hasOwnProperty(t)&&(null===e[t]||void 0===e[t])&&delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var i=es(r,e,this.logger);if(!i)return!1;var o={},a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(r,i,a).result,l=s.decisionSource,u=eQ(s),c=eH(s),A=eV(s);l===I.FEATURE_TEST&&(o={experimentKey:u,variationKey:c}),(l===I.FEATURE_TEST||l===I.ROLLOUT&&ec(r))&&this.sendImpressionEvent(s,i.key,t,A,n),!0===A?this.logger.log(_.INFO,C.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(_.INFO,C.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),A=!1);var d={featureKey:e,featureEnabled:A,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(m.DECISION,{type:x.FEATURE,userId:t,attributes:n||{},decisionInfo:d}),A}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var n=this;try{var r=[];if(!this.isValidInstance())return this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),r;if(!this.validateInputs({user_id:e}))return r;var i=this.projectConfigManager.getConfig();return i&&f(i.featureKeyMap).forEach(function(i){n.isFeatureEnabled(i.key,e,t)&&r.push(i.key)}),r}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,n,r):(this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,n,r,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:r},i))return null;var o,a,s=this.projectConfigManager.getConfig();if(!s)return null;var l=es(s,e,this.logger);if(!l)return null;var u=(o=this.logger,(a=s.featureKeyMap[e])?a.variableKeyMap[t]||(o.log(_.ERROR,E.VARIABLE_KEY_NOT_IN_DATAFILE,$,t,e),null):(o.log(_.ERROR,E.FEATURE_NOT_IN_DATAFILE,$,e),null));if(!u)return null;if(n&&u.type!==n)return this.logger.log(_.WARNING,C.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,u.type),null;var c=this.createUserContext(r,i),A=this.decisionService.getVariationForFeature(s,l,c).result,d=eV(A),h=this.getFeatureVariableValueFromVariation(e,d,A.variation,u,r),f={};return A.decisionSource===I.FEATURE_TEST&&null!==A.experiment&&null!==A.variation&&(f={experimentKey:A.experiment.key,variationKey:A.variation.key}),this.notificationCenter.sendNotifications(m.DECISION,{type:x.FEATURE_VARIABLE,userId:r,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:d,source:A.decisionSource,variableKey:t,variableValue:h,variableType:u.type,sourceInfo:f}}),h},e.prototype.getFeatureVariableValueFromVariation=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var a=r.defaultValue;if(null!==n){var s=function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(_.ERROR,E.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,$,n.id),null;var i=e.variationVariableUsageMap[n.id][t.id];return i?i.value:null}(o,r,n,this.logger);null!==s?t?(a=s,this.logger.log(_.INFO,C.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,r.key,e)):this.logger.log(_.INFO,C.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,a):this.logger.log(_.INFO,C.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r.key,n.key)}else this.logger.log(_.INFO,C.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,r.key,e);return function(e,t,n){var r;switch(t){case S.BOOLEAN:"true"!==e&&"false"!==e?(n.log(_.ERROR,E.UNABLE_TO_CAST_VALUE,$,e,t),r=null):r="true"===e;break;case S.INTEGER:isNaN(r=parseInt(e,10))&&(n.log(_.ERROR,E.UNABLE_TO_CAST_VALUE,$,e,t),r=null);break;case S.DOUBLE:isNaN(r=parseFloat(e))&&(n.log(_.ERROR,E.UNABLE_TO_CAST_VALUE,$,e,t),r=null);break;case S.JSON:try{r=JSON.parse(e)}catch(i){n.log(_.ERROR,E.UNABLE_TO_CAST_VALUE,$,e,t),r=null}break;default:r=e}return r}(a,r.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,S.BOOLEAN,n,r):(this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,S.DOUBLE,n,r):(this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,S.INTEGER,n,r):(this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,S.STRING,n,r):(this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,S.JSON,n,r):(this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,n){var r=this;try{if(!this.isValidInstance())return this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},n))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=es(i,e,this.logger);if(!o)return null;var a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(i,o,a).result,l=eV(s),u={};o.variables.forEach(function(n){u[n.key]=r.getFeatureVariableValueFromVariation(e,l,s.variation,n,t)});var c={};return s.decisionSource===I.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(c={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(m.DECISION,{type:x.ALL_FEATURE_VARIABLES,userId:t,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:l,source:s.decisionSource,variableValues:u,sourceInfo:c}}),u}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach(function(t){var n=e.readyTimeouts[t];clearTimeout(n.readyTimeout),n.onClose()}),this.readyTimeouts={},t.then(function(){return{success:!0}},function(e){return{success:!1,reason:String(e)}})}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,n,r=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),y(t)||(t=3e4);var i=new Promise(function(e){n=e}),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var a=setTimeout(function(){delete r.readyTimeouts[o],n({success:!1,reason:g("onReady timeout expired after %s ms",t)})},t);return this.readyTimeouts[o]={readyTimeout:a,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.readyPromise.then(function(){clearTimeout(a),delete r.readyTimeouts[o],n({success:!0})}),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new z({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,n,r){var i,o,a,s,l=this;void 0===r&&(r=[]);var u,c=e.getUserId(),d=e.getAttributes(),h=this.projectConfigManager.getConfig(),f=[];if(!this.isValidInstance()||!h)return this.logger.log(_.INFO,C.INVALID_OBJECT,"OPTIMIZELY","decide"),K(n,e,[N.SDK_NOT_READY]);var p=h.featureKeyMap[n];if(!p)return this.logger.log(_.ERROR,E.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n),K(n,e,[g(N.FLAG_KEY_INVALID,n)]);var v=this.getAllDecideOptions(r),y=this.decisionService.findValidatedForcedDecision(h,e,n);f.push.apply(f,y.reasons);var b=y.result;if(b)u={experiment:null,variation:b,decisionSource:I.FEATURE_TEST};else{var w=this.decisionService.getVariationForFeature(h,p,e,v);f.push.apply(f,w.reasons),u=w.result}var B=u.decisionSource,T=null!=(o=null==(i=u.experiment)?void 0:i.key)?o:null,S=null!=(s=null==(a=u.variation)?void 0:a.key)?s:null,k=eV(u);!0===k?this.logger.log(_.INFO,C.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,c):this.logger.log(_.INFO,C.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,c);var D={},O=!1;v[t.N1.EXCLUDE_VARIABLES]||p.variables.forEach(function(e){D[e.key]=l.getFeatureVariableValueFromVariation(n,k,u.variation,e,c)}),!v[t.N1.DISABLE_DECISION_EVENT]&&(B===I.FEATURE_TEST||B===I.ROLLOUT&&ec(h))&&(this.sendImpressionEvent(u,n,c,k,d),O=!0);var R=[];v[t.N1.INCLUDE_REASONS]&&(R=f.map(function(e){return g.apply(void 0,A([e[0]],e.slice(1)))}));var F={flagKey:n,enabled:k,variationKey:S,ruleKey:T,variables:D,reasons:R,decisionEventDispatched:O};return this.notificationCenter.sendNotifications(m.DECISION,{type:x.FLAG,userId:c,attributes:d,decisionInfo:F}),{variationKey:S,enabled:k,variables:D,ruleKey:T,flagKey:n,userContext:e,reasons:R}},e.prototype.getAllDecideOptions=function(e){var n=this,r=c({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach(function(e){t.N1[e]?r[e]=!0:n.logger.log(_.WARNING,C.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)}):this.logger.log(_.DEBUG,C.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),r},e.prototype.decideForKeys=function(e,n,r){var i=this;void 0===r&&(r=[]);var o={};if(!this.isValidInstance())return this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),o;if(0===n.length)return o;var a=this.getAllDecideOptions(r);return n.forEach(function(n){var s=i.decide(e,n,r);a[t.N1.ENABLED_FLAGS_ONLY]&&!s.enabled||(o[n]=s)}),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var n=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!n)return this.logger.log(_.ERROR,C.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var r=Object.keys(n.featureKeyMap);return this.decideForKeys(e,r,t)},e}(),eY=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},f(m).forEach(function(e){t.notificationListeners[e]=[]}),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(f(m).indexOf(e)>-1))return -1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var n=!1;if((this.notificationListeners[e]||[]).forEach(function(e){e.callback!==t||(n=!0)}),n)return -1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var r=this.listenerId;return this.listenerId+=1,r}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t,n,r=this;try{if(Object.keys(this.notificationListeners).some(function(i){return(r.notificationListeners[i]||[]).every(function(r,o){return r.id!==e||(t=o,n=i,!1)}),void 0!==t&&void 0!==n}),void 0!==t&&void 0!==n)return this.notificationListeners[n].splice(t,1),!0}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{f(m).forEach(function(t){e.notificationListeners[t]=[]})}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var n=this;try{(this.notificationListeners[e]||[]).forEach(function(r){var i=r.callback;try{i(t)}catch(t){n.logger.log(_.ERROR,C.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}})}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),eJ={createEventProcessor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(a.LogTierV1EventProcessor.bind.apply(a.LogTierV1EventProcessor,A([void 0],e)))},LocalStoragePendingEventsDispatcher:a.LocalStoragePendingEventsDispatcher},eX=o.getLogger();o.setLogHandler(j()),o.setLogLevel(o.LogLevel.INFO);var e0=!1,e1={logging:V,errorHandler:{handleError:function(){}},eventDispatcher:U,sendBeaconEventDispatcher:P,enums:D,setLogger:o.setLogHandler,setLogLevel:o.setLogLevel,createInstance:function(e){try{var t,n,r=!1;e.errorHandler&&o.setErrorHandler(e.errorHandler),e.logger&&(o.setLogHandler(e.logger),o.setLogLevel(o.LogLevel.NOTSET)),void 0!==e.logLevel&&o.setLogLevel(e.logLevel);try{F(e),r=!0}catch(e){eX.error(e)}var i=void 0;null==e.eventDispatcher?(i=new a.LocalStoragePendingEventsDispatcher({eventDispatcher:U}),e0||(i.sendPendingEvents(),e0=!0)):i=e.eventDispatcher;var s=e.closingEventDispatcher;!e.eventDispatcher&&!s&&window.navigator&&"sendBeacon"in window.navigator&&(s=P);var l=e.eventBatchSize,A=e.eventFlushInterval;t=e.eventBatchSize,!("number"!=typeof t||!y(t))&&t>=1||(eX.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),l=10),n=e.eventFlushInterval,!("number"!=typeof n||!y(n))&&n>0||(eX.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),A=1e3);var h=o.getErrorHandler(),f=new eY({logger:eX,errorHandler:h}),p={dispatcher:i,closingDispatcher:s,flushInterval:A,batchSize:l,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:f},g=c(c({clientEngine:"javascript-sdk"},e),{eventProcessor:eJ.createEventProcessor(p),logger:eX,errorHandler:h,datafileManager:e.sdkKey?function(e,t,n,r){var i={sdkKey:e};if((void 0===r||"object"==typeof r&&null!==r)&&d(i,r),n){var o=eu({datafile:n,jsonSchemaValidator:void 0,logger:t}),a=o.configObj,s=o.error;s&&t.error(s),a&&(i.datafile=el(a))}return new u.HttpPollingDatafileManager(i)}(e.sdkKey,eX,e.datafile,e.datafileOptions):void 0,notificationCenter:f,isValidInstance:r}),m=new e$(g);try{if("function"==typeof window.addEventListener){var v="onpagehide"in window?"pagehide":"unload";window.addEventListener(v,function(){m.close()},!1)}}catch(e){eX.error(C.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return m}catch(e){return eX.error(e),null}},__internalResetRetryState:function(){e0=!1},OptimizelyDecideOption:t.N1};t.ZP=e1},69015:function(e,t,n){var r=n(70474),i=n(35977);i.v1=r,i.v4=i,e.exports=i},53219:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0;return""+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]}},94102:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=0x100000000*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},70474:function(e,t,n){var r,i,o=n(94102),a=n(53219),s=0,l=0;e.exports=function(e,t,n){var u=t&&n||0,c=t||[],A=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==A||null==d){var h=o();null==A&&(A=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=(h[6]<<8|h[7])&16383)}var f=void 0!==e.msecs?e.msecs:new Date().getTime(),p=void 0!==e.nsecs?e.nsecs:l+1,g=f-s+(p-l)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||f>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,l=p,i=d;var m=((0xfffffff&(f+=122192928e5))*1e4+p)%0x100000000;c[u++]=m>>>24&255,c[u++]=m>>>16&255,c[u++]=m>>>8&255,c[u++]=255&m;var v=f/0x100000000*1e4&0xfffffff;c[u++]=v>>>8&255,c[u++]=255&v,c[u++]=v>>>24&15|16,c[u++]=v>>>16&255,c[u++]=d>>>8|128,c[u++]=255&d;for(var y=0;y<6;++y)c[u+y]=A[y];return t||a(c)}},35977:function(e,t,n){var r=n(94102),i=n(53219);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},45293:function(e,t,n){"use strict";function r(e,t){for(var n,r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(!e){if(void 0===t)n=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(n=Error(t.replace(/%s/g,function(){return i[a++]}))).name="Invariant Violation"}throw n.framesToPop=1,n}}n.d(t,{k:function(){return r}})},57320:function(e,t,n){"use strict";function r(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],A=t[u];if(!1===(i=n?n.call(r,c,A,u):void 0)||void 0===i&&c!==A)return!1}return!0}n.d(t,{w:function(){return r}})},44172:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M1 4.5l7 4 7-4m-13-3h12a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1v-10a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))}},39830:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:15,height:17,viewBox:"0 0 15 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.5 7.5v-3a3 3 0 016 0V5m-8 2.5h10a1 1 0 011 1v6a1 1 0 01-1 1h-10a1 1 0 01-1-1v-6a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))}},84474:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M9.5 11.5v-1h-2v1h2zm-2 .01v1h2v-1h-2zM7.5 5v4h2V5h-2zm0 6.5v.01h2v-.01h-2zm1 3a6 6 0 01-6-6h-2a8 8 0 008 8v-2zm6-6a6 6 0 01-6 6v2a8 8 0 008-8h-2zm-6-6a6 6 0 016 6h2a8 8 0 00-8-8v2zm0-2a8 8 0 00-8 8h2a6 6 0 016-6v-2z",fill:"#FB4B87"})))}},28257:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"var(--grey-1200)"},e),r||(r=o.createElement("path",{d:"M13.7 13.7h-1.2v-1.2h1.2v1.2zM10.1 13.7h1.2v-1.2h-1.2v1.2zM16.1 13.7h-1.2v-1.2h1.2v1.2z",fill:"currentColor"})),i||(i=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.1 7.7v-3a4.2 4.2 0 018.4 0v3h1.8a1.8 1.8 0 011.8 1.8v.66a3.001 3.001 0 010 5.88v.66a1.8 1.8 0 01-1.8 1.8h-12a1.8 1.8 0 01-1.8-1.8V9.5a1.8 1.8 0 011.8-1.8h1.8zm1.2-3a3 3 0 016 0v3h-6v-3zm5.4 6.6a1.8 1.8 0 000 3.6h4.8a1.8 1.8 0 000-3.6h-4.8z",fill:"currentColor"})))}},11769:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({width:134,height:20,viewBox:"0 0 134 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("g",{clipPath:"url(#eraserLogo_svg__clip0_1108_14881)"},o.createElement("path",{d:"M63.006 17.28c-2.118 0-3.84-.67-5.156-2.008-1.317-1.337-1.979-3.114-1.979-5.337v-.41c0-1.485.286-2.816.864-3.986.571-1.17 1.38-2.083 2.418-2.731 1.038-.655 2.194-.976 3.47-.976 2.027 0 3.595.648 4.703 1.944 1.107 1.296 1.658 3.129 1.658 5.498v1.351H59.25c.098 1.233.509 2.202 1.233 2.92.718.717 1.63 1.072 2.718 1.072 1.533 0 2.78-.62 3.748-1.86l1.805 1.721a5.997 5.997 0 01-2.39 2.07c-.996.487-2.118.731-3.358.731zm-.397-12.765c-.92 0-1.659.32-2.223.961-.564.641-.927 1.54-1.08 2.683h6.375v-.251c-.076-1.122-.369-1.965-.892-2.543-.53-.558-1.254-.85-2.18-.85zM79.38 5.163a7.913 7.913 0 00-1.366-.112c-1.533 0-2.564.585-3.1 1.763v10.193h-3.345V2.104h3.198l.084 1.665c.808-1.296 1.93-1.944 3.358-1.944.474 0 .871.063 1.185.195l-.014 3.143zM90.123 17.007c-.146-.285-.278-.745-.383-1.393-1.066 1.108-2.369 1.665-3.909 1.665-1.498 0-2.717-.425-3.665-1.282-.947-.857-1.42-1.91-1.42-3.17 0-1.589.591-2.808 1.769-3.658 1.177-.85 2.864-1.275 5.058-1.275h2.049v-.976c0-.773-.216-1.386-.648-1.853-.432-.467-1.087-.697-1.972-.697-.76 0-1.387.188-1.874.572-.488.383-.732.864-.732 1.456h-3.344c0-.815.271-1.582.815-2.292.543-.711 1.275-1.269 2.209-1.673.933-.404 1.971-.606 3.121-.606 1.742 0 3.135.44 4.174 1.317 1.038.878 1.567 2.111 1.595 3.7v6.716c0 1.338.188 2.411.564 3.212v.237h-3.407zm-3.672-2.41c.662 0 1.283-.16 1.868-.481.585-.32 1.024-.753 1.317-1.296v-2.808H87.83c-1.24 0-2.174.216-2.794.648-.627.432-.934 1.045-.934 1.832 0 .641.216 1.157.641 1.533.418.383.99.572 1.707.572zM104.832 12.96c0-.6-.244-1.053-.739-1.366-.495-.314-1.303-.586-2.445-.83-1.136-.236-2.09-.543-2.85-.905-1.672-.808-2.508-1.979-2.508-3.512 0-1.282.543-2.362 1.623-3.219 1.08-.864 2.46-1.296 4.132-1.296 1.783 0 3.219.44 4.32 1.324 1.093.878 1.644 2.028 1.644 3.428h-3.345c0-.64-.236-1.177-.717-1.602-.481-.425-1.108-.641-1.902-.641-.732 0-1.331.167-1.798.508-.467.342-.697.794-.697 1.366 0 .515.216.913.648 1.198.432.286 1.303.572 2.62.864 1.31.293 2.341.634 3.094 1.031.745.397 1.303.878 1.665 1.443.362.557.543 1.24.543 2.041 0 1.338-.557 2.425-1.665 3.254-1.108.829-2.564 1.247-4.368 1.247-1.22 0-2.307-.223-3.261-.662-.955-.439-1.7-1.045-2.23-1.818-.53-.774-.801-1.603-.801-2.495h3.247c.049.788.341 1.4.892 1.826.55.425 1.282.64 2.187.64.878 0 1.554-.166 2.014-.5.467-.342.697-.781.697-1.325zM117.596 17.28c-2.118 0-3.839-.67-5.156-2.008-1.317-1.337-1.979-3.114-1.979-5.337v-.41c0-1.485.286-2.816.864-3.986.571-1.17 1.379-2.083 2.418-2.731 1.038-.655 2.194-.976 3.469-.976 2.028 0 3.596.648 4.703 1.944 1.108 1.296 1.659 3.129 1.659 5.498v1.351h-9.734c.098 1.233.509 2.202 1.233 2.92.718.717 1.631 1.072 2.718 1.072 1.533 0 2.78-.62 3.748-1.86l1.805 1.721a5.998 5.998 0 01-2.39 2.07c-.996.487-2.118.731-3.358.731zm-.398-12.765c-.919 0-1.658.32-2.222.961-.565.641-.927 1.54-1.08 2.683h6.375v-.251c-.077-1.122-.369-1.965-.892-2.543-.529-.558-1.254-.85-2.181-.85zM133.97 5.163a7.915 7.915 0 00-1.366-.112c-1.533 0-2.564.585-3.1 1.763v10.193h-3.345V2.104h3.198l.084 1.665c.808-1.296 1.93-1.944 3.358-1.944.474 0 .871.063 1.185.195l-.014 3.143z",fill:"currentColor"}),o.createElement("path",{d:"M23.292 19.112H1.45c-1.122 0-1.818-1.596-1.24-2.843L7.323.906C7.58.34 8.054 0 8.563 0h14.736v19.112h-.007z",fill:"#EC2C40"}),o.createElement("path",{d:"M25.8 0h21.85c1.123 0 1.82 1.596 1.24 2.843l-7.113 15.363c-.258.564-.731.906-1.24.906H25.801V0z",fill:"#00A9E5"}))),i||(i=o.createElement("defs",null,o.createElement("clipPath",{id:"eraserLogo_svg__clip0_1108_14881"},o.createElement("path",{fill:"#fff",d:"M0 0h133.984v19.112H0z"})))))}},33695:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"edit-2_svg__feather edit-2_svg__feather-edit-2"},e),r||(r=i.createElement("path",{d:"M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"})))}},34484:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"eye_svg__feather eye_svg__feather-eye"},e),r||(r=o.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"})),i||(i=o.createElement("circle",{cx:12,cy:12,r:3})))}},16060:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({height:24,width:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fill:"currentColor",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})))}},99587:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({height:24,width:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),r||(r=i.createElement("path",{d:"M23.6 9.593l-.033-.086L20.3.98a.851.851 0 00-.336-.405.875.875 0 00-1 .054.875.875 0 00-.29.44L16.47 7.818H7.537L5.332 1.07a.857.857 0 00-.29-.441.875.875 0 00-1-.054.859.859 0 00-.336.405L.433 9.502l-.032.086a6.066 6.066 0 002.012 7.01l.01.009.03.021 4.977 3.727 2.462 1.863 1.5 1.132a1.008 1.008 0 001.22 0l1.499-1.132 2.461-1.863 5.006-3.75.013-.01a6.068 6.068 0 002.01-7.002z"})))}},42946:function(e,t,n){"use strict";var r,i,o,a=n(2784);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"robot_svg__lucide robot_svg__lucide-bot"},e),r||(r=a.createElement("rect",{width:18,height:10,x:3,y:11,rx:2})),i||(i=a.createElement("circle",{cx:12,cy:5,r:2})),o||(o=a.createElement("path",{d:"M12 7v4M8.01 16H8M16.01 16H16"})))}},4185:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"x-circle_svg__feather x-circle_svg__feather-x-circle"},e),r||(r=o.createElement("circle",{cx:12,cy:12,r:10})),i||(i=o.createElement("path",{d:"M15 9l-6 6M9 9l6 6"})))}},72119:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:10,viewBox:"0 0 14 10",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.6 9l-.39.312a.5.5 0 00.39.188V9zM1.4 5l-.39-.312a.5.5 0 000 .624L1.4 5zm3.2-4V.5a.5.5 0 00-.39.188L4.6 1zm7.5.8v6.4h1V1.8h-1zm-.3 6.7H4.6v1h7.2v-1zm-6.81.188l-3.2-4-.78.624 3.2 4 .78-.624zm-3.2-3.376l3.2-4-.78-.624-3.2 4 .78.624zM4.6 1.5h7.2v-1H4.6v1zm7.5 6.7a.3.3 0 01-.3.3v1a1.3 1.3 0 001.3-1.3h-1zm1-6.4A1.3 1.3 0 0011.8.5v1a.3.3 0 01.3.3h1zM5.847 3.754l3.2 3.2.707-.708-3.2-3.2-.707.708zm3.2-.708l-3.2 3.2.707.708 3.2-3.2-.707-.708z",fill:"currentColor"})))}},96584:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M9.4 9.4v2.4a.8.8 0 01-.8.8H2.2a.8.8 0 01-.8-.8V5.4a.8.8 0 01.8-.8h2.4m0-2.4v6.4a.8.8 0 00.8.8h6.4a.8.8 0 00.8-.8V2.2a.8.8 0 00-.8-.8H5.4a.8.8 0 00-.8.8z",fill:"none",stroke:"currentColor"})))}},74442:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.8.8H4v.8H2.165l2.518 2.517-.566.566L1.6 2.165V4H.8V.8zm9.034.8H8V.8h3.2V4h-.8V2.165L7.883 4.683l-.566-.566L9.834 1.6zM4.683 7.883L2.165 10.4H4v.8H.8V8h.8v1.834l2.517-2.517.566.566zm3.2-.566L10.4 9.834V8h.8v3.2H8v-.8h1.834L7.317 7.883l.566-.566z",fill:"currentColor"})))}},48845:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M1.4 9.4l-.353-.354-.147.147V9.4h.5zm8-8l.354-.354a.5.5 0 00-.707 0L9.4 1.4zm3.2 3.2l.354.353a.5.5 0 000-.707L12.6 4.6zm-8 8v.5h.208l.146-.146L4.6 12.6zm-3.2 0H.9a.5.5 0 00.5.5v-.5zm.354-2.847l8-8-.707-.707-8 8 .707.707zm7.293-8l3.2 3.2.707-.707-3.2-3.2-.707.707zm3.2 2.493l-8 8 .707.707 8-8-.707-.707zM4.6 12.1H1.4v1h3.2v-1zm-2.7.5V9.4h-1v3.2h1z",fill:"currentColor"})))}},75203:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:"alertCircle_svg__feather alertCircle_svg__feather-alert-circle"},e),r||(r=o.createElement("circle",{cx:12,cy:12,r:10})),i||(i=o.createElement("path",{d:"M12 8v4M12 16h.01"})))}},40758:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.998 7.8h4m-7.6-6.4h11.2v3.2h-11.2V1.4zm.8 3.2v7.2a.8.8 0 00.8.8h8a.8.8 0 00.8-.8V4.6h-9.6z",stroke:"currentColor"})))}},44885:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:12,viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M10.2.4l2.4 2.4m0 0l-2.4 2.4m2.4-2.4H3.8a2.4 2.4 0 00-2.4 2.4v1.2m2.4 5.2L1.4 9.2m0 0l2.4-2.4M1.4 9.2h8.8a2.4 2.4 0 002.4-2.4V5.6",fill:"none",stroke:"currentColor",strokeLinejoin:"round"})))}},99283:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:5,height:5,viewBox:"0 0 5 3",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M.206 1.117l1.805 1.692c.272.255.71.255.983 0l1.804-1.692C5.23.705 4.924 0 4.303 0H.701C.074 0-.233.705.206 1.117z",fill:"currentColor"})))}},32538:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:6,height:9,viewBox:"0 0 6 9",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M1.5 7.5l3-3-3-3",stroke:"currentColor",fill:"none",strokeLinecap:"square"})))}},20417:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M11.25.758a.83.83 0 00-1.175 0L6 4.825 1.925.75A.83.83 0 10.75 1.925L4.825 6 .75 10.075a.83.83 0 101.175 1.175L6 7.175l4.075 4.075a.83.83 0 101.175-1.175L7.175 6l4.075-4.075a.835.835 0 000-1.167z",fill:"currentColor"})))}},5462:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M9.4 9.4v2.4a.8.8 0 01-.8.8H2.2a.8.8 0 01-.8-.8V5.4a.8.8 0 01.8-.8h2.4m0-2.4v6.4a.8.8 0 00.8.8h6.4a.8.8 0 00.8-.8V2.2a.8.8 0 00-.8-.8H5.4a.8.8 0 00-.8.8z",fill:"none",stroke:"currentColor"})))}},9622:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.793 7.5L1.146 1.854l.708-.708L7.5 6.793l5.646-5.647.708.708L8.207 7.5l5.647 5.646-.707.708L7.5 8.207l-5.646 5.647-.708-.707L6.793 7.5z",fill:"currentColor"})))}},6634:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M5 9.494h-.5v1H5v-1zm8 1h.5v-1H13v1zM5 13.49h-.5v1H5v-1zm8 1.009h.5v-1H13v1zM5 5.496h-.5v1H5v-1zM10.333 6.5h.5v-1h-.5v1zM13 .667l.354-.354-.147-.146H13v.5zm4 4h.5v-.208l-.146-.146-.354.354zM5 10.494h8v-1H5v1zm0 3.997l8 .009v-1l-8-.009v1zm0-7.995l5.333.004v-1L5 5.496v1zm10.667 12.337H2.333v1h13.334v-1zM1.5 18V2h-1v16h1zm.833-16.834H13v-1H2.333v1zm14.167 3.5V18h1V4.666h-1zM12.646 1.02l4 4 .708-.707-4-4-.708.707zM2.333 18.833A.833.833 0 011.5 18h-1c0 1.012.82 1.833 1.833 1.833v-1zm13.334 1c1.012 0 1.833-.82 1.833-1.833h-1c0 .46-.373.833-.833.833v1zM1.5 2c0-.46.373-.833.833-.833v-1C1.321.167.5.987.5 2h1z",fill:"currentColor"})))}},41144:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M3 1h4v4M1 7l6-6",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})))}},18114:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:14,height:9,viewBox:"0 0 14 9",fill:"none"},e),r||(r=i.createElement("path",{d:"M1.4 4.5l-.464-.186a.5.5 0 000 .372L1.4 4.5zm11.2 0l.464.186a.5.5 0 000-.372L12.6 4.5zM7 8C5.186 8 3.91 7.098 3.072 6.166a7.395 7.395 0 01-1.143-1.707 3.946 3.946 0 01-.065-.145L1.4 4.5l-.464.186v.002l.002.004a1.967 1.967 0 00.022.052l.064.141a8.394 8.394 0 001.304 1.95C3.288 7.901 4.814 9 7 9V8zM1.4 4.5a65.011 65.011 0 01.464.186.699.699 0 01.014-.032l.05-.113a7.395 7.395 0 011.143-1.707C3.912 1.902 5.187 1 7 1V0C4.814 0 3.289 1.098 2.328 2.166a8.394 8.394 0 00-1.304 1.949 4.937 4.937 0 00-.086.193l-.001.004v.001H.935L1.4 4.5zM7 1c1.814 0 3.089.902 3.928 1.834a7.401 7.401 0 011.143 1.707c.024.05.04.088.051.113l.012.027.002.005.464-.186a53.817 53.817 0 00.463-.188l-.001-.004-.005-.012a7.392 7.392 0 00-.334-.668 8.387 8.387 0 00-1.051-1.462C10.71 1.098 9.185 0 7 0v1zm5.6 3.5a67.702 67.702 0 01-.464-.186l-.002.005-.012.027-.05.113a7.401 7.401 0 01-1.143 1.707C10.088 7.098 8.813 8 6.998 8v1c2.187 0 3.712-1.098 4.673-2.166a8.387 8.387 0 001.304-1.949 4.613 4.613 0 00.08-.181l.006-.012a1.288 1.288 0 00.002-.006L12.6 4.5zM7 5.6a1.1 1.1 0 01-1.1-1.1h-1c0 1.16.94 2.1 2.1 2.1v-1zm1.1-1.1A1.1 1.1 0 017 5.6v1a2.1 2.1 0 002.1-2.1h-1zM7 3.4a1.1 1.1 0 011.1 1.1h1A2.1 2.1 0 007 2.4v1zm0-1a2.1 2.1 0 00-2.1 2.1h1A1.1 1.1 0 017 3.4v-1z",fill:"currentColor"})))}},49377:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:15,height:13,viewBox:"0 0 15 13",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M1.5 0A1.5 1.5 0 000 1.5v10A1.5 1.5 0 001.5 13h12a1.5 1.5 0 001.5-1.5v-8A1.5 1.5 0 0013.5 2H7.707l-2-2H1.5z",fill:"currentColor"})))}},90087:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({height:24,width:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})))}},91947:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:19,height:20,viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M12.725 1.146a12.04 12.04 0 00-5.45 0C6.24.51 5.45.219 4.874.096a3.184 3.184 0 00-.747-.079 1.85 1.85 0 00-.342.042l-.013.004-.006.001-.003.001-.003.001.202.704L3.76.066a.733.733 0 00-.468.406 4.576 4.576 0 00-.233 3.081 4.919 4.919 0 00-1.126 3.143c0 2.278.672 3.809 1.817 4.792.802.69 1.777 1.056 2.754 1.266-.161.448-.203.922-.17 1.405v.877c-.598.126-1.01.086-1.305-.01-.37-.123-.653-.368-.923-.72a7.066 7.066 0 01-.395-.589l-.084-.137c-.104-.17-.216-.352-.329-.518-.28-.413-.693-.929-1.362-1.105l-.71-.186-.372 1.419.71.186c.116.03.27.14.52.509.092.135.18.279.28.442l.099.16c.137.224.295.472.48.711.37.485.876.973 1.627 1.22.515.17 1.098.211 1.763.109v2.74c0 .405.329.733.734.733h5.866a.733.733 0 00.734-.733v-5.225c0-.463-.02-.887-.15-1.282.97-.205 1.938-.572 2.735-1.262 1.144-.99 1.815-2.535 1.815-4.826v-.003a4.92 4.92 0 00-1.126-3.116 4.578 4.578 0 00-.233-3.081.733.733 0 00-.468-.406l-.202.705c.201-.705.2-.706.199-.706h-.003l-.006-.002-.013-.004a1.01 1.01 0 00-.111-.022 1.851 1.851 0 00-.231-.02 3.186 3.186 0 00-.747.079c-.575.123-1.367.414-2.401 1.05z",fill:"currentColor"})))}},81337:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:15,viewBox:"0 0 12 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.65 11.977a.5.5 0 10-.3-.954l.3.954zm-3.648-2.96l-.484-.128-.254.968.484.127.254-.968zM8 14v.5h1V14H8zm.063-4.813l-.054-.497a.5.5 0 00-.299.852l.353-.354zM11.5 5.413h.5V5.41l-.5.002zm-.833-2.007l-.466-.18a.5.5 0 00.112.533l.354-.353zm-.05-2.017l.456-.204a.5.5 0 00-.319-.276l-.137.48zm-2.173.792l-.126.484a.5.5 0 00.398-.064l-.272-.42zm-3.888 0l-.272.42a.5.5 0 00.398.064l-.126-.484zM2.383 1.39L2.246.91a.5.5 0 00-.32.276l.457.204zm-.05 2.017l.354.353a.5.5 0 00.112-.534l-.466.181zM1.5 5.43H2v-.002l-.5.002zm3.438 3.758l.352.355a.5.5 0 00-.293-.851l-.06.496zM4.5 10.5H5l-.001-.037-.499.037zM4 14v.5h1V14H4zm.35-2.977c-.603.19-.986.169-1.24.085-.251-.083-.444-.25-.629-.49a4.8 4.8 0 01-.27-.402c-.085-.139-.182-.302-.28-.447-.191-.281-.473-.633-.929-.753l-.254.968c.08.02.184.095.355.346.082.122.16.252.258.412.094.152.202.32.327.484.253.33.598.663 1.11.832.51.168 1.116.15 1.852-.081l-.3-.954zM9 10.438c0-.318-.014-.608-.104-.878-.096-.288-.262-.51-.481-.727l-.705.71c.155.153.208.245.237.333.035.105.053.254.053.562h1zm-.884-.753c.903-.097 1.888-.325 2.647-.982.78-.675 1.237-1.729 1.237-3.29h-1c0 1.359-.39 2.1-.892 2.534-.524.454-1.258.653-2.099.743l.107.995zM12 5.41a3.354 3.354 0 00-.98-2.358l-.707.706c.438.44.685 1.034.687 1.655l1-.003zm-.867-1.824c.15-.384.22-.794.21-1.207l-1 .025a2.12 2.12 0 01-.142.82l.932.362zm.21-1.207a3.119 3.119 0 00-.27-1.195l-.913.408c.115.256.177.532.184.812l1-.025zm-.726-.99c.137-.481.137-.482.136-.482h-.003l-.004-.002a.456.456 0 00-.03-.007 1.262 1.262 0 00-.212-.024 2.172 2.172 0 00-.51.054c-.425.091-1.024.317-1.82.832l.542.84c.719-.464 1.206-.634 1.488-.694a1.19 1.19 0 01.306-.03l-.008-.001a.278.278 0 01-.01-.002l-.006-.002h-.003l-.002-.001c-.001 0-.002 0 .136-.482zm-2.047.307a8.209 8.209 0 00-4.14 0l.252.968a7.209 7.209 0 013.636 0l.252-.968zm-3.743.064C4.03 1.246 3.43 1.02 3.005.93a2.17 2.17 0 00-.51-.053 1.261 1.261 0 00-.245.032h-.002-.001l.136.481.137.481h-.001l-.002.001-.003.001a.327.327 0 01-.016.004l-.008.001h.008a1.19 1.19 0 01.298.03c.282.06.769.23 1.488.694l.543-.84zm-2.9-.576a3.12 3.12 0 00-.27 1.195l1 .025c.006-.28.068-.556.183-.812l-.913-.408zm-.27 1.195c-.01.413.06.823.21 1.207l.932-.362a2.12 2.12 0 01-.143-.82l-1-.025zm.322.673a3.354 3.354 0 00-.726 1.091l.924.38c.118-.285.292-.545.51-.765l-.708-.706zm-.726 1.091A3.354 3.354 0 001 5.43l1-.003c0-.31.06-.616.177-.902l-.924-.38zM1 5.43c0 1.553.458 2.597 1.239 3.268.757.65 1.74.88 2.64.987l.118-.993C4.15 8.59 3.416 8.39 2.89 7.938 2.388 7.507 2 6.776 2 5.428H1zm3.585 3.404c-.5.498-.629 1.09-.584 1.704L5 10.463c-.03-.408.052-.683.291-.921l-.705-.709zM4 10.5V14h1v-3.5H4zM9 14v-1.5H8V14h1zm0-1.5v-2.063H8V12.5h1z",fill:"currentColor"})))}},45944:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:800,height:800,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.414 3.828a2 2 0 00-2.828 0l-.672.672 1.568 1.568a2.002 2.002 0 012.45 2.45l2.05 2.05a2 2 0 11-1.414 1.414L13 10.414v4.854A2 2 0 0112 19a2 2 0 01-1-3.732V9.732a2 2 0 01-.932-2.25L8.5 5.914l-4.672 4.672a2 2 0 000 2.828l6.758 6.758a2 2 0 002.828 0l6.758-6.758a2 2 0 000-2.828l-6.758-6.758zM9.172 2.414a4 4 0 015.656 0l6.758 6.758a4 4 0 010 5.656l-6.758 6.758a4 4 0 01-5.656 0l-6.758-6.758a4 4 0 010-5.656l6.758-6.758z",fill:"currentColor"})))}},41174:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:13,height:14,viewBox:"0 0 13 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M3.6 5.4v-.5a.5.5 0 00-.5.5h.5zm0 .8l.354.354.146-.147V6.2h-.5zm-1.366.235l-.353.353.353-.353zM5.2 11.4h.5v-.207l-.146-.146-.354.353zm-.8-.8h-.5v.207l.146.147.354-.354zm0-1.2h.5v-.207l-.146-.146L4.4 9.4zm-.8-.8h-.5v.207l.146.147L3.6 8.6zm0-.8v-.5a.5.5 0 00-.5.5h.5zm3.5-6.4V3h1V1.4h-1zm-.3 1.9H6v1h.8v-1zM4.4 4.9h-.8v1h.8v-1zm-1.3.5v.8h1v-.8h-1zm.146.447l-.234.234.707.707.235-.234-.708-.707zm-.658.234L1.154 4.647l-.708.707 1.435 1.434.707-.707zM4.7 4.601a.3.3 0 01-.3.3v1a1.3 1.3 0 001.3-1.3h-1zM6 3.3a1.3 1.3 0 00-1.3 1.3h1a.3.3 0 01.3-.3v-1zM3.012 6.08a.3.3 0 01-.424 0l-.707.707a1.3 1.3 0 001.838 0l-.707-.707zM7.1 3.001a.3.3 0 01-.3.3v1A1.3 1.3 0 008.1 3h-1zm-1.4 9.6v-1.2h-1v1.2h1zm-.146-1.554l-.8-.8-.708.707.8.8.708-.707zM4.9 10.6V9.4h-1v1.2h1zm-.146-1.553l-.8-.8-.708.707.8.8.708-.707zM4.1 8.6v-.8h-1v.8h1zm-.5-.3h3.2v-1H3.6v1zm3.5.3v.534h1V8.6h-1zm1.567 2.1H10.8v-1H8.667v1zM7.9 9.934c0 .423.343.766.767.766v-1c.129 0 .233.105.233.234h-1zM7.867 9.9c.018 0 .033.015.033.034h1c0-.571-.463-1.034-1.033-1.034v1zM7.1 9.134c0 .423.343.766.767.766v-1c.129 0 .233.105.233.234h-1zM6.8 8.3a.3.3 0 01.3.3h1a1.3 1.3 0 00-1.3-1.3v1zM6 12.1A5.1 5.1 0 01.9 7h-1A6.1 6.1 0 006 13.1v-1zM11.1 7A5.1 5.1 0 016 12.1v1A6.1 6.1 0 0012.1 7h-1zM6 1.9A5.1 5.1 0 0111.1 7h1A6.1 6.1 0 006 .9v1zm0-1A6.1 6.1 0 00-.1 7h1A5.1 5.1 0 016 1.9v-1z",fill:"currentColor"})))}},95757:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:7,height:10,viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M1.5 8.5l4-3.5-4-3.5",stroke:"currentColor",strokeLinecap:"square"})))}},29340:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M3.603 6.2V3.8a2.4 2.4 0 114.8 0v2.4m-6.4 0h8a.8.8 0 01.8.8v4.8a.8.8 0 01-.8.8h-8a.8.8 0 01-.8-.8V7a.8.8 0 01.8-.8z",stroke:"currentColor"})))}},61649:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M10.8 6L8.4 8.6M10.8 6L8.4 3.6M10.8 6H3.2m3.2 4.8H1.2V1.2h5.2",fill:"none",stroke:"currentColor"})))}},46131:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M7 4.2v5.6M4.2 7h5.6M7 12.6A5.6 5.6 0 117 1.4a5.6 5.6 0 010 11.2z",fill:"none",stroke:"currentColor"})))}},39231:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:8,height:8,viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4 .733v6.534M.731 4h6.534",fill:"none",stroke:"currentColor"})))}},12967:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.8 2.8v2H10A1.2 1.2 0 0111.2 6v4.8A1.2 1.2 0 0110 12H2a1.2 1.2 0 01-1.2-1.2V6A1.2 1.2 0 012 4.8h1.2v-2a2.8 2.8 0 115.6 0zM4 2.8a2 2 0 114 0v2H4v-2z",fill:"currentColor"})))}},81053:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M7.5 9.5V8H8a1.5 1.5 0 001.5-1.5v-.1A1.4 1.4 0 008.1 5h-.6A1.5 1.5 0 006 6.5M7 11h1m-.5 4a7 7 0 110-14 7 7 0 010 14z",stroke:"currentColor"})))}},19161:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M3.2 4.6h1.6m1.6 0h2.4M3.2 7h1.6m1.6 0h2.4M6.4 9.4h2.4m-7.6-8h9.6v11.2l-1.6-.8-1.6.8-1.6-.8-1.6.8-1.6-.8-1.6.8V1.4z",stroke:"currentColor",strokeLinejoin:"round"})))}},16294:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 .8A5.2 5.2 0 00.8 6H0a6 6 0 0110.4-4.08V0h.8v3.2H8v-.8h1.752A5.184 5.184 0 006 .8zm0 10.4A5.2 5.2 0 0011.2 6h.8a6 6 0 01-10.4 4.08V12H.8V8.8H4v.8H2.248A5.184 5.184 0 006 11.2z",fill:"currentColor"})))}},41091:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({width:13,height:11,viewBox:"0 0 13 11",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("circle",{cx:5,cy:5,r:4.25,fill:"none",stroke:"currentColor",strokeWidth:1.5})),i||(i=o.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",d:"M9.061 8L11 9.939"})))}},97848:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M11.6 11.6L8.4 8.4M5.2 10a4.8 4.8 0 110-9.6 4.8 4.8 0 010 9.6z",fill:"none",stroke:"currentColor",strokeWidth:.8})))}},95184:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{clipRule:"evenodd",d:"M5.756 1.4l-.07.35-.262 1.278c-.421.16-.803.388-1.148.659l-1.286-.43-.346-.108-.179.309-.885 1.48-.18.31.263.229.995.846c-.036.222-.082.44-.082.673 0 .233.046.452.082.674l-.995.846-.263.23.18.308.885 1.48.18.31.345-.108 1.286-.43c.345.27.727.498 1.148.659l.263 1.278.069.35h2.488l.07-.35.262-1.278c.421-.16.803-.389 1.148-.659l1.286.43.346.108.18-.31.884-1.48.18-.308-.263-.23-.995-.846c.037-.222.082-.441.082-.674 0-.232-.045-.451-.082-.673l.995-.846.263-.23-.18-.308-.884-1.481-.18-.309-.346.107-1.286.43a4.416 4.416 0 00-1.148-.658l-.262-1.279-.07-.349H5.756z",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})),i||(i=o.createElement("path",{clipRule:"evenodd",d:"M8.6 6.996a1.6 1.6 0 11-3.2-.002 1.6 1.6 0 013.2.002z",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})))}},44952:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:11,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M6.349 8.916a.75.75 0 00-.698 0l-1.767.93a.75.75 0 01-1.088-.791l.337-1.968a.75.75 0 00-.215-.664L1.488 5.03a.75.75 0 01.416-1.28l1.975-.286a.75.75 0 00.565-.41l.883-1.79a.75.75 0 011.345 0l.884 1.79a.75.75 0 00.565.41l1.975.286a.75.75 0 01.416 1.28l-1.43 1.393a.75.75 0 00-.215.664l.337 1.968a.75.75 0 01-1.088.79l-1.767-.929z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}},54229:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M10.6 12.6h2v-1.2a2 2 0 00-2-2M7.8 3.798a2.4 2.4 0 11-4.798 0 2.4 2.4 0 014.798 0zm1.6 8.795h-8v-1.598a2.4 2.4 0 012.4-2.4H7a2.4 2.4 0 012.4 2.4v1.598zm.8-4.793a1.6 1.6 0 110-3.2 1.6 1.6 0 010 3.2z",fill:"none",stroke:"currentColor"})))}},57448:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M7 1.2l.197-.46a.5.5 0 00-.394 0L7 1.2zM1.4 3.6l-.197-.46a.5.5 0 000 .92L1.4 3.6zM7 6l-.197.46a.5.5 0 00.394 0L7 6zm5.6-2.4l.197.46a.5.5 0 000-.92l-.197.46zM7 8.4l-.197.46.197.084.197-.084L7 8.4zm0 2.4l-.197.46.197.084.197-.085L7 10.8zM6.803.74l-5.6 2.4.394.92 5.6-2.4-.394-.92zm-5.6 3.32l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92zm5.6-3.32l-5.6-2.4-.394.92 5.6 2.4.394-.92zM1.203 6.46l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92zm-5.994 0l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92z",fill:"currentColor"})))}},31583:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:10,viewBox:"0 0 12 10",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.646 8.004l-1.06 1.06L.344 4.82l1.06-1.06 3.184 3.183L10.595.936l1.06 1.06-6.008 6.01-.001-.002z",fill:"currentColor"})))}},59244:function(e,t,n){"use strict";var r,i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M6 1.2l2.6 2.4M6 1.2L3.6 3.6M6 1.2v7.6m4.8-3.2v5.2H1.2V5.6",stroke:"currentColor"})))}},95766:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=l(e),a=o[0],s=o[1],u=new i((a+s)*3/4-s),c=0,A=s>0?a-4:a;for(n=0;n<A;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r[45]=62,r[95]=63},48834:function(e,t,n){"use strict";let r=n(95766),i=n(62333),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);let n=0|f(r,i),o=a(n),l=o.write(r,i);return l!==n&&(o=o.slice(0,l)),o}if(ArrayBuffer.isView(e)){var o=e;if(U(o,Uint8Array)){let e=new Uint8Array(o);return d(e.buffer,e.byteOffset,e.byteLength)}return A(o)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(U(e,ArrayBuffer)||e&&U(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(U(e,SharedArrayBuffer)||e&&U(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return s.from(l,t,n);let u=function(e){if(s.isBuffer(e)){let t=0|h(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):A(e):"Buffer"===e.type&&Array.isArray(e.data)?A(e.data):void 0}(e);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),a(e<0?0:0|h(e))}function A(e){let t=e.length<0?0:0|h(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),s.prototype),r}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||U(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return r?-1:R(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=P[e[r]];return i}(this,t,n);case"utf8":case"utf-8":return y(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":var o,a,s;return o=this,a=t,s=n,0===a&&s===o.length?r.fromByteArray(o):r.fromByteArray(o.slice(a,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}(this,t,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){var o;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(o=n*=1)!=o&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return v(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){let o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else -1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return -1}function y(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(n=e[i+1]))==128&&(l=(31&t)<<6|63&n)>127&&(o=l);break;case 3:n=e[i+1],r=e[i+2],(192&n)==128&&(192&r)==128&&(l=(15&t)<<12|(63&n)<<6|63&r)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],(192&n)==128&&(192&r)==128&&(192&s)==128&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}var o=r;let a=o.length;if(a<=4096)return String.fromCharCode.apply(String,o);let s="",l=0;for(;l<a;)s+=String.fromCharCode.apply(String,o.slice(l,l+=4096));return s}function b(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function w(e,t,n,r,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function _(e,t,n,r,i){k(t,r,i,e,n,7);let o=Number(t&BigInt(0xffffffff));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function E(e,t,n,r,i){k(t,r,i,e,n,7);let o=Number(t&BigInt(0xffffffff));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function C(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function B(e,t,n,r,o){return t*=1,n>>>=0,o||C(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,o){return t*=1,n>>>=0,o||C(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}t.lW=s,t.h2=50,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return(u(e),e<=0)?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(U(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),U(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let t=e[n];if(U(t,Uint8Array))i+t.length>r.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else if(s.isBuffer(t))t.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return r},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(U(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;let o=i-r,a=n-t,l=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n);for(let e=0;e<l;++e)if(u[e]!==c[e]){o=u[e],a=c[e];break}return o<a?-1:+(a<o)},s.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){var i,o,a,s,l,u,c,A;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===n||n>d)&&(n=d),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let h=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let i;n=Number(n)||0;let o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;let a=t.length;for(r>a/2&&(r=a/2),i=0;i<r;++i){var s;let r=parseInt(t.substr(2*i,2),16);if((s=r)!=s)break;e[n+i]=r}return i}(this,e,t,n);case"utf8":case"utf-8":return i=t,o=n,L(R(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=n,L(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,a,s);case"base64":return l=t,u=n,L(F(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,A=n,L(function(e,t){let n,r,i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-c),this,c,A);default:if(h)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=M(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&D(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=M(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&D(e,this.length-8);let r=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||b(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=M(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&D(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),s.prototype.readBigInt64BE=M(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&D(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;w(this,e,t,n,r,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;w(this,e,t,n,r,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=M(function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=M(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*n-1);w(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*n-1);w(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=M(function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=M(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},s.prototype.fill=function(e,t,n,r){let i;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{let o=s.isBuffer(e)?e:s.from(e,r),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};let I={};function T(e,t,n){I[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function S(e){let t="",n=e.length,r=+("-"===e[0]);for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function k(e,t,n,r,i,o){if(e>n||e<t){let r,i="bigint"==typeof t?"n":"";throw r=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${n}${i}`,new I.ERR_OUT_OF_RANGE("value",r,e)}N(i,"offset"),(void 0===r[i]||void 0===r[i+o])&&D(i,r.length-(o+1))}function N(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function D(e,t,n){if(Math.floor(e)!==e)throw N(e,n),new I.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new I.ERR_BUFFER_OUT_OF_BOUNDS;throw new I.ERR_OUT_OF_RANGE(n||"offset",`>= ${+!!n} and <= ${t}`,e)}T("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),T("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>0x100000000?i=S(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=S(i)),i+="n"),r+=` It must be ${t}. Received ${i}`},RangeError);let O=/[^+/0-9A-Za-z-_]/g;function R(e,t){let n;t=t||1/0;let r=e.length,i=null,o=[];for(let a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function F(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function U(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let P=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function M(e){return"undefined"==typeof BigInt?j:e}function j(){throw Error("BigInt not supported")}},5792:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},61099:function(e,t,n){"use strict";var r=n(64410)("cookies"),i=n(52810),o=n(35580),a={},s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,l=/^(?:lax|none|strict)$/i;function u(e,t,n){if(!(this instanceof u))return new u(e,t,n);this.secure=void 0,this.request=e,this.response=t,n&&(Array.isArray(n)?(r('"keys" argument; provide using options {"keys": [...]}'),this.keys=new i(n)):n.constructor&&"Keygrip"===n.constructor.name?(r('"keys" argument; provide using options {"keys": keygrip}'),this.keys=n):(this.keys=Array.isArray(n.keys)?new i(n.keys):n.keys,this.secure=n.secure))}function c(e,t,n){if(!s.test(e))throw TypeError("argument name is invalid");if(t&&!s.test(t))throw TypeError("argument value is invalid");for(var e in this.name=e,this.value=t||"",n)this[e]=n[e];if(this.value||(this.expires=new Date(0),this.maxAge=null),this.path&&!s.test(this.path))throw TypeError("option path is invalid");if(this.domain&&!s.test(this.domain))throw TypeError("option domain is invalid");if(this.sameSite&&!0!==this.sameSite&&!l.test(this.sameSite))throw TypeError("option sameSite is invalid")}function A(e,t){if(t.overwrite)for(var n=e.length-1;n>=0;n--)0===e[n].indexOf(t.name+"=")&&e.splice(n,1);e.push(t.toHeader())}u.prototype.get=function(e,t){var n,r,i,o,s,l,u,c=e+".sig",A=t&&void 0!==t.signed?t.signed:!!this.keys;if((r=this.request.headers.cookie)&&(i=r.match(a[n=e]?a[n]:a[n]=RegExp("(?:^|;) *"+n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"=([^;]*)")))){if(o=i[1],!t||!A)return o;if(s=this.get(c)){if(l=e+"="+o,!this.keys)throw Error(".keys required for signed cookies");if(!((u=this.keys.index(l,s))<0))return u&&this.set(c,this.keys.sign(l),{signed:!1}),o;this.set(c,null,{path:"/",signed:!1})}}},u.prototype.set=function(e,t,n){var i=this.response,a=this.request,s=i.getHeader("Set-Cookie")||[],l=void 0!==this.secure?!!this.secure:"https"===a.protocol||a.connection.encrypted,u=new c(e,t,n),d=n&&void 0!==n.signed?n.signed:!!this.keys;if("string"==typeof s&&(s=[s]),!l&&n&&n.secure)throw Error("Cannot send secure cookie over unencrypted connection");if(u.secure=n&&void 0!==n.secure?n.secure:l,n&&"secureProxy"in n&&(r('"secureProxy" option; use "secure" option, provide "secure" to constructor if needed'),u.secure=n.secureProxy),A(s,u),n&&d){if(!this.keys)throw Error(".keys required for signed cookies");u.value=this.keys.sign(u.toString()),u.name+=".sig",A(s,u)}return(i.set?o.OutgoingMessage.prototype.setHeader:i.setHeader).call(i,"Set-Cookie",s),this},c.prototype.path="/",c.prototype.expires=void 0,c.prototype.domain=void 0,c.prototype.httpOnly=!0,c.prototype.sameSite=!1,c.prototype.secure=!1,c.prototype.overwrite=!1,c.prototype.toString=function(){return this.name+"="+this.value},c.prototype.toHeader=function(){var e=this.toString();return this.maxAge&&(this.expires=new Date(Date.now()+this.maxAge)),this.path&&(e+="; path="+this.path),this.expires&&(e+="; expires="+this.expires.toUTCString()),this.domain&&(e+="; domain="+this.domain),this.sameSite&&(e+="; samesite="+(!0===this.sameSite?"strict":this.sameSite.toLowerCase())),this.secure&&(e+="; secure"),this.httpOnly&&(e+="; httponly"),e},Object.defineProperty(c.prototype,"maxage",{configurable:!0,enumerable:!0,get:function(){return this.maxAge},set:function(e){return this.maxAge=e}}),r.property(c.prototype,"maxage",'"maxage"; use "maxAge" instead'),u.connect=u.express=function(e){return function(t,n,r){t.cookies=n.cookies=new u(t,n,{keys:e}),r()}},u.Cookie=c,e.exports=u},19562:function(e){var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.exports=n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&n.rotl(e,8)|0xff00ff00&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}}},64410:function(e){"use strict";function t(e,t){if("function"!=typeof e)throw TypeError("argument fn must be a function");return e}function n(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(e,t);if(!r)throw TypeError("must call property on owner object");if(!r.configurable)throw TypeError("property must be configurable")}e.exports=function(e){if(!e)throw TypeError("argument namespace is required");function r(e){}return r._file=void 0,r._ignored=!0,r._namespace=e,r._traced=!1,r._warned=Object.create(null),r.function=t,r.property=n,r}},93636:function(e){"use strict";e.exports=function(e){return(e=String(e||""),r.test(e))?"rtl":i.test(e)?"ltr":"neutral"};var t="---",n="A-Za-z\xc0-\xd6\xd8-\xf6\xf8------",r=RegExp("^[^"+n+"]*["+t+"]"),i=RegExp("^[^"+t+"]*["+n+"]")},10161:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],A=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),A){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=Array(A-1);u<A;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),A){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(d=1,l=Array(A-1);d<A;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},40199:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var l=[o,s];if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(53339),a=n(36727);t.backOff=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,new s(e,o.getSanitizedOptions(t)).execute()];case 1:return[2,n.sent()]}})})};var s=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}})})},e}()},71293:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysDelay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n(21674).Delay)},21674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55686);t.Delay=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise(function(t){return setTimeout(t,e.jitteredDelay)})},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return r.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return Math.min(this.options.startingDelay*Math.pow(this.options.timeMultiple,this.numOfDelayedAttempts),this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}()},36727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22073),i=n(71293);t.DelayFactory=function(e,t){var n,o=(n=e).delayFirstAttempt?new i.AlwaysDelay(n):new r.SkipFirstDelay(n);return o.setAttemptNumber(t),o}},22073:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var l=[o,s];if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SkipFirstDelay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.apply=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]})})},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(n(21674).Delay)},67216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullJitter=function(e){return Math.round(Math.random()*e)}},55686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67216),i=n(37129);t.JitterFactory=function(e){return"full"===e.jitter?r.fullJitter:i.noJitter}},37129:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noJitter=function(e){return e}},53339:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};t.getSanitizedOptions=function(e){var t=n(n({},r),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}},69378:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var r,i,o,a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},62333:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,A=n?i-1:0,d=n?-1:1,h=e[t+A];for(A+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+A],A+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+A],A+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,A=c>>1,d=5960464477539062e-23*(23===i),h=r?0:o-1,f=r?1:-1,p=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+A>=1?t+=d/l:t+=d*Math.pow(2,1-A),t*l>=2&&(a++,l/=2),a+A>=c?(s=0,a=c):a+A>=1?(s=(t*l-1)*Math.pow(2,i),a+=A):(s=t*Math.pow(2,A-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=f,a/=256,u-=8);e[n+h-f]|=128*p}},13335:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){var n;return null!=e&&(t(e)||"function"==typeof(n=e).readFloatLE&&"function"==typeof n.slice&&t(n.slice(0,0))||!!e._isBuffer)}},87202:function(e,t){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)o["f"+a]=111+a;function s(e){return i[e=e.toLowerCase()]||e}t.TB=function(e,t){var n,i,a,l,u;return n=e,i={byKey:!0},a=t,!i||"byKey"in i||(a=i,i=null),Array.isArray(n)||(n=[n]),l=n.map(function(e){return function(e,t){var n=t&&t.byKey,i={},a=(e=e.replace("++","+add")).split("+"),l=a.length;for(var u in r)i[r[u]]=!1;var c=!0,A=!1,d=void 0;try{for(var h,f=a[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value,g=p.endsWith("?")&&p.length>1;g&&(p=p.slice(0,-1));var m=s(p),v=r[m];1!==l&&v||(n?i.key=m:i.which=function(e){return o[e=s(e)]||e.toUpperCase().charCodeAt(0)}(p)),v&&(i[v]=!g||null)}}catch(e){A=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(A)throw d}}return i}(e,i)}),u=function(e){return l.some(function(t){return function(e,t){for(var n in e){var r=e[n],i=void 0;if(null!=r&&(null!=(i="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&i!==r)return!1}return!0}(t,e)})},null==a?u:u(a)}},52810:function(e,t,n){"use strict";var r=n(42294),i=n(98554);function o(e,t,n){if(t||(t="sha1"),n||(n="base64"),!(this instanceof o))return new o(e,t,n);if(!e||!(0 in e))throw Error("Keys must be provided.");function a(e,r){return i.createHmac(t,r).update(e).digest(n).replace(/\/|\+|=/g,function(e){return({"/":"_","+":"-","=":""})[e]})}this.sign=function(t){return a(t,e[0])},this.verify=function(e,t){return this.index(e,t)>-1},this.index=function(t,n){for(var i=0,o=e.length;i<o;i++)if(r(n,a(t,e[i])))return i;return -1}}o.sign=o.verify=o.index=function(){throw Error("Usage: require('keygrip')(<array-of-keys>)")},e.exports=o},39515:function(e,t,n){e.exports=n(38761)(n(37772),"DataView")},89612:function(e,t,n){var r=n(52118),i=n(96909),o=n(98138),a=n(4174),s=n(7942);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},80235:function(e,t,n){var r=n(3945),i=n(21846),o=n(88028),a=n(72344),s=n(94769);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},10326:function(e,t,n){e.exports=n(38761)(n(37772),"Map")},96738:function(e,t,n){var r=n(92411),i=n(36417),o=n(86928),a=n(79493),s=n(24150);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},52760:function(e,t,n){e.exports=n(38761)(n(37772),"Promise")},2143:function(e,t,n){e.exports=n(38761)(n(37772),"Set")},45386:function(e,t,n){var r=n(96738),i=n(52842),o=n(52482);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},86571:function(e,t,n){var r=n(80235),i=n(15243),o=n(72858),a=n(4417),s=n(8605),l=n(71418);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},50857:function(e,t,n){e.exports=n(37772).Symbol},79162:function(e,t,n){e.exports=n(37772).Uint8Array},93215:function(e,t,n){e.exports=n(38761)(n(37772),"WeakMap")},49432:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},65338:function(e){e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},72517:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},67552:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},38333:function(e,t,n){var r=n(77832);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},34893:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1634:function(e,t,n){var r=n(36473),i=n(79631),o=n(86152),a=n(73226),s=n(39045),l=n(77598),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),A=!n&&!c&&a(e),d=!n&&!c&&!A&&l(e),h=n||c||A||d,f=h?r(e.length,String):[],p=f.length;for(var g in e)(t||u.call(e,g))&&!(h&&("length"==g||A&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,p)))&&f.push(g);return f}},50343:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},65067:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},33977:function(e,t,n){var r=n(5809);e.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},87064:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},50217:function(e){e.exports=function(e){return e.split("")}},28582:function(e,t,n){var r=n(13940),i=n(41225);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},60091:function(e,t,n){var r=n(13940),i=n(41225),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},22218:function(e,t,n){var r=n(41225);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},12825:function(e,t,n){var r=n(24303);e.exports=function(e,t,n,i){return r(e,function(e,r,o){t(i,e,n(e),o)}),i}},67993:function(e,t,n){var r=n(752),i=n(90249);e.exports=function(e,t){return e&&r(t,i(t),e)}},55906:function(e,t,n){var r=n(752),i=n(18582);e.exports=function(e,t){return e&&r(t,i(t),e)}},13940:function(e,t,n){var r=n(83043);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},14034:function(e){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},18874:function(e,t,n){var r=n(86571),i=n(72517),o=n(60091),a=n(67993),s=n(55906),l=n(92175),u=n(51522),c=n(7680),A=n(19987),d=n(13483),h=n(76939),f=n(70940),p=n(99917),g=n(8222),m=n(78725),v=n(86152),y=n(73226),b=n(4714),w=n(29259),_=n(43679),E=n(90249),C=n(18582),B="[object Arguments]",x="[object Function]",I="[object Object]",T={};T[B]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[I]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[x]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,S,k,N,D){var O,R=1&n,F=2&n,L=4&n;if(S&&(O=N?S(t,k,N,D):S(t)),void 0!==O)return O;if(!w(t))return t;var U=v(t);if(U){if(O=p(t),!R)return u(t,O)}else{var P=f(t),M=P==x||"[object GeneratorFunction]"==P;if(y(t))return l(t,R);if(P==I||P==B||M&&!N){if(O=F||M?{}:m(t),!R)return F?A(t,s(O,t)):c(t,a(O,t))}else{if(!T[P])return N?t:{};O=g(t,P,R)}}D||(D=new r);var j=D.get(t);if(j)return j;D.set(t,O),_(t)?t.forEach(function(r){O.add(e(r,n,S,r,t,D))}):b(t)&&t.forEach(function(r,i){O.set(i,e(r,n,S,i,t,D))});var Z=L?F?h:d:F?C:E,Q=U?void 0:Z(t);return i(Q||t,function(r,i){Q&&(r=t[i=r]),o(O,i,e(r,n,S,i,t,D))}),O}},39413:function(e,t,n){var r=n(29259),i=Object.create;e.exports=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}()},85246:function(e,t,n){var r=n(45386),i=n(38333),o=n(34893),a=n(50343),s=n(47826),l=n(59950);e.exports=function(e,t,n,u){var c=-1,A=i,d=!0,h=e.length,f=[],p=t.length;if(!h)return f;n&&(t=a(t,s(n))),u?(A=o,d=!1):t.length>=200&&(A=l,d=!1,t=new r(t));t:for(;++c<h;){var g=e[c],m=null==n?g:n(g);if(g=u||0!==g?g:0,d&&m==m){for(var v=p;v--;)if(t[v]===m)continue t;f.push(g)}else A(t,m,u)||f.push(g)}return f}},24303:function(e,t,n){var r=n(26548);e.exports=n(92019)(r)},2229:function(e,t,n){var r=n(4795);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,u=a}return u}},21359:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return -1}},62034:function(e,t,n){var r=n(65067),i=n(95882);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},15308:function(e,t,n){e.exports=n(55463)()},26548:function(e,t,n){var r=n(15308),i=n(90249);e.exports=function(e,t){return e&&r(e,t,i)}},13324:function(e,t,n){var r=n(17297),i=n(33812);e.exports=function(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1897:function(e,t,n){var r=n(65067),i=n(86152);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},53366:function(e,t,n){var r=n(50857),i=n(62107),o=n(37157),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},84134:function(e){e.exports=function(e,t){return e>t}},20187:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},77832:function(e,t,n){var r=n(21359),i=n(22195),o=n(66024);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},15183:function(e,t,n){var r=n(53366),i=n(15125);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},88746:function(e,t,n){var r=n(51952),i=n(15125);e.exports=function e(t,n,o,a,s){return t===n||(null!=t&&null!=n&&(i(t)||i(n))?r(t,n,o,a,e,s):t!=t&&n!=n)}},51952:function(e,t,n){var r=n(86571),i=n(74871),o=n(11491),a=n(17416),s=n(70940),l=n(86152),u=n(73226),c=n(77598),A="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,g,m){var v=l(e),y=l(t),b=v?d:s(e),w=y?d:s(t);b=b==A?h:b,w=w==A?h:w;var _=b==h,E=w==h,C=b==w;if(C&&u(e)){if(!u(t))return!1;v=!0,_=!1}if(C&&!_)return m||(m=new r),v||c(e)?i(e,t,n,p,g,m):o(e,t,b,n,p,g,m);if(!(1&n)){var B=_&&f.call(e,"__wrapped__"),x=E&&f.call(t,"__wrapped__");if(B||x){var I=B?e.value():e,T=x?t.value():t;return m||(m=new r),g(I,T,n,p,m)}}return!!C&&(m||(m=new r),a(e,t,n,p,g,m))}},74511:function(e,t,n){var r=n(70940),i=n(15125);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},37036:function(e,t,n){var r=n(86571),i=n(88746);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],A=e[c],d=u[1];if(l&&u[2]){if(void 0===A&&!(c in e))return!1}else{var h=new r;if(o)var f=o(A,d,c,e,t,h);if(!(void 0===f?i(d,A,3,o,h):f))return!1}}return!0}},22195:function(e){e.exports=function(e){return e!=e}},6840:function(e,t,n){var r=n(61049),i=n(47394),o=n(29259),a=n(87035),s=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,A=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?A:s).test(a(e))}},8109:function(e,t,n){var r=n(70940),i=n(15125);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},35522:function(e,t,n){var r=n(53366),i=n(61158),o=n(15125),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},68286:function(e,t,n){var r=n(26423),i=n(74716),o=n(23059),a=n(86152),s=n(65798);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},86411:function(e,t,n){var r=n(16001),i=n(54248),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},18390:function(e,t,n){var r=n(29259),i=n(16001),o=n(62966),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||n.push(s);return n}},93401:function(e,t,n){var r=n(24303),i=n(67878);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},26423:function(e,t,n){var r=n(37036),i=n(49882),o=n(73477);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},74716:function(e,t,n){var r=n(88746),i=n(72579),o=n(95041),a=n(21401),s=n(28792),l=n(73477),u=n(33812);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},84565:function(e,t,n){var r=n(86571),i=n(28582),o=n(15308),a=n(25561),s=n(29259),l=n(18582),u=n(52434);e.exports=function e(t,n,c,A,d){t!==n&&o(n,function(o,l){if(d||(d=new r),s(o))a(t,n,l,c,e,A,d);else{var h=A?A(u(t,l),o,l+"",t,n,d):void 0;void 0===h&&(h=o),i(t,l,h)}},l)}},25561:function(e,t,n){var r=n(28582),i=n(92175),o=n(6190),a=n(51522),s=n(78725),l=n(79631),u=n(86152),c=n(93746),A=n(73226),d=n(61049),h=n(29259),f=n(97030),p=n(77598),g=n(52434),m=n(63329);e.exports=function(e,t,n,v,y,b,w){var _=g(e,n),E=g(t,n),C=w.get(E);if(C)return void r(e,n,C);var B=b?b(_,E,n+"",e,t,w):void 0,x=void 0===B;if(x){var I=u(E),T=!I&&A(E),S=!I&&!T&&p(E);B=E,I||T||S?u(_)?B=_:c(_)?B=a(_):T?(x=!1,B=i(E,!0)):S?(x=!1,B=o(E,!0)):B=[]:f(E)||l(E)?(B=_,l(_)?B=m(_):(!h(_)||d(_))&&(B=s(E))):x=!1}x&&(w.set(E,B),y(B,E,v,b,w),w.delete(E)),r(e,n,B)}},23813:function(e,t,n){var r=n(50343),i=n(13324),o=n(68286),a=n(93401),s=n(27095),l=n(47826),u=n(18477),c=n(23059),A=n(86152);e.exports=function(e,t,n){t=t.length?r(t,function(e){return A(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[c];var d=-1;return t=r(t,l(o)),s(a(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++d,value:e}}),function(e,t){return u(e,t,n)})}},92602:function(e,t,n){var r=n(93759),i=n(95041);e.exports=function(e,t){return r(e,t,function(t,n){return i(e,n)})}},93759:function(e,t,n){var r=n(13324),i=n(82857),o=n(17297);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&i(l,o(u,e),c)}return l}},20256:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},82952:function(e,t,n){var r=n(13324);e.exports=function(e){return function(t){return r(t,e)}}},5809:function(e){var t=Math.floor,n=Math.random;e.exports=function(e,r){return e+t(n()*(r-e+1))}},36060:function(e,t,n){var r=n(23059),i=n(43114),o=n(75251);e.exports=function(e,t){return o(i(e,t,r),e+"")}},46543:function(e,t,n){var r=n(33977),i=n(98346);e.exports=function(e){return r(i(e))}},82857:function(e,t,n){var r=n(60091),i=n(17297),o=n(39045),a=n(29259),s=n(33812);e.exports=function(e,t,n,l){if(!a(e))return e;t=i(t,e);for(var u=-1,c=t.length,A=c-1,d=e;null!=d&&++u<c;){var h=s(t[u]),f=n;if("__proto__"===h||"constructor"===h||"prototype"===h)break;if(u!=A){var p=d[h];void 0===(f=l?l(p,h,d):void 0)&&(f=a(p)?p:o(t[u+1])?[]:{})}r(d,h,f),d=d[h]}return e}},86532:function(e,t,n){var r=n(86874),i=n(83043),o=n(23059);e.exports=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o},39872:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},27095:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},36473:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1054:function(e,t,n){var r=n(50857),i=n(50343),o=n(86152),a=n(4795),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},51704:function(e,t,n){var r=n(52153),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},47826:function(e){e.exports=function(e){return function(t){return e(t)}}},67326:function(e,t,n){var r=n(45386),i=n(38333),o=n(34893),a=n(59950),s=n(78803),l=n(16909);e.exports=function(e,t,n){var u=-1,c=i,A=e.length,d=!0,h=[],f=h;if(n)d=!1,c=o;else if(A>=200){var p=t?null:s(e);if(p)return l(p);d=!1,c=a,f=new r}else f=t?[]:h;t:for(;++u<A;){var g=e[u],m=t?t(g):g;if(g=n||0!==g?g:0,d&&m==m){for(var v=f.length;v--;)if(f[v]===m)continue t;t&&f.push(m),h.push(g)}else c(f,m,n)||(f!==h&&f.push(m),h.push(g))}return h}},29078:function(e,t,n){var r=n(17297),i=n(56974),o=n(62721),a=n(33812),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){t=r(t,e);var n=-1,l=t.length;if(!l)return!0;for(var u=null==e||"object"!=typeof e&&"function"!=typeof e;++n<l;){var c=t[n];if("string"==typeof c){if("__proto__"===c&&!s.call(e,"__proto__"))return!1;if("constructor"===c&&n+1<l&&"string"==typeof t[n+1]&&"prototype"===t[n+1]){if(u&&0===n)continue;return!1}}}var A=o(e,t);return null==A||delete A[a(i(t))]}},50753:function(e,t,n){var r=n(50343);e.exports=function(e,t){return r(t,function(t){return e[t]})}},59950:function(e){e.exports=function(e,t){return e.has(t)}},89419:function(e,t,n){var r=n(23059);e.exports=function(e){return"function"==typeof e?e:r}},17297:function(e,t,n){var r=n(86152),i=n(21401),o=n(54452),a=n(66188);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},23895:function(e,t,n){var r=n(39872);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},79882:function(e,t,n){var r=n(79162);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},92175:function(e,t,n){e=n.nmd(e);var r=n(37772),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},34727:function(e,t,n){var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},96058:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},70169:function(e,t,n){var r=n(50857),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},6190:function(e,t,n){var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},27520:function(e,t,n){var r=n(4795);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),s=void 0!==t,l=null===t,u=t==t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return -1}return 0}},18477:function(e,t,n){var r=n(27520);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u){if(i>=l)return u;return u*("desc"==n[i]?-1:1)}}return e.index-t.index}},51522:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},752:function(e,t,n){var r=n(60091),i=n(13940);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},7680:function(e,t,n){var r=n(752),i=n(80633);e.exports=function(e,t){return r(e,i(e),t)}},19987:function(e,t,n){var r=n(752),i=n(12680);e.exports=function(e,t){return r(e,i(e),t)}},24019:function(e,t,n){e.exports=n(37772)["__core-js_shared__"]},36740:function(e,t,n){var r=n(65338),i=n(12825),o=n(68286),a=n(86152);e.exports=function(e,t){return function(n,s){var l=a(n)?r:i,u=t?t():{};return l(n,e,o(s,2),u)}}},97263:function(e,t,n){var r=n(36060),i=n(82406);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t})}},92019:function(e,t,n){var r=n(67878);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},55463:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},83126:function(e,t,n){var r=n(23895),i=n(33880),o=n(8435),a=n(66188);e.exports=function(e){return function(t){var n=i(t=a(t))?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},78803:function(e,t,n){var r=n(2143),i=n(34291),o=n(16909);e.exports=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i},48642:function(e,t,n){var r=n(97030);e.exports=function(e){return r(e)?void 0:e}},83043:function(e,t,n){var r=n(38761);e.exports=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},74871:function(e,t,n){var r=n(45386),i=n(87064),o=n(59950);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,A=t.length;if(c!=A&&!(u&&A>c))return!1;var d=l.get(e),h=l.get(t);if(d&&h)return d==t&&h==e;var f=-1,p=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var m=e[f],v=t[f];if(a)var y=u?a(v,m,f,t,e,l):a(m,v,f,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(m===e||s(m,e,n,a,l)))return g.push(t)})){p=!1;break}}else if(!(m===v||s(m,v,n,a,l))){p=!1;break}}return l.delete(e),l.delete(t),p}},11491:function(e,t,n){var r=n(50857),i=n(79162),o=n(41225),a=n(74871),s=n(75179),l=n(16909),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,A,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!A(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=l),e.size!=t.size&&!f)break;var p=d.get(e);if(p)return p==t;r|=2,d.set(e,t);var g=a(h(e),h(t),r,u,A,d);return d.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},17416:function(e,t,n){var r=n(13483),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var A=c;A--;){var d=u[A];if(!(l?d in t:i.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=l;++A<c;){var m=e[d=u[A]],v=t[d];if(o)var y=l?o(v,m,d,t,e,s):o(m,v,d,e,t,s);if(!(void 0===y?m===v||a(m,v,n,o,s):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return s.delete(e),s.delete(t),p}},29097:function(e,t,n){var r=n(35676),i=n(43114),o=n(75251);e.exports=function(e){return o(i(e,void 0,r),e+"")}},51242:function(e,t,n){e.exports="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g},13483:function(e,t,n){var r=n(1897),i=n(80633),o=n(90249);e.exports=function(e){return r(e,o,i)}},76939:function(e,t,n){var r=n(1897),i=n(12680),o=n(18582);e.exports=function(e){return r(e,o,i)}},27937:function(e,t,n){var r=n(98304);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},49882:function(e,t,n){var r=n(28792),i=n(90249);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},38761:function(e,t,n){var r=n(6840),i=n(98109);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},47353:function(e,t,n){e.exports=n(60241)(Object.getPrototypeOf,Object)},62107:function(e,t,n){var r=n(50857),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},80633:function(e,t,n){var r=n(67552),i=n(30981),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:r(a(e=Object(e)),function(t){return o.call(e,t)})}:i},12680:function(e,t,n){var r=n(65067),i=n(47353),o=n(80633),a=n(30981);e.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a},70940:function(e,t,n){var r=n(39515),i=n(10326),o=n(52760),a=n(2143),s=n(93215),l=n(53366),u=n(87035),c="[object Map]",A="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",p=u(r),g=u(i),m=u(o),v=u(a),y=u(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||i&&b(new i)!=c||o&&b(o.resolve())!=A||a&&b(new a)!=d||s&&b(new s)!=h)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case p:return f;case g:return c;case m:return A;case v:return d;case y:return h}return t}),e.exports=b},98109:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},1369:function(e,t,n){var r=n(17297),i=n(79631),o=n(86152),a=n(39045),s=n(61158),l=n(33812);e.exports=function(e,t,n){t=r(t,e);for(var u=-1,c=t.length,A=!1;++u<c;){var d=l(t[u]);if(!(A=null!=e&&n(e,d)))break;e=e[d]}return A||++u!=c?A:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(o(e)||i(e))}},33880:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},52118:function(e,t,n){var r=n(99191);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},96909:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},98138:function(e,t,n){var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4174:function(e,t,n){var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7942:function(e,t,n){var r=n(99191);e.exports=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},99917:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8222:function(e,t,n){var r=n(79882),i=n(34727),o=n(96058),a=n(70169),s=n(6190);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},78725:function(e,t,n){var r=n(39413),i=n(47353),o=n(16001);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},95882:function(e,t,n){var r=n(50857),i=n(79631),o=n(86152),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},39045:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?0x1fffffffffffff:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},82406:function(e,t,n){var r=n(41225),i=n(67878),o=n(39045),a=n(29259);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return("number"==s?!!(i(n)&&o(t,n.length)):"string"==s&&t in n)&&r(n[t],e)}},21401:function(e,t,n){var r=n(86152),i=n(4795),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},98304:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},47394:function(e,t,n){var r,i=n(24019),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},16001:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},28792:function(e,t,n){var r=n(29259);e.exports=function(e){return e==e&&!r(e)}},3945:function(e){e.exports=function(){this.__data__=[],this.size=0}},21846:function(e,t,n){var r=n(22218),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},88028:function(e,t,n){var r=n(22218);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},72344:function(e,t,n){var r=n(22218);e.exports=function(e){return r(this.__data__,e)>-1}},94769:function(e,t,n){var r=n(22218);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},92411:function(e,t,n){var r=n(89612),i=n(80235),o=n(10326);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},36417:function(e,t,n){var r=n(27937);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=!!t,t}},86928:function(e,t,n){var r=n(27937);e.exports=function(e){return r(this,e).get(e)}},79493:function(e,t,n){var r=n(27937);e.exports=function(e){return r(this,e).has(e)}},24150:function(e,t,n){var r=n(27937);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=+(n.size!=i),this}},75179:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},73477:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},77777:function(e,t,n){var r=n(30733);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},99191:function(e,t,n){e.exports=n(38761)(Object,"create")},54248:function(e,t,n){e.exports=n(60241)(Object.keys,Object)},62966:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},4146:function(e,t,n){e=n.nmd(e);var r=n(51242),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},37157:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},60241:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},43114:function(e,t,n){var r=n(49432),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},62721:function(e,t,n){var r=n(13324),i=n(39872);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},37772:function(e,t,n){var r=n(51242),i="object"==typeof self&&self&&self.Object===Object&&self;e.exports=r||i||Function("return this")()},52434:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},52842:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},52482:function(e){e.exports=function(e){return this.__data__.has(e)}},16909:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},75251:function(e,t,n){var r=n(86532);e.exports=n(97787)(r)},97787:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},15243:function(e,t,n){var r=n(80235);e.exports=function(){this.__data__=new r,this.size=0}},72858:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4417:function(e){e.exports=function(e){return this.__data__.get(e)}},8605:function(e){e.exports=function(e){return this.__data__.has(e)}},71418:function(e,t,n){var r=n(80235),i=n(10326),o=n(96738);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},66024:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}},8435:function(e,t,n){var r=n(50217),i=n(33880),o=n(63344);e.exports=function(e){return i(e)?o(e):r(e)}},54452:function(e,t,n){var r=n(77777),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;e.exports=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t})},33812:function(e,t,n){var r=n(4795),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},87035:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},52153:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},63344:function(e){var t="\\ud800-\\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",u="(?:\\u200d(?:"+[i,o,a].join("|")+")"+l+s+")*",c=RegExp(r+"(?="+r+")|"+("(?:"+[i+n+"?",n,o,a,"["+t+"]"].join("|"))+")"+(l+s+u),"g");e.exports=function(e){return e.match(c)||[]}},82108:function(e,t,n){var r=n(66188),i=n(23779);e.exports=function(e){return i(r(e).toLowerCase())}},93586:function(e,t,n){var r=n(39872),i=n(82406),o=n(38101),a=Math.ceil,s=Math.max;e.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:s(o(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var u=0,c=0,A=Array(a(l/t));u<l;)A[c++]=r(e,u,u+=t);return A}},27875:function(e,t,n){var r=n(14034),i=n(7642);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==t&&(t=(t=i(t))==t?t:0),r(i(e),t,n)}},9850:function(e,t,n){var r=n(18874);e.exports=function(e){return r(e,5)}},60417:function(e){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},86874:function(e){e.exports=function(e){return function(){return e}}},54073:function(e,t,n){var r=n(29259),i=n(61100),o=n(7642),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,A,d,h,f=0,p=!1,g=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=l,r=u;return l=u=void 0,f=t,A=e.apply(r,n)}function y(e){var n=e-h,r=e-f;return void 0===h||n>=t||n<0||g&&r>=c}function b(){var e,n,r,o=i();if(y(o))return w(o);d=setTimeout(b,(e=o-h,n=o-f,r=t-e,g?s(r,c-n):r))}function w(e){return(d=void 0,m&&l)?v(e):(l=u=void 0,A)}function _(){var e,n=i(),r=y(n);if(l=arguments,u=this,h=n,r){if(void 0===d)return f=e=h,d=setTimeout(b,t),p?v(e):A;if(g)return clearTimeout(d),d=setTimeout(b,t),v(h)}return void 0===d&&(d=setTimeout(b,t)),A}return t=o(t)||0,r(n)&&(p=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=h=u=d=void 0},_.flush=function(){return void 0===d?A:w(i())},_}},79421:function(e,t,n){e.exports=n(59756)},41225:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},12982:function(e,t,n){var r=n(21359),i=n(68286),o=n(38101),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return -1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},35676:function(e,t,n){var r=n(62034);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},59756:function(e,t,n){var r=n(72517),i=n(24303),o=n(89419),a=n(86152);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},10017:function(e){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}},72579:function(e,t,n){var r=n(13324);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3440:function(e,t,n){var r=n(13940),i=n(36740),o=Object.prototype.hasOwnProperty;e.exports=i(function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])})},95041:function(e,t,n){var r=n(20187),i=n(1369);e.exports=function(e,t){return null!=e&&i(e,t,r)}},23059:function(e){e.exports=function(e){return e}},79631:function(e,t,n){var r=n(15183),i=n(15125),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable;e.exports=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")}},86152:function(e){e.exports=Array.isArray},67878:function(e,t,n){var r=n(61049),i=n(61158);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},93746:function(e,t,n){var r=n(67878),i=n(15125);e.exports=function(e){return i(e)&&r(e)}},73226:function(e,t,n){e=n.nmd(e);var r=n(37772),i=n(79207),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=s?s.isBuffer:void 0;e.exports=l||i},45455:function(e,t,n){var r=n(86411),i=n(70940),o=n(79631),a=n(86152),s=n(67878),l=n(73226),u=n(16001),c=n(77598),A=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(A.call(e,n))return!1;return!0}},18149:function(e,t,n){var r=n(88746);e.exports=function(e,t){return r(e,t)}},13383:function(e,t,n){var r=n(88746);e.exports=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?r(e,t,void 0,n):!!i}},61049:function(e,t,n){var r=n(53366),i=n(29259);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},61158:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},4714:function(e,t,n){var r=n(74511),i=n(47826),o=n(4146),a=o&&o.isMap;e.exports=a?i(a):r},61726:function(e,t,n){var r=n(37036),i=n(49882);e.exports=function(e,t){return e===t||r(e,t,i(t))}},29259:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},97030:function(e,t,n){var r=n(53366),i=n(47353),o=n(15125),a=Object.prototype,s=Function.prototype.toString,l=a.hasOwnProperty,u=s.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==u}},43679:function(e,t,n){var r=n(8109),i=n(47826),o=n(4146),a=o&&o.isSet;e.exports=a?i(a):r},4795:function(e,t,n){var r=n(53366),i=n(15125);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},77598:function(e,t,n){var r=n(35522),i=n(47826),o=n(4146),a=o&&o.isTypedArray;e.exports=a?i(a):r},87622:function(e,t,n){var r=n(13940);e.exports=n(36740)(function(e,t,n){r(e,n,t)})},90249:function(e,t,n){var r=n(1634),i=n(86411),o=n(67878);e.exports=function(e){return o(e)?r(e):i(e)}},18582:function(e,t,n){var r=n(1634),i=n(18390),o=n(67878);e.exports=function(e){return o(e)?r(e,!0):i(e)}},56974:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},34519:function(e,t,n){var r=n(13940),i=n(26548),o=n(68286);e.exports=function(e,t){var n={};return t=o(t,3),i(e,function(e,i,o){r(n,i,t(e,i,o))}),n}},45126:function(e,t,n){var r=n(18874),i=n(26423);e.exports=function(e){return i(r(e,1))}},55324:function(e,t,n){var r=n(2229),i=n(84134),o=n(68286);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},30733:function(e,t,n){var r=n(96738);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},98537:function(e,t,n){var r=n(84565);e.exports=n(97263)(function(e,t,n){r(e,t,n)})},12782:function(e,t,n){var r=n(84565);e.exports=n(97263)(function(e,t,n,i){r(e,t,n,i)})},34291:function(e){e.exports=function(){}},61100:function(e,t,n){var r=n(37772);e.exports=function(){return r.Date.now()}},17620:function(e,t,n){var r=n(50343),i=n(18874),o=n(29078),a=n(17297),s=n(752),l=n(48642),u=n(29097),c=n(76939);e.exports=u(function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,function(t){return t=a(t,e),u||(u=t.length>1),t}),s(e,c(e),n),u&&(n=i(n,7,l));for(var A=t.length;A--;)o(n,t[A]);return n})},34498:function(e,t,n){var r=n(23813),i=n(86152);e.exports=function(e,t,n,o){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=o?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},96795:function(e,t,n){e.exports=n(36740)(function(e,t,n){e[+!n].push(t)},function(){return[[],[]]})},13888:function(e,t,n){var r=n(92602);e.exports=n(29097)(function(e,t){return null==e?{}:r(e,t)})},65798:function(e,t,n){var r=n(20256),i=n(82952),o=n(21401),a=n(33812);e.exports=function(e){return o(e)?r(a(e)):i(e)}},62349:function(e,t,n){var r=n(5809),i=n(82406),o=n(5707),a=parseFloat,s=Math.min,l=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var u=e;e=t,t=u}if(n||e%1||t%1){var c=l();return s(e+c*(t-e+a("1e-"+((c+"").length-1))),t)}return r(e,t)}},4742:function(e,t,n){var r=n(33977),i=n(46543),o=n(86152);e.exports=function(e){return(o(e)?r:i)(e)}},30981:function(e){e.exports=function(){return[]}},79207:function(e){e.exports=function(){return!1}},12436:function(e,t,n){var r=n(54073),i=n(29259);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},61258:function(e,t,n){var r=n(36473),i=n(89419),o=n(38101),a=Math.min;e.exports=function(e,t){if((e=o(e))<1||e>0x1fffffffffffff)return[];var n=0xffffffff,s=a(e,0xffffffff);t=i(t),e-=0xffffffff;for(var l=r(s,t);++n<e;)t(n);return l}},5707:function(e,t,n){var r=n(7642),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},38101:function(e,t,n){var r=n(5707);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7642:function(e,t,n){var r=n(51704),i=n(29259),o=n(4795),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?a:+e}},63329:function(e,t,n){var r=n(752),i=n(18582);e.exports=function(e){return r(e,i(e))}},66188:function(e,t,n){var r=n(1054);e.exports=function(e){return null==e?"":r(e)}},75652:function(e,t,n){var r=n(67326);e.exports=function(e){return e&&e.length?r(e):[]}},23779:function(e,t,n){e.exports=n(83126)("toUpperCase")},98346:function(e,t,n){var r=n(50753),i=n(90249);e.exports=function(e){return null==e?[]:r(e,i(e))}},67304:function(e,t,n){var r=n(85246),i=n(36060),o=n(93746);e.exports=i(function(e,t){return o(e)?r(e,t):[]})},68762:function(e,t,n){var r,i,o,a,s;r=n(19562),i=n(5792).utf8,o=n(13335),a=n(5792).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),l=8*e.length,u=0x67452301,c=-0x10325477,A=-0x67452302,d=0x10325476,h=0;h<n.length;h++)n[h]=(n[h]<<8|n[h]>>>24)&0xff00ff|(n[h]<<24|n[h]>>>8)&0xff00ff00;n[l>>>5]|=128<<l%32,n[(l+64>>>9<<4)+14]=l;for(var f=s._ff,p=s._gg,g=s._hh,m=s._ii,h=0;h<n.length;h+=16){var v=u,y=c,b=A,w=d;u=f(u,c,A,d,n[h+0],7,-0x28955b88),d=f(d,u,c,A,n[h+1],12,-0x173848aa),A=f(A,d,u,c,n[h+2],17,0x242070db),c=f(c,A,d,u,n[h+3],22,-0x3e423112),u=f(u,c,A,d,n[h+4],7,-0xa83f051),d=f(d,u,c,A,n[h+5],12,0x4787c62a),A=f(A,d,u,c,n[h+6],17,-0x57cfb9ed),c=f(c,A,d,u,n[h+7],22,-0x2b96aff),u=f(u,c,A,d,n[h+8],7,0x698098d8),d=f(d,u,c,A,n[h+9],12,-0x74bb0851),A=f(A,d,u,c,n[h+10],17,-42063),c=f(c,A,d,u,n[h+11],22,-0x76a32842),u=f(u,c,A,d,n[h+12],7,0x6b901122),d=f(d,u,c,A,n[h+13],12,-0x2678e6d),A=f(A,d,u,c,n[h+14],17,-0x5986bc72),c=f(c,A,d,u,n[h+15],22,0x49b40821),u=p(u,c,A,d,n[h+1],5,-0x9e1da9e),d=p(d,u,c,A,n[h+6],9,-0x3fbf4cc0),A=p(A,d,u,c,n[h+11],14,0x265e5a51),c=p(c,A,d,u,n[h+0],20,-0x16493856),u=p(u,c,A,d,n[h+5],5,-0x29d0efa3),d=p(d,u,c,A,n[h+10],9,0x2441453),A=p(A,d,u,c,n[h+15],14,-0x275e197f),c=p(c,A,d,u,n[h+4],20,-0x182c0438),u=p(u,c,A,d,n[h+9],5,0x21e1cde6),d=p(d,u,c,A,n[h+14],9,-0x3cc8f82a),A=p(A,d,u,c,n[h+3],14,-0xb2af279),c=p(c,A,d,u,n[h+8],20,0x455a14ed),u=p(u,c,A,d,n[h+13],5,-0x561c16fb),d=p(d,u,c,A,n[h+2],9,-0x3105c08),A=p(A,d,u,c,n[h+7],14,0x676f02d9),c=p(c,A,d,u,n[h+12],20,-0x72d5b376),u=g(u,c,A,d,n[h+5],4,-378558),d=g(d,u,c,A,n[h+8],11,-0x788e097f),A=g(A,d,u,c,n[h+11],16,0x6d9d6122),c=g(c,A,d,u,n[h+14],23,-0x21ac7f4),u=g(u,c,A,d,n[h+1],4,-0x5b4115bc),d=g(d,u,c,A,n[h+4],11,0x4bdecfa9),A=g(A,d,u,c,n[h+7],16,-0x944b4a0),c=g(c,A,d,u,n[h+10],23,-0x41404390),u=g(u,c,A,d,n[h+13],4,0x289b7ec6),d=g(d,u,c,A,n[h+0],11,-0x155ed806),A=g(A,d,u,c,n[h+3],16,-0x2b10cf7b),c=g(c,A,d,u,n[h+6],23,0x4881d05),u=g(u,c,A,d,n[h+9],4,-0x262b2fc7),d=g(d,u,c,A,n[h+12],11,-0x1924661b),A=g(A,d,u,c,n[h+15],16,0x1fa27cf8),c=g(c,A,d,u,n[h+2],23,-0x3b53a99b),u=m(u,c,A,d,n[h+0],6,-0xbd6ddbc),d=m(d,u,c,A,n[h+7],10,0x432aff97),A=m(A,d,u,c,n[h+14],15,-0x546bdc59),c=m(c,A,d,u,n[h+5],21,-0x36c5fc7),u=m(u,c,A,d,n[h+12],6,0x655b59c3),d=m(d,u,c,A,n[h+3],10,-0x70f3336e),A=m(A,d,u,c,n[h+10],15,-1051523),c=m(c,A,d,u,n[h+1],21,-0x7a7ba22f),u=m(u,c,A,d,n[h+8],6,0x6fa87e4f),d=m(d,u,c,A,n[h+15],10,-0x1d31920),A=m(A,d,u,c,n[h+6],15,-0x5cfebcec),c=m(c,A,d,u,n[h+13],21,0x4e0811a1),u=m(u,c,A,d,n[h+4],6,-0x8ac817e),d=m(d,u,c,A,n[h+11],10,-0x42c50dcb),A=m(A,d,u,c,n[h+2],15,0x2ad7d2bb),c=m(c,A,d,u,n[h+9],21,-0x14792c6f),u=u+v>>>0,c=c+y>>>0,A=A+b>>>0,d=d+w>>>0}return r.endian([u,c,A,d])})._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},27495:function(e,t,n){var r;!function(i,o,a){if(i){for(var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)l[111+d]="f"+d;for(d=0;d<=9;++d)l[d+96]=d.toString();m.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},m.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},m.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},m.prototype.reset=function(){return this._callbacks={},this._directMap={},this},m.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1||function e(t,n){return null!==t&&t!==o&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},m.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},m.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);s=null},m.init=function(){var e=m(o);for(var t in e)"_"!==t.charAt(0)&&(m[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},m.init(),i.Mousetrap=m,e.exports&&(e.exports=m),a===(r=(function(){return m}).call(t,n,t,e))||(e.exports=r)}function h(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(e,t){var n,r,i,o,a,u,d=[];for(u=0,o="+"===(n=e)?["+"]:(n=n.replace(/\+{2}/g,"+plus")).split("+");u<o.length;++u)A[a=o[u]]&&(a=A[a]),t&&"keypress"!=t&&c[a]&&(a=c[a],d.push("shift")),p(a)&&d.push(a);return r=a,(i=t)||(i=function(){if(!s)for(var e in s={},l)e>95&&e<112||l.hasOwnProperty(e)&&(s[l[e]]=e);return s}()[r]?"keydown":"keypress"),"keypress"==i&&d.length&&(i="keydown"),{key:a,modifiers:d,action:t=i}}function m(e){var t,n=this;if(e=e||o,!(n instanceof m))return new m(e);n.target=e,n._callbacks={},n._directMap={};var r={},i=!1,a=!1,s=!1;function l(e){e=e||{};var t,n=!1;for(t in r){if(e[t]){n=!0;continue}r[t]=0}n||(s=!1)}function u(e,t,i,o,a,s){var l,u,c,A,d=[],h=i.type;if(!n._callbacks[e])return[];for("keyup"==h&&p(e)&&(t=[e]),c=0;c<n._callbacks[e].length;++c)if((A=n._callbacks[e][c],o||!A.seq||r[A.seq]==A.level)&&h==A.action&&("keypress"==h&&!i.metaKey&&!i.ctrlKey||(l=t,u=A.modifiers,l.sort().join(",")===u.sort().join(",")))){var f=!o&&A.combo==a,g=o&&A.seq==o&&A.level==s;(f||g)&&n._callbacks[e].splice(c,1),d.push(A)}return d}function c(e,t,r,i){!n.stopCallback(t,t.target||t.srcElement,r,i)&&!1===e(t,r)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function A(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,r=f(e);if(r){if("keyup"==e.type&&i===r){i=!1;return}n.handleKey(r,(t=[],e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t),e)}}n._handleKey=function(e,t,n){var r,i=u(e,t,n),o={},A=0,d=!1;for(r=0;r<i.length;++r)i[r].seq&&(A=Math.max(A,i[r].level));for(r=0;r<i.length;++r){if(i[r].seq){if(i[r].level!=A)continue;d=!0,o[i[r].seq]=1,c(i[r].callback,n,i[r].combo,i[r].seq);continue}d||c(i[r].callback,n,i[r].combo)}var h="keypress"==n.type&&a;n.type!=s||p(e)||h||l(o),a=d&&"keydown"==n.type};n._bindMultiple=function(e,o,a){for(var A=0;A<e.length;++A)!function e(o,a,A,d,h){n._directMap[o+":"+A]=a;var p,m=(o=o.replace(/\s+/g," ")).split(" ");m.length>1?function(n,o,a,u){function A(e){c(a,e,n),"keyup"!==u&&(i=f(e)),setTimeout(l,10)}r[n]=0;for(var d=0;d<o.length;++d){var h=d+1===o.length?A:function(e){return function(){s=e,++r[n],clearTimeout(t),t=setTimeout(l,1e3)}}(u||g(o[d+1]).action);e(o[d],h,u,n,d)}}(o,m,a,A):(p=g(o,A),n._callbacks[p.key]=n._callbacks[p.key]||[],u(p.key,p.modifiers,{type:p.action},d,o,h),n._callbacks[p.key][d?"unshift":"push"]({callback:a,modifiers:p.modifiers,action:p.action,seq:d,level:h,combo:o}))}(e[A],o,a)},h(e,"keypress",A),h(e,"keydown",A),h(e,"keyup",A)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},86077:function(e){function t(e,t){var n,r,i,o,a,s;for(n=3&e.length,r=e.length-n,i=t,s=0;s<r;)a=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,i^=a=(65535&(a=(a=(65535&a)*0xcc9e2d51+(((a>>>16)*0xcc9e2d51&65535)<<16)|0)<<15|a>>>17))*0x1b873593+(((a>>>16)*0x1b873593&65535)<<16)|0,i=(65535&(o=(65535&(i=i<<13|i>>>19))*5+(((i>>>16)*5&65535)<<16)|0))+27492+(((o>>>16)+58964&65535)<<16);switch(a=0,n){case 3:a^=(255&e.charCodeAt(s+2))<<16;case 2:a^=(255&e.charCodeAt(s+1))<<8;case 1:a^=255&e.charCodeAt(s),i^=a=(65535&(a=(a=(65535&a)*0xcc9e2d51+(((a>>>16)*0xcc9e2d51&65535)<<16)|0)<<15|a>>>17))*0x1b873593+(((a>>>16)*0x1b873593&65535)<<16)|0}return i^=e.length,i^=i>>>16,i=(65535&i)*0x85ebca6b+(((i>>>16)*0x85ebca6b&65535)<<16)|0,i^=i>>>13,i=(65535&i)*0xc2b2ae35+(((i>>>16)*0xc2b2ae35&65535)<<16)|0,(i^=i>>>16)>>>0}t.v2=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))*0x5bd1e995+(((n>>>16)*0x5bd1e995&65535)<<16),n^=n>>>24,i=(65535&i)*0x5bd1e995+(((i>>>16)*0x5bd1e995&65535)<<16)^(n=(65535&n)*0x5bd1e995+(((n>>>16)*0x5bd1e995&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i^=255&e.charCodeAt(o),i=(65535&i)*0x5bd1e995+(((i>>>16)*0x5bd1e995&65535)<<16)}return i^=i>>>13,i=(65535&i)*0x5bd1e995+(((i>>>16)*0x5bd1e995&65535)<<16),(i^=i>>>15)>>>0},t.v3=t,e.exports=t},12041:function(e,t,n){e.exports=n(88381)},86570:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(55271)}])},65253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},90162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54566).Z;n(19178).default,Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(23903).Z,o=n(15154).Z,a=i(n(2784)),s=n(29918),l=n(94400),u=n(33220),c=n(64069),A=n(22030),d=n(65253),h=n(73952),f={};function p(e,t,n,r){if(e&&s.isLocalURL(t)){Promise.resolve(e.prefetch(t,n,r)).catch(function(e){});var i=r&&void 0!==r.locale?r.locale:e&&e.locale;f[t+"%"+n+(i?"%"+i:"")]=!0}}t.default=a.default.forwardRef(function(e,t){var n,i,g=e.href,m=e.as,v=e.children,y=e.prefetch,b=e.passHref,w=e.replace,_=e.shallow,E=e.scroll,C=e.locale,B=e.onClick,x=e.onMouseEnter,I=e.onTouchStart,T=e.legacyBehavior,S=void 0===T||T,k=o(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=v,S&&("string"==typeof n||"number"==typeof n)&&(n=a.default.createElement("a",null,n));var N=!1!==y,D=a.default.useContext(u.RouterContext),O=a.default.useContext(c.AppRouterContext);O&&(D=O);var R=a.default.useMemo(function(){var e=r(s.resolveHref(D,g,!0),2),t=e[0],n=e[1];return{href:t,as:m?s.resolveHref(D,m):n||t}},[D,g,m]),F=R.href,L=R.as,U=a.default.useRef(F),P=a.default.useRef(L);S&&(i=a.default.Children.only(n));var M=S?i&&"object"==typeof i&&i.ref:t,j=r(A.useIntersection({rootMargin:"200px"}),3),Z=j[0],Q=j[1],H=j[2],V=a.default.useCallback(function(e){(P.current!==L||U.current!==F)&&(H(),P.current=L,U.current=F),Z(e),M&&("function"==typeof M?M(e):"object"==typeof M&&(M.current=e))},[L,M,F,H,Z]);a.default.useEffect(function(){var e=Q&&N&&s.isLocalURL(F),t=void 0!==C?C:D&&D.locale,n=f[F+"%"+L+(t?"%"+t:"")];e&&!n&&p(D,F,L,{locale:t})},[L,F,Q,C,N,D]);var K={ref:V,onClick:function(e){S||"function"!=typeof B||B(e),S&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),e.defaultPrevented||function(e,t,n,r,i,o,l,u,c,A){if(!("A"===e.currentTarget.nodeName.toUpperCase()&&((d=e.currentTarget.target)&&"_self"!==d||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which||!s.isLocalURL(n)))){e.preventDefault();var d,h=function(){"beforePopState"in t?t[i?"replace":"push"](n,r,{shallow:o,locale:u,scroll:l}):t[i?"replace":"push"](n,{forceOptimisticNavigation:!A})};c?a.default.startTransition(h):h()}}(e,D,F,L,w,_,E,C,!!O,N)},onMouseEnter:function(e){S||"function"!=typeof x||x(e),S&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),!(!N&&O)&&s.isLocalURL(F)&&p(D,F,L,{priority:!0})},onTouchStart:function(e){S||"function"!=typeof I||I(e),S&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),!(!N&&O)&&s.isLocalURL(F)&&p(D,F,L,{priority:!0})}};if(!S||b||"a"===i.type&&!("href"in i.props)){var z=void 0!==C?C:D&&D.locale;K.href=D&&D.isLocaleDomain&&d.getDomainLocale(L,z,D.locales,D.domainLocales)||h.addBasePath(l.addLocale(L,z,D&&D.defaultLocale))}return S?a.default.cloneElement(i,K):a.default.createElement("a",Object.assign({},k,K),n)}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54566).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,u=e.disabled||!a,c=r(i.useState(!1),2),A=c[0],d=c[1],h=r(i.useState(null),2),f=h[0],p=h[1];return i.useEffect(function(){if(a){if(!u&&!A&&f&&f.tagName){var e,r,i,c,h;return e=function(e){return e&&d(e)},i=(r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=l.find(function(e){return e.root===n.root&&e.margin===n.margin});if(r&&(t=s.get(r)))return t;var i=new Map;return t={id:n,observer:new IntersectionObserver(function(e){e.forEach(function(e){var t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:i},l.push(n),s.set(n,t),t}({root:null==t?void 0:t.current,rootMargin:n})).id,c=r.observer,(h=r.elements).set(f,e),c.observe(f),function(){if(h.delete(f),c.unobserve(f),0===h.size){c.disconnect(),s.delete(i);var e=l.findIndex(function(e){return e.root===i.root&&e.margin===i.margin});e>-1&&l.splice(e,1)}}}}else if(!A){var p=o.requestIdleCallback(function(){return d(!0)});return function(){return o.cancelIdleCallback(p)}}},[f,u,n,t,A]),[p,A,i.useCallback(function(){d(!1)},[])]};var i=n(2784),o=n(49071),a="function"==typeof IntersectionObserver,s=new Map,l=[];("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateContext=t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var r=(0,n(23903).Z)(n(2784));t.AppRouterContext=r.default.createContext(null),t.LayoutRouterContext=r.default.createContext(null),t.GlobalLayoutRouterContext=r.default.createContext(null),t.TemplateContext=r.default.createContext(null)},95805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70237).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a.default,o=(null==t?void 0:t.suspense)?{}:{loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};if(r(e,Promise)?o.loader=function(){return e}:"function"==typeof e?o.loader=e:"object"==typeof e&&(o=i({},o,e)),(o=i({},o,t)).suspense)throw Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(o.suspense&&(delete o.ssr,delete o.loading),o.loadableGenerated&&(o=i({},o,o.loadableGenerated),delete o.loadableGenerated),"boolean"==typeof o.ssr&&!o.suspense){if(!o.ssr)return delete o.ssr,s(n,o);delete o.ssr}return n(o)},t.noSSR=s;var i=n(59419).Z,o=n(23903).Z,a=(o(n(2784)),o(n(42060)));function s(e,t){return delete t.webpack,delete t.modules,e(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},46941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0,t.LoadableContext=(0,n(23903).Z)(n(2784)).default.createContext(null)},42060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60616).Z,i=n(90416).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(59419).Z,a=(0,n(23903).Z)(n(2784)),s=n(46941),l=n(43100).useSyncExternalStore,u=[],c=[],A=!1;function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}var h=function(){function e(t,n){r(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"==typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){e._update({pastDelay:!0})},n.delay)),"number"==typeof n.timeout&&(this._timeout=setTimeout(function(){e._update({timedOut:!0})},n.timeout))),this._res.promise.then(function(){e._update({}),e._clearTimeouts()}).catch(function(t){e._update({}),e._clearTimeouts()}),this._update({})}},{key:"_update",value:function(e){this._state=o({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(function(e){return e()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function f(e){return function(e,t){var n=function(){if(!u){var t=new h(e,i);u={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return u.promise()},r=function(){n();var e=a.default.useContext(s.LoadableContext);e&&Array.isArray(i.modules)&&i.modules.forEach(function(t){e(t)})},i=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);i.suspense&&(i.lazy=a.default.lazy(i.loader));var u=null;if(!A){var d=i.webpack&&1?i.webpack():i.modules;d&&c.push(function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=d[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(-1!==e.indexOf(s))return n()}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}})}var f=i.suspense?function(e,t){return r(),a.default.createElement(i.lazy,o({},e,{ref:t}))}:function(e,t){r();var n=l(u.subscribe,u.getCurrentValue,u.getCurrentValue);return a.default.useImperativeHandle(t,function(){return{retry:u.retry}},[]),a.default.useMemo(function(){var t;return n.loading||n.error?a.default.createElement(i.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:u.retry}):n.loaded?a.default.createElement((t=n.loaded)&&t.__esModule?t.default:t,e):null},[e,n])};return f.preload=function(){return n()},f.displayName="LoadableComponent",a.default.forwardRef(f)}(d,e)}function p(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then(function(){if(e.length)return p(e,t)})}f.preloadAll=function(){return new Promise(function(e,t){p(u).then(e,t)})},f.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(t){var n=function(){return A=!0,t()};p(c,e).then(n,n)})},window.__NEXT_PRELOADREADY=f.preloadReady,t.default=f},66161:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(5632),a=n(69023),s=n(24179),l=n(57821),u=n(52982),c=n(96933),A=n(42541),d=n(71059),h=n(70759);t.Z=function(e){var t=e.redirect,n=void 0===t||t,f=e.closable,p=void 0===f||f,g=e.hideSplashOnLoad,m=void 0===g||g,v=e.children,y=e.showFullPageAuth,b=e.profileArgs,w=(0,i.useState)(!1),_=w[0],E=w[1],C=(0,c.fC)(),B=(0,i.useContext)(u.Z),x=(0,o.useRouter)(),I=(0,c.TZ)(),T=(0,i.useCallback)(function(){var e=null==b?void 0:b.signUpOrigin,t=null==b?void 0:b.signUpPage,n=e?"?ref=".concat(null!=e?e:"","&page=").concat(null!=t?t:""):"";A.Z.trackEvent(null,"page_view",{page_title:"Sign Up",page_location:"".concat(document.location.origin,"/auth/sign-up/").concat(n,"}"),page_path:"/auth/sign-up".concat(n),embedded_at_path:x.asPath})},[x,b]);return((0,d.Z)(function(){I&&(!C||(0,c.TF)(C)?n?x.push({pathname:"/auth/sign-up",query:{redirect:x.asPath,ref:null==b?void 0:b.signUpOrigin}},"/auth/sign-up"):((0,l.hf)(),T(),B.isAuthModalOpen||y||B.openSignUpModal({isClosable:p,profileArgs:b})):m&&(0,l.hf)())},[I,C,n,m,B,p,y,T,x,b]),I)?(0,c.TF)(C)?y?(0,r.jsx)(a.Z,{staticLogo:!0,children:_?(0,r.jsx)(h.o,{profileArgs:b,onGoToSignUp:function(){return E(!1)}}):(0,r.jsx)(s.Z,{profileArgs:b,onGoToSignIn:function(){return E(!0)}})}):null:(0,r.jsx)(r.Fragment,{children:v}):null}},30739:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(3635),u=n(8018),c=n.n(u),A=(0,s.memo)(function(e){var t=e.className,n=e.error,s=(0,o.Z)(e,["className","error"]);return(null==n?void 0:n.length)?(0,a.jsx)("div",(0,i.Z)((0,r.Z)({className:(0,l.Z)(c().authFlowFormError,t)},s),{children:n})):null})},48617:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(52322),i=n(2784),o=n(3635),a=n(89911),s=n(42762),l=n.n(s),u=(0,i.memo)(function(e){var t=e.className,n=e.label,i=e.labelIcon,s=e.title,u=e.footer,c=e.children,A=e.variant;return(0,r.jsxs)("div",{className:(0,o.Z)(l().authFlowViewLayout,t),"data-is-ready":"true",children:[(0,r.jsxs)("div",{className:l().content,children:[(0,r.jsx)(a.ZP,{horizontal:!0,className:l().eraserLogo}),(0,r.jsxs)("div",{className:(0,o.Z)(l().label,"error"===(void 0===A?"success":A)&&l().labelError),children:[i,n]}),(0,r.jsx)("h1",{children:s}),c]}),!!u&&(0,r.jsx)("div",{className:l().footer,children:(0,r.jsx)("p",{children:u})})]})})},10380:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(3635),u=n(98025),c=n.n(u),A=(0,s.memo)(function(e){var t=e.className,n=e.children,s=(0,o.Z)(e,["className","children"]);return(0,a.jsx)("div",(0,i.Z)((0,r.Z)({className:(0,l.Z)(c().authFormLayout,t)},s),{children:n}))})},94254:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(70865),i=n(26297),o=n(52322),a=n(2784),s=n(3635),l=n(71481),u=n.n(l),c=(0,a.memo)(function(e){var t=e.className,n=(0,i.Z)(e,["className"]);return(0,o.jsx)("div",(0,r.Z)({className:(0,s.Z)(u().authViewActionButtons,t)},n))})},87076:function(e,t,n){"use strict";n.d(t,{D:function(){return d},Z:function(){return h}});var r=n(87394),i=n(52322),o=n(2784),a=n(3635),s=n(57597),l=n.n(s),u=(0,o.memo)(function(e){var t=e.className,n=e.onSelectionChange,s=e.teamsToJoin,u=(0,o.useState)(),c=u[0],A=u[1],d=(0,o.useCallback)(function(e){var t=e.target.value;A(t),n(t)},[n]);return(0,i.jsx)("div",{className:(0,a.Z)(l().joinTeamSelection,t),children:null==s?void 0:s.map(function(e){var t="teamId"in e,n=(0,r.Z)(t?[e.teamId,e.teamName]:[e.id,e.name],2),o=n[0],s=n[1];return(0,i.jsxs)("label",{className:(0,a.Z)(l().team,c===o&&l().selected),children:[(0,i.jsx)("input",{type:"radio",value:o,checked:c===o,onChange:d}),s]},o)})})}),c=n(76793),A=n(47519),d=function(e){var t=e.teamsToJoin,n=(0,c.K)({}),r=n.canCreateTeam,o=n.isLoadingCreateTeamCheck,a=n.workDomain;if(o)return null;if(r){if(null==t?void 0:t.length)return(0,i.jsxs)("p",{children:["Pick one of the below teams to join, or ",(0,i.jsx)("a",{href:"/team/create",children:"create a new one"})]});else if(t)return(0,i.jsxs)("p",{children:["You have no available teams. ",(0,i.jsx)("a",{href:"/team/create",children:"Create a new one"})]})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Pick one of the below teams to join."}),(0,i.jsx)(A.U,{className:"marginTopMedium",children:a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("b",{children:a})," already has a team with a free plan. To create a new team, contact ",(0,i.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})]}):(0,i.jsxs)(i.Fragment,{children:["You already have a free team. To create a new team, contact ",(0,i.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})]})})]})},h=u},99572:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r,i,o,a,s,l,u,c,A,d=n(52322),h=n(2784),f=n(3635),p=n(45403);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var m=function(e){return h.createElement("svg",g({width:18,height:18,viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=h.createElement("path",{d:"M5.097 13.9l-.8 2.988-2.926.062A11.449 11.449 0 010 11.5c0-1.907.464-3.705 1.286-5.289l2.606.478 1.14 2.59a6.836 6.836 0 00-.368 2.221c0 .844.153 1.653.433 2.4z",fill:"#FBBB00"})),i||(i=h.createElement("path",{d:"M22.8 9.352c.131.695.2 1.414.2 2.148a11.497 11.497 0 01-4.3 8.968h-.001l-3.281-.168-.465-2.899a6.854 6.854 0 002.95-3.5h-6.15v-4.55h11.046z",fill:"#518EF8"})),o||(o=h.createElement("path",{d:"M18.699 20.468A11.452 11.452 0 0111.5 23c-4.38 0-8.187-2.448-10.13-6.05l3.727-3.05a6.838 6.838 0 009.856 3.501l3.746 3.067z",fill:"#28B446"})),a||(a=h.createElement("path",{d:"M18.84 2.648l-3.725 3.05a6.84 6.84 0 00-10.082 3.58L1.286 6.211A11.498 11.498 0 0111.5 0c2.79 0 5.349.994 7.34 2.648z",fill:"#F14336"})))};function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var y=function(e){return h.createElement("svg",v({width:18,height:18,viewBox:"0 0 2499.6 2500",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=h.createElement("path",{d:"M1187.9 1187.9H0V0h1187.9z",fill:"#f1511b"})),l||(l=h.createElement("path",{d:"M2499.6 1187.9h-1188V0h1187.9v1187.9z",fill:"#80cc28"})),u||(u=h.createElement("path",{d:"M1187.9 2500H0V1312.1h1187.9z",fill:"#00adef"})),c||(c=h.createElement("path",{d:"M2499.6 2500h-1188V1312.1h1187.9V2500z",fill:"#fbbc09"})))},b=n(95162),w=n(69474);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var E=function(e){return h.createElement("svg",_({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),A||(A=h.createElement("g",{fill:"var(--grey-1200)"},h.createElement("path",{d:"M.5 3a1.8 1.8 0 011.8-1.8h14.4A1.8 1.8 0 0118.5 3v1.448l-9 5.063-9-5.063V3z"}),h.createElement("path",{d:"M.5 5.825V15a1.8 1.8 0 001.8 1.8h14.4a1.8 1.8 0 001.8-1.8V5.825l-9 5.063-9-5.063z"}))))},C=n(28257),B=n(65181),x=n.n(B),I=(0,h.memo)(function(e){var t=e.className,n=e.actionText,r=e.asModal,i=e.onCredentialsAuthClick,o=e.onThirdPartySsoClick,a=e.enableGoogle,s=e.enableMicrosoft,l=e.enableSSO,u=(0,p.Pe)();return r=!!(0,w.$)()||r,(0,d.jsxs)("div",{className:(0,f.Z)(x().ssoButtons,t),children:[(void 0===a||a)&&(0,d.jsxs)(b.ZP,{variant:b.ZP.Variants.TRANSPARENT,size:b.ZP.Sizes.X_LARGE,className:x().button,type:"button","data-testid":"google-sign-in",onClick:function(){return u.currentUser.signInWithGoogle({asModal:r})},children:[(0,d.jsx)(m,{}),(0,d.jsx)("span",{children:"".concat(n," with Google")})]}),(void 0===s||s)&&(0,d.jsxs)(b.ZP,{variant:b.ZP.Variants.TRANSPARENT,size:b.ZP.Sizes.X_LARGE,type:"button",className:x().button,onClick:function(){return u.currentUser.signInWithMicrosoft({asModal:r})},children:[(0,d.jsx)(y,{}),(0,d.jsx)("span",{children:"".concat(n," with Microsoft")})]}),(0,d.jsxs)("div",{className:x().buttonSize,children:[(0,d.jsxs)(b.ZP,{variant:b.ZP.Variants.TRANSPARENT,size:b.ZP.Sizes.X_LARGE,type:"button",className:(0,f.Z)(x().button,x().halfWidthButton),onClick:i,children:[(0,d.jsx)(E,{}),(0,d.jsx)("span",{children:"Email"})]}),(void 0===l||l)&&(0,d.jsxs)(b.ZP,{variant:b.ZP.Variants.TRANSPARENT,size:b.ZP.Sizes.X_LARGE,onClick:o,className:(0,f.Z)(x().button,x().halfWidthButton),"data-testid":"sso-button",children:[(0,d.jsx)(C.Z,{}),"SSO"]})]})]})})},77003:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(63955),l=n(11929),u=n(55929),c=n(44784),A=n(45403),d=n(95162),h=n(10380),f=n(94254),p=n(30739),g=n(56860),m=n.n(g),v=(0,a.memo)(function(e){var t=e.className,n=e.onResetPasswordClick,g=(0,A.Pe)(),v=(0,s.cI)({reValidateMode:"onChange"}),y=v.register,b=v.formState,w=v.handleSubmit,_=v.getValues,E=b.errors,C=b.submitCount,B=_(),x=(0,a.useMemo)(function(){return!!Object.keys(b.dirtyFields).length&&Object.keys(B).every(function(e){return!!B[e]})},[b.dirtyFields,B]),I=(0,l.UK)(function(e){return g.currentUser.signInWithEmailAndPassword(e.email,e.password)}),T=I.execute,S=I.error,k=I.loading;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("form",{id:"sign-in-form",onSubmit:w(T),children:(0,o.jsxs)(h.Z,{className:t,children:[(0,o.jsx)(u.Z,(0,i.Z)((0,r.Z)({size:u.Z.Sizes.LARGE,label:"Email address",placeholder:"Email",type:"email",autoComplete:"email",autoFocus:!0},y("email",{required:!0,validate:c.Le})),{error:E.email,touched:C>0})),(0,o.jsx)(u.Z,(0,i.Z)((0,r.Z)({size:u.Z.Sizes.LARGE,label:"Password",placeholder:"Password",type:"password",autoComplete:"current-password"},y("password",{required:!0})),{error:E.password,touched:C>0})),n&&(0,o.jsx)("div",{className:m().resetPassword,children:(0,o.jsx)("a",{onMouseDown:n,children:"Reset Password"})})]})}),(0,o.jsx)(f.Z,{children:(0,o.jsx)(d.ZP,{form:"sign-in-form",variant:d.ZP.Variants.REGULAR,size:d.ZP.Sizes.X_LARGE,isLoading:k,type:"submit",disabled:!x,children:"Log In"})}),(0,o.jsx)(p.Z,{error:null==S?void 0:S.message})]})})},70759:function(e,t,n){"use strict";n.d(t,{o:function(){return k},Z:function(){return N}});var r=n(52322),i=n(2784),o=n(66140),a=n(45403),s=n(52982),l=n(15559),u=n(48617),c=n(99572),A=n(77003),d=n(21332),h=n(63560),f=n(70865),p=n(96670),g=n(63955),m=n(11929),v=n(42541),y=n(55929),b=n(44784),w=n(95162),_=n(10380),E=n(94254),C=n(30739),B=(0,i.memo)(function(e){var t=e.className,n=e.onResetRequested,o=(0,a.Pe)(),s=(0,g.cI)({reValidateMode:"onChange"}),l=s.register,u=s.formState,c=s.handleSubmit,A=s.getValues,d=u.errors,h=u.submitCount,B=A(),x=(0,i.useMemo)(function(){return!!Object.keys(u.dirtyFields).length&&Object.keys(B).every(function(e){return!!B[e]})},[u.dirtyFields,B]),I=(0,m.UK)(function(e){return o.currentUser.sendPasswordResetEmail(e.email).then(function(){v.Z.trackEvent("account","reset_password_requested"),n(A("email"))})}),T=I.execute,S=I.error,k=I.loading;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{id:"request-password-reset",onSubmit:c(T),children:(0,r.jsx)(_.Z,{className:t,children:(0,r.jsx)(y.Z,(0,p.Z)((0,f.Z)({size:y.Z.Sizes.LARGE,label:"Email address",placeholder:"Email",type:"email",autoComplete:"email",autoFocus:!0},l("email",{required:!0,validate:b.Le})),{error:d.email,touched:h>0}))})}),(0,r.jsx)(E.Z,{children:(0,r.jsx)(w.ZP,{form:"request-password-reset",variant:w.ZP.Variants.REGULAR,size:w.ZP.Sizes.X_LARGE,isLoading:k,type:"submit",disabled:!x,children:"Reset Password"})}),(0,r.jsx)(C.Z,{error:null==S?void 0:S.message})]})}),x=n(39830),I=n(44172),T=n(70520),S=n.n(T),k=function(e){var t=e.profileArgs,n=e.asModal,f=e.onGoToSignUp;(0,l.T)(t);var p=(0,i.useState)(d.k.SSO),g=p[0],m=p[1],v=(0,i.useState)(),y=v[0],b=v[1],w=(0,a.Pe)(),_=(0,i.useContext)(s.Z),E=(0,i.useCallback)(function(){m(d.k.CREDENTIALS)},[]),C=(0,i.useCallback)(function(){m(d.k.RESET_PASSWORD)},[]),T=(0,i.useCallback)(function(e){m(d.k.RESET_REQUESTED),b(e)},[]),k=(0,i.useCallback)(function(){m(d.k.THIRD_PARTY_SSO)},[]),N=(0,i.useCallback)(function(e){if(o.OB.isDev){e.preventDefault(),_.openSignUpModal({isClosable:!0});return}if(f){e.preventDefault(),f();return}n&&(e.preventDefault(),_.openSignUpModal())},[n,_.openSignUpModal,f]);if(g===d.k.CREDENTIALS){var D=o.qD.google||o.qD.microsoft;return(0,r.jsxs)(u.Z,{className:S().signInView,label:"Email Log In",labelIcon:(0,r.jsx)(I.Z,{}),title:"Log into Eraser",footer:(0,r.jsxs)(r.Fragment,{children:["New to Eraser?"," ",(0,r.jsx)("a",{href:"/auth/sign-up",onClick:N,children:"Sign up for free"})]}),children:[D&&(0,r.jsxs)("p",{children:["Or use"," ",o.qD.google&&(0,r.jsx)("a",{onMouseDown:function(){return w.currentUser.signInWithGoogle({asModal:n})},children:"Google"}),o.qD.google&&o.qD.microsoft&&" or ",o.qD.microsoft&&(0,r.jsx)("a",{onMouseDown:function(){return w.currentUser.signInWithMicrosoft({asModal:n})},children:"Microsoft"})]}),(0,r.jsx)(A.Z,{className:S().signInForm,onResetPasswordClick:C})]})}return g===d.k.RESET_PASSWORD?(0,r.jsxs)(u.Z,{className:S().signInView,label:"Password Reset",labelIcon:(0,r.jsx)(x.Z,{}),title:"Reset your password",children:[(0,r.jsxs)("p",{children:["Or return to ",(0,r.jsx)("a",{onMouseDown:E,children:"Log in"})]}),(0,r.jsx)(B,{className:S().resetPasswordForm,onResetRequested:T})]}):g===d.k.RESET_REQUESTED?(0,r.jsx)(u.Z,{className:S().signInView,label:"Password Reset",labelIcon:(0,r.jsx)(x.Z,{}),title:"Check your email",children:(0,r.jsxs)("p",{children:["We sent an email to ",(0,r.jsx)("b",{children:y})," which contains a link to reset your password"]})}):g===d.k.THIRD_PARTY_SSO?(0,r.jsx)(u.Z,{className:S().signInView,title:"Log into Eraser with SSO",label:"Single Sign-On",children:(0,r.jsx)(h.Z,{onCredentialsAuthClick:E})}):(0,r.jsxs)(u.Z,{className:S().signInView,label:"Log In",labelIcon:(0,r.jsx)(x.Z,{}),title:"Log into Eraser",children:[(0,r.jsxs)("p",{children:["New to Eraser?"," ",(0,r.jsx)("a",{href:"/auth/sign-up",onClick:N,children:"Sign up for free"})]}),(0,r.jsx)(c.Z,{className:S().ssoButtons,actionText:"Log in",asModal:n,onCredentialsAuthClick:E,onThirdPartySsoClick:k,enableGoogle:o.qD.google,enableMicrosoft:o.qD.microsoft,enableSSO:o.qD.sso})]})},N=(0,i.memo)(k)},21332:function(e,t,n){"use strict";var r,i;n.d(t,{k:function(){return r}}),(i=r||(r={})).SSO="SSO",i.CREDENTIALS="CREDENTIALS",i.RESET_PASSWORD="RESET_PASSWORD",i.RESET_REQUESTED="RESET_REQUESTED",i.THIRD_PARTY_SSO="THIRD_PARTY_SSO"},24179:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r,i,o=n(52322),a=n(2784),s=n(66140),l=n(45403),u=n(52982),c=n(15559),A=n(48617),d=n(99572),h=n(70865),f=n(96670),p=n(63955),g=n(11929),m=n(55929),v=n(44784),y=n(95162),b=n(10380),w=n(94254),_=n(30739),E=(0,a.memo)(function(e){var t=e.className,n=(0,l.Pe)(),r=(0,p.cI)({reValidateMode:"onChange"}),i=r.register,s=r.formState,u=r.handleSubmit,c=r.getValues,A=s.errors,d=s.submitCount,E=c(),C=(0,a.useMemo)(function(){return!!Object.keys(s.dirtyFields).length&&Object.keys(E).every(function(e){return!!E[e]})},[s.dirtyFields,E]),B=(0,g.UK)(function(e){return n.currentUser.createUserWithEmailAndPassword(e.email,e.password,e.name)}),x=B.execute,I=B.error,T=B.loading;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("form",{id:"sign-up-form",onSubmit:u(x),children:(0,o.jsxs)(b.Z,{className:t,children:[(0,o.jsx)(m.Z,(0,f.Z)((0,h.Z)({size:m.Z.Sizes.LARGE,label:"Email address",placeholder:"Work email works best",type:"email",autoComplete:"email",autoFocus:!0},i("email",{required:!0,validate:v.Le})),{error:A.email,touched:d>0})),(0,o.jsx)(m.Z,(0,f.Z)((0,h.Z)({size:m.Z.Sizes.LARGE,label:"User name",placeholder:"What others will see",autoComplete:"full-name"},i("name",{required:!0,minLength:3})),{error:A.name,touched:d>0,minLength:3})),(0,o.jsx)(m.Z,(0,f.Z)((0,h.Z)({size:m.Z.Sizes.LARGE,label:"Password",placeholder:"Password",type:"password",autoComplete:"current-password"},i("password",{required:!0,validate:v.ym})),{error:A.password,touched:d>0,minLength:12}))]})}),(0,o.jsx)(w.Z,{children:(0,o.jsx)(y.ZP,{form:"sign-up-form",variant:y.ZP.Variants.REGULAR,size:y.ZP.Sizes.X_LARGE,isLoading:T,type:"submit",disabled:!C,children:"Create Account"})}),(0,o.jsx)(_.Z,{error:null==I?void 0:I.message})]})});function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var B=function(e){return a.createElement("svg",C({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M1 4.5l7 4 7-4m-13-3h12a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1v-10a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))};function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var I=function(e){return a.createElement("svg",x({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=a.createElement("path",{d:"M7.707 10.202l.707-.707L7 8.081l-.707.706 1.414 1.415zM9 11.493v1h2v-1H9zm2-.999v-1H9v1h2zM9 2.5v1h2v-1H9zm2-.999v-1H9v1h2zM5 5.497H4v2h1v-2zm1 2h1v-2H6v2zm8-2h-1v2h1v-2zm1 2h1v-2h-1v2zM12.293 2.79l-.707.707L13 4.913l.707-.707-1.414-1.415zm2.414.416l.707-.707L14 1.085l-.707.707 1.414 1.415zm-8-1.415L6 1.085 4.586 2.5l.707.707 1.414-1.415zm-.414 2.414L7 4.913l1.414-1.415-.707-.707-1.414 1.415zm7.414 4.581L13 8.081l-1.414 1.414.707.707 1.414-1.415zm-.414 2.414l.707.707 1.414-1.414-.707-.707-1.414 1.414zM1.707 16.198l6-5.996-1.414-1.415-6 5.996 1.414 1.415zM11 11.493v-.999H9v1h2zM11 2.5V1.5H9v1h2zM5 7.497h1v-2H5v2zm9 0h1v-2h-1v2zm-.293-3.29l1-1-1.414-1.415-1 1 1.414 1.414zm-8.414-1l1 1L7.707 2.79l-1-.999-1.414 1.415zm7 6.995l1 1 1.414-1.415-1-1-1.414 1.415z",fill:"var(--green-success)"})))},T=n(86066),S=n.n(T),k=n(63560),N=(0,a.memo)(function(e){var t=e.profileArgs,n=e.customSubTitle,r=e.asModal,i=e.onGoToSignIn;(0,c.T)(t);var h=(0,a.useState)(),f=h[0],p=h[1],g=(0,l.Pe)(),m=(0,a.useContext)(u.Z),v=(0,a.useCallback)(function(){p("credentials")},[]),b=(0,a.useCallback)(function(){p("thirdPartySso")},[]),w=(0,a.useCallback)(function(e){if(s.OB.isDev){e.preventDefault(),m.openSignInModal({isClosable:!0});return}if(i){e.preventDefault(),i();return}r&&(e.preventDefault(),m.openSignInModal())},[r,m.openSignInModal,i]);if("credentials"===f){var _=[];return s.qD.google&&_.push((0,o.jsx)("a",{onClick:function(){return g.currentUser.signInWithGoogle({asModal:r})},children:"Google"},"google")),s.qD.microsoft&&_.push((0,o.jsx)("a",{onClick:function(){return g.currentUser.signInWithMicrosoft({asModal:r})},children:"Microsoft"},"microsoft")),s.qD.sso&&_.push((0,o.jsx)("a",{onClick:b,children:"SSO"},"sso")),(0,o.jsxs)(A.Z,{className:S().signUpView,label:"Email Sign Up",labelIcon:(0,o.jsx)(B,{}),title:"Set your user name & password",footer:(0,o.jsxs)(o.Fragment,{children:["Already have an account?"," ",(0,o.jsx)("a",{href:"/auth/sign-in",onClick:w,children:"Log in"})," ","instead"]}),children:[_.length>0&&(0,o.jsxs)("p",{children:["Or use"," ",_.map(function(e,t){return(0,o.jsxs)(a.Fragment,{children:[t>0&&(t===_.length-1?", or ":", "),e]},e.key)}),"."]}),(0,o.jsx)(E,{className:S().signUpForm})]})}return"thirdPartySso"===f?(0,o.jsx)(A.Z,{className:S().signInView,title:"Setup Eraser with SSO",label:"Single Sign-On",children:(0,o.jsx)(k.Z,{onCredentialsAuthClick:v})}):(0,o.jsxs)(A.Z,{className:S().signUpView,label:"Sign Up",labelIcon:(0,o.jsx)(I,{}),title:"Create your Eraser account",children:[n||(0,o.jsxs)("p",{children:["By signing up, you agree to our ",(0,o.jsx)("a",{href:"".concat(s.CF.url,"/terms"),children:"terms of service"})]}),(0,o.jsx)("main",{children:(0,o.jsx)(d.Z,{className:S().ssoButtons,actionText:"Sign up",asModal:r,onCredentialsAuthClick:v,onThirdPartySsoClick:b,enableGoogle:s.qD.google,enableMicrosoft:s.qD.microsoft,enableSSO:s.qD.sso})}),(0,o.jsx)("a",{className:S().signInLink,href:"/auth/sign-in",onClick:w,children:(0,o.jsx)(y.ZP,{variant:y.ZP.Variants.TRANSPARENT,size:y.ZP.Sizes.LARGE,children:"Log In"})})]})})},63560:function(e,t,n){"use strict";var r=n(98788),i=n(22970),o=n(52322),a=n(2784),s=n(45403),l=n(95162),u=n(69474),c=n(55929),A=n(27038),d=n(98559),h=n(94254),f=n(44371),p=n(75426),g=n(66140),m=n(3635),v=n(30475),y=n(21902),b=n.n(y);t.Z=(0,a.memo)(function(e){var t,n=e.className,y=e.asModal,w=e.onCredentialsAuthClick,_=(0,s.Pe)();y=!!(0,u.$)()||y;var E=(0,a.useState)(""),C=E[0],B=E[1],x=(0,a.useState)(),I=x[0],T=x[1],S=(0,a.useState)(!1),k=S[0],N=S[1],D=(0,a.useCallback)((t=(0,r.Z)(function(e){var t,n,r,a,s;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(e.preventDefault(),N(!0),!(t=C.split("@")[1].toLowerCase()))return[3,5];if("gmail.com"===t)return T("Please click the Google button to sign in with Gmail"),N(!1),[2];if("outlook.com"===t||"hotmail.com"===t)return T("Please click the Microsoft button to sign in with Outlook"),N(!1),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),(n="".concat(window.location.pathname).concat(window.location.search).concat(window.location.hash))&&!n.startsWith("/auth/")&&!(0,v.My)()&&(0,v.p9)(n),[4,(0,A.Z)(C)];case 2:return r=i.sent(),window.location.href=r,[3,4];case 3:return a=i.sent(),N(!1),404===((null==a?void 0:a.statusCode)||(null==a||null==(s=a.response)?void 0:s.status))?T((0,o.jsxs)(o.Fragment,{children:["SSO has not been enabled for ",t,"."," ",(0,o.jsx)("a",{href:"https://docs.eraser.io/docs/sso",target:"_blank",rel:"noreferrer",children:"Learn more here"}),"."]})):f.a1.error("An error occurred. Please try again."),[3,4];case 4:return[3,6];case 5:T("Invalid email address"),i.label=6;case 6:return[2]}})}),function(e){return t.apply(this,arguments)}),[C]),O=(0,a.useCallback)(function(e){B(e.target.value),T(void 0)},[]),R=(0,a.useCallback)(function(e){var t,n=e.target;if((null==(t=n.parentElement)?void 0:t.dataset.providers)!==void 0){e.preventDefault();var r=n.innerText;"Google"===r?_.currentUser.signInWithGoogle():"Microsoft"===r?_.currentUser.signInWithMicrosoft():"email"===r&&w()}},[w]);return(0,o.jsxs)("div",{className:(0,m.Z)(b().container,n),onClick:R,children:[(0,o.jsxs)("p",{"data-providers":!0,children:["Or use"," ",g.qD.google&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("a",{href:"#",children:"Google"}),(g.qD.microsoft||g.qD.sso)&&", "]}),g.qD.microsoft&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("a",{href:"#",children:"Microsoft"}),g.qD.sso&&", "]}),"or ",(0,o.jsx)("a",{href:"#",children:"email"}),"."]}),(0,o.jsx)("form",{onSubmit:D,children:(0,o.jsxs)("div",{className:b().formContainer,children:[(0,o.jsx)("fieldset",{children:(0,o.jsx)(c.Z,{label:"Email Address",placeholder:"Work Email",onChange:O,error:I,"data-testid":"email-input"})}),(0,o.jsx)(h.Z,{children:(0,o.jsx)(l.ZP,{variant:l.ZP.Variants.REGULAR,size:l.ZP.Sizes.X_LARGE,className:b().button,type:"submit",disabled:!1===(0,d.J)(C)||k,"data-testid":"continue",children:k?(0,o.jsx)(p.Z,{}):"Continue with SSO"})})]})})]})})},15559:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(2784),i=n(41217);function o(e){(0,r.useEffect)(function(){e&&(0,i.jj)(e)},[e])}},58410:function(e,t,n){"use strict";n.d(t,{Z:function(){return S},X:function(){return T}});var r=n(42838),i=n(52322),o=n(5632),a=n.n(o),s=n(69904),l=n(57821),u=n(69211),c=n(42541),A=n(67640),d=n(69023),h=n(2784),f=n(8498),p=n(96933),g=n(3635),m=n(95162),v=n(24292),y=n.n(v),b=function(e){var t=e.href,n=e.children,r=e.isOutline,o=e.onClick;return(0,i.jsx)("div",{className:y().errorCtaButton,children:(0,i.jsx)(m.ZP,{className:(0,g.Z)(r&&y().isOutline),size:r?m.ZP.Sizes.LARGE:m.ZP.Sizes.X_LARGE,variant:r?m.ZP.Variants.TRANSPARENT:m.ZP.Variants.REGULAR,onClick:function(){if(!t){null==o||o();return}a().push(t)},children:n})})},w=(0,h.memo)(b),_=(0,h.memo)(function(e){var t=e.statusCode,n=e.title,r=e.hideActionButtons,o=(0,p.g5)();return 404===t?(0,i.jsxs)(f.Z,{statusCode:t,title:null!=n?n:"Page not found",children:[(0,i.jsx)("p",{children:"We couldnt locate this page. Please double check the URL."}),!r&&(0,i.jsx)(b,{href:o?"https://eraser.io":"/dashboard/all",children:o?"Return to Eraser":"Return to Dashboard"})]}):(0,i.jsxs)(f.Z,{statusCode:t,title:null!=n?n:"Oops! That's embarrassing",children:[(0,i.jsx)("p",{children:"Something went wrong. Please let us know at hello@eraser.io if this keeps happening."}),!r&&(0,i.jsx)(b,{onClick:function(){return location.reload()},children:"Refresh Page"})]})}),E=(0,h.memo)(function(e){var t,n=e.statusCode,r=e.hideActionButtons,o=(0,p.aF)(),a=(0,p.g5)();return 404===n?(0,i.jsxs)(f.Z,{statusCode:n,title:"File not found",children:[(0,i.jsx)("p",{children:"We couldnt locate this file. Double check the URL, or try searching your files."}),!r&&!a&&(0,i.jsx)(w,{href:"/dashboard/all",isOutline:!0,children:"Search on Dashboard"})]}):[401,403].includes(n)?a?(0,i.jsxs)(f.Z,{statusCode:n,title:"Access Restricted",children:[(0,i.jsx)("p",{children:"This file is not publicly accessible. Try signing into Eraser if you believe you have access."}),!r&&(0,i.jsx)(w,{href:"/auth/sign-in",children:"Log In"})]}):(0,i.jsxs)(f.Z,{statusCode:n,title:"Access Restricted",children:[(0,i.jsxs)("p",{children:["You do not have access to this file. Ask the file owner(s) to share with"," ",null!=(t=null==o?void 0:o.email)?t:"your email"]}),!r&&(0,i.jsx)(w,{href:"/dashboard/all",isOutline:!0,children:"Return on Dashboard"})]}):(0,i.jsx)(_,{statusCode:n,hideActionButtons:r})}),C=(0,h.memo)(function(e){var t=e.statusCode,n=e.hideActionButtons,r=(0,p.aF)(),o=(0,p.g5)();return 403===t?(0,i.jsxs)(f.Z,{statusCode:t,title:"Email doesnt match",children:[(0,i.jsxs)("p",{children:["You are logged in as ",null==r?void 0:r.email,". The invited email doesnt match this."]}),!n&&(0,i.jsx)(w,{href:"/auth/logout",isOutline:!0,children:"Sign out"})]}):404===t?(0,i.jsxs)(f.Z,{statusCode:t,title:"Invite not found",children:[(0,i.jsx)("p",{children:"We couldnt locate this invite. Please double check the invite URL or request a new invite."}),!n&&!o&&(0,i.jsx)(w,{href:"/dashboard/all",children:"Return to Dashboard"})]}):(0,i.jsx)(_,{statusCode:t,hideActionButtons:n})}),B=(0,h.memo)(function(e){var t=e.statusCode,n=e.title,r=e.hideActionButtons;return 402===t?(0,i.jsxs)(f.Z,{statusCode:t,title:"File limit reached",children:[(0,i.jsx)("p",{children:"Please upgrade plan or archive unused files."}),!r&&(0,i.jsx)(w,{href:"/dashboard?settings=plans",children:"Upgrade"})]}):(0,i.jsx)(_,{statusCode:t,hideActionButtons:r,title:n})});function x(e){return"error"in e&&(0,r.Z)(e.error,u.tk)}function I(e){return x(e)?{statusCode:e.error.statusCode,title:e.error.message,error:"error"in e.error?e.error:void 0}:e}function T(e){var t,n,r,i,o,a;c.Z.trackEvent("app","error",{errorCode:e.statusCode,errorTitle:e.title,source:null!=(t=e.location)?t:"app"}),e.statusCode>=500&&A.Z.post("logging",{type:"appCrash",message:e.title,error:e.error,location:null!=(a=e.location)?a:"app",stack:null==(n=e.error)?void 0:n.stack,cause:null==(r=e.error)?void 0:r.cause,causeStack:null==(o=null==(i=e.error)?void 0:i.cause)?void 0:o.stack})}var S=function(e){var t,n,r=I(e).statusCode;(0,l.r4)(),t=I(e),(0,s.Z)(function(){T(t)});var a=(0,o.useRouter)();return(0,i.jsx)("div",{id:"error-page",children:(0,i.jsx)(d.Z,{children:(n=_,a.pathname.match("workspace")&&(n=E),a.pathname.match("invite")&&(n=C),a.pathname.match("new")&&(n=B),(0,i.jsx)(n,{statusCode:r,hideActionButtons:e.hideActionButtons,title:x(e)?e.error.message:void 0}))})})}},97238:function(e,t,n){"use strict";var r=n(90581),i=n(21218),o=n(70865),a=n(96670),s=n(39309),l=n(2784),u=n(89960),c={componentStack:null,error:null};t.Z=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e.state=c,e.recoveryAttempts=0,e.recoveryTimeout=null,e.resetErrorBoundary=function(){e.setState(c)},e}var A=n.prototype;return A.componentDidCatch=function(e,t){var n,r,i,o=t.componentStack,a=this,s=this.props,l=s.onError,c=s.recoveryOptions,A=void 0===c?{}:c,d=A.attemptRecovery,h=A.maxRecoveryAttempts,f=A.recoveryDelay,p=(n=e,r=o,(i=Error(n.message)).name="[React ErrorBoundary] ".concat(n.name),i.stack=r,n.cause=i,i);(0,u.Tb)(p,{componentStack:o}),null==l||l(e),this.props.ignoreErrors||((void 0===d||d)&&this.recoveryAttempts<(void 0===h?10:h)?(this.recoveryAttempts++,this.recoveryTimeout&&clearTimeout(this.recoveryTimeout),this.recoveryTimeout=setTimeout(function(){a.setState({error:null,componentStack:null}),a.recoveryAttempts=0,a.recoveryTimeout=null},void 0===f?1e3:f)):this.setState({error:e,componentStack:o}))},A.render=function(){var e,t=this.props,n=t.fallback,r=t.children,i=this.state.error;return i?(e="function"==typeof n?n((0,a.Z)((0,o.Z)({},this.state),{error:i,resetError:this.resetErrorBoundary})):n)&&!(0,l.isValidElement)(e)?(console.warn("Invalid fallback"),null):e:r},n}(l.Component)},8498:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(52322),i=n(2784),o=n(3635),a=n(84474),s=n(14052),l=n.n(s),u={401:"Access Error",402:"Plan Limit",403:"Access Error",404:"404 Error",500:"500 Error"},c=(0,i.memo)(function(e){var t=e.className,n=e.statusCode,i=e.title,s=e.children,c=e.hideFooter;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,o.Z)(l().errorViewLayout,t),children:(0,r.jsxs)("div",{className:l().content,children:[(0,r.jsxs)("div",{className:l().label,children:[(0,r.jsx)(a.Z,{}),u[n]||"Error"]}),(0,r.jsx)("h1",{children:i}),s]})}),!c&&(0,r.jsx)("div",{className:l().footer,children:(0,r.jsxs)("p",{children:["Learn more at ",(0,r.jsx)("a",{href:"https://eraser.io",children:"eraser.io"})]})})]})})},53327:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(42541),a=n(3635),s=n(40819),l=n.n(s),u=n(24089),c=n(95162),A=n(21732),d=n(64442);t.Z=function(e){var t=e.stickTo,n=e.className,s=(0,d.l)().register,h=(0,A.Y)().openCommandKModal,f="left"===t?l().stickyLeft:l().stickyRight,p=(0,u.I)(),g=(p.isOpen,p.onOpen),m=(0,i.useCallback)(function(){var e;null==(e=window.Intercom)||e.call(window,"show")},[]),v=(0,i.useCallback)(function(){o.Z.trackEvent("help_center","eraser_website_click")},[]),y=(0,i.useCallback)(function(){o.Z.trackEvent("help_center","slack_click")},[]),b=(0,i.useCallback)(function(){o.Z.trackEvent("help_center","docs_click")},[]),w=(0,i.useCallback)(function(){o.Z.trackEvent("help_center","feature_request_click")},[]);return(0,i.useCallback)(function(e){e&&o.Z.trackEvent("help_center","help_center_click")},[]),(0,i.useEffect)(function(){s("eraserDocs",b),s("joinSlack",y),s("sendFeedback",m),s("submitRequest",w),s("eraserWebsite",v),s("openKeyboardShortcuts",g)},[s,b,y,m,v,w,g]),(0,r.jsx)(c.ZP,{onClick:function(){return h({screen:"help"})},variant:c.ZP.Variants.LIGHT,className:(0,a.Z)(l().helpButton,l().container,f,n),"data-testid":"help-center",children:"?"})}},89911:function(e,t,n){"use strict";n.d(t,{$q:function(){return l}});var r=n(52322),i=n(2784),o=n(3635),a=n(27846),s=n.n(a),l=(0,i.forwardRef)(function(e,t){var n=e.className,i=e.width,o=e.height;return(0,r.jsxs)("svg",{className:n,width:i,height:o,viewBox:"0 0 1699 660",ref:t,children:[(0,r.jsx)("path",{fill:"#EC2C40",d:"M804.7,660.3H50c-38.8,0-62.8-55-42.7-98.2L253,31.4C262,11.9,278.2,0,295.7,0h509V660.3z"}),(0,r.jsx)("path",{fill:"#00A9E5",d:"M891.3,0L1646,0c38.8,0,62.8,55,42.7,98.2L1443,628.9c-9,19.5-25.2,31.4-42.7,31.4h-509V0z"})]})}),u=function(e){var t=e.className;return(0,r.jsxs)("svg",{className:t,viewBox:"0 0 670 135",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M61.1,132.4c-18.2,0-32.9-5.7-44.2-17.2C5.6,103.8,0,88.6,0,69.5V66c0-12.7,2.5-24.1,7.4-34.2 c4.9-10,11.8-17.8,20.7-23.4C37,2.8,46.9,0,57.8,0c17.4,0,30.8,5.5,40.3,16.6s14.2,26.8,14.2,47.1v11.6H28.9 c0.9,10.5,4.4,18.9,10.6,25c6.2,6.1,13.9,9.2,23.3,9.2c13.1,0,23.8-5.3,32.1-15.9l15.5,14.7c-5.1,7.6-11.9,13.6-20.5,17.8 C81.3,130.3,71.8,132.4,61.1,132.4z M57.7,23c-7.9,0-14.2,2.8-19.1,8.3s-7.9,13.2-9.3,23H84v-2.1c-0.6-9.6-3.2-16.9-7.7-21.8 C71.9,25.5,65.7,23,57.7,23z"}),(0,r.jsx)("path",{d:"M201.5,28.6c-3.8-0.6-7.7-0.9-11.7-0.9c-13.1,0-22,5-26.6,15.1v87.3h-28.7V2.4h27.4l0.7,14.3 C169.5,5.5,179.1,0,191.4,0c4.1,0,7.5,0.6,10.1,1.7L201.5,28.6z"}),(0,r.jsx)("path",{d:"M293.5,130.1c-1.3-2.4-2.4-6.4-3.3-11.9c-9.1,9.5-20.3,14.3-33.5,14.3c-12.8,0-23.3-3.7-31.4-11 c-8.1-7.3-12.2-16.4-12.2-27.1c0-13.6,5.1-24.1,15.2-31.3S252.9,52,271.7,52h17.6v-8.4c0-6.6-1.9-11.9-5.5-15.9 c-3.7-4-9.3-6-16.9-6c-6.5,0-11.9,1.6-16,4.9c-4.2,3.3-6.3,7.4-6.3,12.4h-28.7c0-7,2.3-13.5,7-19.6c4.6-6.1,11-10.9,18.9-14.3 c8-3.5,16.9-5.2,26.7-5.2c14.9,0,26.9,3.8,35.8,11.3c8.9,7.5,13.5,18.1,13.7,31.7v57.6c0,11.5,1.6,20.7,4.8,27.5v2H293.5z M262,109.4c5.7,0,11-1.4,16-4.1c5-2.8,8.8-6.5,11.3-11.1V70.1h-15.5c-10.6,0-18.6,1.8-24,5.5c-5.4,3.7-8,8.9-8,15.7 c0,5.5,1.8,9.9,5.5,13.2C251,107.8,255.9,109.4,262,109.4z"}),(0,r.jsx)("path",{d:"M419.6,95.4c0-5.1-2.1-9-6.3-11.7c-4.2-2.7-11.2-5-20.9-7.1c-9.8-2-17.9-4.6-24.4-7.8 c-14.3-6.9-21.5-17-21.5-30.1c0-11,4.6-20.2,13.9-27.6C369.6,3.7,381.4,0,395.7,0c15.3,0,27.6,3.8,37,11.3 c9.4,7.6,14.1,17.3,14.1,29.4h-28.7c0-5.5-2-10.1-6.1-13.8c-4.1-3.7-9.5-5.5-16.3-5.5c-6.3,0-11.4,1.5-15.4,4.4 c-4,2.9-6,6.8-6,11.7c0,4.4,1.8,7.8,5.5,10.3c3.7,2.4,11.2,4.9,22.4,7.4c11.3,2.5,20.1,5.4,26.5,8.8c6.4,3.4,11.2,7.5,14.3,12.3 c3.1,4.8,4.7,10.6,4.7,17.5c0,11.5-4.8,20.8-14.3,27.9c-9.5,7.1-22,10.7-37.4,10.7c-10.5,0-19.8-1.9-28-5.7 c-8.2-3.8-14.6-9-19.1-15.6c-4.6-6.6-6.8-13.7-6.8-21.4H370c0.4,6.8,2.9,12,7.7,15.6c4.7,3.7,11,5.5,18.8,5.5 c7.6,0,13.3-1.4,17.2-4.3C417.6,103.8,419.6,100,419.6,95.4z"}),(0,r.jsx)("path",{d:"M529,132.4c-18.2,0-32.9-5.7-44.2-17.2c-11.3-11.4-16.9-26.7-16.9-45.7V66c0-12.7,2.5-24.1,7.4-34.2 c4.9-10,11.8-17.8,20.7-23.4c8.9-5.6,18.8-8.4,29.7-8.4C543,0,556.5,5.5,566,16.6c9.5,11.1,14.2,26.8,14.2,47.1v11.6h-83.4 c0.9,10.5,4.4,18.9,10.6,25c6.2,6.1,13.9,9.2,23.3,9.2c13.1,0,23.8-5.3,32.1-15.9l15.5,14.7c-5.1,7.6-11.9,13.6-20.5,17.8 C549.2,130.3,539.6,132.4,529,132.4z M525.5,23c-7.9,0-14.2,2.8-19.1,8.3c-4.8,5.5-7.9,13.2-9.3,23h54.6v-2.1 c-0.6-9.6-3.2-16.9-7.7-21.8C539.7,25.5,533.5,23,525.5,23z"}),(0,r.jsx)("path",{d:"M669.3,28.6c-3.8-0.6-7.7-0.9-11.7-0.9c-13.1,0-22,5-26.6,15.1v87.3h-28.7V2.4h27.4l0.7,14.3 C637.4,5.5,647,0,659.3,0c4.1,0,7.5,0.6,10.1,1.7L669.3,28.6z"})]})};l.displayName="EraserIconSVG",t.ZP=function(e){var t=e.className,n=e.horizontal,i=e.vertical,a=e.width,c=e.height;return(0,r.jsxs)("div",{className:(0,o.Z)(t,s().logo,(void 0===n||n)&&s().horizontal,void 0!==i&&i&&s().vertical),children:[(0,r.jsx)(l,{className:s().icon,width:a,height:c}),(0,r.jsx)(u,{className:s().text})]})}},70569:function(e,t,n){"use strict";n.d(t,{r:function(){return f}});var r=n(52322),i=n(66804),o=n(28563),a=n(59711),s=n(33695),l=n(34484),u=n(4185),c=n(41174),A=n(53030),d=[[{setting:a.bR.SSO_WRITE,label:"SSO editable",icon:(0,r.jsx)(s.Z,{}),explanation:A.Xh["sso-write"]},{setting:a.bR.SSO_READ,label:"SSO viewable",icon:(0,r.jsx)(l.Z,{}),explanation:A.Xh["sso-read"]}],[{setting:a.bR.WRITE,label:"Anyone with the link can Edit",icon:(0,r.jsx)(s.Z,{}),explanation:A.Xh.write},{setting:a.bR.READ,label:"Publicly viewable",icon:(0,r.jsx)(l.Z,{}),explanation:A.Xh.read},{setting:a.bR.ANONYMOUS_WRITE,label:"Publicly editable",icon:(0,r.jsx)(c.Z,{}),explanation:A.Xh["anonymous-write"]}]],h=new Set([a.bR.SSO_READ,a.bR.SSO_WRITE]);function f(e){var t=e.ssoEnabled,n=e.selectedSetting,s=e.isDisabled,l=void 0!==s&&s,c=e.getRightElement,f=[];f.push((0,r.jsx)(o.Z,{label:"No link access",icon:(0,r.jsx)(u.Z,{}),isDisabled:l,explanation:A.Xh.none,rightElement:null==c?void 0:c(a.bR.NONE)},a.bR.NONE));var p=!0,g=!1,m=void 0;try{for(var v,y=d[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var b=v.value.filter(function(e){return function(e,t,n){var r=h.has(e),i=e===n;return r?t||i:!t||i}(e.setting,t,n)});if(0!==b.length){f.push((0,r.jsx)(i.KE,{},"divider-".concat(b[0].setting)));var w=!0,_=!1,E=void 0;try{for(var C,B=b[Symbol.iterator]();!(w=(C=B.next()).done);w=!0){var x=C.value;f.push((0,r.jsx)(o.Z,{icon:x.icon,label:x.label,isDisabled:l,explanation:x.explanation,rightElement:null==c?void 0:c(x.setting),style:{width:300}},x.setting))}}catch(e){_=!0,E=e}finally{try{w||null==B.return||B.return()}finally{if(_)throw E}}}}}catch(e){g=!0,m=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw m}}return f}},53030:function(e,t,n){"use strict";n.d(t,{Xh:function(){return l},vQ:function(){return s}});var r,i=n(47842),o=n(66804),a=n(28563),s={width:265,asNested:!1,spacing:"medium",popperPlacement:"left-start",variant:o.Lt.Variants.Grey,popperModifiers:[{name:"offset",options:{offset:[0,30]}}],selectionVariant:a.Z.SelectionVariants.Grey},l=(r={none:"Only team members or invited guests can view or edit this file.",write:"Anyone with a link can edit. Requires Eraser account to edit.",read:"Anyone with a link can view. Does not require Eraser account."},(0,i.Z)(r,"anonymous-write","Anyone with a link can edit. Does not require Eraser account."),(0,i.Z)(r,"sso-read","Any SSO user with the link can view."),(0,i.Z)(r,"sso-write","Any SSO user with the link can edit."),(0,i.Z)(r,"private","Link access cannot be changed for Private Files"),r)},25248:function(e,t,n){"use strict";n.d(t,{b:function(){return A}});var r=n(52322),i=n(2784),o=n(2595),a=n(95162),s=n(95691),l=n(55929),u=n(44784),c=n(80498),A=function(e){var t=e.unsearchableUserId,n=e.unsearchableEmail,A=e.unsearchableErrorMessage,d=void 0===A?"That input is invalid.":A,h=e.placeholder,f=e.onInvite,p=(0,i.useState)(""),g=p[0],m=p[1],v=(0,i.useState)(!1),y=v[0],b=v[1],w=(0,i.useRef)(null),_=(0,o.Z)(),E=(0,c.Z)({defaultIsOpen:!1}),C=E.isOpen,B=E.onOpen,x=E.onClose,I=!(0,u.Le)(g),T=g===n,S=(0,i.useCallback)(function(e){b(!0),m(""),_.promise(f(e),{loading:"Inviting ".concat(e),success:"Invitation sent to ".concat(e),error:function(e){return 400===e.statusCode?e.message:"Invite failed"}}).finally(function(){b(!1)})},[f]),k=(0,i.useCallback)(function(e){(e.preventDefault(),T)?_.error(d):I&&!y&&S(g)},[T,I,g,y,S,d]),N=(0,i.useCallback)(function(e){var t=e.email;m(t),S(t)},[S]),D=(0,i.useCallback)(function(e){return e.memberId!==t},[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{onSubmit:k,style:{width:"100%"},children:(0,r.jsx)(l.Z,{autoFocus:!0,ref:w,placeholder:h,onChange:function(e){return m(e.target.value)},value:g,button:(0,r.jsx)(a.ZP,{disabled:!I,type:"submit",isLoading:y,children:"Invite"}),onBlur:x,onFocus:B,"data-testid":"invite-input"})}),C&&w.current&&(0,r.jsx)(s.Z,{targetNode:w.current,search:g||void 0,onSelect:N,isPopperVisible:!0,shouldIncludeEmails:!0,className:"marginTopMedium",filterPredicate:D})]})}},61579:function(e,t,n){"use strict";n.d(t,{E:function(){return m},_:function(){return g}});var r=n(98788),i=n(47842),o=n(70865),a=n(96670),s=n(22970),l=n(2784),u=n(34224),c=n(2595),A=n(11269),d=n(67640),h=n(355),f=n(66140),p=n(90261),g=function(e){var t,n=(0,c.Z)(),i=(0,A.Rs)(),u=(0,l.useState)({isReady:!1,isCreating:!1,isDeleting:!1,inviteId:void 0}),h=u[0],p=u[1],g=(0,l.useRef)(h);g.current=h;var m=(0,l.useCallback)((0,r.Z)(function(){var t,r,i,l,u;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(r=(t=g.current).isCreating,i=t.isDeleting,l=t.inviteId,r||i||l)return[2];p(function(e){return(0,a.Z)((0,o.Z)({},e),{isCreating:!0})}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,d.Z.post("/teams/".concat(e,"/invites"),{})];case 2:return u=s.sent(),p(function(e){return(0,a.Z)((0,o.Z)({},e),{isCreating:!1,inviteId:u.inviteId})}),[3,4];case 3:return s.sent(),p(function(e){return(0,a.Z)((0,o.Z)({},e),{isCreating:!1})}),n.error("Something went wrong"),[3,4];case 4:return[2]}})}),[e]),v=(0,l.useCallback)((0,r.Z)(function(){var t,r,i,l;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(r=(t=g.current).isDeleting,i=t.isCreating,l=t.inviteId,r||i||!l)return[2];p(function(e){return(0,a.Z)((0,o.Z)({},e),{isDeleting:!0})}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,d.Z.delete("/teams/".concat(e,"/invites/").concat(l))];case 2:return s.sent(),p(function(e){return(0,a.Z)((0,o.Z)({},e),{isDeleting:!1,inviteId:null})}),[3,4];case 3:return s.sent(),n.error("Something went wrong"),p(function(e){return(0,a.Z)((0,o.Z)({},e),{isDeleting:!1})}),[3,4];case 4:return[2]}})}),[e]);(0,l.useEffect)(function(){i&&i.id===e&&p(function(e){return(0,a.Z)((0,o.Z)({},e),{isReady:!0,inviteId:i.inviteId})})},[i,e]);var y=h.inviteId?(t=h.inviteId,window?"".concat(window.location.origin,"/invite/").concat(t):"".concat(f.l2.url,"/invite/").concat(t)):"",b=!!h.inviteId;return(0,a.Z)((0,o.Z)({},h),{isEnabled:b,onTurnOn:m,onTurnOff:v,inviteLink:y})},m=function(e){var t=(0,u.Z)(),n=null==e?void 0:e.id,r=null==e?void 0:e.isDirectAccessAllowed;return(0,l.useCallback)(function(e,o){if(n){var a="Link copied";r||(a="".concat(a," - only collaborators can access"));var s={workspaceId:n,params:{origin:"share"}};if(e&&o){var l=p.Ew[o];Object.assign(s.params,(0,i.Z)({},l,e))}t((0,h.N)(s),a)}},[r,n])}},69023:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(52322),i=n(2784),o=n(89911),a=n(46966),s=n.n(a),l=(0,i.memo)(function(e){var t=e.children,n=e.staticLogo,i=(0,r.jsx)(o.ZP,{horizontal:!0,className:s().eraserLogo});return(0,r.jsxs)("div",{className:s().minimalPageLayout,children:[n?i:(0,r.jsx)("a",{href:"/",children:i}),(0,r.jsx)("div",{className:s().content,children:t})]})})},64870:function(e,t,n){"use strict";n.d(t,{BD:function(){return _},a_:function(){return g}});var r=n(47842),i=n(70865),o=n(96670),a=n(52322),s=n(2784),l=n(21987),u=n(5632),c=n(59711),A=n(45938),d=n(96933),h=n(10185),f=n(48696),p=n(99669),g=(0,l.kr)({files:[],updateOrder:function(){return null},orderBy:c.C4,orderDir:c.tL}),m={title:"asc",updatedAt:"desc",createdAt:"desc",folderId:"desc",nComments:"desc"},v="dashboard-sort-order-by-view",y=function(e,t,n){if(!e)return{};switch(e){case"private":return{ownerId:t,isPrivate:!0};case"folder":return{folderId:n};case"unsorted":return{folderId:null,isPrivate:!1};case"archived":return{isArchived:!0};case"created-by-me":return{ownerId:t};default:return{}}},b=function(e,t){return"folder"===e&&t?t:"all"===e?"All":null},w=function(e){var t,n;return e?null!=(n=(null!=(t=p.J.getItem(v))?t:{})[e])?n:null:null};t.ZP=function(e){var t,n,l=e.children,_=(0,u.useRouter)(),E=(0,d.II)(),C=(0,h.N)(_.asPath),B=(0,f.N0)(_.asPath),x=b(C,B),I=w(x),T=(0,s.useState)((0,i.Z)({orderBy:null!=(t=null==I?void 0:I.orderBy)?t:c.C4,orderDir:null!=(n=null==I?void 0:I.orderDir)?n:c.tL},y(C,E,B))),S=T[0],k=T[1],N=(0,s.useCallback)(function(e){k(function(t){if(t.orderBy===e){var n="asc"===t.orderDir?"desc":"asc";a={orderBy:t.orderBy,orderDir:n}}else a={orderBy:e,orderDir:null!=(s=m[e])?s:"desc"};if(x){var a,s,l,u=null!=(l=p.J.getItem(v))?l:{};p.J.setItem(v,(0,o.Z)((0,i.Z)({},u),(0,r.Z)({},x,a)))}return(0,i.Z)({},t,a)})},[x]),D=(0,s.useCallback)(function(e,t,n){var r,i=b(e,t);return i?null!=(r=w(i))?r:{orderBy:c.C4,orderDir:c.tL}:n},[]),O=(0,A.Z)(S);(0,s.useEffect)(function(){var e=function(e){var t=(0,h.N)(e),n=(0,f.N0)(e),r=y(t,E,n);k(function(e){var o=D(t,n,{orderBy:e.orderBy,orderDir:e.orderDir}),a=o.orderBy,s=o.orderDir;return(0,i.Z)({orderBy:a,orderDir:s},r)})};return _.events.on("beforeHistoryChange",e),function(){_.events.off("beforeHistoryChange",e)}},[D,E,_]),(0,s.useEffect)(function(){k(function(e){return(0,i.Z)({},D((0,h.N)(_.asPath),(0,f.N0)(_.asPath),{orderBy:e.orderBy,orderDir:e.orderDir}),y((0,h.N)(_.asPath),E,(0,f.N0)(_.asPath)))})},[E,_,D]);var R=(0,s.useMemo)(function(){return{files:O||[],updateOrder:N,orderBy:S.orderBy,orderDir:S.orderDir}},[O,N,S.orderBy,S.orderDir]);return(0,a.jsx)(g.Provider,{value:R,children:l})};var _=function(){return(0,l.qp)(g)}},6375:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(51992),a=n(23513),s=n.n(a),l=n(3635),u=(0,i.memo)(function(e){var t=e.absolute;return e.hidden?null:(0,r.jsx)("div",{className:(0,l.Z)(s().container,t&&s().absolute),children:(0,r.jsxs)("div",{className:s().notepad,children:[(0,r.jsx)(o.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:(0,r.jsx)("div",{className:s().skeletonTitle,children:(0,r.jsx)(o.ZP,{count:1,height:22,className:s().titleSkeleton})})}),(0,r.jsx)(o.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:(0,r.jsxs)("div",{className:s().skeletonBody,children:[(0,r.jsx)("p",{children:(0,r.jsx)(o.ZP,{count:1,height:12})}),(0,r.jsx)("p",{children:(0,r.jsx)(o.ZP,{count:1,height:12,width:200})})]})})]})})});u.displayName="NotepadSkeleton",t.Z=u},58317:function(e,t,n){"use strict";n.d(t,{P8:function(){return y},Zv:function(){return b}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(37164),l=n(28316),u=n(96933),c=n(2332),A=n(4126),d=n(54848),h=n(95691),f=n(46130),p=n(3635),g=n(36976),m=n.n(g),v=function(e){var t,n=e.data,r=e.isSelected,i=(0,c.ZP)(n.userId),a=(0,u.II)(),s=n.userId===a,l=null!=(t=null==i?void 0:i.displayName)?t:n.email;return l?(0,o.jsx)(y,{profile:i,display:l,isSelected:r,isHighlighted:s}):null},y=function(e){var t=e.profile,n=e.display,a=e.classNames,s=e.isSelected,l=e.isHighlighted,u=(0,A.F)().isDarkMode;return(0,o.jsxs)("span",{className:(0,p.Z)(null==a?void 0:a.root,m().personDisplay,u&&m().isDarkMode,s&&m().isSelected,l&&m().isHighlighted),children:[(0,o.jsx)(d.Z,(0,i.Z)((0,r.Z)({},t),{className:(0,p.Z)(m().avatar,null==a?void 0:a.avatar)})),(0,o.jsx)("span",{className:(0,p.Z)(m().label,null==a?void 0:a.label),children:n})]})},b=function(e){var t=e.attributes,n=e.element,r=e.children,i=n.mentionData,u=n.mentionType,c=(0,f.W)(n),A=c.updateMention,d=c.unwrapMention,p=c.checkIfMentionDone,g=c.isSelected,y=c.text,b=c.getBounds,_=(0,a.useCallback)(function(e){var t={userId:e.userId,email:e.email};t.id=(0,s.x0)(),A({mentionType:"person",mentionData:t})},[A]),E=!!(u&&"person"===u&&(null==i?void 0:i.email));return(0,o.jsxs)(w,{attributes:t,mentionType:u,mentionData:i,isSelected:g,isValidPerson:E,renderMenu:function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=b();if(!r)return null;var i=(0,o.jsx)("span",{className:m().dropdownAnchor,style:{top:r.bottom,left:r.left},ref:n,children:(0,o.jsx)(h.Z,{targetNode:t,className:m().dropdownContainer,onSelect:_,withProfileOnly:!0,search:y?y.slice(1):"",includeSelf:!0,searchOnEmptyString:!0,onCancel:d,onSearchFinished:function(e){p(e)},shouldIncludeEmails:!1,isPopperVisible:!0})});return(0,l.createPortal)(i,document.body)},PersonDisplayComponent:v,children:[r,"@"===y&&!E&&(0,o.jsx)("span",{className:m().placeholder,children:"mention"})]})},w=function(e){var t=e.attributes,n=e.isValidPerson,a=e.mentionData,s=e.isSelected,l=e.mentionType,u=e.children,c=e.renderMenu,A=e.PersonDisplayComponent;return(0,o.jsxs)("span",(0,i.Z)((0,r.Z)({},t),{className:(0,p.Z)(m().editorMention,n&&m().validPerson),children:[n?(0,o.jsx)(A,{data:a,isSelected:s}):null,s&&!l&&c(),u]}))}},76794:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(52322),i=n(44498),o=n(51516),a=n(95343),s=n.n(a),l=n(3635),u=n(70599),c=n(42541),A=n(26942),d=n(15765),h=function(e){var t=e.limit,n=e.current,i=e.showLink,a=e.contactUs,h=e.featureName,f=e.shortExplanation,p=e.showLimitName,g=e.upgradeLinkText,m=(0,o.Y)().openSettingsModal,v=i?(0,r.jsx)("a",{role:"button",onClick:function(){m({openedPane:"plans",paywallFeature:h}),c.Z.trackEvent("payment","open_billing_pane",{featureName:h,source:"limitBar"})},children:"Upgrade"}):"Upgrade",y=(0,d.ZP)(t),b=(0,d.ZP)(n),w=b>y?"".concat(y+1,"+"):b,_=function(){switch(h){case u.M$.Workspaces:return"files";case u.M$.AiDiagramAndOutlineCredits:return"AI credits";case u.M$.PremiumCredits:return"premium AI credits";case u.M$.CustomIcons:return"custom icons";default:return"files"}};return f?(0,r.jsxs)("span",{className:(0,l.Z)(s().explanation),children:[(0,r.jsx)("span",{children:w})," of ",(0,r.jsx)("span",{children:(0,d.oj)(t)}),(void 0===p||p)&&" ".concat(_(),"."),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:" / "}),(0,r.jsx)("a",{role:"button",onClick:function(){m({openedPane:"plans",paywallFeature:h})},children:void 0===g?"Upgrade":g})]})]}):(0,r.jsxs)("span",{className:(0,l.Z)(s().explanation),children:[(0,r.jsx)("strong",{children:w})," out of ",(0,r.jsx)("strong",{children:t})," ".concat(_()," used."),(0,r.jsx)("br",{}),a?(0,r.jsxs)(r.Fragment,{children:["Contact "," ",(0,r.jsx)(A.dL,{src:"mailto:hello@eraser.io",children:"hello@eraser.io"})," "," to increase your limit."]}):(0,r.jsxs)(r.Fragment,{children:[v," your plan for unlimited access."]})]})},f=n(88859),p=function(e){var t=e.limit,n=e.style,o=e.current,a=e.useColor,s=e.showLink,l=e.fullColor,u=e.className,c=e.contactUs,A=e.featureName,d=e.showLimitName,p=e.upgradeLinkText,g=e.shortExplanation;return t===f.fY?null:(0,r.jsxs)("div",{style:n,children:[(0,r.jsx)(i.k,{limit:t,current:o,useColor:a,fullColor:l,className:u}),(0,r.jsx)(h,{limit:t,current:o,showLink:s,contactUs:c,featureName:A,showLimitName:d,upgradeLinkText:p,shortExplanation:g})]})}},57821:function(e,t,n){"use strict";n.d(t,{bJ:function(){return c},ch:function(){return A},hf:function(){return l},r4:function(){return u}});var r=n(52322),i=n(11769),o=n(71059),a=n(3635),s="eraser-splash",l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.getElementById(s);t&&(e?t.remove():(t.classList.add("hidden"),setTimeout(function(){return t.remove()},100)))},u=function(e,t){return(0,o.Z)(function(){var t;(null==(t=null==e?void 0:e())||t)&&l()},t)},c=function(e){var t=e.loadingText,n=e.hideLogo;return(0,r.jsxs)(r.Fragment,{children:[!(void 0!==n&&n)&&(0,r.jsx)(i.Z,{}),(0,r.jsxs)("div",{className:"splashLoadingContainer",children:[(0,r.jsx)("div",{className:"splashLoadingSpinner"}),(0,r.jsx)("span",{children:void 0===t?"Loading eraser.io":t})]})]})},A=function(e){var t=e.initialTheme,n=e.loadingText;return(0,r.jsx)("div",{id:s,className:(0,a.Z)("eraserSplash","dark"===(null!=t?t:"light")&&"dark"),children:(0,r.jsx)("div",{className:"splashCenterer",children:(0,r.jsx)(c,{loadingText:n})})})}},53562:function(e,t,n){"use strict";var r=n(50930),i=n(2784),o=n(87622),a=n.n(o),s=n(11269),l=n(96933),u=n(45403),c=n(88218),A=n(67640);t.Z=function(){var e=(0,l.aF)(),t=(0,s.mZ)(),n=(0,u.Pe)(),o=(0,i.useState)(),d=o[0],h=o[1],f=(0,i.useState)(),p=f[0],g=f[1],m=(null==e?void 0:e.emailVerified)?null==e?void 0:e.email:null;return(0,i.useEffect)(function(){if(!m)return void h([]);var e=(0,c.ZP)(m);return e?n.teams.subscribeByDomain(e,h):void h([])},[m]),(0,i.useEffect)(function(){A.Z.get("user/pendingInvites").then(function(e){g(e.invitesForUi)})},[]),(0,i.useMemo)(function(){if(e){if(!m)return[];if(p){var n=(null==p?void 0:p.filter(function(e){return!t.has(e.teamId)}))||[],i=a()(n,"teamId"),o=(null==d?void 0:d.filter(function(e){return!t.has(e.id)&&!i[e.id]}))||[];return(0,r.Z)(n).concat((0,r.Z)(o))}}},[m,e,d,p,t])}},20578:function(e,t,n){"use strict";var r=n(90581),i=n(21218),o=n(39309);t.Z=new(function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e._handleLayoutReady=function(t){e.setLayout=t,e.on("change-layout",t)},e._handleExcalidrawReady=function(t){e.api=t},e._handleAddElement=function(t){e.emit("add-element",t)},e}var a=n.prototype;return a.init=function(){this.on("layout-ready",this._handleLayoutReady),this.on("excalidraw-ready",this._handleExcalidrawReady),this.on("add-element",this._handleAddElement)},a.dispose=function(){this.api=void 0,this.removeAllListeners()},n}(n(30686).v))},88138:function(e,t,n){"use strict";n.d(t,{X:function(){return l},s:function(){return s}});var r=n(98788),i=n(22970),o=n(2784),a={aiContexts:[],selectedContextId:void 0,selectedContext:void 0,isNewLibraryModalOpen:!1,isRenameModalOpen:!1,isDeleteModalOpen:!1,canCreateNewReference:!1,handleSelectContext:function(){},handleCreateLibrary:(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2]})}),handleEditLibrary:(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2]})}),handleDeleteLibrary:(0,r.Z)(function(){return(0,i.__generator)(this,function(e){return[2]})}),handleUpgradeClick:function(){},setIsNewLibraryModalOpen:function(){},setIsRenameModalOpen:function(){},setIsDeleteModalOpen:function(){}},s=(0,o.createContext)(a),l=function(){return(0,o.useContext)(s)}},52982:function(e,t,n){"use strict";n.d(t,{H:function(){return f},Z:function(){return p}});var r,i,o=n(52322),a=n(2784),s=n(80498),l=n(2643),u=n(70759).Z,c=n(24179),A=n(67499),d=n.n(A);(r=i||(i={})).SIGN_IN="SIGN_IN",r.SIGN_UP="SIGN_UP";var h=(0,a.createContext)(void 0),f=function(e){var t=e.children,n=(0,s.Z)(),r=n.isOpen,A=n.onOpen,f=n.onClose,p=(0,a.useState)(i.SIGN_UP),g=p[0],m=p[1],v=(0,a.useState)(),y=v[0],b=v[1],w=(0,a.useCallback)(function(e){m(i.SIGN_UP),void 0!==e&&b(e),A()},[A]),_=(0,a.useCallback)(function(e){m(i.SIGN_IN),void 0!==e&&b(e),A()},[A]),E=(0,a.useCallback)(function(){b(void 0),f()},[f]),C=(0,a.useMemo)(function(){return{openSignUpModal:w,openSignInModal:_,closeAuthModal:E,isAuthModalOpen:r}},[w,_,E,r]),B=(0,a.useCallback)(function(){(null==y?void 0:y.isClosable)&&f()},[y,f]),x=g===i.SIGN_IN?u:c.Z;return(0,o.jsxs)(h.Provider,{value:C,children:[t,(0,o.jsx)(l.Z,{className:d().authModal,isOpen:r,onClose:B,hideCloseButton:!0,children:(0,o.jsx)(x,{profileArgs:null==y?void 0:y.profileArgs,customSubTitle:null==y?void 0:y.customSubTitle,asModal:!0})})]})},p=h},27729:function(e,t,n){"use strict";n.d(t,{JR:function(){return b},Yp:function(){return w},yR:function(){return _}});var r=n(70865),i=n(96670),o=n(50930),a=n(52322),s=n(87622),l=n.n(s),u=n(2784),c=n(21987),A=n(11269),d=n(45403),h=n(49678),f=n(57517),p=n(42541),g=n(2595),m=n(96933),v=n(89960),y=(0,c.kr)({folderTree:{},foldersMap:{},isLoaded:!1,folders:void 0,topLevelFolders:[],renamingFolder:null,openFolder:function(){},closeFolder:function(){},switchFolder:function(){},toggleFolder:function(){},createFolder:function(){return Promise.resolve()},updateFolder:function(){return Promise.resolve()},updateFolderOrder:function(){return Promise.resolve()},renameFolder:function(){return Promise.resolve()},openFolders:new Set,getFolderPath:function(){return[]},getAllFolderPaths:function(){return[]},getFolderChildren:function(){return[]},setRenamingFolder:function(){}}),b=32,w="Untitled Folder",_=function(e){var t=e.children,n=(0,d.Pe)(),s=(0,A.LP)(),c=(0,g.Z)(),b=(0,m.II)(),w=(0,f.i)().goToTab,_=(0,u.useState)(new Set),E=_[0],C=_[1],B=(0,u.useState)(void 0),x=B[0],I=B[1],T=(0,u.useState)(null),S=T[0],k=T[1],N=(0,u.useMemo)(function(){return x?(0,h.Hz)(x):{}},[x]),D=(0,u.useMemo)(function(){return(0,h.JN)(N)},[N]),O=(0,u.useMemo)(function(){return Object.values(N).sort(function(e,t){return e.order-t.order})},[N]);(0,u.useEffect)(function(){if(s)return I(void 0),n.folders.subscribeByTeam(s,I)},[s]);var R=(0,u.useCallback)(function(e){var t;return e&&(null==(t=D.find(function(t){return t.id===e}))?void 0:t.children)||[]},[D]),F=(0,u.useCallback)(function(e){return e?(0,h.p6)(e,N):[]},[N]),L=(0,u.useCallback)(function(){return(0,h.am)(N)},[N]),U=(0,u.useMemo)(function(){return l()(x,"id")},[x]),P=(0,u.useCallback)(function(e){C(function(t){var n=new Set(t);return n.add(e),n}),k(null)},[]),M=(0,u.useCallback)(function(e){C(function(t){var n=new Set(t);return n.delete(e),n}),k(null)},[]),j=(0,u.useCallback)(function(e){C(function(t){var n=new Set(t);return t.has(e)?n.delete(e):n.add(e),n}),k(null)},[]),Z=(0,u.useCallback)(function(e){var t,r=e.name,i=e.parentFolderId,a=void 0===i?null:i,l=e.origin,u=void 0===l?"header":l,A=e.shouldOpen,d=void 0===A||A;if(!s||!b)return Promise.resolve();var h=a?R(a):O,f=Math.max((t=Math).max.apply(t,(0,o.Z)(h.map(function(e){return e.order}))),h.length)+1;return c.promise(n.folders.create({name:r,parentFolderId:a,teamId:s,order:f,createdBy:b}),{success:"Created folder",loading:"Creating folder",error:"Something went wrong"}).then(function(e){k({id:e,origin:u}),p.Z.trackEvent("folders","create_folder"),d&&w("folder",e)}).catch(v.Tb)},[s,b,w,O,R]),Q=(0,u.useCallback)(function(e,t){return s&&b?(I(null==x?void 0:x.map(function(n){return n.id===e?(0,r.Z)({},n,t):n})),n.folders.updateById(e,t,{teamId:s}).catch(function(e){throw I(x),e})):Promise.resolve()},[s,b,x]),H=(0,u.useCallback)(function(e,t){return S||t?(k(null),Q(t||S.id,{name:null!=e?e:""})):Promise.resolve()},[Q,S]),V=(0,u.useCallback)(function(e,t,o){if(!s||!b)return Promise.resolve();var a,l,u,c,A=(a=(0,i.Z)((0,r.Z)({},U[e]),{parentFolderId:t}),l=t?R(t):O,u=o,c=l.filter(function(e){return e.id!==a.id}),u<=-1?c.unshift(a):c.splice(u,0,a),c.map(function(e,t){return(0,i.Z)((0,r.Z)({},e),{order:t})}));return I(null==x?void 0:x.map(function(e){return A.find(function(t){return t.id===e.id})||e})),n.folders.updateFolderOrders(s,A,t).catch(function(e){throw I(x),e})},[s,b,U,O,R,x]);return(0,a.jsx)(y.Provider,{value:{folders:x,folderTree:N,foldersMap:U,openFolder:P,closeFolder:M,openFolders:E,createFolder:Z,renameFolder:H,updateFolder:Q,updateFolderOrder:V,toggleFolder:j,switchFolder:w,getFolderPath:F,renamingFolder:S,topLevelFolders:O,getAllFolderPaths:L,setRenamingFolder:k,getFolderChildren:R,isLoaded:!!x},children:t})};t.ZP=y},65616:function(e,t,n){"use strict";n.d(t,{D:function(){return eu}});var r,i=n(52322),o=n(2784),a=n(42091),s=n(98788),l=n(90581),u=n(21218),c=n(39309),A=n(22970),d=n(28065),h=n(90731),f=new(function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return n.prototype.readConfigValue=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(t){return[2,(0,d.E)(e)]})})()},n}(h.Z)),p=n(70865),g=n(96670),m=n(37164),v={},y=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.createHistory=function(e,t,n){var r=(0,g.Z)((0,p.Z)({id:(0,m.x0)()},e),{history:t&&n?[{userInput:t,userId:n,timestamp:Date.now()}]:[]});return v[r.id]=r,Promise.resolve(r)},r.getHistoryBySearchParams=function(e){return Promise.resolve(Object.values(v).find(function(t){return t.elementId===e.elementId}))},r.subscribeById=function(e,t){return t(v[e]),function(){}},r.addEntry=function(e,t,n){return v[e].history.push({userInput:t,userId:n,timestamp:Date.now()}),Promise.resolve()},r.removeLastEntry=function(e){return v[e].history.pop(),Promise.resolve()},n}(h.Z),b=n(13706),w=n(28055),_={id:"auth-user-id",color:"#00a9e5",displayName:"Lorem Ipsum",isAnonymous:!1},E=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){(0,l.Z)(this,n),r=t.apply(this,arguments),r.Events=w.S,r.user=_,r.resetProviderEmail=function(){return Promise.resolve()};var e,r,i=(0,b.Z)(r);return e=(0,s.Z)(function(e){return(0,A.__generator)(this,function(t){if(!i.user)throw Error("No user signed in");return Object.assign(i.user,e),i._emitUpdates(),[2]})}),r.updateCurrentUser=function(t){return e.apply(this,arguments)},r}var r=n.prototype;return r.signOut=function(){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},r.signInWithGoogle=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},r.signInWithMicrosoft=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},r.sendPasswordResetEmail=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},r.createUserWithEmailAndPassword=function(e,t,n){var r=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(t){return r.user=(0,g.Z)((0,p.Z)({},_,r.user),{email:e,displayName:null!=n?n:""}),r.emit(r.Events.UserSignedUp),[2,Promise.resolve()]})})()},r.signInWithEmailAndPassword=function(e,t){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},r.signInWithCustomToken=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},r.signInAnonymously=function(){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},r.updateUserPassword=function(e,t){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},r.handleError=function(e){},r.setDisplayNameForCurrentSession=function(e){this.updateCurrentUser({displayName:e})},r._emitUpdates=function(){this.emit(this.Events.AuthUserChanged,this.user),this.emit(this.Events.UserChanged,this.user)},r.getAuthUser=function(){return this.user},r.getCurrentUser=function(){return this.user},r.isUserLoaded=function(){return!0},r.subscribeToCoachmarks=function(e){return e({}),function(){}},r.subscribeToActivations=function(e){return e({}),function(){}},r.markActivation=function(){return Promise.resolve()},r.markCoachmark=function(){return Promise.resolve()},n}(h.Z),C={},B={},x=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.subscribeToThread=function(e,t){var n=C[e];return setTimeout(function(){return t(n)},0),function(){}},r.subscribeToWorkspaceThreads=function(e,t){var n=Object.values(C).filter(function(t){return t.workspaceId===e});return setTimeout(function(){return t(n)},0),function(){}},r.subscribeToThreadComments=function(e,t){var n=B[e]||[];return setTimeout(function(){return t(n)},0),function(){}},r.createThread=function(e){var t=e.workspaceId,n=e.firstCommentText,r=e.userId,i={id:(0,m.x0)(),workspaceId:t,participantMemberIds:[r],readByMemberIds:[r],authorId:r,previewText:n,totalComments:0,createdAt:Date.now(),isResolved:!1};return C[i.id]=i,Promise.resolve(i)},r.getThreadById=function(e){return Promise.resolve(C[e])},r.addCommentToThread=function(e){var t={id:(0,m.x0)(),authorMemberId:e.authorMemberId,text:e.text,createdAt:Date.now()};return B[e.threadId]||(B[e.threadId]=[]),B[e.threadId].push(t),Promise.resolve()},r.setThreadResolvedState=function(e,t){var n=C[e];if(!n)throw Error("Thread not found");return n.isResolved=t,Promise.resolve()},r.setThreadAsReadByCurrentUser=function(e,t){var n=C[e];if(!n)throw Error("Thread not found");return n.readByMemberIds||(n.readByMemberIds=[]),n.readByMemberIds.push(t),Promise.resolve()},r.editComment=function(e,t,n){var r=B[e];if(!r)throw Error("Thread not found");var i=r.findIndex(function(e){return e.id===t});if(-1===i)throw Error("Comment not found");return r[i].text=n,r[i].updatedAt=Date.now(),Promise.resolve()},n}(h.Z),I=n(85242),T=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,l.Z)(this,n),e=t.apply(this,arguments),e.Events=I.I,e.elements=new Map,e}var r=n.prototype;return r.getElementsByIds=function(e,t){var n=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,t.map(function(e){return n.elements.get(e)}).filter(function(e){return void 0!==e})]})})()},r.getAllElements=function(e){var t=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Array.from(t.elements.values())]})})()},r.subscribeToAdded=function(e,t){var n=this;return this.on(this.Events.ELEMENT_ADDED,t),function(){n.off(n.Events.ELEMENT_ADDED,t)}},r.subscribeToChanged=function(e,t){var n=this;return this.on(this.Events.ELEMENT_CHANGED,t),function(){n.off(n.Events.ELEMENT_CHANGED,t)}},r.subscribeToRemoved=function(e,t){var n=this;return this.on(this.Events.ELEMENT_REMOVED,t),function(){n.off(n.Events.ELEMENT_REMOVED,t)}},r.initializeCollaboration=function(e){var t=this;setTimeout(function(){t.emit(t.Events.READY)},0)},r.saveElements=function(e,t,n){var r=this;t.addedElements.forEach(function(e){r.elements.set(e.id,e),r.emit(r.Events.ELEMENT_ADDED,e)}),t.changedElements.forEach(function(e){r.elements.set(e.id,e),r.emit(r.Events.ELEMENT_CHANGED,e)}),t.deletedElements.forEach(function(e){r.elements.delete(e.id),r.emit(r.Events.ELEMENT_REMOVED,e)}),(t.addedElements.length>0||t.changedElements.length>0)&&this.emit(this.Events.CHANGE)},r.saveSelection=function(){},r.savePointer=function(e){},r.dispose=function(){this.removeAllListeners(),this.elements.clear()},n}(h.Z),S=n(27805),k=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.Z)(this,n),(e=t.call(this))._opts=i,e._data={},e._getData=null!=(r=i.dataGetter)?r:function(){return e._data},e._opts=i,e}var r=n.prototype;return r.list=function(){return Promise.resolve(Object.values(this.data))},r.create=function(e){var t="id"in e&&e.id?e.id:(0,m.x0)(),n=(0,g.Z)((0,p.Z)({},e),{id:t});return this._opts.addCreatedAt&&(n.createdAt=Date.now()),this._opts.addUpdatedAt&&(n.updatedAt=Date.now()),this.data[t]=n,Promise.resolve(t)},r.fetchById=function(e){return Promise.resolve(this.data[e])},r.fetchByIds=function(e){var t=this;return Promise.resolve(e.map(function(e){return t.data[e]}))},r.updateById=function(e,t,n){var r=this._makeKey(e,n),i=(0,p.Z)({},this.data[r]||{},t);return this._opts.addUpdatedAt&&(i.updatedAt=Date.now()),this.data[r]=i,Promise.resolve()},r._makeKey=function(e,t){return t?"".concat(e,"-").concat(JSON.stringify(t)):e},r.deleteById=function(e){return delete this.data[e],Promise.resolve()},r.subscribe=function(e){var t=Object.values(this.data);return e(t,{created:t,updated:[],deleted:[]}),function(){}},r.subscribeById=function(e,t){return t(this.data[e]),function(){}},r.subscribeByTeam=function(e,t){return this.subscribeByParams({teamId:e},t),function(){}},r.subscribeByWorkspace=function(e,t){return this.subscribeByParams({workspaceId:e},t),function(){}},r.subscribeByUser=function(e,t){return this.subscribeByParams({userId:e},t),function(){}},r.subscribeByParams=function(e,t){var n=Object.values(this.data);return t(n,{created:n,updated:[],deleted:[]}),function(){}},r.fetchByTeam=function(e){return Promise.resolve(Object.values(this.data))},(0,S.Z)(n,[{key:"data",get:function(){return this._getData()}}]),n}(h.Z),N=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,{addCreatedAt:!0,addUpdatedAt:!0})}return n.prototype.updateFolderOrders=function(e,t,n){return Promise.resolve()},n}(k),D=n(48223),O=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,l.Z)(this,n),e=t.apply(this,arguments),e.Events=D.C,e.isConnected=!0,e}var r=n.prototype;return r.initialize=function(){},r.fetchValue=function(){return Promise.resolve({children:[],lastOpId:void 0,timestamp:Date.now()})},r.sendOps=function(e){return Promise.resolve()},r.hasPendingOps=function(){return!1},r.destroy=function(){},n}(h.Z),R=n(40052),F=n(53788),L=n(69211),U=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.fetchById=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(t){if((0,F.fo)(e))return[2,(0,R.i)({contextId:e})];throw new L.dR("AI Context not found")})})()},r.subscribeByTeam=function(e,t){return(0,R.q)({teamId:e}).then(function(e){return t(e,{created:[],updated:[],deleted:[]})}),function(){}},n}(k),P=n(98537),M=n.n(P),j=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this)).monitorDao=new k,e.gitAiRequestDao=new k,e.monitorEventDao=new k,e}var r=n.prototype;return r.subscribeToMonitors=function(e,t){return this.monitorDao.subscribeByTeam(e,t)},r.subscribeToMonitorHistory=function(e,t){var n=e.monitorId,r=e.teamId;return this.monitorEventDao.subscribeByParams({monitorId:n,teamId:r},t)},r.createMonitor=function(e){var t=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(n){return[2,t.monitorDao.create((0,g.Z)((0,p.Z)({},e),{createdBy:"auth-user-id",updatedBy:"auth-user-id",enabled:!0}))]})})()},r.updateMonitor=function(e,t){var n=this;return(0,s.Z)(function(){var r;return(0,A.__generator)(this,function(i){switch(i.label){case 0:return[4,n.monitorDao.fetchById(e)];case 1:if(!(r=i.sent()))throw Error("Monitor not found");if("enabled"in t)return[2,n.monitorDao.updateById(e,{enabled:t.enabled})];return[2,n.monitorDao.updateById(e,(0,g.Z)((0,p.Z)({},t),{config:M()(r.config,t.config)}))]}})})()},r.execute=function(){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,{threadId:"123"}]})})()},r.manuallyEditThread=function(){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,{done:!0}]})})()},r.fixThread=function(){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,{done:!0}]})})()},r.subscribeToGitAiRequests=function(e,t){return this.gitAiRequestDao.subscribeByParams({createdBy:e.userId},t)},r.subscribeToGitAiRequest=function(e,t){var n=e.requestId;return this.gitAiRequestDao.subscribeById(n,t)},r.fetchGitAiRequest=function(e){var t=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(n){return[2,t.gitAiRequestDao.fetchById(e)]})})()},n}(h.Z),Z=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.listOpenPrs=function(e,t){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,[]]})})()},r.subscribeToOrganizations=function(e,t){return t([]),function(){}},r.subscribeToRepositories=function(e,t,n){return n([]),function(){}},r.createRepository=function(e,t,n){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,"mock-repository-id"]})})()},r.updateRepository=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2]})})()},r.configureOrganization=function(e){return null},n}(h.Z),Q=n(8042),H=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,l.Z)(this,n),(e=t.call(this,{addCreatedAt:!0,addUpdatedAt:!0,dataGetter:function(){return Q.E.workspaceById}})).Events={},e}var r=n.prototype;return r.fetchByIds=function(e){var t=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(n){switch(n.label){case 0:if(!e.length)return[2,[]];return[4,Promise.all(e.map(function(e){return t.fetchById(e)}))];case 1:return[2,n.sent().filter(function(e){return void 0!==e})]}})})()},r.getWorkspaceTeamInfo=function(e,t){return Promise.resolve(void 0)},r.getWorkspaceLiveUserIds=function(e){return Promise.resolve([])},r.markWorkspaceAsVisited=function(e){return Promise.resolve()},r.validateAccess=function(e){return e.workspaceId,e.userId,Promise.resolve({read:!0,write:!0})},n}(k),V=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,{})}var r=n.prototype;return r.isWorkspaceMember=function(){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,!0]})})()},r.delete=function(){return Promise.resolve()},n}(k),K=n(11389),z=n(34067),G=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,{addCreatedAt:!0,addUpdatedAt:!0})}var r=n.prototype;return r.updateActivity=function(e,t){return this.updateById(t,{heartbeat:Date.now()},{workspaceId:e})},r.list=function(){return(0,K.Z)((0,z.Z)(n.prototype),"list",this).call(this)},n}(k),W=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,{addCreatedAt:!0,addUpdatedAt:!0})}var r=n.prototype;return r.getVersion=function(){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,void 0]})})()},r.duplicateFrom=function(e,t){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve({workspaceId:""})]})})()},r.listByWorkspace=function(e,t){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,[]]})})()},n}(k),q=function(){function e(){(0,l.Z)(this,e)}var t=e.prototype;return t.listOrganizations=function(){throw Error("Method not implemented.")},t.viewOrganization=function(e){throw Error("Method not implemented.")},t.listMembers=function(e){throw Error("Method not implemented.")},t.addMember=function(){throw Error("Method not implemented.")},t.removeMember=function(e,t){throw Error("Method not implemented.")},e}(),$=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,{dataGetter:function(){return Q.E.teamsById}})}var r=n.prototype;return r.updateTeam=function(e,t){var n=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(r){switch(r.label){case 0:return[4,n.updateById(e,t)];case 1:return r.sent(),[2]}})})()},r.subscribeByDomain=function(e,t){return this.subscribeByParams({domain:e},t)},r.listByDomain=function(e){var t=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,t.list()]})})()},n}(k),Y=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,l.Z)(this,n),e=t.apply(this,arguments),e.data=[],e}var r=n.prototype;return r.doesUserHaveTeam=function(e){var t=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(n){return[2,t.data.some(function(t){return t.userId===e})]})})()},r.subscribeByUserId=function(e,t){return t(this.data.filter(function(t){return t.userId===e}),{created:[],updated:[],deleted:[]}),function(){}},r.subscribeByTeamId=function(e,t){return t(this.data.filter(function(t){return t.teamId===e}),{created:[],updated:[],deleted:[]}),function(){}},n}(h.Z),J=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return n.prototype.subscribeByUserAndTeam=function(e,t){return e.userId,e.teamId,function(){}},n}(k),X=n(95550),ee=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.fetchWorkspaceInvites=function(e){var t=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(n){switch(n.label){case 0:return[4,t.list()];case 1:return[2,n.sent().filter(function(t){return"workspaceId"in t&&t.workspaceId===e&&t.type===X.PA.Email&&t.inviteTo===X.FU.Workspace&&"status"in t&&t.status===X.aj.Pending}).sort(function(e,t){var n="inviteeEmail"in e?e.inviteeEmail:"",r="inviteeEmail"in t?t.inviteeEmail:"";return n.localeCompare(r)})]}})})()},r.subscribeWorkspaceInvites=function(e,t,n){return this.fetchWorkspaceInvites(e).then(function(e){return t(e,{created:[],updated:[],deleted:[]})}),function(){}},r.fetchTeamInvites=function(e){var t=this;return(0,s.Z)(function(){return(0,A.__generator)(this,function(n){switch(n.label){case 0:return[4,t.list()];case 1:return[2,n.sent().filter(function(t){return"teamId"in t&&t.teamId===e&&t.type===X.PA.Email&&t.inviteTo===X.FU.Team&&"status"in t&&t.status===X.aj.Pending}).sort(function(e,t){var n="inviteeEmail"in e?e.inviteeEmail:"",r="inviteeEmail"in t?t.inviteeEmail:"";return n.localeCompare(r)})]}})})()},r.subscribeTeamInvites=function(e,t,n){return this.fetchTeamInvites(e).then(function(e){return t(e,{created:[],updated:[],deleted:[]})}),function(){}},n}(k),et=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,{addCreatedAt:!0,addUpdatedAt:!0})}return n.prototype.updateInteractionStatus=function(e,t,n,r){var i=this;return(0,s.Z)(function(){var o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:return o={status:t},void 0!==n&&(o.outputs=n),void 0!==r&&(o.duration=r),[4,i.updateById(e,o)];case 1:return a.sent(),[2]}})})()},n}(k),en=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,{addCreatedAt:!0,addUpdatedAt:!0})}return n}(k),er=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.uploadCustomIcon=function(e){var t=e.file,n=e.onSuccess;return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return null==n||n(t.name),[2]})})()},r.updateIconFile=function(e,t){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,Promise.resolve()]})})()},n}(k),ei=new(function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.subscribeToAccessChanges=function(e,t,n){return function(){}},r.dispose=function(){},n}(h.Z)),eo=n(18053),ea=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,{addCreatedAt:!0,addUpdatedAt:!0})}var r=n.prototype;return r.createRequest=function(e){var t=this,r=this;return(0,s.Z)(function(){var i,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:return[4,(0,eo.v)(e)];case 1:return i=a.sent(),[4,(0,K.Z)((0,z.Z)(n.prototype),"create",t).call(r,i)];case 2:return o=a.sent(),[4,r.fetchById(o)];case 3:return[2,a.sent()]}})})()},r.updateDiagramCode=function(e,t){var n=this;return(0,s.Z)(function(){var r,i,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:if(!(i=n.data[e]))throw Error("Document does not exist!");return[4,n.updateById(e,{diagrams:null==(r=i.diagrams)?void 0:r.map(function(e,n){return(0,g.Z)((0,p.Z)({},e),{code:null!=(o=t[n])?o:e.code})})})];case 1:return a.sent(),[2]}})})()},n}(k),es=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.search=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2,{hits:[]}]})})()},r.ensureSearchToken=function(e){return(0,s.Z)(function(){return(0,A.__generator)(this,function(e){return[2]})})()},n}(h.Z),el=function(){if(!r){var e=new E;r={appSettings:f,promptHistory:new y,currentUser:e,comments:new x,folders:new N,workspaces:new H,workspaceMembers:new V,workspaceCollaborators:new G,whiteboard:new T,canvasLinks:new k,aiContext:new U,eraserBot:new j,git:new Z,organizations:new q,aiInteractions:new et,aiSessions:new en,aiDiagramming:new ea,longRunningOperations:new k,knownPeople:new k,userProfiles:new k,apiTokens:new k({addCreatedAt:!0}),aggregateTeamUsage:new k,workspaceVersions:new W,teams:new $,userTeams:new Y,visitedWorkspaces:new J,invites:new ee,customIcons:new er,workspaceAccess:ei,search:new es,makeCanvasAccessor:function(e){var t=new T;return t.initializeCollaboration(e),t},makeNotesAccessor:function(){return new O}}}return r},eu=function(e){var t=e.children,n=(0,o.useMemo)(function(){return el()},[]);return(0,i.jsx)(a.$,{dataLayer:n,children:t})}},42091:function(e,t,n){"use strict";n.d(t,{$:function(){return l},i:function(){return s}});var r=n(52322),i=n(2784),o=n(830),a=n(67640),s=(0,i.createContext)({}),l=function(e){var t=e.children,n=e.dataLayer;return(0,i.useEffect)(function(){(0,o.t)(n),n.currentUser.getIdToken&&(0,a.O)(n.currentUser.getIdToken.bind(n.currentUser))},[n]),(0,r.jsx)(s.Provider,{value:n,children:t})}},56380:function(e,t,n){"use strict";n.d(t,{qz:function(){return u}});var r=n(87394),i=n(52322),o=n(19275),a=n(2784),s={setModalStates:function(){},modalStates:{isCommandKModalOpen:!1,isFileSearchModalOpen:!1}},l=(0,a.createContext)(s),u=function(){return(0,a.useContext)(l)};t.ZP=function(e){var t=e.children,n=(0,r.Z)((0,o.R)(s.modalStates),2),a=n[0],u=n[1];return(0,i.jsx)(l.Provider,{value:{modalStates:a,setModalStates:u},children:t})}},23630:function(e,t,n){"use strict";n.d(t,{Yl:function(){return h},eX:function(){return l}});var r=n(52322),i=n(2784),o=n(45455),a=n.n(o),s=n(5632),l="dashboard-coachmark",u=["element","elements","diagram","figure","openDiagramSidebar","layout","action","origin","name","embed","templateId","presetId","elementData","requestId","autoDiagramId","gitAiThreadId",l,"theme","ref","state","settings","showPromoCodeOption","aiOutline","installation_id","code"],c=function(){var e=(0,s.useRouter)();return(0,i.useMemo)(function(){if(!e.isReady)return{};var t={};return u.forEach(function(n){var r=e.query[n];Array.isArray(r)&&(r=r[0]),r&&(t[n]=r)}),t},[e.isReady,e.query])},A=["theme"],d=(0,i.createContext)({}),h=function(e){var t=e.children,n=c(),o=(0,i.useMemo)(function(){return n},[n]);return(0,i.useEffect)(function(){a()(n)||function(e){var t=new URL(location.origin+location.pathname),n=!0,r=!1,i=void 0;try{for(var o,a=A[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e[s]&&t.searchParams.set(s,e[s])}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}window.history.replaceState(null,"",t.toString())}(n)},[n]),(0,r.jsx)(d.Provider,{value:o,children:t})};t.ZP=d},24600:function(e,t,n){"use strict";n.d(t,{N:function(){return E},Z:function(){return C}});var r=n(98788),i=n(47842),o=n(70865),a=n(96670),s=n(87394),l=n(22970),u=n(52322),c=n(5632),A=n(54073),d=n.n(A),h=n(2784),f=n(21987),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,h.useState)(e),n=t[0],r=t[1];return[n,{on:(0,h.useCallback)(function(){r(!0)},[]),off:(0,h.useCallback)(function(){r(!1)},[]),toggle:(0,h.useCallback)(function(){r(function(e){return!e})},[])}]},g=n(11269),m=n(96933),v=n(45403),y=n(42541),b=n(66842),w=n(89960),_=(0,f.kr)(void 0),E=function(e){var t=e.children,n=(0,g.LP)(),A=(0,v.Pe)(),f=(0,m.II)(),E=(0,s.Z)(p(!1),2),C=E[0],B=E[1],x=B.on,I=B.off,T=(0,h.useState)({}),S=T[0],k=T[1],N=(0,c.useRouter)(),D=(0,h.useState)(!1),O=D[0],R=D[1],F=(0,h.useState)([]),L=F[0],U=F[1],P=(0,h.useState)(""),M=P[0],j=P[1];(0,h.useEffect)(function(){var e,t;f&&(null==(t=(e=A.search).setCurrentUserId)||t.call(e,f))},[f]);var Z=(0,h.useCallback)(function(){M.length&&N.query[b.KU]!==M&&N.replace({query:(0,a.Z)((0,o.Z)({},N.query),(0,i.Z)({},b.KU,M))},void 0,{shallow:!0})},[M,N]),Q=(0,h.useMemo)(function(){var e;return n?{teamId:n,isArchived:null!=(e=null==S?void 0:S.isArchived)&&e,folderId:S.folderId,ownerId:S.isOwner&&f?f:void 0,isPrivate:!!S.isPrivate||void 0}:null},[n,S.folderId,null==S?void 0:S.isArchived,S.isOwner,S.isPrivate,f]),H=(0,h.useMemo)(function(){var e;return d()((e=(0,r.Z)(function(e,t){var n;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),y.Z.trackEvent("search","search",{query:e}),[4,A.search.search({query:e,filters:t,hitsPerPage:50})];case 1:return U(r.sent().hits),[3,4];case 2:return n=r.sent(),(0,w.Tb)(n),U([]),[3,4];case 3:return R(!1),[7];case 4:return[2]}})}),function(t,n){return e.apply(this,arguments)}),300)},[]);(0,h.useEffect)(function(){return function(){H.cancel()}},[H]),(0,h.useEffect)(function(){if(!M||!Q){H.cancel(),U([]),R(!1);return}R(!0),H(M,Q)},[M,Q,H]);var V=(0,h.useCallback)(function(){j(""),I(),k({})},[I]),K=(0,h.useMemo)(function(){return{hits:L,query:M,isLoading:O,onSearchBarOpen:x,onSearchBarClose:V,isSearchBarOpen:C,onInputChange:j,setPassedFilters:k,saveRouteToHistory:Z}},[L,M,O,x,V,C,Z]);return(0,u.jsx)(_.Provider,{value:K,children:t})},C=_},65850:function(e,t,n){"use strict";n.d(t,{Gy:function(){return S},fr:function(){return D},cf:function(){return k},AR:function(){return N}});var r,i=n(98788),o=n(90581),a=n(21218),s=n(20624),l=n(39309),u=n(22970),c=n(52322),A=n(2784),d=n(5632),h=n(21987),f=n(20097),p=n(96933),g=n(45403),m=n(71059),v=n(99669),y=n(45594),b=n(45262),w=n(42541),_=n(20985),E=n(67640),C=n(89960),B=(r=(0,i.Z)(function(e){var t,n,r;return(0,u.__generator)(this,function(i){switch(i.label){case 0:if(!(t=(0,_.yh)()))return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,E.Z.post("workspace/transfer",{token:t,teamId:e})];case 2:return n=i.sent(),w.Z.trackEvent("workspace","transfer",{count:n}),(0,b.f)(),(0,_.wR)(),[3,4];case 3:return r=i.sent(),(0,C.Tb)(r),[3,4];case 4:return[2]}})}),function(e){return r.apply(this,arguments)}),x=n(43789),I=n(64442),T="team-id",S=(0,h.kr)(void 0),k=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return n}((0,s.Z)(Error));function N(){v.J.removeItem(T)}var D=function(e){var t,n,r,o=e.children,a=(0,p.II)(),s=(0,d.useRouter)(),l=(0,p.g5)(),h=(0,g.Pe)(),w=(0,I.l)().register,_=(0,A.useState)((0,y.rj)()),E=_[0],C=_[1],D=(0,A.useState)(),O=D[0],R=D[1],F=(0,A.useState)(),L=F[0],U=F[1],P=(0,A.useState)(function(){return v.J.getItem(T)||void 0}),M=P[0],j=P[1],Z=(0,A.useState)(),Q=Z[0],H=Z[1],V=(0,A.useRef)(!0),K=(0,A.useState)(new Map),z=K[0],G=K[1],W=(0,x.K)(M).organization;(0,A.useEffect)(function(){var e,t=function(e){var t=(0,y.rj)(e);t&&C(t)};return null==(e=s.events)||e.on("routeChangeStart",t),function(){var e;null==(e=s.events)||e.off("routeChangeStart",t)}},[s.events]);var q=(0,A.useCallback)(function(e,t){v.J.setItem(T,e),j(e),H(e),(null==t?void 0:t.shouldResetFolder)&&s.replace("/all")},[s]);(0,A.useEffect)(function(){return l||!M?void U(null):h.teams.subscribeById(M,U)},[M,l]),(0,A.useEffect)(function(){var e,t=null==L||null==(e=L.config)?void 0:e.iconUrl;t&&(new Image().src=t)},[null==L||null==(n=L.config)?void 0:n.iconUrl]),(0,A.useEffect)(function(){if(l&&a){V.current=!1,R([]);return}if(R(void 0),a)return h.userTeams.subscribeByUserId(a,function(e){R(e),V.current&&(V.current=!1)})},[a,l]),(0,A.useEffect)(function(){if(!(null==O?void 0:O.length))return void G(new Map);var e=O.map(function(e){return h.teams.subscribeById(e.teamId,function(e){e&&G(function(t){var n=new Map(t);return n.set(e.id,e),n})})});return function(){e.forEach(function(e){return e()})}},[O]),(0,A.useEffect)(function(){l||!M||v.J.getItem(b.B)&&B(M).catch(console.error)},[l,M]);var $=(0,A.useCallback)(function(){N(),j(void 0),U(void 0),H(void 0)},[]);(0,A.useEffect)(function(){Q&&(null==O?void 0:O.some(function(e){return e.teamId===Q}))&&H(void 0)},[Q,O]),(0,A.useEffect)(function(){if(Q){var e=setTimeout(function(){console.warn("[TeamContext] Pending team switch timeout - clearing pendingTeamId",{pendingTeamId:Q}),H(void 0)},1e4);return function(){clearTimeout(e)}}},[Q]),(0,m.Z)(function(){var e=null!=O,t=!(null==O?void 0:O.length),n=M&&e&&!O.find(function(e){return e.teamId===M});Q&&M===Q||V.current&&M||(M&&e&&n?$():M||t||O.some(function(e){if(e.role===f.i.Admin)return q(e.teamId),!0})||q(O[0].teamId))},[O,M,$,q,Q]);var Y=(0,A.useMemo)(function(){return new Set(null==O?void 0:O.map(function(e){return e.teamId}))},[O]);(0,A.useEffect)(function(){W&&a?W.admins.some(function(e){return e.userId===a})&&w("goToOrganization",{action:function(){s.push("/organization/dashboard")},isHidden:function(){return s.pathname.startsWith("/organization")}}):w("goToOrganization",{isHidden:function(){return!0}})},[W,a,w,s]);var J=(0,A.useMemo)(function(){return new Set(Array.from(null!=(r=null==z?void 0:z.values())?r:[]).map(function(e){return null==e?void 0:e.name}).filter(Boolean))},[z]),X=(0,A.useCallback)((t=(0,i.Z)(function(e,t){var n;return(0,u.__generator)(this,function(r){switch(r.label){case 0:if(t.name){if(n=t.name,L&&n===L.name);else if(J.has(n))throw new k("That team name is already in use.")}return[4,h.teams.updateTeam(e,t)];case 1:return[2,r.sent()]}})}),function(e,n){return t.apply(this,arguments)}),[J,L]);return(0,c.jsx)(S.Provider,{value:{userTeams:O,resetTeam:$,updateTeam:X,switchTeam:q,userTeamIds:Y,currentTeam:L,currentTeamId:M,currentTeamPlan:null==L?void 0:L.plan,currentTeamOrganization:W,lastVisitedWorkspaceId:E,userTeamsById:z,isPendingTeamSwitch:!!Q},children:o})}},44371:function(e,t,n){"use strict";n.d(t,{Hq:function(){return m},ZP:function(){return v},a1:function(){return f}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(62202),l=n(98156),u=n.n(l),c=function(e){var t=e.message;return t?(0,o.jsx)("div",{className:u().container,"data-testid":"toast",children:(0,o.jsx)("span",{children:t})}):null},A=function(e){return null===e?null:function(t){if("function"==typeof e){var n=e(t);return(0,o.jsx)(c,(0,i.Z)((0,r.Z)({},t),{message:n}))}return(0,o.jsx)(c,(0,i.Z)((0,r.Z)({},t),{message:e}))}},d=function(e){return function(t,n){var i;if("custom"===e)i=s.ZP[e](t,(0,r.Z)({},n));else if("blank"===e)i=(0,s.ZP)(A(t),(0,r.Z)({},n));else{var o=A(t);i=o?s.ZP[e](o,(0,r.Z)({},n)):""}return i}},h=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return d("blank")(e,t)};f.error=d("error"),f.custom=d("custom"),f.success=d("success"),f.loading=d("loading"),f.remove=s.ZP.remove,f.dismiss=s.ZP.dismiss,f.promise=function(e,t,n){var i=f.loading(t.loading,(0,r.Z)({},n,null==n?void 0:n.loading));return e.then(function(e){return f.success(h(t.success,e),(0,r.Z)({id:i},n,null==n?void 0:n.success)),e}).catch(function(e){f.error(h(t.error,e),(0,r.Z)({id:i},n,null==n?void 0:n.error))}),e};var p={className:u().blank,error:{className:u().error},loading:{className:u().loading},success:{className:u().success}},g=(0,a.createContext)(f),m=function(e){var t=e.children;return(0,o.jsxs)(g.Provider,{value:f,children:[t,(0,o.jsx)(s.x7,{"data-testid":"toaster",position:"bottom-left",reverseOrder:!1,toastOptions:p})]})},v=g},47311:function(e,t,n){"use strict";n.d(t,{S:function(){return d},f:function(){return h}});var r=n(52322),i=n(2784),o=n(5632),a=n(21987),s=n(57685),l=n(71059),u=n(45403),c=n(60324),A=n(89960),d=(0,a.kr)({user:void 0,authUser:void 0,isLoaded:!1}),h=function(e){var t=e.children,n=(0,i.useState)(),a=n[0],h=n[1],f=(0,i.useState)(),p=f[0],g=f[1],m=(0,i.useState)(!1),v=m[0],y=m[1],b=(0,s.K)(),w=(0,u.Pe)(),_=(0,o.useRouter)(),E=(0,i.useRef)();return(0,i.useEffect)(function(){var e=function(){return y(!0)};return h(w.currentUser.getAuthUser()),w.currentUser.on(w.currentUser.Events.AuthUserChanged,h),g(w.currentUser.getCurrentUser()),w.currentUser.on(w.currentUser.Events.UserChanged,g),y(w.currentUser.isUserLoaded()),w.currentUser.on(w.currentUser.Events.UserLoaded,e),function(){w.currentUser.off(w.currentUser.Events.UserChanged,g),w.currentUser.off(w.currentUser.Events.AuthUserChanged,h),w.currentUser.off(w.currentUser.Events.UserLoaded,e)}},[]),(0,i.useEffect)(function(){E.current=_.asPath;var e=function(e){var t=E.current&&(0,c.q)(E.current),n=(0,c.q)(e);E.current=e,!t||n||w.currentUser.getAuthUser()||w.currentUser.signInAnonymously().catch(A.Tb)};return _.events.on("routeChangeComplete",e),function(){_.events.off("routeChangeComplete",e)}},[_.events]),(0,l.Z)(function(){if(null==b?void 0:b.name){var e,t;w.currentUser.setDisplayNameForCurrentSession((e=atob(b.name),t=Uint8Array.from(e,function(e){return e.charCodeAt(0)}),new TextDecoder("utf-8").decode(t)))}},[null==b?void 0:b.name]),(0,r.jsx)(d.Provider,{value:{user:p,authUser:a,isLoaded:v},children:t})}},38947:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var r=(0,n(21987).kr)({})},51105:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,i=n(70865),o=n(96670),a=n(26297),s=n(52322),l=n(2784);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var c=function(e){return l.createElement("svg",u({width:11,height:11,viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.2 9.748V0h.733v9.748l1.574-1.574.519.519-2.2 2.2a.367.367 0 01-.519 0l-2.2-2.2.519-.519L2.2 9.748zM11 2.933H6.6V2.2H11v.733zM9.533 5.867H6.6v-.734h2.933v.734zM8.067 8.8H6.6v-.733h1.467V8.8z",fill:"currentColor"})))},A=n(88404),d=n(3635),h=n(75594),f=n.n(h);function p(e){var t=e.column,n=e.children,r=e.orderBy,i=e.orderDir,o=e.updateOrder,a=t.id,l=t.flex,u=t.orderKey,h=t.headerClassName,p=r&&u===r;return(0,s.jsx)("div",{className:(0,d.Z)(f().item,h),style:{flex:null!=l?l:1},children:(0,s.jsxs)("div",{onClick:function(){u&&o(u)},className:(0,d.Z)(f().headItem,p&&f().headItemActive,!!(u&&r)&&f().headItemSortable),"data-testid":"table-header-".concat(a),children:[(0,s.jsx)(A.J,{icon:c,style:{display:p?"flex":"none",transform:"asc"===i?"rotate(180deg)":void 0},"data-testid":"table-header-".concat(a,"-icon-").concat(i)}),n]})})}var g=n(17371),m=n.n(g),v=function(e){var t=e.className,n=e.columns,r=e.hideBorder,l=(0,a.Z)(e,["className","columns","hideBorder"]);return(0,s.jsx)("div",{className:(0,d.Z)(m().tableHeader,r&&m().noBorder,t),children:Object.values(n).map(function(e){return(0,s.jsx)(p,(0,o.Z)((0,i.Z)({column:e},l),{children:e.title}),e.id)})})}},69071:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(70865),i=n(96670),o=n(50930),a=n(2784),s=n(11929),l=n(27196);function u(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).startLoading,n=(0,a.useState)({result:void 0,loading:null!=t&&t,error:null}),i=n[0],s=n[1],l=(0,a.useRef)(e);l.current=e;var u=(0,a.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s({result:void 0,loading:!0,error:null}),l.current.apply(l,(0,o.Z)(t)).then(function(e){s({result:e,loading:!1,error:null})}).catch(function(e){s({result:void 0,loading:!1,error:e})})},[]),c=(0,a.useCallback)(function(){s({result:void 0,loading:!1,error:null})},[]);return(0,r.Z)({execute:u,reset:c},i)}t.Z=function(e,t){var n=(0,s.UK)(e,t);return(0,i.Z)((0,r.Z)({},n),{execute:(0,l.W6)(n.execute),set:(0,l.W6)(n.set),merge:(0,l.W6)(n.merge),reset:(0,l.W6)(n.reset)})}},95114:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){var t=(0,r.useRef)();return void 0===t.current&&(t.current=e()),t.current}},95634:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){(0,r.useEffect)(function(){var t=function(t){"Escape"===t.key&&(null==e||e(t))};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}},[e])}},19275:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(70865),i=n(2784),o=function(e){var t=(0,i.useState)(e),n=t[0],o=t[1];return[n,(0,i.useCallback)(function(e){return o(function(t){return(0,r.Z)({},t,e)})},[]),o]}},33562:function(e,t,n){"use strict";n.d(t,{b1:function(){return l},lq:function(){return u}});var r=n(70865),i=n(52322),o=n(2784),a=n(61049),s=n.n(a),l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return(0,o.createElement)(t,{},e)},(0,i.jsx)(o.Fragment,(0,r.Z)({},e)))}};function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach(function(t){if(null!=t){if(s()(t))return void t(e);try{t.current=e}catch(n){throw Error("Cannot assign value '".concat(e,"' to ref '").concat(t,"'"))}}})}}},11269:function(e,t,n){"use strict";n.d(t,{Ad:function(){return A},DJ:function(){return o},K:function(){return m},LP:function(){return d},MV:function(){return c},Rs:function(){return h},S5:function(){return s},T3:function(){return u},Zj:function(){return p},bB:function(){return f},lh:function(){return a},mZ:function(){return l},p3:function(){return v},vn:function(){return g}});var r=n(21987),i=n(65850),o=function(){return(0,r.Sz)(i.Gy,function(e){return e||{}})},a=function(){return(0,r.Sz)(i.Gy,function(e){return null==e?void 0:e.userTeams})},s=function(){return(0,r.Sz)(i.Gy,function(e){return null==e?void 0:e.lastVisitedWorkspaceId})},l=function(){return(0,r.Sz)(i.Gy,function(e){return e.userTeamIds})},u=function(e){return l().has(e)},c=function(){return(0,r.Sz)(i.Gy,function(e){return void 0!==(null==e?void 0:e.userTeams)})},A=function(){return(0,r.Sz)(i.Gy,function(e){var t;return!(null==(t=null==e?void 0:e.userTeams)?void 0:t.length)})},d=function(){return(0,r.Sz)(i.Gy,function(e){var t;return null==e||null==(t=e.currentTeam)?void 0:t.id})},h=function(){return(0,r.Sz)(i.Gy,function(e){return null==e?void 0:e.currentTeam})},f=function(){return(0,r.Sz)(i.Gy,function(e){return e.switchTeam})},p=function(){return(0,r.Sz)(i.Gy,function(e){return null==e?void 0:e.resetTeam})},g=function(){return(0,r.Sz)(i.Gy,function(e){return null==e?void 0:e.currentTeamPlan})},m=function(){return(0,r.Sz)(i.Gy,function(e){return null==e?void 0:e.userTeamsById})},v=function(){return[h(),f(),p()]}},14670:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(2784),i=n(50389),o=n(45403),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,r.useState)(),s=a[0],l=a[1],u=(0,o.Pe)();(0,r.useEffect)(function(){if(l(void 0),e)return u.userTeams.subscribeByTeamId(e,l)},[e]);var c=n.internalOnly;return(0,r.useMemo)(function(){if(s)return s.filter(function(e){return(!t||e.userId!==t)&&(!c||!!(0,i.pc)(e))})},[s,t,c])};t.Z=a},43789:function(e,t,n){"use strict";n.d(t,{K:function(){return A}});var r=n(2784),i=n(98788),o=n(22970),a=n(67640);function s(){return(s=(0,i.Z)(function(e){var t,n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,a.Z.get("/teams/".concat(e,"/organization"))];case 1:return[2,null!=(n=null==(t=r.sent())?void 0:t.data)?n:null]}})})).apply(this,arguments)}var l=function(e){return s.apply(this,arguments)},u=n(69071),c=n(96933);function A(e){var t=(0,c.g5)(),n=(0,c.TZ)(),i=(0,u.f)(l),o=i.execute,a=i.loading,s=i.error,A=i.result,d=i.reset;return(0,r.useEffect)(function(){e&&!t&&n?o(e):d()},[e,o,d,t,n]),{organization:A,loading:a,error:s}}},10847:function(e,t,n){"use strict";n.d(t,{E:function(){return u}});var r=n(98788),i=n(22970),o=n(2784),a=n(45403),s=n(28065),l=n(43446);function u(e){var t=(0,a.Pe)(),n=(0,l.Z)(),u=(0,o.useState)({value:void 0,isLoading:!0}),c=u[0],A=u[1];return(0,o.useEffect)(function(){function o(){return(o=(0,r.Z)(function(){var r;return(0,i.__generator)(this,function(i){switch(i.label){case 0:return[4,t.appSettings.readConfigValue(e).catch(function(){})];case 1:return r=i.sent(),n()&&A({value:(0,s.g)(e,r),isLoading:!1}),[2]}})})).apply(this,arguments)}A({value:void 0,isLoading:!0}),!function(){o.apply(this,arguments)}()},[e]),c}},34224:function(e,t,n){"use strict";var r=n(2784),i=n(2595);t.Z=function(){var e=(0,i.Z)();return(0,r.useCallback)(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Copied to clipboard";navigator.clipboard.writeText(t).then(function(){return e.success(n)}).catch(function(){return e("An error has occured")})},[])}},45403:function(e,t,n){"use strict";n.d(t,{IA:function(){return u},Mg:function(){return d},Pe:function(){return l},_z:function(){return A},fz:function(){return c},z6:function(){return s.z}});var r=n(2784),i=n(42091),o=n(11269),a=n(27196),s=n(830),l=function(){return(0,r.useContext)(i.i)};function u(e){var t=(0,r.useState)(),n=t[0],i=t[1],s=l(),u=(0,o.LP)(),c=(0,a.ZS)(e);return(0,r.useEffect)(function(){if(i(void 0),u){var e,t=c.current(s),n=null==(e=t.subscribeByTeam)?void 0:e.call(t,u,function(e){return i(e)});return function(){null==n||n()}}},[u]),n}function c(e,t){var n=(0,r.useState)(),i=n[0],o=n[1],s=l(),u=(0,a.ZS)(e);return(0,r.useEffect)(function(){if(o(void 0),t){var e,n=u.current(s),r=null==(e=n.subscribeByWorkspace)?void 0:e.call(n,t,function(e){return o(e)});return function(){null==r||r()}}},[t]),i}function A(e,t){var n=(0,r.useState)(),i=n[0],o=n[1],s=l(),u=(0,a.ZS)(e);return(0,r.useEffect)(function(){if(!t)return void o(void 0);o(void 0);var e,n=u.current(s),r=null==(e=n.subscribeByUser)?void 0:e.call(n,t,function(e){return o(e)});return function(){null==r||r()}},[t]),i}function d(e,t){var n=(0,r.useState)(),i=n[0],o=n[1],s=l(),u=(0,a.ZS)(e);return(0,r.useEffect)(function(){if(o(void 0),t){var e,n=u.current(s),r=null==(e=n.subscribeById)?void 0:e.call(n,t,function(e){return o(e)});return function(){null==r||r()}}},[t]),i}},830:function(e,t,n){"use strict";n.d(t,{t:function(){return i},z:function(){return o}});var r,i=function(e){r=e},o=function(){if(!r)throw Error("DataLayer not initialized");return r}},57685:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(2784),i=n(23630),o=function(){return(0,r.useContext)(i.ZP)}},16962:function(e,t,n){"use strict";n.d(t,{Dv:function(){return a},MO:function(){return c},O6:function(){return s},Rx:function(){return o},Sr:function(){return u},nR:function(){return l}});var r=n(21987),i=n(24600),o=function(){return(0,r.Sz)(i.Z,function(e){return{onInputChange:e.onInputChange,query:e.query,saveRouteToHistory:e.saveRouteToHistory}})},a=function(){return(0,r.Sz)(i.Z,function(e){return e.query.length>0})},s=function(){return(0,r.Sz)(i.Z,function(e){return e.hits})},l=function(){return(0,r.Sz)(i.Z,function(e){return e.isLoading})},u=function(){return(0,r.Sz)(i.Z,function(e){return{setPassedFilters:e.setPassedFilters}})},c=function(){return(0,r.Sz)(i.Z,function(e){return{onSearchBarClose:e.onSearchBarClose,onSearchBarOpen:e.onSearchBarOpen,isSearchBarOpen:e.isSearchBarOpen}})}},2595:function(e,t,n){"use strict";var r=n(2784),i=n(44371);t.Z=function(){return(0,r.useContext)(i.ZP)}},96933:function(e,t,n){"use strict";n.d(t,{Dh:function(){return p},Fl:function(){return d},II:function(){return u},TF:function(){return s},TZ:function(){return h},ZE:function(){return c},aF:function(){return A},fC:function(){return l},g5:function(){return f}});var r,i,o=n(21987),a=n(47311),s=function(e){return null==(r=null==e?void 0:e.isAnonymous)||r},l=function(){return(0,o.Sz)(a.S,function(e){return e.authUser})},u=function(){return(0,o.Sz)(a.S,function(e){var t;return null==(t=e.authUser)?void 0:t.id})},c=function(){return(0,o.Sz)(a.S,function(e){var t;return null==(t=e.authUser)?void 0:t.displayName})},A=function(){return(0,o.Sz)(a.S,function(e){return e.user})},d=function(){var e;return null==(e=A())?void 0:e.userSettings},h=function(){return(0,o.Sz)(a.S,function(e){return e.isLoaded})},f=function(){return(0,o.Sz)(a.S,function(e){return s(e.authUser)})},p=function(){return(0,o.Sz)(a.S,function(e){var t;return null!=(i=null==(t=e.authUser)?void 0:t.providerId)?i:null})}},2332:function(e,t,n){"use strict";n.d(t,{BV:function(){return c},Gr:function(){return u},Kb:function(){return A},_K:function(){return l}});var r=n(2784),i=n(89960),o=n(23143),a=n(45403),s=n(85279),l=new Map,u=function(e,t){var n,s=(0,a.Pe)(),u=(0,r.useState)(e&&null!=(n=l.get(e))?n:null),c=u[0],A=u[1];return(0,r.useEffect)(function(){if(e){if(e===o.Pq)return void A(o.ff);if(t)return s.userProfiles.subscribeById(e,function(t){t&&(l.set(e,t),A(t))});s.userProfiles.fetchById(e).then(function(t){t&&(l.set(e,t),A(t))}).catch(function(t){(0,i.Tb)(Error("Failed to fetch user profile for ".concat(e),{cause:t}))})}},[e,t]),c},c=function(e){var t,n=(0,r.useState)(!1),i=n[0],o=n[1],u=(0,a.Pe)(),c=(0,r.useRef)(new Set),A=null!=(t=null==e?void 0:e.filter(function(e){return!l.has(e)&&!c.current.has(e)}))?t:[];return(0,r.useEffect)(function(){i||0===A.length||((0,s.b)(c.current,A),o(!0),u.userProfiles.fetchByIds(A).then(function(e){e.forEach(function(e){return l.set(e.id,e)})}).finally(function(){return o(!1)}))},[A,i]),(0,r.useMemo)(function(){return null==e?void 0:e.map(function(e){return l.get(e)}).filter(Boolean)},[e,i])},A=function(e){var t=(0,a.IA)(function(e){return e.knownPeople});return(0,r.useMemo)(function(){var n;return null==t?void 0:t.filter(function(t){return null==e?void 0:e.includes(null!=(n=t.userId)?n:t.id)})},[e,t])};t.ZP=u},39183:function(e,t,n){"use strict";n.d(t,{JP:function(){return A},Rx:function(){return h},S$:function(){return g},Z0:function(){return v},aq:function(){return p},bm:function(){return l},cF:function(){return u},mT:function(){return c},sx:function(){return m},t6:function(){return y},u0:function(){return d},vP:function(){return f}});var r=n(2784),i=n(21987),o=n(38947),a=n(32472),s=function(e){return void 0!==e},l=function(){return(0,i.Sz)(o.e,function(e){return e})},u=function(){return(0,i.Sz)(o.e,function(e){return e.workspace})},c=function(){return(0,i.Sz)(o.e,function(e){var t;return null==(t=e.workspace)?void 0:t.id})},A=function(){return(0,i.Sz)(o.e,function(e){var t;return null==(t=e.workspace)?void 0:t.teamId})},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.SF,t=(0,i.Sz)(o.e,function(e){var t;return null==(t=e.workspace)?void 0:t.title});return(0,r.useMemo)(function(){return t&&t.trim().length>0?t:e},[t,e])},h=function(){return(0,i.Sz)(o.e,function(e){return s(e.workspace)&&void 0!==e.access})},f=function(){return(0,i.Sz)(o.e,function(e){var t=e.workspace;return s(t)&&null!==t})},p=function(){return(0,i.Sz)(o.e,function(e){return e.environment})},g=function(){return"integration"===p()},m=function(){return(0,i.Sz)(o.e,function(e){return e.access})},v=function(){return(0,i.Sz)(o.e,function(e){var t;return null==(t=e.workspace)?void 0:t.folderId})},y=function(){return(0,i.Sz)(o.e,function(e){return e.workspace&&e.access&&!e.access.isReadOnly&&!e.workspace.isArchived})};t.ZP=u},25300:function(e,t,n){"use strict";var r=n(98788),i=n(42838),o=n(70865),a=n(26297),s=n(22970),l=n(5632),u=n.n(l),c=n(69071),A=n(11269),d=n(51516),h=n(2595),f=n(96933),p=n(3552),g=n(24066),m=n(27196),v=n(70599),y=n(42541);t.Z=function(){var e,t,n=(0,h.Z)(),l=(0,f.II)(),b=(0,A.LP)(),w=(0,d.Y)().openSettingsModal,_=(0,c.Z)((e=(0,r.Z)(function(e,t){var n,r,i,o,a,l,c,A,d=arguments;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return i=void 0===(r=(n=d.length>2&&void 0!==d[2]?d[2]:{}).redirect)||r,a=void 0===(o=n.query)?{}:o,[4,(0,p.M)(e,t)];case 1:if(l=s.sent(),!i)return[3,3];return c="/workspace/".concat(l.id),(A=new URLSearchParams(a).toString())&&(c+="?".concat(A)),[4,u().push(c)];case 2:s.sent(),s.label=3;case 3:return[2,l]}})}),function(t,n){return e.apply(this,arguments)})),E=function(e){return(0,i.Z)(e,g.W)?(y.Z.trackEvent("payment","open_billing_pane",{featureName:v.M$.Workspaces,source:"paywallNotification"}),w({openedPane:"plans",paywallError:e,paywallFeature:v.M$.Workspaces}),n.dismiss(),null):"Error creating file"};return{loading:_.loading,request:(0,m.W6)((t=(0,r.Z)(function(e,t){var r,i,u,c,A,d,h,f=arguments;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:{},_.loading||!l)return[2];return u=void 0===(i=t.title)?"":i,c=(0,a.Z)(t,["title"]),A=r.toastMessages,d=r.toastOptions,h=(0,o.Z)({teamId:b,ownerId:l,title:u},c),[4,n.promise(_.execute(h,e,r),null!=A?A:{loading:"Creating file",success:"Created file",error:E},null!=d?d:{success:{duration:1e3}})];case 1:return[2,s.sent()]}})}),function(e,n){return t.apply(this,arguments)}))}}},24930:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r,i=n(42838),o=n(2784),a=n(62202),s=n(69071),l=n(42541),u=n(98788),c=n(22970),A=n(70599),d=n(92477),h=n(45403),f=(r=(0,u.Z)(function(e){var t,n,r;return(0,c.__generator)(this,function(i){switch(i.label){case 0:if(t=e.file,n=e.folderId,r=e.teamId,!0!==t.isArchived)return[3,2];return[4,d.j.validateLimitedFeature({featureName:A.M$.Workspaces,teamArg:r})];case 1:i.sent(),i.label=2;case 2:return[2,(0,h.z6)().workspaces.updateById(t.id,{folderId:n,teamId:r,isArchived:!1})]}})}),function(e){return r.apply(this,arguments)}),p=n(51516),g=n(24066),m=function(){var e=(0,s.Z)(f),t=(0,p.Y)().openSettingsModal;return(0,o.useCallback)(function(n){var r=n.file,o=n.folderId,s=n.onClose,u=n.teamId;null==s||s(),void 0!==o&&u&&a.ZP.promise(e.execute({file:r,folderId:o,teamId:u}),{loading:"Moving file",success:"Moved file",error:function(e){return(0,i.Z)(e,g.W)?(t({paywallError:e,paywallFeature:A.M$.Workspaces,openedPane:"plans"}),a.ZP.dismiss(),null):"Error moving file"}}).then(function(){return l.Z.trackEvent("folders","move_workspace",{eventSource:"modal"})})},[e,t])}},32148:function(e,t,n){"use strict";n.d(t,{o:function(){return p}});var r=n(98788),i=n(42838),o=n(22970),a=n(96933),s=n(2784),l=n(69071),u=n(2595),c=n(51516),A=n(24066),d=n(45403),h=n(70599),f=n(92477),p=function(e){var t,n=e.workspaceId,p=e.isArchived,g=e.currentTeamId,m=e.workspaceTeamId,v=(0,u.Z)(),y=(0,a.II)(),b=(0,d.Pe)(),w=(0,l.Z)(function(e,t){return b.workspaces.updateById(e,{isArchived:!0,archivedAt:Date.now(),archivedBy:t})}),_=(0,l.Z)((t=(0,r.Z)(function(e,t){return(0,o.__generator)(this,function(n){switch(n.label){case 0:return[4,f.j.validateLimitedFeature({featureName:h.M$.Workspaces,teamArg:t})];case 1:return n.sent(),[2,b.workspaces.updateById(e,{isArchived:!1})]}})}),function(e,n){return t.apply(this,arguments)})),E=(0,c.Y)().openSettingsModal;return(0,s.useCallback)(function(){if(!(g&&m&&g===m))return void v.error("You need to be on the correct team to do that.");var e=function(){return w.execute(n,y)},t="Archiving a file",r="File has been archived successfully";p&&(e=function(){return _.execute(n,g)},t="Restoring a file",r="File has been restored successfully"),v.promise(e(),{loading:t,success:r,error:function(e){return(0,i.Z)(e,A.W)?(E({paywallError:e,paywallFeature:h.M$.Workspaces,openedPane:"plans"}),v.dismiss(),null):"Error ".concat(t)}},{success:{duration:1e3}})},[w,p,n,_,g,y,m,E])}},2600:function(e,t,n){"use strict";n.d(t,{X:function(){return g}});var r=n(42838),i=n(70865),o=n(96670),a=n(5632),s=n.n(a),l=n(69071),u=n(2595),c=n(24066),A=n(70599),d=n(42541),h=n(51516),f=n(67640),p=function(e){return f.Z.post("workspace/copy",e)},g=function(){var e=(0,u.Z)(),t=(0,l.Z)(p),n=(0,h.Y)().openSettingsModal;return{loading:t.loading,request:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=a.workspaceId,h=a.teamId;if(u&&h&&!t.loading){a.isFromTemplate&&d.Z.trackEvent("template","use",{templateId:u,teamId:h});var f=l.reload,p=l.openInNewTab,g=l.stayOnPage;e.promise(t.execute((0,o.Z)((0,i.Z)({},a),{workspaceId:u,teamId:h})),{success:"Duplicated file",loading:"Duplicating file",error:function(t){return(0,r.Z)(t,c.W)?(n({openedPane:"plans",paywallError:t,paywallFeature:A.M$.Workspaces}),e.dismiss(),null):"Error duplicating file"}},{success:{duration:1e3}}).then(function(e){if(e){var t="/workspace/".concat(e.workspaceId);if(f&&p)window.open(location.origin+t,"_blank");else if(f)location.replace(window.location.origin+t);else if(!g)return s().push(t)}})}}}}},27038:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(98788),i=n(22970),o=n(67640);function a(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(function(e){var t;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return t=window.location.hostname.includes("qa--pr")?"?redirectDomain="+window.location.hostname:"",[4,o.Z.get("sso/redirect/".concat(encodeURIComponent(e)).concat(t))];case 1:return[2,n.sent().url]}})})).apply(this,arguments)}},59644:function(e,t,n){"use strict";n.d(t,{$w:function(){return h},yx:function(){return f}});var r=n(52322),i=n(5632),o=n(2784),a=n(57517),s=n(4126),l=n(64442),u=n(15765),c=n(70599),A=n(11269),d=(0,o.createContext)({isMouseMoving:{current:!1}}),h=function(){return(0,o.useContext)(d)},f=function(e){var t=e.children,n=(0,i.useRouter)(),h=(0,A.LP)(),f=(0,s.F)().toggleTheme,p=(0,o.useRef)(!1),g=(0,l.l)().register,m=(0,a.i)().goToTab,v=(0,u.Q6)(c.AC.PrivateWorkspaces,h);return(0,o.useEffect)(function(){g("toggleDarkMode",f),g("goToDashboard",{action:function(){return m("all")},isHidden:function(){return"/dashboard/all"===n.pathname}}),g("goToArchive",{action:function(){return m("archived")},isHidden:function(){return"/dashboard/archived"===n.pathname}}),g("goToTemplates",{action:function(){return m("templates")},isHidden:function(){return"/dashboard/templates"===n.pathname}}),g("goToPrivateFiles",{action:function(){return m("private")},isHidden:function(){return!v||"/dashboard/private"===n.pathname}})},[g,m,f,n.pathname,v]),(0,r.jsx)(d.Provider,{value:{isMouseMoving:p},children:t})}},60238:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=5},10185:function(e,t,n){"use strict";n.d(t,{N:function(){return l},Q:function(){return s}});var r=n(5632),i=["all","folder","github","search","private","history","archived","unsorted","templates","created-by-me","ai-preset","eraserbot","git-diagram"],o=/^\/dashboard\/([\w-]+)/,a=function(e){return i.includes(e)},s=function(){var e=(0,r.useRouter)();if(e.pathname.startsWith("/folder"))return{tabId:"folder",query:e.query};var t=l(e.pathname);return"string"==typeof t&&a(t)?{tabId:t,query:e.query}:{tabId:"all",query:e.query}};function l(e){if(e.startsWith("/folder"))return"folder";var t,n=null==(t=e.match(o))?void 0:t[1];return"string"==typeof n&&a(n)?n:"all"}},48696:function(e,t,n){"use strict";n.d(t,{MZ:function(){return a},N0:function(){return u},wK:function(){return s}});var r=n(21987),i=n(27729),o=n(10185),a=function(){var e,t=(0,o.Q)(),n=t.tabId,r=t.query;if("folder"===n){var i=r.folderId;return null!=(e=Array.isArray(i)?i[0]:i)?e:""}},s=function(){var e=a();return(0,r.Sz)(i.ZP,function(t){var n=t.foldersMap,r=t.isLoaded;if(!e)return null;if(r){var i=n[e];return i||(console.info("Folder: ".concat(e," not found. Redirecting...")),null)}})},l=/\/folder\/([^?^/]+)/,u=function(e){var t;return null==(t=e.match(l))?void 0:t[1]}},74010:function(e,t,n){"use strict";var r=n(21987),i=n(27729);t.Z=function(){return(0,r.qp)(i.ZP)}},59296:function(e,t,n){"use strict";var r,i;n.d(t,{L:function(){return r}}),(i=r||(r={})).Folder="FOLDER",i.Workspace="WORKSPACE"},85580:function(e,t,n){"use strict";n.d(t,{Q:function(){return f},z:function(){return p}});var r=n(87394),i=n(2784),o=n(39717),a=n(40940),s=n(74010),l=n(59296),u=n(11269),c=n(24930),A=function(e){var t=e.folderId,n=(0,c.Z)(),r=(0,u.LP)();return(0,i.useCallback)(function(e,i){var o=i.getItemType();r&&o===l.L.Workspace&&n({teamId:r,folderId:t,file:e,eventSource:"drag_and_drop"})},[t,n,r])},d=n(75194),h=n(60238),f=function(e){var t=(0,d.d)(),n=(0,r.Z)((0,o.c)({item:e,type:l.L.Folder,canDrag:function(){return!t},collect:function(e){return{isDraggingFolder:e.isDragging()}}}),3);return{isDraggingFolder:n[0].isDraggingFolder,dragRef:n[1],previewRef:n[2]}},p=function(e){var t=e.rootRef,n=e.targetFolder,o=e.onFolderReorder,u=n.id,c=(0,s.Z)().getFolderPath,d=(0,i.useState)("none"),f=d[0],p=d[1],g=A({folderId:n.id}),m=(0,i.useCallback)(function(e,t){t.getItemType()===l.L.Workspace?g(e,t):o&&o({draggingFolder:e,targetFolder:n,folderDropSide:f})},[g,o,n,f]),v=(0,r.Z)((0,a.L)({accept:[l.L.Workspace,l.L.Folder],canDrop:function(e,t){switch(t.getItemType()){case l.L.Folder:return n.id!==e.id;case l.L.Workspace:return!e.isPrivate&&e.folderId!==u;default:return!0}},drop:m,hover:function(e,r){var i=r.canDrop(),o=r.getClientOffset(),a=r.getItem(),s=r.getItemType()===l.L.Folder;if(!(null==t?void 0:t.current)||!o||!i||!s)return void p("none");var u=t.current.getBoundingClientRect(),A=u.top,d=u.height,f=o.y-A<d/2,g=d/4;o.y-A>g&&o.y-A<d-g&&a.parentFolderId!==n.id?c(n.id).length<h.p&&p("on"):f?p("before"):f?p("none"):p("after")},collect:function(e){var t=e.getItemType(),n=e.isOver()&&e.canDrop();return{isDroppingFolder:n&&t===l.L.Folder,isDroppingWorkspace:n&&t===l.L.Workspace}}},[u,m]),2),y=v[0],b=y.isDroppingFolder,w=y.isDroppingWorkspace;return{dropRef:v[1],isDroppingFolder:b,isDroppingWorkspace:w,folderDropSide:f}}},49678:function(e,t,n){"use strict";n.d(t,{Hz:function(){return a},JN:function(){return s},ZN:function(){return A},am:function(){return u},bx:function(){return d},p6:function(){return l}});var r=n(70865),i=n(96670),o=n(50930),a=function(e){if(!e)return{};var t={},n={},o=function(e){n[e.id].sort(function(e,t){return e.order-t.order}).forEach(function(t){e.children.push(t),o(t)})},a=e.filter(function(e){return!e.parentFolderId}).map(function(e){return(0,i.Z)((0,r.Z)({},e),{children:[]})}).sort(function(e,t){return e.order-t.order});return e.forEach(function(e){if(n[e.id]||(n[e.id]=[]),e.parentFolderId){var t=(0,i.Z)((0,r.Z)({},e),{children:[]});n[e.parentFolderId]?n[e.parentFolderId].push(t):n[e.parentFolderId]=[t]}}),a.forEach(function(e){t[e.id]=e,o(e)}),t},s=function(e){var t=[],n=function(e){t.push(e),e.children.sort(function(e,t){return e.order-t.order}).forEach(function(e){return n(e)})};return Object.values(e).forEach(n),t},l=function(e,t){var n=[],r=Object.values(t),i=function(t){return n.push(t),t.id===e||!!t.children.some(i)||(n.pop(),!1)};return r.find(i),n},u=function(e){var t=[],n=[],r=Object.values(e).sort(function(e,t){return e.order-t.order}),i=function(e){n.push(e),t.push((0,o.Z)(n)),e.children.forEach(i),n.pop()};return r.forEach(i),t},c=function(e,t){var n=Object.values(t),r=function(t){if(t.id===e)return t;var n=!0,i=!1,o=void 0;try{for(var a,s=t.children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value,u=r(l);if(u)return u}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}},i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=r(u);if(c)return c}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}},A=function(e,t){var n=[],r=[],i=c(e,t);if(!i)return n;var a=function(e){r.push(e),n.push((0,o.Z)(r)),e.children.forEach(a),r.pop()};return a(i),n},d=function(e,t){var n=t.orderBy;return e&&e.length?["title","createdAt","updatedAt"].includes(n)?("title"===n&&(n="name"),(0,o.Z)(e).sort(function(e,r){var i=0;if(n in e&&n in r&&e[n]&&r[n])switch(n){case"name":i=e.name.localeCompare(r.name);break;case"createdAt":i=(e.createdAt||0)-(r.createdAt||0);break;case"updatedAt":i=(e.updatedAt||0)-(r.updatedAt||0);break;default:i=(e.order||0)-(r.order||0)}return"desc"===t.orderDir?-i:i})):e:[]}},76170:function(e,t,n){"use strict";n.d(t,{k:function(){return f}});var r,i=n(70865),o=n(26297),a=n(52322),s=n(2784);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var u=function(e){return s.createElement("svg",l({fill:"currentColor",width:800,height:800,viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=s.createElement("path",{d:"M234.415 153.533l-27.33-102.485a8 8 0 00-15.22-.748L170.229 108H85.772L64.135 50.3a8 8 0 00-15.22.748l-27.33 102.485a12.028 12.028 0 004.764 12.958l94.82 65.645a12.057 12.057 0 0013.662 0l94.82-65.645a12.028 12.028 0 004.764-12.958zm-9.318 6.381l-94.82 65.645a4.019 4.019 0 01-4.554 0l-94.82-65.645a4.011 4.011 0 01-1.589-4.32L56.644 53.11l22.61 60.295A4 4 0 0083 116h90a4 4 0 003.745-2.596l22.611-60.295 27.33 102.485a4.011 4.011 0 01-1.589 4.32z",stroke:"currentColor",strokeWidth:8})))},c=n(81337),A=n(16060),d=n(99587),h=n(68377);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,h.Dx)(e);t.dark;var r=(0,o.Z)(t,["dark"]);if(t.dark)switch(n){case"gitlab":return(0,a.jsx)(d.Z,(0,i.Z)({},r));case"github":return(0,a.jsx)(A.Z,(0,i.Z)({},r))}else switch(n){case"gitlab":return(0,a.jsx)(u,(0,i.Z)({},r));case"github":return(0,a.jsx)(c.Z,(0,i.Z)({},r))}}},41008:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var r=n(52322),i=n(46131),o=n(90087),a=n(99587),s=n(95162),l=n(88404),u=n(62866),c=n(28563),A=n(48123),d=function(e){var t=e.onGitHubClick,n=e.onGitLabClick,d=e.asLink,h=e.title,f=void 0===h?"Connect new git org":h,p=(0,u.QR)();return(0,r.jsxs)(u.GI,{controller:p,children:[(0,r.jsx)(u.GI.Toggle,{children:void 0!==d&&d?(0,r.jsx)(A.h,{children:f}):(0,r.jsxs)(s.ZP,{variant:s.ZP.Variants.OUTLINE,children:[(0,r.jsx)(l.J,{icon:i.Z,style:{marginRight:8}}),f]})}),(0,r.jsxs)(u.GI.Menu,{children:[t?(0,r.jsx)(c.Z,{icon:(0,r.jsx)(l.J,{icon:o.Z}),onClick:function(){p.closePopup(),t()},explanation:"Add a GitHub Organization",children:"GitHub"}):null,n?(0,r.jsx)(c.Z,{icon:(0,r.jsx)(l.J,{icon:a.Z}),onClick:function(){p.closePopup(),n()},explanation:"Add a GitLab Organization",children:"GitLab"}):null]})]})}},68377:function(e,t,n){"use strict";n.d(t,{Dx:function(){return o},QO:function(){return l},VT:function(){return a},Z9:function(){return i},qX:function(){return s},uT:function(){return u}});var r=n(99618);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"github",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o(e),r=t.long?"gitlab"===n?"merge request":"pull request":"gitlab"===n?"MR":"PR";return t.plural?"".concat(r,"s"):r}function o(e){var t;return null==e?"github":"string"==typeof e?e:null!=(t=null==e?void 0:e.provider)?t:"github"}function a(e){var t=[];switch(e.provider){case"gitlab":t.push("".concat(e.hostUrl||r.Q,"/").concat(e.orgName));break;case"github":t.push("https://github.com/".concat(e.orgName))}return e.repoName&&(t.push(e.repoName),e.prNumber&&t.push("gitlab"===e.provider?"-/merge_requests/".concat(e.prNumber):"/pull/".concat(e.prNumber)),e.commitSha&&t.push("gitlab"===e.provider?"diffs?commit_id=".concat(e.commitSha):"commit/".concat(e.commitSha))),t.join("/")}function s(e){return"github"===e}function l(e){switch(e){case"github":return"GitHub";case"gitlab":return"GitLab";default:return e}}function u(e,t){return e&&t?e.reduce(function(e,n){var r=null!=(s=null==t?void 0:t.get(n.id))?s:[],i=!0,o=!1,a=void 0;try{for(var s,l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;c.disabled||e.push({organizationId:n.id,organizationName:n.name,repositoryId:c.id,repositoryName:c.name,provider:n.provider})}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return e},[]):[]}},77257:function(e,t,n){"use strict";n.d(t,{Ii:function(){return j},DZ:function(){return M},k3:function(){return P}});var r,i,o,a,s,l,u,c=n(98788),A=n(70865),d=n(96670),h=n(22970),f=n(52322),p=n(2784),g=n(30686),m=n(37164),v=n(98156),y=n.n(v),b=n(83423),w=n(67640),_=n(48834).lW,E=(r=(0,c.Z)(function(e){var t;return(0,h.__generator)(this,function(n){return t="git/".concat(e.teamId,"/").concat(e.organizationId,"/repositories"),e.fromDB&&(t+="?fromDB=true"),[2,w.Z.get(t)]})}),function(e){return r.apply(this,arguments)}),C=(i=(0,c.Z)(function(e){return(0,h.__generator)(this,function(t){return[2,w.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/branchNames"))]})}),function(e){return i.apply(this,arguments)}),B=(o=(0,c.Z)(function(e){return(0,h.__generator)(this,function(t){return[2,w.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/defaultBranchName"),{responseType:"text"})]})}),function(e){return o.apply(this,arguments)}),x=(a=(0,c.Z)(function(e){return(0,h.__generator)(this,function(t){return[2,(0,b.RE)("gitHub-batchPull",e)]})}),function(e){return a.apply(this,arguments)}),I=(s=(0,c.Z)(function(e){return(0,h.__generator)(this,function(t){return[2,w.Z.post("git/push",e)]})}),function(e){return s.apply(this,arguments)}),T=(l=(0,c.Z)(function(e){var t;return(0,h.__generator)(this,function(n){return t=_.from(e.filePath).toString("base64"),[2,w.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/").concat(t,"/latestCommit"))]})}),function(e){return l.apply(this,arguments)}),S=function(e,t,n,r){var i=screen.width/2-n/2,o=screen.height/2-r/2;return window.open(t,e,"\n      status=no,\n      toolbar=no,\n      menubar=no,\n      location=no,\n      resizable=no,\n      scrollbars=no,\n      directories=no,\n      copyhistory=no,\n      top=".concat(o,",\n      left=").concat(i,",\n      width=").concat(n,",\n      height=").concat(r,"\n    "))},k=(u=(0,c.Z)(function(e){return(0,h.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,w.Z.get("git/auth/install?teamId=".concat(e))];case 1:return[2,S("Connect your GitHub organization to Eraser",t.sent().redirectUrl,1030,600)];case 2:return console.error("Failed to initiate GitHub installation:",t.sent()),[2,null];case 3:return[2]}})}),function(e){return u.apply(this,arguments)}),N=n(11269),D=n(45403),O=n(2595),R=n(63842),F=function(e){var t=e.error;if(!t)return(0,f.jsx)(f.Fragment,{children:"A server occurred. Please try again later."});if(!t.documentationUrl)return(0,f.jsx)(f.Fragment,{children:t.message});var n=t.message.endsWith(".")?t.message:"".concat(t.message,".");return(0,f.jsxs)("span",{children:[n,"\xa0",(0,f.jsx)(R.d,{href:t.documentationUrl,style:{display:"block"},children:(0,f.jsx)("small",{children:"Learn more"})})]})},L=n(42541),U=(0,p.createContext)({organizations:null,repositoriesMap:null,installApp:function(){},openHelpModal:function(){},configureOrganization:function(){},removeOrganization:function(){},batchPush:function(){return Promise.resolve(void 0)},batchPull:function(){return Promise.resolve(void 0)},updateRepository:function(){return Promise.resolve(void 0)},addRepository:function(){return Promise.resolve("")},getDefaultBranchName:function(){return Promise.resolve("")},listRepositoryBranches:function(){return Promise.resolve([])},getLatestCommitForFile:function(){return Promise.resolve(void 0)},listRepositoriesForOrganization:function(){return Promise.resolve([])},bulkCreateOrganizations:function(){return Promise.resolve()}}),P=function(){return(0,p.useContext)(U)},M=function(e,t){var n=(0,D.Pe)();(0,p.useEffect)(function(){var r=n.git.on(e,t);return function(){r.off(e,t)}},[e,t])},j=function(e){var t,n,r,i,o,a,s,l,u,v,b=e.children,_=(0,O.Z)(),S=(0,N.LP)(),R=(0,D.Pe)(),P=(0,p.useRef)(new g.v),M=(0,p.useState)(null),j=M[0],Z=M[1],Q=(0,p.useState)(null),H=Q[0],V=Q[1];(0,p.useEffect)(function(){if(!S){Z(null),V(null);return}return R.git.subscribeToOrganizations(S,function(e){Z(e)})},[S]),(0,p.useEffect)(function(){if(!S||!j)return void V(null);var e=[];return j.forEach(function(t){var n=R.git.subscribeToRepositories(S,t.id,function(e){V(function(n){var r=n?new Map(n):new Map;return r.set(t.id,e),r})});e.push(n)}),function(){e.forEach(function(e){return e()})}},[S,j]);var K=(t=(0,c.Z)(function(){var e,t;return(0,h.__generator)(this,function(n){switch(n.label){case 0:return L.Z.trackEvent("gitHub-dashboard","add_organization_click"),[4,k(S)];case 1:return e=n.sent(),t=setInterval(function(){e?e.closed&&(clearInterval(t),P.current.emit("onInstallWindowClosed")):clearInterval(t)},300),[2]}})}),function(){return t.apply(this,arguments)}),z=function(e){var t=e.organizationId,n=e.organizationName,r=null==j?void 0:j.find(function(e){return e.id===t});r&&(R.git.configureOrganization(r),L.Z.trackEvent("gitHub-dashboard","configure_organization",{organizationName:n}))},G=(n=(0,c.Z)(function(e){var t,n,r,i,o,a,s,l,u,c,A=arguments;return(0,h.__generator)(this,function(d){switch(d.label){case 0:return r=void 0!==(n=(t=A.length>1&&void 0!==A[1]?A[1]:{}).addMissing)&&n,[4,E({organizationId:e,teamId:S,fromDB:void 0!==(i=t.fromDB)&&i})];case 1:if(o=d.sent().map(function(e){return e.name}),!((null==H?void 0:H.size)&&r)||(l=null==(a=H.get(e))?void 0:a.map(function(e){return e.name}),c=null!=(u=null==(s=null==j?void 0:j.find(function(t){return t.id===e}))?void 0:s.name)?u:"",!l))return[3,3];return[4,Promise.all(o.filter(function(e){return!l.includes(e)}).map(function(t){return W({repositoryName:t,organizationId:e,organizationName:c,enableSync:!1})}))];case 2:return d.sent(),[2,o];case 3:return[2,o]}})}),function(e){return n.apply(this,arguments)}),W=(r=(0,c.Z)(function(e){var t,n,r,i,o;return(0,h.__generator)(this,function(a){switch(a.label){case 0:return t=e.organizationId,n=e.organizationName,r=e.repositoryName,i=e.enableSync,[4,R.git.createRepository(S,t,{name:r,enableSync:i})];case 1:return o=a.sent(),L.Z.trackEvent("gitHub-dashboard","add_repository",{repositoryName:r,organizationName:n}),[2,o]}})}),function(e){return r.apply(this,arguments)}),q=(i=(0,c.Z)(function(e,t){return(0,h.__generator)(this,function(n){switch(n.label){case 0:return[4,C({repositoryId:t,organizationId:e,teamId:S})];case 1:return[2,n.sent()]}})}),function(e,t){return i.apply(this,arguments)}),$=(o=(0,c.Z)(function(e,t){return(0,h.__generator)(this,function(n){switch(n.label){case 0:return[4,B({repositoryId:t,organizationId:e,teamId:S})];case 1:return[2,n.sent()]}})}),function(e,t){return o.apply(this,arguments)}),Y=(a=(0,c.Z)(function(e){var t,n,r,i,o,a,s,l,u;return(0,h.__generator)(this,function(c){switch(c.label){case 0:t=e.byType,n=e.organizationName,r=e.repositoryName,i=(0,m.x0)(),c.label=1;case 1:switch(c.trys.push([1,8,,9]),t){case"workspace":return[3,2];case"repository":return[3,4]}return[3,6];case 2:return a=e.workspaceIds,[4,x({byType:t,workspaceIds:a,teamId:S})];case 3:case 5:return o=c.sent(),[3,7];case 4:return s=e.organizationId,l=e.repositoryId,[4,x({byType:t,repositoryId:l,organizationId:s,teamId:S})];case 6:case 9:return[2,null];case 7:if(L.Z.trackEvent("gitHub-dashboard","batch_pull",{byType:t,repositoryName:r,organizationName:n}),o)return[2,o.operationId];return[3,9];case 8:return u=c.sent(),_.error((0,f.jsx)(F,{error:u.details}),{id:i}),[3,9]}})}),function(e){return a.apply(this,arguments)}),J=(s=(0,c.Z)(function(e){var t,n,r,i,o,a,s,l,u,c,p,g,v,b,w,E,C;return(0,h.__generator)(this,function(h){switch(h.label){case 0:t=e.byType,n=e.prInfo,r=e.filePath,i=e.branchName,o=e.commitMessage,a=e.repositoryName,s=e.organizationName,l=e.defaultBranchName,u=(0,m.x0)(),p={prInfo:n,branchName:i,commitMessage:o},h.label=1;case 1:switch(h.trys.push([1,8,,9]),t){case"workspace":return[3,2];case"repository":return[3,4]}return[3,6];case 2:return v=e.workspaceIds,g="Eraser file pushed to GitHub",_.loading("Pushing Eraser file to GitHub",{id:u}),[4,I((0,A.Z)({byType:t,workspaceIds:v},p))];case 3:case 5:return c=h.sent(),[3,7];case 4:return b=e.organizationId,w=e.repositoryId,g="Eraser files pushed to GitHub",_.loading("Pushing Eraser files to GitHub",{id:u}),[4,I((0,d.Z)((0,A.Z)({byType:t},p),{repositoryId:w,organizationId:b,teamId:S}))];case 6:case 9:return[2];case 7:return 206===c.status?(E="PR creation failed: ".concat(c.prError.message),_(g="".concat(g,". ").concat(E),{id:u,icon:"",className:y().warning})):_.success(g,{id:u}),L.Z.trackEvent("gitHub-dashboard","batch_push",{byType:t,filePath:r,branchName:i,commitMessage:o,repositoryName:a,organizationName:s,prTitle:null==n?void 0:n.title,isDefaultBranch:i===l}),[3,9];case 8:return C=h.sent(),_.error((0,f.jsx)(F,{error:C.details}),{id:u}),[3,9]}})}),function(e){return s.apply(this,arguments)}),X=(0,p.useCallback)((l=(0,c.Z)(function(e){return(0,h.__generator)(this,function(t){switch(t.label){case 0:return[4,T((0,d.Z)((0,A.Z)({},e),{teamId:S}))];case 1:return[2,t.sent()]}})}),function(e){return l.apply(this,arguments)}),[S]),ee=(u=(0,c.Z)(function(e){return(0,h.__generator)(this,function(t){switch(t.label){case 0:return[4,w.Z.post("gitOrganizations",e)];case 1:return t.sent(),[2]}})}),function(e){return u.apply(this,arguments)}),et=(v=(0,c.Z)(function(e){return(0,h.__generator)(this,function(t){switch(t.label){case 0:if("github"===e.provider)return[2,z({organizationId:e.id,organizationName:e.name})];return[4,w.Z.delete("gitOrganizations/".concat(e.id))];case 1:return t.sent(),[2]}})}),function(e){return v.apply(this,arguments)});return(0,f.jsx)(U.Provider,{value:{batchPull:Y,batchPush:J,updateRepository:R.git.updateRepository,installApp:K,openHelpModal:function(){R.git.emit("openHelpModal")},addRepository:W,organizations:j,repositoriesMap:H,getDefaultBranchName:$,configureOrganization:z,listRepositoryBranches:q,getLatestCommitForFile:X,listRepositoriesForOrganization:G,bulkCreateOrganizations:ee,removeOrganization:et},children:b})}},59380:function(e,t,n){"use strict";n.d(t,{$m:function(){return o},dr:function(){return a},k_:function(){return s}});var r=n(10185),i=n(77257),o=function(){var e=(0,r.Q)(),t=e.tabId,n=e.query,i=n.repositoryName,o=n.organizationName;return"github"===t?{organizationName:o,repositoryName:i}:{organizationName:void 0,repositoryName:void 0}},a=function(){var e=o().organizationName,t=(0,i.k3)().organizations;if(t&&e)return t.find(function(t){return t.name===e})},s=function(){var e,t=(0,i.k3)().repositoriesMap,n=o().repositoryName,r=a();if(t&&r&&n)return null==(e=t.get(r.id))?void 0:e.find(function(e){return e.name===n})}},1158:function(e,t,n){"use strict";n.d(t,{Qs:function(){return i},T5:function(){return a},aO:function(){return o}});var r=n(77257),i=function(e){var t=(0,r.k3)().organizations;return null==t?void 0:t.find(function(t){return t.id===e})},o=function(e,t){var n,i=(0,r.k3)().repositoriesMap;return null==(n=null==i?void 0:i.get(null!=e?e:""))?void 0:n.find(function(e){return e.id===t})},a=function(e){var t=e||{},n=t.repositoryId,r=t.organizationId;return{organization:i(r),repository:o(r,n)}}},41516:function(e,t,n){"use strict";n.d(t,{N:function(){return v}});var r=n(70865),i=n(96670),o=n(52322),a=n(2332),s=n(4742),l=n.n(s),u=n(51992),c=n(95114),A=n(13529),d=n.n(A),h=function(e){var t=e.size,n=void 0===t?28:t,a=e.skeletonThemeProps,s=(0,c.Z)(function(){return l()([75,100,125])});return(0,o.jsx)(u.yB,(0,i.Z)((0,r.Z)({color:"#eeeeee",highlightColor:"#f2f2f2"},a),{children:(0,o.jsxs)("div",{className:d().skeleton,children:[(0,o.jsx)(u.ZP,{count:1,width:n,height:n,circle:!0,className:d().avatar}),(0,o.jsx)(u.ZP,{count:1,width:s,height:n/2,className:d().name})]})}))},f=n(54848),p=n(3635),g=n(94999),m=n.n(g),v=function(e){var t=e.userId,n=e.avatarSize,s=e.skeletonThemeProps,l=e.classNames,u=(0,a.ZP)(t),c=(0,o.jsx)(h,{skeletonThemeProps:s,size:n});return u&&(c=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.Z,(0,i.Z)((0,r.Z)({className:m().avatar},u),{size:n,isNoTooltip:!0})),(0,o.jsx)("div",{className:(0,p.Z)(m().name,null==l?void 0:l.name),children:u.displayName})]})),(0,o.jsx)("div",{className:m().member,children:c})}},4406:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(50930),i=n(52322),o=n(2784),a=n(27875),s=n.n(a),l=n(89473),u=n(41516),c=n(47330),A=n(80498),d=n(3635),h=n(26486),f=n.n(h),p=function(e){var t=e.userIds,n=e.avatarSize;return(0,i.jsx)("div",{className:(0,d.Z)(f().members),children:t.map(function(e){return(0,i.jsx)(u.N,{userId:e,avatarSize:n,classNames:{name:f().memberName},skeletonThemeProps:{color:"var(--grey-1300-constant)",highlightColor:"var(--grey-1100-constant)"}},e)})})},g=(0,o.memo)(function(e){var t=e.userIds,n=e.avatarSize,r=e.isInviteOpen,a=(0,o.useRef)(null),s=(0,A.Z)(),l=s.isOpen,u=s.onOpen,d=s.onClose,h=(0,o.useCallback)(function(e){e.stopPropagation(),e.preventDefault(),l?d():u()},[l,d,u]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{ref:a,onMouseEnter:u,onMouseLeave:d,className:f().moreMembers,onTouchEnd:h,style:{width:n,height:n},children:(0,i.jsxs)("span",{children:["+",t.length]})}),(0,i.jsx)(c.Z,{disableArrow:!0,placement:"bottom",targetNode:a.current,className:f().listPopper,visible:l&&!r,children:(0,i.jsx)(p,{userIds:t,avatarSize:n})})]})}),m=n(54848),v=n(30678),y=n(60706),b=n.n(y),w={refreshRate:0,handleHeight:!1,refreshMode:"debounce"},_=function(e,t,n){if(e.length>=n||!t)return e.map(function(e){return{userId:e,type:"realUser"}});var i=n-e.length;return(0,r.Z)(e.map(function(e){return{userId:e,type:"realUser"}})).concat((0,r.Z)(Array(i).fill(0).map(function(e,t){return{userId:"dummy-".concat(t),type:"dummy"}})))},E=(0,o.memo)(function(e){var t=e.isOpen,n=e.userIds,r=e.max,a=void 0===r?6:r,u=e.onClick,c=e.className,A=e.isStaticSize,h=e.avatarSize,f=void 0===h?28:h,p=e.tooltipSubTextById,y=e.avatarDummyThreshold,E=e.showDummyAvatars,C=e.horizontalAlign,B=(0,l.NB)(w),x=B.width,I=B.ref,T=f+4,S=a;x&&!A&&(S=s()(Math.floor(x/(T-5)),1,a));var k=(0,o.useMemo)(function(){return[n.slice(0,S),n.slice(S)]},[n,S]),N=k[0],D=k[1];if(0===N.length)return null;var O=_(N,void 0!==E&&E,void 0===y?3:y);return(0,i.jsxs)("div",{className:(0,d.Z)(b().container,c),onClick:u,children:[(0,i.jsx)("div",{ref:I,className:(0,d.Z)(b().avatars,b()["align-".concat(void 0===C?"start":C)]),children:O.map(function(e){var t=e.type,n=e.userId;return(0,i.jsx)("span",{className:b().avatarContainer,children:"realUser"===t?(0,i.jsx)(v.s,{userId:n,size:f,className:(0,d.Z)(b().avatar,b().userAvatar),tooltipSubText:null==p?void 0:p[n]}):(0,i.jsx)(m.Z,{isNoTooltip:!0,fallback:"\xa0",size:f,color:"var(--grey-700)",className:b().avatar})},n)})}),D.length>0&&(0,i.jsx)(g,{userIds:D,isInviteOpen:t,avatarSize:f},"more")]})})},66838:function(e,t,n){"use strict";n.d(t,{G:function(){return f},z:function(){return d}});var r=n(47842),i=n(70865),o=n(96670),a=n(52322),s=n(27729),l=n(28563),u=n(3635),c=n(94280),A=n.n(c),d="data-move-modal-item-index",h=function(){return(0,a.jsx)("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 9",children:(0,a.jsx)("path",{fill:"#fff",d:"M4 6.78L1.687 4.467a.664.664 0 10-.94.94l2.786 2.786c.26.26.68.26.94 0l7.054-7.053a.664.664 0 10-.94-.94L4 6.78z"})})},f=function(e){var t=e.name,n=e.icon,c=e.index,f=e.isActive,p=e.onClick,g=e.selected,m=e.disabled,v=e.className,y=e.onEnterPress,b=e.setActiveIndex,w=t||s.Yp,_=isNaN(c)?{}:(0,r.Z)({},d,c);return(0,a.jsxs)(l.Z,(0,o.Z)((0,i.Z)({icon:n,title:w},_),{isDisabled:m,isSelected:g,onKeyDown:function(e){"Enter"===e.key&&(null==y||y(),e.preventDefault(),e.stopPropagation())},focusOnMouseEnter:!1,onMouseEnter:b,onClick:m?void 0:p,className:(0,u.Z)(A().listItem,f&&A().isActive,v),children:[w,m&&" (current)",g&&(0,a.jsx)("span",{className:A().checkMark,children:(0,a.jsx)(h,{})})]}))}},57517:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(5632),i=n(2784),o=function(){var e=(0,r.useRouter)();return{goToTab:(0,i.useCallback)(function(t,n){"folder"===t&&n?e.query.folderId!==n&&e.push("/folder/".concat(n)):e.push("/dashboard/".concat(t))},[e])}}},51516:function(e,t,n){"use strict";n.d(t,{Y:function(){return u}});var r=n(70865),i=n(96670),o=n(87394),a=n(2784),s=n(2732),l=(0,s.cn)({key:"settingsModalState",default:{isOpen:!1,openedPane:"members",paywallError:void 0,paywallFeature:void 0,scrollTarget:void 0}}),u=function(){var e=(0,o.Z)((0,s.FV)(l),2),t=e[0],n=e[1],u=(0,a.useCallback)(function(e){var t;n((0,i.Z)((0,r.Z)({},e),{isOpen:!0,openedPane:null!=(t=null==e?void 0:e.openedPane)?t:"members"}))},[n]),c=(0,a.useCallback)(function(){n(function(e){return(0,i.Z)((0,r.Z)({},e),{scrollTarget:void 0})})},[n]),A=(0,a.useCallback)(function(){n({isOpen:!1,openedPane:void 0})},[n]);return{setOpenedPane:(0,a.useCallback)(function(e,t,r){n({isOpen:!0,openedPane:e,paywallError:void 0,paywallFeature:"fixedSeatCount"===t?void 0:t,scrollTarget:r})},[n]),openSettingsModal:u,closeSettingsModal:A,clearScrollState:c,openedPane:t.openedPane,isSettingsModalOpen:t.isOpen,paywallError:t.paywallError,scrollTarget:t.scrollTarget,paywallFeature:t.paywallFeature}}},42896:function(e,t,n){"use strict";n.d(t,{x:function(){return u}});var r=n(52322),i=n(3635),o=n(8911),a=n.n(o),s=n(58241),l=n.n(s),u=function(e){var t=e.disabled,n=e.onClick,o=e.classNames;return(0,r.jsx)("div",{onClick:n,className:(0,i.Z)(null==o?void 0:o.root,a().newTemplateCard,l().templateCard,t&&a().disabled),children:(0,r.jsx)("span",{className:a().newTemplateCardTitle,children:"Create New Template"})})}},41832:function(e,t,n){"use strict";n.d(t,{w:function(){return L}});var r,i,o,a,s=n(52322),l=n(5632),u=n(2784),c=n(3635),A=n(66804),d=n(62866),h=n(40758),f=n(57448),p=n(48845);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var m=function(e){return u.createElement("svg",g({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=u.createElement("path",{d:"M6 11.2v-10M1.2 4V1.2h9.6V4m-8 6.8h6",stroke:"currentColor"})))},v=n(96584),y=n(32472),b=n(65424);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var _=function(e){return u.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:77,height:76,viewBox:"0 0 77 76",fill:"none"},e),i||(i=u.createElement("path",{d:"M10.398 2.467h59.2A4.933 4.933 0 0174.532 7.4v59.2m-22.2-49.333h4.933m17.267 26.567l-14.8-14.79-7.634 6.64-20.966-24.65L23.998 18",stroke:"var(--grey-1200)",strokeWidth:4.933})),o||(o=u.createElement("path",{d:"M41.233 71.533h4.934m-19.734 0h4.934m-19.734 0h4.934M3 62.9h4.933M3 48.1h4.933M3 33.3h4.933M54.8 71.533h4.933M3 20.35h4.933",stroke:"var(--grey-800)",strokeWidth:4.933})),a||(a=u.createElement("path",{stroke:"var(--grey-1200)",strokeWidth:4.93,d:"M2.243 5.757l68 68"})))},E=n(55929),C=n(95162),B=n(32148),x=n(11269),I=n(2600),T=n(77622),S=n(4126),k=n(1429),N=n(2595),D=n(58241),O=n.n(D),R=n(45403),F=function(e,t){var n=e.id,r=e.templateVersionId,i=e.templatePreviewImages;if(!r||!i||!i[t]||i[t]!==r)return{};var o=(0,T.j)({theme:t,templateVersionId:r,templateWorkspaceId:n}).imgixPath;return{backgroundImage:"url(".concat((0,b.V)(o),")")}},L=function(e){var t,n=e.template,r=e.isLoading,i=e.onPreviewClick,o=e.onUseTemplate,a=e.classNames,g=(0,l.useRouter)(),b=(0,N.Z)(),w=(0,S.F)().theme,T=n.isArchived,D=(0,x.LP)(),L=(0,u.useState)(!1),U=L[0],P=L[1],M=(0,u.useState)(!1),j=M[0],Z=M[1],Q=(0,u.useState)(!1),H=Q[0],V=Q[1],K=(0,u.useState)(n.title),z=K[0],G=K[1],W=(0,I.X)(),q=W.request,$=W.loading,Y=(0,B.o)({currentTeamId:D,isArchived:!!T,workspaceId:n.id,workspaceTeamId:n.teamId}),J=(0,R.Pe)(),X=function(){P(!0),g.push("/workspace/".concat(n.id))},ee=function(){j||Z(!0)},et=function(){Z(!1),n.title!==z&&J.workspaces.updateById(n.id,{title:z})},en=F(n,w),er=!!n.templateVersionId;return(0,s.jsxs)("div",{className:(0,c.Z)((void 0===a?{}:a).root,O().templateCard,(r||$||U)&&O().disabled),children:[(0,s.jsxs)("div",{onClick:er?i:X,className:O().imageContainer,style:en,children:[!en.backgroundImage&&(0,s.jsx)("div",{className:O().fallbackContainer,children:(0,s.jsxs)("div",{children:[(0,s.jsx)(_,{}),"No thumbnail available"]})}),(0,s.jsxs)("div",{className:O().tooltip,children:[er?(0,s.jsx)(C.ZP,{variant:C.ZP.Variants.TRANSPARENT,onClick:i,children:en.backgroundImage?"Preview":"Load Preview"}):(0,s.jsx)(C.ZP,{variant:C.ZP.Variants.TRANSPARENT,onClick:X,children:"Edit"}),!T&&er&&(0,s.jsx)(C.ZP,{onClick:function(e){e.stopPropagation(),o(n)},children:"Use Template"}),!T&&!er&&(0,s.jsx)(C.ZP,{onClick:function(e){e.preventDefault(),e.stopPropagation(),H||n.templateVersionId||(V(!0),(0,k.X)({templateWorkspaceId:n.id,teamId:n.teamId}).then(function(){V(!1),b.success("Template published")},function(){V(!1),b.error("Error publishing")}))},isLoading:H,tooltipDisabled:H,title:"Templates must be published before they can be used.",children:"Publish"})]})]}),(0,s.jsxs)("div",{className:O().titleWrapper,children:[(0,s.jsxs)("div",{className:"rowCentered gapLarge",children:[!j&&(0,s.jsx)("span",{className:O().title,onClick:ee,children:null!=(t=n.title)?t:y.k1}),j&&(0,s.jsx)(E.Z,{autoFocus:!0,value:z,className:O().renameInput,onBlur:et,onKeyDown:function(e){"Enter"===e.key?et():"Escape"===e.key&&(e.stopPropagation(),Z(!1),G(n.title))},onChange:function(e){return G(e.currentTarget.value)}})]}),(0,s.jsxs)(A.Ng,{children:[!T&&(0,s.jsx)(d.Wx,{label:"Use Template",icon:(0,s.jsx)(f.Z,{}),onClick:function(){return o(n)},isDisabled:!er}),!T&&(0,s.jsx)(d.Wx,{onClick:X,label:"Edit Template",icon:(0,s.jsx)(p.Z,{})}),T&&(0,s.jsx)(d.Wx,{label:"Restore Template",icon:(0,s.jsx)(f.Z,{}),onClick:Y}),(0,s.jsx)(d.Wx,{onClick:ee,label:"Rename",icon:(0,s.jsx)(m,{})}),!T&&(0,s.jsx)(d.Wx,{onClick:function(){q({workspaceId:n.id,teamId:n.teamId})},label:"Duplicate",icon:(0,s.jsx)(v.Z,{})}),!T&&(0,s.jsx)(A.KE,{space:"medium"}),!T&&(0,s.jsx)(d.Wx,{onClick:Y,label:"Archive",icon:(0,s.jsx)(h.Z,{})})]})]})]})}},4120:function(e,t,n){"use strict";n.d(t,{E:function(){return h}});var r=n(52322),i=n(58317),o=n(2332),a=n(15673),s=n.n(a),l=n(3635),u=n(55324),c=n.n(u),A=function(e){if(e.isArchived&&e.archivedAt)return e.archivedBy;if(e.updatedAt){var t;return null==(t=c()(e.contributors,"contributedAt"))?void 0:t.userId}return e.createdAt?e.ownerId:void 0},d=function(e){return new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(e)},h=function(e){var t,n=e.template,a=e.classNames,u=void 0===a?{}:a,c=A(n),h=(0,o.ZP)(c);return(n.isArchived&&n.archivedAt?t=(0,r.jsxs)("span",{children:["Archived on ",d(n.archivedAt)]}):n.updatedAt?t=(0,r.jsxs)("span",{children:["Updated on ",d(n.updatedAt)]}):n.createdAt&&(t=(0,r.jsxs)("span",{children:["Updated on ",d(n.createdAt)]})),t)?(0,r.jsxs)("span",{className:(0,l.Z)(s().metadataContent,u.content),children:[t,(0,r.jsxs)("span",{children:["\xa0by\xa0",h&&(0,r.jsx)(i.P8,{isSelected:!1,profile:h,display:h.displayName,classNames:{avatar:s().avatar,label:(0,l.Z)(s().avatarName,u.avatarName)}})]})]}):null}},57225:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var r=n(52322),i=n(95162),o=n(5632),a=n(96237),s=n.n(a),l=function(e){var t=e.successMessage,n=(0,o.useRouter)();return(0,r.jsxs)("div",{className:s().successToastWrapper,children:[(0,r.jsx)("span",{children:t}),(0,r.jsx)(i.ZP,{variant:i.ZP.Variants.TRANSPARENT,onClick:function(){return n.push("/dashboard/templates")},children:"Manage Templates"})]})}},68583:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(45938),i=function(e){var t=e.isArchived;return(0,r.Z)({isTemplate:!0,isArchived:t,orderBy:"createdAt",orderDir:"desc"})}},4126:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var r=n(2784),i=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)(function(){n(window.matchMedia("(prefers-color-scheme: dark)").matches);var e=function(e){n("dark"==(e.matches?"dark":"light"))};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),function(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}},[]),t},o=n(57685),a=n(96933),s=n(45403),l=function(){var e,t=(0,a.aF)(),n=(0,o.K)(),l=(0,a.TZ)(),u=(0,s.Pe)(),c=i(),A=n.theme||(null==t||null==(e=t.userSettings)?void 0:e.theme)||"system",d=(0,r.useMemo)(function(){return!A||"system"===A&&l?c?"dark":"light":A},[A,c,l]),h=(0,r.useMemo)(function(){return"dark"===d},[d]),f=(0,r.useCallback)(function(e){u.currentUser.updateCurrentUser({userSettings:{theme:e}})},[]),p=(0,r.useCallback)(function(){f(h?"light":"dark")},[h,f]);return{theme:d,themeSetting:A,isDarkMode:h,toggleTheme:p,setThemeSetting:f}}},55271:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ay}});var r,i,o,a,s,l,u,c,A,d,h,f,p,g,m,v,y,b,w,_,E,C,B,x,I,T,S,k,N,D,O,R={};n.r(R),n.d(R,{FILE:function(){return te},HTML:function(){return tr},TEXT:function(){return tn},URL:function(){return tt}});var F=n(98788),L=n(70865),U=n(22970),P=n(52322),M=n(2732),j=n(2784),Z=n(61099),Q=n.n(Z),H=n(12041),V=n(97729),K=n.n(V),z=n(5632),G=n.n(z),W=n(45293),q="dnd-core/INIT_COORDS",$="dnd-core/BEGIN_DRAG",Y="dnd-core/PUBLISH_DRAG_SOURCE",J="dnd-core/HOVER",X="dnd-core/DROP",ee="dnd-core/END_DRAG";function et(e,t){return{type:q,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e){return"object"===en(e)}var ei={type:q,payload:{clientOffset:null,sourceClientOffset:null}};function eo(e,t){return null===t?null===e:Array.isArray(e)?e.some(function(e){return e===t}):e===t}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eu=function(){var e;function t(e,n){var r=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");el(this,"store",void 0),el(this,"monitor",void 0),el(this,"backend",void 0),el(this,"isSetUp",!1),el(this,"handleRefCountChange",function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))}),this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}return e=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e,t,n,r,i,o=this,a=this.store.dispatch,s={beginDrag:(e=this,function(){var t,n,r,i,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},l=s.publishSource,u=s.clientOffset,c=s.getSourceClientOffset,A=e.getMonitor(),d=e.getRegistry();e.dispatch(et(u)),t=a,n=A,r=d,(0,W.k)(!n.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(e){(0,W.k)(r.getSource(e),"Expected sourceIds to be registered.")});var h=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(a,A);if(null===h)return void e.dispatch(ei);var f=null;if(u){if(!c)throw Error("getSourceClientOffset must be defined");i=c,(0,W.k)("function"==typeof i,"When clientOffset is provided, getSourceClientOffset must be a function."),f=c(h)}e.dispatch(et(u,f));var p=d.getSource(h).beginDrag(A,h);if(null!=p){return o=p,(0,W.k)(er(o),"Item must be an object."),d.pinSource(h),{type:$,payload:{itemType:d.getSourceType(h),item:p,sourceId:h,clientOffset:u||null,sourceClientOffset:f||null,isSourcePublic:!!(void 0===l||l)}}}}),publishDragSource:(t=this,function(){if(t.getMonitor().isDragging())return{type:Y}}),hover:(n=this,function(e){var t,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.clientOffset;t=e,(0,W.k)(Array.isArray(t),"Expected targetIds to be an array.");var l=e.slice(0),u=n.getMonitor(),c=n.getRegistry();return function(e,t,n){(0,W.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,W.k)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];(0,W.k)(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);(0,W.k)(o,"Expected targetIds to be registered.")}}(l,u,c),function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];eo(t.getTargetType(i),n)||e.splice(r,1)}}(l,c,u.getItemType()),r=l,i=u,o=c,r.forEach(function(e){o.getTarget(e).hover(i,e)}),{type:J,payload:{targetIds:l,clientOffset:s||null}}}),drop:(r=this,function(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.getMonitor(),a=r.getRegistry();e=o,(0,W.k)(e.isDragging(),"Cannot call drop while not dragging."),(0,W.k)(!e.didDrop(),"Cannot call drop twice during one drag operation."),((n=(t=o).getTargetIds().filter(t.canDropOnTarget,t)).reverse(),n).forEach(function(e,t){var n,s,l,u,c,A,d,h=(n=e,s=t,l=a,u=o,d=A=(c=l.getTarget(n))?c.drop(u,n):void 0,(0,W.k)(void 0===d||er(d),"Drop result must either be an object or undefined."),void 0===A&&(A=0===s?{}:u.getDropResult()),A),f={type:X,payload:{dropResult:es(es({},i),h)}};r.dispatch(f)})}),endDrag:(i=this,function(){var e,t=i.getMonitor(),n=i.getRegistry();e=t,(0,W.k)(e.isDragging(),"Cannot call endDrag while not dragging.");var r=t.getSourceId();return null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource()),{type:ee}})};return Object.keys(s).reduce(function(e,t){var n=s[t];return e[t]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=n.apply(o,t);void 0!==i&&a(i)},e},{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function ec(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var eA="function"==typeof Symbol&&Symbol.observable||"@@observable",ed=function(){return Math.random().toString(36).substring(7).split("").join(".")},eh={INIT:"@@redux/INIT"+ed(),REPLACE:"@@redux/REPLACE"+ed(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ed()}},ef=function(e,t){return e===t};function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var em={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null},ev="dnd-core/ADD_SOURCE",ey="dnd-core/ADD_TARGET",eb="dnd-core/REMOVE_SOURCE",ew="dnd-core/REMOVE_TARGET";function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eC={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null},eB=[],ex=[];function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eS(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e,t,n,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case J:break;case ev:case ey:case ew:case eb:return eB;default:return ex}var i=r.payload,o=i.targetIds,a=void 0===o?[]:o,s=i.prevTargetIds,l=void 0===s?[]:s,u=(e=new Map,t=function(t){e.set(t,e.has(t)?e.get(t)+1:1)},a.forEach(t),l.forEach(t),n=[],e.forEach(function(e,t){1===e&&n.push(t)}),n);if(!(u.length>0||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ef;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(a,l)))return eB;var c=l[l.length-1],A=a[a.length-1];return c!==A&&(c&&u.push(c),A&&u.push(A)),u}(t.dirtyHandlerIds,{type:n.type,payload:eT(eT({},n.payload),{},{prevTargetIds:(e=[],"dragOperation.targetIds".split(".").reduce(function(t,n){return t&&t[n]?t[n]:e||null},t))})}),dragOffset:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:em,r=arguments.length>1?arguments[1]:void 0,i=r.payload;switch(r.type){case q:case $:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case J:if(e=n.clientOffset,t=i.clientOffset,!e&&!t||e&&t&&e.x===t.x&&e.y===t.y)return n;return eg(eg({},n),{},{clientOffset:i.clientOffset});case ee:case X:return em;default:return n}}(t.dragOffset,n),refCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ev:case ey:return e+1;case eb:case ew:return e-1;default:return e}}(t.refCount,n),dragOperation:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eC,r=arguments.length>1?arguments[1]:void 0,i=r.payload;switch(r.type){case $:return eE(eE({},n),{},{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case Y:return eE(eE({},n),{},{isSourcePublic:!0});case J:return eE(eE({},n),{},{targetIds:i.targetIds});case ew:if(-1===n.targetIds.indexOf(i.targetId))return n;return eE(eE({},n),{},{targetIds:(e=n.targetIds,t=i.targetId,e.filter(function(e){return e!==t}))});case X:return eE(eE({},n),{},{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case ee:return eE(eE({},n),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}(t.dragOperation,n),stateId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}(t.stateId)}}function ek(e,t){return{x:e.x-t.x,y:e.y-t.y}}eB.__IS_NONE__=!0,ex.__IS_ALL__=!0;function eN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eD=function(){var e;function t(e,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");eN(this,"store",void 0),eN(this,"registry",void 0),this.store=e,this.registry=n}return e=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;(0,W.k)("function"==typeof e,"listener must be a function."),(0,W.k)(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId;return this.store.subscribe(function(){var n=t.store.getState(),o=n.stateId;try{o===i||o===i+1&&!function(e,t){return e!==eB&&(e===ex||void 0===t||t.filter(function(t){return e.indexOf(t)>-1}).length>0)}(n.dirtyHandlerIds,r)||e()}finally{i=o}})}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,W.k)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe(function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())})}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return(0,W.k)(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return(0,W.k)(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&eo(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return(0,W.k)(t,"Expected to find a valid source. sourceId=".concat(e)),!!this.isDragging()&&!!this.isSourcePublic()&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!eo(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;return t&&n&&r?ek({x:t.x+r.x,y:t.y+r.y},n):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){var e,t,n;return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,t&&n?ek(t,n):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),eO=0;function eR(e){return(eR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(e,t){t&&Array.isArray(e)?e.forEach(function(e){return eF(e,!1)}):(0,W.k)("string"==typeof e||"symbol"===eR(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}(r=u||(u={})).SOURCE="SOURCE",r.TARGET="TARGET";let eL="undefined"!=typeof global?global:self,eU=eL.MutationObserver||eL.WebKitMutationObserver;function eP(e){return function(){let t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}let eM="function"==typeof eU?function(e){let t=1,n=new eU(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=t=-t}}:eP;class ej{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}let eZ=new class{enqueueTask(e){let{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=eM(this.flush),this.requestErrorThrow=eP(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}},eQ=new class{create(e){let t=this.freeTasks,n=t.length?t.pop():new ej(this.onError,e=>t[t.length]=e);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(eZ.registerPendingError);function eH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eK(e){switch(e[0]){case"S":return u.SOURCE;case"T":return u.TARGET;default:(0,W.k)(!1,"Cannot parse handler ID: ".concat(e))}}function ez(e,t){var n=e.entries(),r=!1;do{var i,o=n.next(),a=o.done;if((i=o.value,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(i,2)||function(e,t){if(e){if("string"==typeof e)return eV(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eV(e,2)}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]===t)return!0;r=!!a}while(!r);return!1}var eG=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");eH(this,"types",new Map),eH(this,"dragSources",new Map),eH(this,"dropTargets",new Map),eH(this,"pinnedSourceId",null),eH(this,"pinnedSource",null),eH(this,"store",void 0),this.store=e}return e=[{key:"addSource",value:function(e,t){eF(e),(0,W.k)("function"==typeof t.canDrag,"Expected canDrag to be a function."),(0,W.k)("function"==typeof t.beginDrag,"Expected beginDrag to be a function."),(0,W.k)("function"==typeof t.endDrag,"Expected endDrag to be a function.");var n=this.addHandler(u.SOURCE,e,t);return this.store.dispatch({type:ev,payload:{sourceId:n}}),n}},{key:"addTarget",value:function(e,t){eF(e,!0),(0,W.k)("function"==typeof t.canDrop,"Expected canDrop to be a function."),(0,W.k)("function"==typeof t.hover,"Expected hover to be a function."),(0,W.k)("function"==typeof t.drop,"Expected beginDrag to be a function.");var n=this.addHandler(u.TARGET,e,t);return this.store.dispatch({type:ey,payload:{targetId:n}}),n}},{key:"containsHandler",value:function(e){return ez(this.dragSources,e)||ez(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,W.k)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}},{key:"getTarget",value:function(e){return(0,W.k)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return(0,W.k)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return(0,W.k)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return eK(e)===u.SOURCE}},{key:"isTargetId",value:function(e){return eK(e)===u.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,W.k)(this.getSource(e),"Expected an existing source."),this.store.dispatch({type:eb,payload:{sourceId:e}}),eZ.enqueueTask(eQ.create(function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){(0,W.k)(this.getTarget(e),"Expected an existing target."),this.store.dispatch({type:ew,payload:{targetId:e}}),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,W.k)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,W.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(eO++).toString();switch(e){case u.SOURCE:return"S".concat(t);case u.TARGET:return"T".concat(t);default:throw Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===u.SOURCE?this.dragSources.set(r,n):e===u.TARGET&&this.dropTargets.set(r,n),r}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),eW=n(12005),eq=["children"];function e$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eY=0,eJ=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),eX=(0,j.memo)(function(e){var t,n,r=e.children,i=function(e){if(Array.isArray(e))return e}(n="manager"in(t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,eq))?[{dragDropManager:t.manager},!1]:[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e0(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t[eJ]||(t[eJ]={dragDropManager:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(t=o,n="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,function e(t,n,r){if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(ec(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw Error(ec(1));return r(e)(t,n)}if("function"!=typeof t)throw Error(ec(2));var i,o=t,a=n,s=[],l=s,u=!1;function c(){l===s&&(l=s.slice())}function A(){if(u)throw Error(ec(3));return a}function d(e){if("function"!=typeof e)throw Error(ec(4));if(u)throw Error(ec(5));var t=!0;return c(),l.push(e),function(){if(t){if(u)throw Error(ec(6));t=!1,c();var n=l.indexOf(e);l.splice(n,1),s=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(ec(7));if(void 0===e.type)throw Error(ec(8));if(u)throw Error(ec(9));try{u=!0,a=o(a,e)}finally{u=!1}for(var t=s=l,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:eh.INIT}),(i={dispatch:h,subscribe:d,getState:A,replaceReducer:function(e){if("function"!=typeof e)throw Error(ec(10));o=e,h({type:eh.REPLACE})}})[eA]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(ec(11));function t(){e.next&&e.next(A())}return t(),{unsubscribe:d(t)}}})[eA]=function(){return this},e},i}(eS,t&&n&&n({name:"dnd-core",instanceId:"dnd-core"}))),s=new eD(a,new eG(a)),l=new eu(a,s),u=e(l,r,i);return l.receiveBackend(u),l}(e,t,n,r)}),t[eJ]}(t.backend,t.context,t.options,t.debugMode),!t.context])||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(n,2)||function(e,t){if(e){if("string"==typeof e)return e$(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e$(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1];return(0,j.useEffect)(function(){if(a){var e=e0();return++eY,function(){0==--eY&&(e[eJ]=null)}}},[]),(0,P.jsx)(eW.L.Provider,Object.assign({value:o},{children:r}),void 0)});function e0(){return void 0!==n.g?n.g:window}function e1(e){var t=null;return function(){return null==t&&(t=e()),t}}function e2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var e4=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");e2(this,"entered",[]),e2(this,"isNodeInDocument",void 0),this.isNodeInDocument=e}return e=[{key:"enter",value:function(e){var t,n,r,i,o,a=this,s=this.entered.length;return this.entered=(t=this.entered.filter(function(t){return a.isNodeInDocument(t)&&(!t.contains||t.contains(e))}),n=[e],r=new Set,i=function(e){return r.add(e)},t.forEach(i),n.forEach(i),o=[],r.forEach(function(e){return o.push(e)}),o),0===s&&this.entered.length>0}},{key:"leave",value:function(e){var t,n=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),t.filter(function(t){return t!==e})),n>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),e3=e1(function(){return/firefox/i.test(navigator.userAgent)}),e5=e1(function(){return!!window.safari});function e6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var e8=function(){var e;function t(e,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");e6(this,"xs",void 0),e6(this,"ys",void 0),e6(this,"c1s",void 0),e6(this,"c2s",void 0),e6(this,"c3s",void 0);for(var r,i,o,a=e.length,s=[],l=0;l<a;l++)s.push(l);s.sort(function(t,n){return e[t]<e[n]?-1:1});for(var u=[],c=[],A=[],d=0;d<a-1;d++)r=e[d+1]-e[d],i=n[d+1]-n[d],c.push(r),u.push(i),A.push(i/r);for(var h=[A[0]],f=0;f<c.length-1;f++){var p=A[f],g=A[f+1];if(p*g<=0)h.push(0);else{r=c[f];var m=c[f+1],v=r+m;h.push(3*v/((v+m)/p+(v+r)/g))}}h.push(A[A.length-1]);for(var y=[],b=[],w=0;w<h.length-1;w++){o=A[w];var _=h[w],E=1/c[w],C=_+h[w+1]-o-o;y.push((o-_-C)*E),b.push(C*E*E)}this.xs=e,this.ys=n,this.c1s=h,this.c2s=y,this.c3s=b}return e=[{key:"interpolate",value:function(e){var t,n=this.xs,r=this.ys,i=this.c1s,o=this.c2s,a=this.c3s,s=n.length-1;if(e===n[s])return r[s];for(var l=0,u=a.length-1;l<=u;){var c=n[t=Math.floor(.5*(l+u))];if(c<e)l=t+1;else{if(!(c>e))return r[t];u=t-1}}var A=e-n[s=Math.max(0,u)],d=A*A;return r[s]+i[s]*A+o[s]*d+a[s]*A*d}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function e9(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function e7(e){return{x:e.clientX,y:e.clientY}}var te="__NATIVE_FILE__",tt="__NATIVE_URL__",tn="__NATIVE_TEXT__",tr="__NATIVE_HTML__";function ti(e,t,n){var r=t.reduce(function(t,n){return t||e.getData(n)},"");return null!=r?r:n}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ta=(to(c={},te,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),to(c,tr,{exposeProperties:{html:function(e,t){return ti(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),to(c,tt,{exposeProperties:{urls:function(e,t){return ti(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),to(c,tn,{exposeProperties:{text:function(e,t){return ti(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),c);function ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tl=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");ts(this,"item",void 0),ts(this,"config",void 0),this.config=e,this.item={},this.initializeExposedProperties()}return e=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach(function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach(function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function tu(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(ta).filter(function(e){return ta[e].matchesTypes.some(function(e){return t.indexOf(e)>-1})})[0]||null}function tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tA=function(){var e;function t(e,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");tc(this,"ownerDocument",null),tc(this,"globalContext",void 0),tc(this,"optionsArgs",void 0),this.globalContext=e,this.optionsArgs=n}return e=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!=(e=this.globalContext)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null==(e=this.optionsArgs)?void 0:e.rootElement)||this.window}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach(function(t){tf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tp=function(){var e;function t(e,n,r){var i=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");tf(this,"options",void 0),tf(this,"actions",void 0),tf(this,"monitor",void 0),tf(this,"registry",void 0),tf(this,"enterLeaveCounter",void 0),tf(this,"sourcePreviewNodes",new Map),tf(this,"sourcePreviewNodeOptions",new Map),tf(this,"sourceNodes",new Map),tf(this,"sourceNodeOptions",new Map),tf(this,"dragStartSourceIds",null),tf(this,"dropTargetIds",[]),tf(this,"dragEnterTargetIds",[]),tf(this,"currentNativeSource",null),tf(this,"currentNativeHandle",null),tf(this,"currentDragSourceNode",null),tf(this,"altKeyPressed",!1),tf(this,"mouseMoveTimeoutTimer",null),tf(this,"asyncEndDragFrameId",null),tf(this,"dragOverTargetIds",null),tf(this,"lastClientOffset",null),tf(this,"hoverRafId",null),tf(this,"getSourceClientOffset",function(e){var t=i.sourceNodes.get(e);return t&&e9(t)||null}),tf(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),tf(this,"isNodeInDocument",function(e){return!!(e&&i.document&&i.document.body&&i.document.body.contains(e))}),tf(this,"endDragIfSourceWasRemovedFromDOM",function(){var e=i.currentDragSourceNode;!(null==e||i.isNodeInDocument(e))&&i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),tf(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),tf(this,"handleTopDragStart",function(e){if(!e.defaultPrevented){var t=i.dragStartSourceIds;i.dragStartSourceIds=null;var n=e7(e);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,o=tu(r);if(i.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var a=i.monitor.getSourceId(),s=i.sourceNodes.get(a),l=i.sourcePreviewNodes.get(a)||s;if(l){var u,c,A,d,h,f,p,g,m,v,y,b,w,_,E,C,B,x,I=i.getCurrentSourcePreviewNodeOptions(),T=I.anchorX,S=I.anchorY,k=I.offsetX,N=I.offsetY,D=(u={anchorX:T,anchorY:S},c={offsetX:k,offsetY:N},h=e9((d="IMG"===l.nodeName&&(e3()||!(null!=(A=document.documentElement)&&A.contains(l))))?s:l),f={x:n.x-h.x,y:n.y-h.y},p=s.offsetWidth,g=s.offsetHeight,m=u.anchorX,v=u.anchorY,_=(y=d?l.width:p,b=d?l.height:g,e5()&&d&&(b/=window.devicePixelRatio,y/=window.devicePixelRatio),w={dragPreviewWidth:y,dragPreviewHeight:b}).dragPreviewWidth,E=w.dragPreviewHeight,C=c.offsetX,B=c.offsetY,{x:0===C||C?C:new e8([0,.5,1],[f.x,f.x/p*_,f.x+_-p]).interpolate(m),y:0===B||B?B:(x=new e8([0,.5,1],[f.y,f.y/g*E,f.y+E-g]).interpolate(v),e5()&&d&&(x+=(window.devicePixelRatio-1)*E),x)});r.setDragImage(l,D.x,D.y)}}try{null==r||r.setData("application/json",{})}catch(e){}i.setCurrentDragSourceNode(e.target),i.getCurrentSourcePreviewNodeOptions().captureDraggingState?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(o)i.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}}),tf(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),tf(this,"handleTopDragEnterCapture",function(e){if(i.dragEnterTargetIds=[],!(!i.enterLeaveCounter.enter(e.target)||i.monitor.isDragging())){var t=e.dataTransfer,n=tu(t);n&&i.beginDragNativeItem(n,t)}}),tf(this,"handleTopDragEnter",function(e){var t=i.dragEnterTargetIds;i.dragEnterTargetIds=[],i.monitor.isDragging()&&(i.altKeyPressed=e.altKey,t.length>0&&i.actions.hover(t,{clientOffset:e7(e)}),t.some(function(e){return i.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())))}),tf(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),tf(this,"handleTopDragOver",function(e){var t=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}i.altKeyPressed=e.altKey,i.lastClientOffset=e7(e),null===i.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(t||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null})),(t||[]).some(function(e){return i.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))}),tf(this,"handleTopDragLeaveCapture",function(e){i.isDraggingNativeItem()&&e.preventDefault(),i.enterLeaveCounter.leave(e.target)&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),tf(this,"handleTopDropCapture",function(e){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var t;e.preventDefault(),null==(t=i.currentNativeSource)||t.loadDataTransfer(e.dataTransfer)}else tu(e.dataTransfer)&&e.preventDefault();i.enterLeaveCounter.reset()}),tf(this,"handleTopDrop",function(e){var t=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(t,{clientOffset:e7(e)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),tf(this,"handleSelectStart",function(e){var t=e.target;"function"!=typeof t.dragDrop||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop())}),this.options=new tA(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new e4(this.isNodeInDocument)}return e=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null==(e=this.dragStartSourceIds)?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null==(t=this.dragOverTargetIds)?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null==(e=this.window)||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return th({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return th({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(R).some(function(t){return R[t]===e})}},{key:"beginDragNativeItem",value:function(e,t){var n;this.clearCurrentDragSourceNode(),this.currentNativeSource=((n=new tl(ta[e])).loadDataTransfer(t),n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(function(){var e;return null==(e=t.rootElement)?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;null==(e=this.window)||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),tg=function(e,t,n){return new tp(e,t,n)};(i=A||(A={})).mouse="mouse",i.touch="touch",i.keyboard="keyboard";function tm(e){return void 0===e.button||0===e.button}function tv(e){return!!e.targetTouches}function ty(e,t){return tv(e)?1===e.targetTouches.length?ty(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?ty(e.touches[0]):void 0:{x:e.clientX,y:e.clientY}}var tb=function(){var e=!1;try{addEventListener("test",function(){},Object.defineProperty({},"passive",{get:function(){return e=!0,!0}}))}catch(e){}return e}();function tw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t_=function(){var e;function t(e,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");tw(this,"args",void 0),tw(this,"context",void 0),this.args=e,this.context=n}return e=[{key:"delay",get:function(){var e;return null!=(e=this.args.delay)?e:0}},{key:"scrollAngleRanges",get:function(){return this.args.scrollAngleRanges}},{key:"getDropTargetElementsAtPoint",get:function(){return this.args.getDropTargetElementsAtPoint}},{key:"ignoreContextMenu",get:function(){var e;return null!=(e=this.args.ignoreContextMenu)&&e}},{key:"enableHoverOutsideTarget",get:function(){var e;return null!=(e=this.args.enableHoverOutsideTarget)&&e}},{key:"enableKeyboardEvents",get:function(){var e;return null!=(e=this.args.enableKeyboardEvents)&&e}},{key:"enableMouseEvents",get:function(){var e;return null!=(e=this.args.enableMouseEvents)&&e}},{key:"enableTouchEvents",get:function(){var e;return null==(e=this.args.enableTouchEvents)||e}},{key:"touchSlop",get:function(){return this.args.touchSlop||0}},{key:"delayTouchStart",get:function(){var e,t,n,r;return null!=(e=null!=(t=null==(n=this.args)?void 0:n.delayTouchStart)?t:null==(r=this.args)?void 0:r.delay)?e:0}},{key:"delayMouseStart",get:function(){var e,t,n,r;return null!=(e=null!=(t=null==(n=this.args)?void 0:n.delayMouseStart)?t:null==(r=this.args)?void 0:r.delay)?e:0}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!=(e=this.context)&&e.document?this.context.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null==(e=this.args)?void 0:e.rootElement)||this.document}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function tE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tC=(tE(d={},A.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),tE(d,A.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),tE(d,A.keyboard,{keydown:"keydown"}),d),tB=function(){var e;function t(e,n,r){var i=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");tE(this,"options",void 0),tE(this,"actions",void 0),tE(this,"monitor",void 0),tE(this,"sourceNodes",void 0),tE(this,"sourcePreviewNodes",void 0),tE(this,"sourcePreviewNodeOptions",void 0),tE(this,"targetNodes",void 0),tE(this,"_mouseClientOffset",void 0),tE(this,"_isScrolling",void 0),tE(this,"listenerTypes",void 0),tE(this,"moveStartSourceIds",void 0),tE(this,"waitingForDelay",void 0),tE(this,"timeout",void 0),tE(this,"dragOverTargetIds",void 0),tE(this,"draggedSourceNode",void 0),tE(this,"draggedSourceNodeRemovalObserver",void 0),tE(this,"lastTargetTouchFallback",void 0),tE(this,"getSourceClientOffset",function(e){var t=i.sourceNodes.get(e);return t&&function(e){var t=1===e.nodeType?e:e.parentElement;if(t){var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}}(t)}),tE(this,"handleTopMoveStartCapture",function(e){tm(e)&&(i.moveStartSourceIds=[])}),tE(this,"handleMoveStart",function(e){Array.isArray(i.moveStartSourceIds)&&i.moveStartSourceIds.unshift(e)}),tE(this,"handleTopMoveStart",function(e){if(tm(e)){var t=ty(e);t&&(tv(e)&&(i.lastTargetTouchFallback=e.targetTouches[0]),i._mouseClientOffset=t),i.waitingForDelay=!1}}),tE(this,"handleTopMoveStartDelay",function(e){if(tm(e)){var t=e.type===tC.touch.start?i.options.delayTouchStart:i.options.delayMouseStart;i.timeout=setTimeout(i.handleTopMoveStart.bind(i,e),t),i.waitingForDelay=!0}}),tE(this,"handleTopMoveCapture",function(){i.dragOverTargetIds=[]}),tE(this,"handleMove",function(e,t){i.dragOverTargetIds&&i.dragOverTargetIds.unshift(t)}),tE(this,"handleTopMove",function(e){if(i.timeout&&clearTimeout(i.timeout),i.document&&!i.waitingForDelay){var t,n,r=i.moveStartSourceIds,o=i.dragOverTargetIds,a=i.options.enableHoverOutsideTarget,s=ty(e,i.lastTargetTouchFallback);if(s){if(i._isScrolling||!i.monitor.isDragging()&&function(e,t,n,r,i){if(!i)return!1;for(var o=180*Math.atan2(r-t,n-e)/Math.PI+180,a=0;a<i.length;++a)if((null==i[a].start||o>=i[a].start)&&(null==i[a].end||o<=i[a].end))return!0;return!1}(i._mouseClientOffset.x||0,i._mouseClientOffset.y||0,s.x,s.y,i.options.scrollAngleRanges)){i._isScrolling=!0;return}if(!i.monitor.isDragging()&&i._mouseClientOffset.hasOwnProperty("x")&&r&&(t=i._mouseClientOffset.x||0,n=i._mouseClientOffset.y||0,Math.sqrt(Math.pow(Math.abs(s.x-t),2)+Math.pow(Math.abs(s.y-n),2))>(i.options.touchSlop?i.options.touchSlop:0))&&(i.moveStartSourceIds=void 0,i.actions.beginDrag(r,{clientOffset:i._mouseClientOffset,getSourceClientOffset:i.getSourceClientOffset,publishSource:!1})),i.monitor.isDragging()){var l=i.sourceNodes.get(i.monitor.getSourceId());i.installSourceNodeRemovalObserver(l),i.actions.publishDragSource(),e.cancelable&&e.preventDefault();var u=(o||[]).map(function(e){return i.targetNodes.get(e)}).filter(function(e){return!!e}),c=i.options.getDropTargetElementsAtPoint?i.options.getDropTargetElementsAtPoint(s.x,s.y,u):i.document.elementsFromPoint(s.x,s.y),A=[];for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];for(A.push(h);h;)(h=h.parentElement)&&-1===A.indexOf(h)&&A.push(h)}var f=A.filter(function(e){return u.indexOf(e)>-1}).map(function(e){return i._getDropTargetId(e)}).filter(function(e){return!!e}).filter(function(e,t,n){return n.indexOf(e)===t});if(a)for(var p in i.targetNodes){var g=i.targetNodes.get(p);if(l&&g&&g.contains(l)&&-1===f.indexOf(p)){f.unshift(p);break}}f.reverse(),i.actions.hover(f,{clientOffset:s})}}}}),tE(this,"_getDropTargetId",function(e){for(var t=i.targetNodes.keys(),n=t.next();!1===n.done;){var r=n.value;if(e===i.targetNodes.get(r))return r;n=t.next()}}),tE(this,"handleTopMoveEndCapture",function(e){if(i._isScrolling=!1,i.lastTargetTouchFallback=void 0,void 0===e.buttons||(1&e.buttons)==0){if(!i.monitor.isDragging()||i.monitor.didDrop()){i.moveStartSourceIds=void 0;return}e.cancelable&&e.preventDefault(),i._mouseClientOffset={},i.uninstallSourceNodeRemovalObserver(),i.actions.drop(),i.actions.endDrag()}}),tE(this,"handleCancelOnEscape",function(e){"Escape"===e.key&&i.monitor.isDragging()&&(i._mouseClientOffset={},i.uninstallSourceNodeRemovalObserver(),i.actions.endDrag())}),this.options=new t_(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(A.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(A.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(A.keyboard)}return e=[{key:"profile",value:function(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null==(e=this.dragOverTargetIds)?void 0:e.length)||0}}},{key:"document",get:function(){return this.options.document}},{key:"setup",value:function(){var e=this.options.rootElement;e&&((0,W.k)(!t.isSetUp,"Cannot have two Touch backends at the same time."),t.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){var e=this.options.rootElement;e&&(t.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,n,r){var i=tb?{capture:r,passive:!1}:r;this.listenerTypes.forEach(function(r){var o=tC[r][t];o&&e.addEventListener(o,n,i)})}},{key:"removeEventListener",value:function(e,t,n,r){var i=tb?{capture:r,passive:!1}:r;this.listenerTypes.forEach(function(r){var o=tC[r][t];o&&e.removeEventListener(o,n,i)})}},{key:"connectDragSource",value:function(e,t){var n=this,r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",r),function(){n.sourceNodes.delete(e),n.removeEventListener(t,"start",r)}}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=this.options.rootElement;if(!this.document||!r)return function(){};var i=function(i){if(n.document&&r&&n.monitor.isDragging()){switch(i.type){case tC.mouse.move:o={x:i.clientX,y:i.clientY};break;case tC.touch.move:o={x:i.touches[0].clientX,y:i.touches[0].clientY}}var o,a=null!=o?n.document.elementFromPoint(o.x,o.y):void 0,s=a&&t.contains(a);if(a===t||s)return n.handleMove(i,e)}};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(e,t),function(){n.document&&(n.targetNodes.delete(e),n.removeEventListener(n.document.body,"move",i))}}},{key:"getTopMoveStartHandler",value:function(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(function(){e&&!e.parentElement&&(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())}),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();tE(tB,"isSetUp",void 0);var tx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new tB(e,t,n)},tI=n(19179),tT=function(e){var t=e.children;return(0,P.jsx)(eX,{backend:tI.b1?tx:tg,children:t})};n(18014);var tS=n(58410),tk=n(97238);function tN(){return(tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tD(e,t){return(tD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var tO={templateTitle:"",noindex:!1,nofollow:!1,defaultOpenGraphImageWidth:0,defaultOpenGraphImageHeight:0,defaultOpenGraphVideoWidth:0,defaultOpenGraphVideoHeight:0},tR=function(e,t,n){void 0===t&&(t=[]);var r=void 0===n?{}:n,i=r.defaultWidth,o=r.defaultHeight;return t.reduce(function(t,n,r){return t.push(j.createElement("meta",{key:"og:"+e+":0"+r,property:"og:"+e,content:n.url})),n.alt&&t.push(j.createElement("meta",{key:"og:"+e+":alt0"+r,property:"og:"+e+":alt",content:n.alt})),n.secureUrl&&t.push(j.createElement("meta",{key:"og:"+e+":secure_url0"+r,property:"og:"+e+":secure_url",content:n.secureUrl.toString()})),n.type&&t.push(j.createElement("meta",{key:"og:"+e+":type0"+r,property:"og:"+e+":type",content:n.type.toString()})),n.width?t.push(j.createElement("meta",{key:"og:"+e+":width0"+r,property:"og:"+e+":width",content:n.width.toString()})):i&&t.push(j.createElement("meta",{key:"og:"+e+":width0"+r,property:"og:"+e+":width",content:i.toString()})),n.height?t.push(j.createElement("meta",{key:"og:"+e+":height"+r,property:"og:"+e+":height",content:n.height.toString()})):o&&t.push(j.createElement("meta",{key:"og:"+e+":height"+r,property:"og:"+e+":height",content:o.toString()})),t},[])},tF=function(e){var t,n,r,i,o,a=[];e.titleTemplate&&(tO.templateTitle=e.titleTemplate);var s="";e.title?(s=e.title,tO.templateTitle&&(s=tO.templateTitle.replace(/%s/g,function(){return s}))):e.defaultTitle&&(s=e.defaultTitle),s&&a.push(j.createElement("title",{key:"title"},s));var l=e.noindex||tO.noindex||e.dangerouslySetAllPagesToNoIndex,u=e.nofollow||tO.nofollow||e.dangerouslySetAllPagesToNoFollow,c="";if(e.robotsProps){var A=e.robotsProps,d=A.nosnippet,h=A.maxSnippet,f=A.maxImagePreview,p=A.maxVideoPreview,g=A.noarchive,m=A.noimageindex,v=A.notranslate,y=A.unavailableAfter;c=(d?",nosnippet":"")+(h?",max-snippet:"+h:"")+(f?",max-image-preview:"+f:"")+(g?",noarchive":"")+(y?",unavailable_after:"+y:"")+(m?",noimageindex":"")+(p?",max-video-preview:"+p:"")+(v?",notranslate":"")}if(l||u?(e.dangerouslySetAllPagesToNoIndex&&(tO.noindex=!0),e.dangerouslySetAllPagesToNoFollow&&(tO.nofollow=!0),a.push(j.createElement("meta",{key:"robots",name:"robots",content:(l?"noindex":"index")+","+(u?"nofollow":"follow")+c}))):a.push(j.createElement("meta",{key:"robots",name:"robots",content:"index,follow"+c})),e.description&&a.push(j.createElement("meta",{key:"description",name:"description",content:e.description})),e.mobileAlternate&&a.push(j.createElement("link",{rel:"alternate",key:"mobileAlternate",media:e.mobileAlternate.media,href:e.mobileAlternate.href})),e.languageAlternates&&e.languageAlternates.length>0&&e.languageAlternates.forEach(function(e){a.push(j.createElement("link",{rel:"alternate",key:"languageAlternate-"+e.hrefLang,hrefLang:e.hrefLang,href:e.href}))}),e.twitter&&(e.twitter.cardType&&a.push(j.createElement("meta",{key:"twitter:card",name:"twitter:card",content:e.twitter.cardType})),e.twitter.site&&a.push(j.createElement("meta",{key:"twitter:site",name:"twitter:site",content:e.twitter.site})),e.twitter.handle&&a.push(j.createElement("meta",{key:"twitter:creator",name:"twitter:creator",content:e.twitter.handle}))),e.facebook&&e.facebook.appId&&a.push(j.createElement("meta",{key:"fb:app_id",property:"fb:app_id",content:e.facebook.appId})),(null!=(t=e.openGraph)&&t.title||s)&&a.push(j.createElement("meta",{key:"og:title",property:"og:title",content:(null==(i=e.openGraph)?void 0:i.title)||s})),(null!=(n=e.openGraph)&&n.description||e.description)&&a.push(j.createElement("meta",{key:"og:description",property:"og:description",content:(null==(o=e.openGraph)?void 0:o.description)||e.description})),e.openGraph){if((e.openGraph.url||e.canonical)&&a.push(j.createElement("meta",{key:"og:url",property:"og:url",content:e.openGraph.url||e.canonical})),e.openGraph.type){var b=e.openGraph.type.toLowerCase();a.push(j.createElement("meta",{key:"og:type",property:"og:type",content:b})),"profile"===b&&e.openGraph.profile?(e.openGraph.profile.firstName&&a.push(j.createElement("meta",{key:"profile:first_name",property:"profile:first_name",content:e.openGraph.profile.firstName})),e.openGraph.profile.lastName&&a.push(j.createElement("meta",{key:"profile:last_name",property:"profile:last_name",content:e.openGraph.profile.lastName})),e.openGraph.profile.username&&a.push(j.createElement("meta",{key:"profile:username",property:"profile:username",content:e.openGraph.profile.username})),e.openGraph.profile.gender&&a.push(j.createElement("meta",{key:"profile:gender",property:"profile:gender",content:e.openGraph.profile.gender}))):"book"===b&&e.openGraph.book?(e.openGraph.book.authors&&e.openGraph.book.authors.length&&e.openGraph.book.authors.forEach(function(e,t){a.push(j.createElement("meta",{key:"book:author:0"+t,property:"book:author",content:e}))}),e.openGraph.book.isbn&&a.push(j.createElement("meta",{key:"book:isbn",property:"book:isbn",content:e.openGraph.book.isbn})),e.openGraph.book.releaseDate&&a.push(j.createElement("meta",{key:"book:release_date",property:"book:release_date",content:e.openGraph.book.releaseDate})),e.openGraph.book.tags&&e.openGraph.book.tags.length&&e.openGraph.book.tags.forEach(function(e,t){a.push(j.createElement("meta",{key:"book:tag:0"+t,property:"book:tag",content:e}))})):"article"===b&&e.openGraph.article?(e.openGraph.article.publishedTime&&a.push(j.createElement("meta",{key:"article:published_time",property:"article:published_time",content:e.openGraph.article.publishedTime})),e.openGraph.article.modifiedTime&&a.push(j.createElement("meta",{key:"article:modified_time",property:"article:modified_time",content:e.openGraph.article.modifiedTime})),e.openGraph.article.expirationTime&&a.push(j.createElement("meta",{key:"article:expiration_time",property:"article:expiration_time",content:e.openGraph.article.expirationTime})),e.openGraph.article.authors&&e.openGraph.article.authors.length&&e.openGraph.article.authors.forEach(function(e,t){a.push(j.createElement("meta",{key:"article:author:0"+t,property:"article:author",content:e}))}),e.openGraph.article.section&&a.push(j.createElement("meta",{key:"article:section",property:"article:section",content:e.openGraph.article.section})),e.openGraph.article.tags&&e.openGraph.article.tags.length&&e.openGraph.article.tags.forEach(function(e,t){a.push(j.createElement("meta",{key:"article:tag:0"+t,property:"article:tag",content:e}))})):("video.movie"===b||"video.episode"===b||"video.tv_show"===b||"video.other"===b)&&e.openGraph.video&&(e.openGraph.video.actors&&e.openGraph.video.actors.length&&e.openGraph.video.actors.forEach(function(e,t){e.profile&&a.push(j.createElement("meta",{key:"video:actor:0"+t,property:"video:actor",content:e.profile})),e.role&&a.push(j.createElement("meta",{key:"video:actor:role:0"+t,property:"video:actor:role",content:e.role}))}),e.openGraph.video.directors&&e.openGraph.video.directors.length&&e.openGraph.video.directors.forEach(function(e,t){a.push(j.createElement("meta",{key:"video:director:0"+t,property:"video:director",content:e}))}),e.openGraph.video.writers&&e.openGraph.video.writers.length&&e.openGraph.video.writers.forEach(function(e,t){a.push(j.createElement("meta",{key:"video:writer:0"+t,property:"video:writer",content:e}))}),e.openGraph.video.duration&&a.push(j.createElement("meta",{key:"video:duration",property:"video:duration",content:e.openGraph.video.duration.toString()})),e.openGraph.video.releaseDate&&a.push(j.createElement("meta",{key:"video:release_date",property:"video:release_date",content:e.openGraph.video.releaseDate})),e.openGraph.video.tags&&e.openGraph.video.tags.length&&e.openGraph.video.tags.forEach(function(e,t){a.push(j.createElement("meta",{key:"video:tag:0"+t,property:"video:tag",content:e}))}),e.openGraph.video.series&&a.push(j.createElement("meta",{key:"video:series",property:"video:series",content:e.openGraph.video.series})))}e.defaultOpenGraphImageWidth&&(tO.defaultOpenGraphImageWidth=e.defaultOpenGraphImageWidth),e.defaultOpenGraphImageHeight&&(tO.defaultOpenGraphImageHeight=e.defaultOpenGraphImageHeight),e.openGraph.images&&e.openGraph.images.length&&a.push.apply(a,tR("image",e.openGraph.images,{defaultWidth:tO.defaultOpenGraphImageWidth,defaultHeight:tO.defaultOpenGraphImageHeight})),e.defaultOpenGraphVideoWidth&&(tO.defaultOpenGraphVideoWidth=e.defaultOpenGraphVideoWidth),e.defaultOpenGraphVideoHeight&&(tO.defaultOpenGraphVideoHeight=e.defaultOpenGraphVideoHeight),e.openGraph.videos&&e.openGraph.videos.length&&a.push.apply(a,tR("video",e.openGraph.videos,{defaultWidth:tO.defaultOpenGraphVideoWidth,defaultHeight:tO.defaultOpenGraphVideoHeight})),e.openGraph.audio&&a.push.apply(a,tR("audio",e.openGraph.audio)),e.openGraph.locale&&a.push(j.createElement("meta",{key:"og:locale",property:"og:locale",content:e.openGraph.locale})),e.openGraph.site_name&&a.push(j.createElement("meta",{key:"og:site_name",property:"og:site_name",content:e.openGraph.site_name}))}return e.canonical&&a.push(j.createElement("link",{rel:"canonical",href:e.canonical,key:"canonical"})),e.additionalMetaTags&&e.additionalMetaTags.length>0&&e.additionalMetaTags.forEach(function(e){var t,n,r;a.push(j.createElement("meta",tN({key:"meta:"+(null!=(t=null!=(n=null!=(r=e.keyOverride)?r:e.name)?n:e.property)?t:e.httpEquiv)},e)))}),null!=(r=e.additionalLinkTags)&&r.length&&e.additionalLinkTags.forEach(function(e){var t;a.push(j.createElement("link",tN({key:"link"+(null!=(t=e.keyOverride)?t:e.href)+e.rel},e)))}),a},tL=function(e){function t(){return e.apply(this,arguments)||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tD(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.titleTemplate,r=e.defaultTitle,i=e.dangerouslySetAllPagesToNoIndex,o=e.dangerouslySetAllPagesToNoFollow,a=e.description,s=e.canonical,l=e.facebook,u=e.openGraph,c=e.additionalMetaTags,A=e.twitter,d=e.defaultOpenGraphImageWidth,h=e.defaultOpenGraphImageHeight,f=e.defaultOpenGraphVideoWidth,p=e.defaultOpenGraphVideoHeight,g=e.mobileAlternate,m=e.languageAlternates,v=e.additionalLinkTags,y=e.robotsProps;return j.createElement(K(),null,tF({title:t,titleTemplate:n,defaultTitle:r,dangerouslySetAllPagesToNoIndex:void 0!==i&&i,dangerouslySetAllPagesToNoFollow:void 0!==o&&o,description:a,canonical:s,facebook:l,openGraph:u,additionalMetaTags:c,twitter:A,defaultOpenGraphImageWidth:d,defaultOpenGraphImageHeight:h,defaultOpenGraphVideoWidth:f,defaultOpenGraphVideoHeight:p,mobileAlternate:g,languageAlternates:m,additionalLinkTags:v,robotsProps:y}))},t}(j.Component);j.Component,RegExp("["+Object.keys(Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"})).join("")+"]","g");var tU=n(99642),tP=n.n(tU),tM=n(66140),tj={type:"website",title:"Eraser  AI co-pilot for technical design",description:"Deliver accurate, consistent designs faster.",images:[{url:"".concat(tM.l2.url).concat(tP()),width:1200,height:630,alt:"Eraser"}]},tZ={site:"@EraserLabs",cardType:"summary_large_image"},tQ=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{og:tj}).og;return(0,P.jsx)(tL,{openGraph:e||tj,description:e?e.description:tj.description,twitter:tZ})},tH=n(57821),tV=n(22805),tK=function(){var e=(0,j.useCallback)(function(e){e.preventDefault()},[]);return(0,tV.Z)({"command+s":e}),null},tz=n(33562),tG=n(96670),tW=n(54073),tq=n.n(tW),t$=n(96933),tY=n(2332),tJ=n(45403),tX=n(42541),t0=n(90581),t1=tM.CF.url.replace(/https?:\/\/(?:www.)?/,"."),t2=function(){function e(){(0,t0.Z)(this,e)}return e.getByName=function(t){if(!("document"in n.g))return null;var r={};if(document.cookie===e.cookieString)r=e.cookieObject;else{for(var i=document.cookie.split(";"),o=0;o<i.length;o++){var a=i[o].trim().split("=");r[a[0]]=a[1]}e.cookieObject=r}return r[t]||null},e.add=function(t){if("document"in n.g){var r=new Date,i=t.name,o=t.value,a=t.expire,s=t.domain;r.setTime(r.getTime()+(a||2592e6)),document.cookie="".concat(i,"=").concat(o,";expires=").concat(r.toUTCString(),";domain=").concat(s||t1,";path=/"),e.cookieString=document.cookie,e.cookieObject[i]=o}},e}();t2.cookieString="",t2.cookieObject={};var t4=n(32472),t3=n(11269),t5=n(70599),t6=n(20985),t8=(0,j.createContext)(tX.Z),t9=function(){(0,j.useEffect)(function(){var e=tq()(function(){tX.Z.updateSessionProperties({screenWidth:window.innerWidth,screenHeight:window.innerHeight})},500);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[])},t7=function(e){tX.Z.trackEvent(null,"page_view",{page_title:document.title,page_location:document.location.href,page_path:e})},ne=n(52982),nt=n(65850),nn=n(44371),nr=n(47311),ni=n(85591),no=n(80498),na=n(26297),ns=n(4126),nl=n(1607),nu=n.n(nl),nc=n(2643),nA=n(35637),nd=n(19705),nh=n.n(nd),nf=n(89563),np=n(95343),ng=n.n(np),nm=n(3635),nv="keyboard-shortcuts-scroll-container",ny=n(50930),nb=n(12982),nw=n.n(nb),n_=n(9850),nE=n.n(n_),nC=n(6901),nB=function(){return[{label:"General",sections:[{label:"Global",shortcuts:[{keys:["Control|Alt N"],description:"New file"},{keys:["Control|Alt Shift N"],description:"New private file"},{keys:["CtrlOrCmd P"],description:"Switch file"},{keys:nC.Um?["Control|Alt Option ArrowLeft"]:["CtrlOrCmd Control|Alt ArrowLeft"],description:"Go to dashboard"},{keys:nC.Um?["Control|Alt Option ArrowRight"]:["CtrlOrCmd Control|Alt ArrowRight"],description:"Go to last file"},{keys:["CtrlOrCmd /"],description:"Keyboard shortcuts"}]},{label:"Dashboard",shortcuts:[{keys:["/"],description:"Search"},{keys:["A"],description:"All files"},{keys:["P"],description:"Private files"},{keys:["E"],description:"Archived (from all files)"},{keys:["Control|Alt 1"],description:"All (from all files)"},{keys:["Control|Alt 2"],description:"Recent files (from all files)"},{keys:["Control|Alt 3"],description:"Created by me (from all files)"},{keys:["Control|Alt 4"],description:"View folders (from all files)"},{keys:["Control|Alt 5"],description:"Unsorted (from all files)"},{keys:["[","]"],description:"Focus previous / next folder"}]}]},{label:"Document",sections:[{label:"Formatting and Blocks",shortcuts:[{keys:["CtrlOrCmd Option 1"],description:"H1 heading",markdown:"# text"},{keys:["CtrlOrCmd Option 2"],description:"H2 heading",markdown:"## text"},{keys:["CtrlOrCmd Option 3"],description:"H3 heading",markdown:"### text"},{keys:["CtrlOrCmd Shift 8"],description:"Bulleted list",markdown:"* text"},{keys:["CtrlOrCmd Shift 7"],description:"Checkbox",markdown:"[] text"},{keys:["CtrlOrCmd Shift 9"],description:"Numbered list",markdown:"1. text"},{keys:["CtrlOrCmd B"],markdown:"**text**",description:"Bold"},{keys:["CtrlOrCmd I"],description:"Italicize",markdown:"*text*"},{keys:["CtrlOrCmd U"],description:"Underline",markdown:""},{keys:["CtrlOrCmd Shift X"],description:"Strikethrough",markdown:"~text~"},{keys:["CtrlOrCmd Shift C"],description:"Inline code",markdown:"`text`"},{keys:["CtrlOrCmd Shift \\"],description:"Code block",markdown:"```"},{keys:["CtrlOrCmd K"],description:"Create or edit link",markdown:""},{keys:["CtrlOrCmd Shift M"],description:"Comment on selected text",markdown:""},{description:"Text divider",markdown:"---"},{description:"Blockquote",markdown:"> text"},{description:"Mention a colleague",markdown:"@name"},{description:"Link to another file",markdown:"+filename"}]},{label:"Edit",shortcuts:[{keys:["AltOrOption ArrowUp","AltOrOption ArrowDown"],description:"Move item up / down",markdown:""},{keys:["Tab"],description:"List  Indent",markdown:""},{keys:["Shift Tab"],description:"List  Un-indent",markdown:""},{keys:["CtrlOrCmd Enter"],description:"Checkbox  Check/uncheck",markdown:""},{keys:["Shift Enter"],description:"Line break",markdown:""},{keys:["Enter"],description:"New paragraph",markdown:""},{keys:["CtrlOrCmd Z"],description:"Undo",markdown:""},{keys:["CtrlOrCmd Shift Z"],description:"Redo",markdown:""},{keys:["CtrlOrCmd Alt T"],description:"Insert Table",markdown:""},{keys:["CtrlOrCmd Shift +"],description:"Insert table row",markdown:""},{keys:["CtrlOrCmd Shift -"],description:"Remove table row",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption +"],description:"Insert table column",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption -"],description:"Remove table column",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowUp"],description:"Move table row up",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowDown"],description:"Move table row down",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowLeft"],description:"Move table column left",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowRight"],description:"Move table column right",markdown:""}]}]},{label:"Canvas",sections:[{label:"View",shortcuts:[{keys:["CtrlOrCmd +"],description:"Zoom in"},{keys:["CtrlOrCmd -"],description:"Zoom out"},{keys:["Space Drag"],description:"Move canvas"},{keys:["Shift 2"],description:"Zoom to fit selected element(s)"}]},{label:"Tool",shortcuts:[{keys:["\\"],description:"Open insert menu"},{keys:["V","1"],description:"Selection"},{keys:["R","2"],description:"Rectangle"},{keys:["O","3"],description:"Ellipse"},{keys:["A","4"],description:"Arrow"},{keys:["L","5"],description:"Line"},{keys:["D","6"],description:"Free draw"},{keys:["T","7"],description:"Text"},{keys:["I","8"],description:"Icon"},{keys:["F"],description:"Figure"},{keys:["C"],description:"Comment"}]},{label:"Edit",shortcuts:[{keys:["Del"],description:"Delete"},{keys:["CtrlOrCmd C"],description:"Copy"},{keys:["CtrlOrCmd V"],description:"Paste"},{keys:["CtrlOrCmd Z"],description:"Undo"},{keys:["CtrlOrCmd Shift Z"],description:"Redo"},{keys:["CtrlOrCmd D"],description:"Duplicate"},{keys:["CtrlOrCmd G"],description:"Group"},{keys:["CtrlOrCmd Shift G"],description:"Ungroup"},{keys:["Shift F"],description:"Create figure from selection"},{keys:["CtrlOrCmd Shift F"],description:"Remove figure"},{keys:["CtrlOrCmd AltOrOption F"],description:"Resize figure to fit"},{keys:["Shift Click"],description:"Add to selection"},{keys:["CtrlOrCmd Drag"],description:"Select within background shape"},{keys:["CtrlOrCmd Click"],description:"Select within group"},{keys:["AltOrOption Drag"],description:"Drag a copy of selected elements"},{keys:["CtrlOrCmd"],description:"Prevent snapping and binding"},{keys:["["],description:"Send back"},{keys:["]"],description:"Send front"},{keys:["CtrlOrCmd ["],description:"Send backward"},{keys:["CtrlOrCmd ]"],description:"Send forward"},{keys:["Shift AltOrOption C"],description:"Copy to clipboard as PNG"}]},{label:"Flowchart",shortcuts:[{keys:["CtrlOrCmd ArrowRight"],description:"Add a connected shape"},{keys:["CtrlOrCmd ArrowRight ArrowRight"],description:"Add multiple connected shapes"},{keys:["Tab"],description:"Change shape"},{keys:["AltOrOption ArrowRight"],description:"Navigate to closest element"}]},{label:"Text",shortcuts:[{keys:["Enter"],description:"Add text to shape"},{keys:["Esc"],description:"Leave text edit mode"},{keys:["CtrlOrCmd Shift >"],description:"Increment font size"},{keys:["CtrlOrCmd Shift <"],description:"Decrement font size"}]}]},{label:"File",sections:[{label:"Manage",shortcuts:[{keys:["Control|Alt M"],description:"Move file"},{keys:["CtrlOrCmd D"],description:"Duplicate file"},{keys:["CtrlOrCmd E"],description:"Archive file"}]},{label:"Layout",shortcuts:[{keys:["Control|Alt 1"],description:"Document layout"},{keys:["Control|Alt 2"],description:"Both layout"},{keys:["Control|Alt 3"],description:"Canvas layout"},{keys:["Control|Alt C"],description:"Show or hide comments"}]},{label:"Comments",shortcuts:[{keys:["@"],description:"Mention a colleague"},{keys:["CtrlOrCmd Enter"],description:"Submit comment"},{keys:["AltOrOption R"],description:"Resolve comment"},{keys:["AltOrOption D"],description:"Delete comment"}]}]}].map(function(e){var t=e.sections.map(function(t){var n,r,i;return(0,tG.Z)((0,L.Z)({},t),{group:e.label,id:(r=(n=(0,tG.Z)((0,L.Z)({},t),{group:e.label})).group,i=n.label,"".concat(r,"-").concat(i))})});return(0,tG.Z)((0,L.Z)({},e),{sections:t})})},nx=tq()(function(e){tX.Z.trackEvent("help_center","keyboard_shortcuts_search",{searchTerm:e})},500),nI=function(){return(0,P.jsxs)("div",{className:nh().noResults,children:[(0,P.jsx)("p",{children:"It seems we don't do that (yet)."}),(0,P.jsx)("p",{children:"Try another search term."})]})},nT=function(e){var t=e.combinations,n=(0,j.useCallback)(function(e){return e.map(function(e,t){return(0,P.jsxs)(j.Fragment,{children:[0!==t&&(0,P.jsx)("span",{className:nh().shortcutDivider,children:"or"}),(0,P.jsx)(nf.P,{keys:e.split(" "),shortcutStyle:"pills"})]},"combination-".concat(e))})},[]);return t&&t.length?(0,P.jsx)("div",{className:"rowCentered",children:n(t)}):null},nS=function(e){var t=e.section,n=e.headers;return(0,P.jsxs)("div",{className:nh().shortcutsTable,id:t.id,children:[(0,P.jsx)("p",{className:(0,nm.Z)(ng().medium,ng().semiBold),children:t.label}),(0,P.jsxs)("table",{className:nh().table,children:[(0,P.jsx)("thead",{children:(0,P.jsx)("tr",{children:n.map(function(e,t){return(0,P.jsx)("th",{className:(0,nm.Z)(ng().small,ng().semiBold),children:(0,P.jsx)("p",{children:e})},"header-".concat(e,"-").concat(t))})})}),(0,P.jsx)("tbody",{children:t.shortcuts.map(function(e){return(0,P.jsxs)("tr",{children:[(0,P.jsx)("td",{children:e.description}),(0,P.jsx)("td",{children:(0,P.jsx)(nT,{combinations:e.keys})}),(0,P.jsx)("td",{children:e.markdown})]},"row-".concat(e.description))})})]})]})},nk=function(e){var t,n,r,i,o=(t=e.searchTerm,n=(0,j.useMemo)(nB,[]),r=(0,j.useMemo)(function(){return n.flatMap(function(e){return e.sections.flatMap(function(e){return e.shortcuts.map(function(t){var n,r,i;return{shortcut:t,section:e,searchMatches:(r=t.description.toLowerCase().replace(/-\//," ").split(/\s+/),i=(null!=(n=t.keys)?n:[]).flatMap(function(e){return e.toLowerCase().split(/\s+/)}),(0,ny.Z)(r).concat((0,ny.Z)(i)))}})})})},[n]),i=(0,j.useMemo)(function(){return n.flatMap(function(e){return e.sections})},[n]),(0,j.useMemo)(function(){if(!t)return i;var e=t.toLowerCase(),n=r.filter(function(t){return t.searchMatches.some(function(t){return t.match(e)})}),o=i.filter(function(t){return t.label.toLowerCase().match(e)||t.group.toLowerCase().match(e)}),a=nE()(o);return n.forEach(function(e){var t=e.section,n=e.shortcut;if(!o.some(function(e){return e.label===t.label})){var r=a.find(function(e){return e.label===t.label});r?r.shortcuts.push(n):a.push((0,tG.Z)((0,L.Z)({},t),{shortcuts:[n]}))}}),a},[t,r,i]));return(0,P.jsx)("div",{className:nu().paneContainer,id:nv,children:o.length?o.map(function(e){return(0,P.jsx)(nS,{section:e,headers:e.shortcuts.some(function(e){return!!e.markdown})?["","","Markdown Syntax"]:[" "," "," "]},e.id)}):(0,P.jsx)(nI,{})})},nN=n(1551),nD=n.n(nN),nO=n(28563),nR=n(27196),nF=function(e){var t=e.section,n=e.isSelected,r=e.onClick,i=e.onAcquiredFocus,o=(0,j.useRef)(null),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,j.useState)(t),r=n[0],i=n[1];return(0,j.useEffect)(function(){var t=null==e?void 0:e.current;if(t){var n=function(){return i(!0)},r=function(){return i(!1)};return t.addEventListener("focus",n),t.addEventListener("blur",r),function(){t&&(t.removeEventListener("focus",n),t.removeEventListener("blur",r))}}},[e]),{isFocused:r}}(o).isFocused,s=(0,nR.D9)(a);return(0,j.useEffect)(function(){a&&!s&&i(t.id)},[a,s,i,t.id]),(0,P.jsx)(nO.Z,{ref:o,onClick:r,label:t.label,isSelected:n,focusOnMouseEnter:!1,focusSelectedOnMount:!1})},nL=function(e){var t=e.activeSectionId,n=e.setActiveSectionId,r=(0,j.useMemo)(nB,[]);return(0,P.jsx)("div",{className:(0,nm.Z)(nD().sideBarRoot,nh().navContainer),children:r.map(function(e){return(0,P.jsxs)(j.Fragment,{children:[(0,P.jsx)("p",{className:(0,nm.Z)(nD().sideBarHeader,ng().small,ng().semiBold,nh().navHeader),children:e.label}),e.sections.map(function(e){return(0,P.jsx)(nF,{section:e,isSelected:e.id===t,onClick:function(){return n(e.id)},onAcquiredFocus:n},e.id)})]},e.label)})})},nU=function(e){var t,n,r,i,o,a,s,l,u,c,A,d,h,f,p,g,m=e.isOpen,v=e.onOpen,y=e.onClose,b=e.initialSearchTerm,w=(0,na.Z)(e,["isOpen","onOpen","onClose","initialSearchTerm"]),_=(0,j.useState)(0),E=_[0],C=_[1],B=(0,j.useState)(),x=B[0],I=B[1],T=(t=!!m,r=(n=(0,j.useState)(null!=b?b:""))[0],i=n[1],o=(0,j.useMemo)(nB,[]),a=(0,j.useMemo)(function(){return o.flatMap(function(e){return e.sections})},[o]),l=(s=(0,j.useState)(b?void 0:o[0].sections[0].id))[0],u=s[1],c=(0,j.useCallback)(function(e){i(e),e&&(nx(e),u(void 0))},[]),A=(0,j.useRef)(),d=(0,j.useRef)(),h=(0,j.useCallback)(function(e){A.current=e,u(e)},[]),f=(0,j.useCallback)(function(e){if(!r&&(h(e),e)){var t,n=document.getElementById(e);d.current=e,null==n||n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),tX.Z.trackEvent("help_center","keyboard_shortcuts_nav",{section:null==(t=a.find(function(t){return t.id===e}))?void 0:t.label})}},[r,a,h]),p=(0,j.useRef)(),g=(0,j.useRef)(!1),(0,j.useLayoutEffect)(function(){if(t){var e=document.getElementById(nv),n=function(e){if(e.target){var t,n,r=null!=(t=p.current)?t:0,i=null!=(n=e.target.scrollTop)?n:0;d.current||(g.current=i<r),p.current=i}};return null==e||e.addEventListener("scroll",n),function(){null==e||e.removeEventListener("scroll",n)}}},[t]),(0,j.useLayoutEffect)(function(){if(t){var e=new IntersectionObserver(function(e){var t=e.find(function(e){return e.isIntersecting});if(t){var n=t.target.id,r=d.current;if(r){n===r&&(d.current=void 0);return}h(n)}else{var i=e[0].target;if(i.id!==A.current)return;if(i.id===d.current){d.current=void 0;return}var o=g.current?-1:1,s=nw()(a,{id:i.id}),l=a[s+o];l&&h(l.id)}},{root:document.getElementById(nv),threshold:.6});return a.forEach(function(t){var n=document.getElementById(t.id);n&&e.observe(n)}),function(){e.disconnect()}}},[a,t,h]),{searchTerm:r,setSearchTerm:c,activeSectionId:l,setActiveSectionId:f}),S=T.searchTerm,k=T.setSearchTerm,N=(0,ns.F)().theme,D=(0,j.useCallback)(function(){return C(performance.now()),S&&S!==b&&k(""),v()},[v,S,k,b]),O=(0,j.useCallback)(function(e){var t=Math.round((performance.now()-E)/1e3);return C(0),I(void 0),tX.Z.trackEvent("help_center","keyboard_shortcuts_view",{timeSpentInSeconds:t,origin:null!=e?e:"button"}),null==y?void 0:y()},[y,E]);if((0,tV.Z)({"mod+/":function(){m?O(x):(I("keyboard"),D())}}),!m)return null;var R=(0,P.jsxs)("div",{className:"rowCentered spaceBetween",children:["Keyboard Shortcuts and Markdown Syntax",(0,P.jsx)(nA.Z,{searchTerm:S,setSearchTerm:k,className:nh().searchInput,autoFocus:!0})]});return(0,P.jsx)(nc.Z,(0,tG.Z)((0,L.Z)({},w),{isOpen:m,onClose:O,theme:N,bottomGradient:!0,className:nu().modalRoot,title:R,showTitleSeparator:!0,size:nc.Z.Sizes.XL,closeButtonVariant:"text",children:(0,P.jsxs)("div",{className:nu().container,children:[(0,P.jsx)(nL,(0,L.Z)({},T)),(0,P.jsx)(nk,(0,L.Z)({},T))]})}))},nP=n(77257),nM=n(56380),nj=n(68608),nZ=n(56060),nQ=n(45932),nH=n(98916),nV=[nZ.c.InviteTeamMember],nK=[nZ.c.OpenInsertMenu,nZ.c.AddFigure,nZ.c.GenerateDiagramWithCode],nz=(0,j.createContext)({setupItems:[],tutorialItems:[],allItems:[],completedItems:[]}),nG=n(59644),nW=n(75956),nq=n(64442),n$=n(87394),nY=n(19275),nJ=n(1158),nX=n(95162),n0=n(11747),n1=n(66804),n2=n(97420),n4=n(62866),n3=n(55929),n5=n(45026),n6=n.n(n5),n8=function(e){return e.replace(/^\//,"")},n9=function(e){return e.includes("/")},n7=function(e){var t=e.onClose,n=e.onCreate,r=e.initialDto,i=void 0===r?{}:r,o=(0,na.Z)(e,["onClose","onCreate","initialDto"]),a=(0,n$.Z)((0,nY.R)({fileName:i.fileName||"",filePath:i.filePath||"/",repositoryId:i.repositoryId||"",organizationId:i.organizationId||""}),2),s=a[0],l=a[1],u=(0,nJ.T5)({repositoryId:s.repositoryId,organizationId:s.organizationId}),c=u.organization,A=u.repository,d=(0,nP.k3)(),h=d.organizations,f=d.repositoriesMap,p=c&&A?"".concat(c.name,"/").concat(A.name):void 0,g=!p||!s.filePath||!s.fileName||n9(s.fileName);return(0,P.jsxs)(nc.Z,(0,tG.Z)((0,L.Z)({},o),{title:"New GitHub file",onClose:t,children:[(0,P.jsxs)("div",{className:n6().repositoryWrapper,children:[(0,P.jsx)(n2.A,{labelClassNames:{root:n6().repositoryLabel},children:"Repository"}),(0,P.jsx)(n1.Lt,{takeWidthOfToggle:!0,title:p,selected:p,noSelectionTitle:"Select repository ...",classNames:{menu:n6().dropdownMenu},toggleClassNames:{button:n6().dropdownToggleRoot,root:n6().toggleRoot},children:(!h||!f?[]:h.flatMap(function(e){var t=f.get(e.id);return t?t.map(function(t){return{organization:e,repository:t}}):[]})).map(function(e){var t=e.organization,n=e.repository;return(0,P.jsx)(n4.Wx,{label:"".concat(t.name,"/").concat(n.name),onClick:function(){return l({organizationId:t.id,repositoryId:n.id})}},n.id)})})]}),(0,P.jsx)(n3.Z,{label:"File path",value:s.filePath,placeholder:"Enter path ...",onChange:function(e){return l({filePath:e.currentTarget.value})}}),(0,P.jsx)(n3.Z,{autoFocus:!0,label:"File name",value:s.fileName,placeholder:"Name your file ...",onChange:function(e){return l({fileName:e.currentTarget.value})}}),n9(s.fileName)&&(0,P.jsx)("small",{children:"File name cannot include slash character."}),(0,P.jsxs)(n0.Z,{children:[(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),(0,P.jsx)(nX.ZP,{disabled:g,onClick:function(){var e,t=n8(s.filePath),r=(e=n8(s.fileName)).toLocaleLowerCase().endsWith(".md")?e:"".concat(e,".md");n((0,tG.Z)((0,L.Z)({},s),{filePath:t,fileName:r}))},variant:nX.ZP.Variants.REGULAR,children:"Create File"})]})]}))},re=n(76784),rt=n(25300),rn=n(2600),rr=n(59380),ri=n(48696),ro=n(10185),ra=n(15765),rs=(0,j.createContext)({openGitHubModal:function(){},isCreatingWorkspace:!1,setCreationState:function(){},openTemplatesModal:function(){},createNewWorkspace:function(){}}),rl=(0,tz.b1)(ne.H,nr.f,nt.fr,function(e){var t=e.children,n=(0,z.useRouter)(),r=(0,t3.Rs)(),i=(0,t$.aF)(),o=(0,t$.fC)(),a=(0,tY.ZP)(null==o?void 0:o.id,!0),s=(0,tJ.Pe)();(0,j.useEffect)(function(){var e=function(){var e,t,n,r,i=s.currentUser.getAuthUser();if(i){var o=null!=(e=(0,t6.ES)())?e:"",a=t2.getByName(t4.IF);tX.Z.identify({analyticsId:a||o,id:i.id,email:null!=(t=i.email)?t:"",displayName:null!=(n=i.displayName)?n:"",isAnonymous:!1,emailVerified:null!=(r=i.emailVerified)&&r}),tX.Z.trackEvent("account","create",{userId:i.id,email:i.email,oldUserId:o})}};return s.currentUser.on(s.currentUser.Events.UserSignedUp,e),function(){s.currentUser.off(s.currentUser.Events.UserSignedUp,e)}},[]),(0,j.useEffect)(function(){var e,t,n={referrer:document.referrer,screenWidth:window.innerWidth,screenHeight:window.innerHeight};r&&(n.teamId=r.id,n.teamPaymentPlan=null!=(t=null==(e=r.plan)?void 0:e.planType)?t:t5.k9.Free),tX.Z.updateSessionProperties(n)},[r]),t9(),(0,j.useEffect)(function(){if(a&&o&&i&&a.id===o.id&&null!=a.displayName){var e,t,n=function(e){var t={tools:null==(o=e.surveyData)?void 0:o.tools,useCases:null==(a=e.surveyData)?void 0:a.useCases,role:null==(s=e.surveyData)?void 0:s.role},n=!0,r=!1,i=void 0;try{for(var o,a,s,l,u,c,A,d,h=(null!=(A=null==(l=e.surveyData)?void 0:l.tools)?A:[])[Symbol.iterator]();!(n=(d=h.next()).done);n=!0){var f=d.value;t["tools.".concat(f)]=!0}}catch(e){r=!0,i=e}finally{try{n||null==h.return||h.return()}finally{if(r)throw i}}var p=!0,g=!1,m=void 0;try{for(var v,y,b=(null!=(v=null==(u=e.surveyData)?void 0:u.useCases)?v:[])[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;t["useCases.".concat(w)]=!0}}catch(e){g=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw m}}return(null==(c=e.surveyData)?void 0:c.customToolsInput)&&(t["tools.custom"]=e.surveyData.customToolsInput),t}(i);tX.Z.identify((0,tG.Z)((0,L.Z)({},n),{id:o.id,email:null!=(e=o.email)?e:"",displayName:a.displayName,emailVerified:null!=(t=o.emailVerified)&&t,isAnonymous:o.isAnonymous,analyticsId:a.analyticsId,signUpOrigin:a.signUpOrigin,signUpCampaign:a.signUpCampaign,signUpTemplate:a.signUpTemplate,signUpPage:a.signUpPage}))}},[a,i,o]);var l=null==a?void 0:a.analyticsId;return(0,j.useEffect)(function(){l&&t2.add({name:t4.IF,value:l})},[l]),(0,j.useEffect)(function(){return t7(n.asPath),n.events.on("routeChangeComplete",t7),function(){n.events.off("routeChangeComplete",t7)}},[n.events]),(0,P.jsx)(t8.Provider,{value:tX.Z,children:t})},nn.Hq,nP.Ii,function(e){var t=e.children,n=(0,no.Z)(),r=n.isOpen,i=n.onOpen,o=n.onClose,a=(0,j.useMemo)(function(){return{isKeyboardShortcutsOpen:r,openKeyboardShortcuts:i,closeKeyboardShortcuts:o}},[r,i,o]);return(0,P.jsxs)(ni.Z.Provider,{value:a,children:[t,(0,P.jsx)(nU,{isOpen:r,onOpen:i,onClose:o})]})},nj.dq,nM.ZP,function(e){var t,n=e.children,r=(0,t$.aF)(),i=(0,nH.b)(),o=i.loading,a=i.activations,s=(0,j.useMemo)(function(){var e,t=nV.slice(),n=(null==r||null==(e=r.surveyData)?void 0:e.tools)||[];return n.includes(nQ.Ib.GITHUB)&&t.push(nZ.c.GitHubSync),n.includes(nQ.Ib.VS_CODE)&&t.push(nZ.c.VsCodeExtensionDownload),n.includes(nQ.Ib.NOTION)&&t.push(nZ.c.GetStartedNotionIntegrationClicked),n.includes(nQ.Ib.CONFLUENCE)&&t.push(nZ.c.GetStartedConfluenceIntegrationClicked),t},[r]),l=(0,j.useMemo)(function(){return nK.concat(s)},[nK,s]),u=(0,j.useMemo)(function(){return l.filter(function(e){return a[e]})},[a,l]),c=(0,j.useState)(u.length),A=(c[0],c[1]);return(0,j.useEffect)(function(){o||A(u.length)},[o]),(0,j.useEffect)(function(){var e;(null==r||null==(e=r.userSettings)?void 0:e.isGettingStartedEnabled)&&A(function(e){return u.length===e||o?e:(tX.Z.trackEvent("get_started_checklist","progress",{completed:u.length}),u.length)})},[u,o,null==r||null==(t=r.userSettings)?void 0:t.isGettingStartedEnabled]),(0,P.jsx)(nz.Provider,{value:{setupItems:s,tutorialItems:nK,allItems:l,completedItems:u},children:n})},nG.yx,function(e){var t=e.children,n=(0,t3.LP)(),r=(0,ri.MZ)(),i=(0,nq.l)().register,o=(0,ro.Q)().tabId,a=(0,rt.Z)(),s=a.loading,l=a.request,u=(0,j.useRef)({}),c=((0,rr.k_)()||{}).id,A=((0,rr.dr)()||{}).id,d=(0,rn.X)(),h=d.request,f=d.loading,p=(0,ra.Q6)(t5.AC.PrivateWorkspaces,n),g=(0,no.Z)(),m=g.onOpen,v=g.isOpen,y=g.onClose,b=(0,no.Z)(),w=b.onOpen,_=b.isOpen,E=b.onClose,C=s||f,B=(0,j.useCallback)(function(e){u.current=e},[]),x=(0,j.useCallback)(function(){var e,t,n=u.current,r=n.gitHub,i=n.template,o=n.folderId,a=n.isPrivate,s=n.isNewTemplate,c=n.eventSource;if(r){var A=r.fileName,d=r.filePath,f=r.repositoryId,p=r.organizationId,g=d.length?"".concat(d,"/").concat(A):A;e=A.replace(/\.md$/,""),t={filePath:g,repositoryId:f,organizationId:p}}var m={title:e,folderId:o,isPrivate:a,gitHubRepository:t,isTemplate:s};i?h({workspaceOverrides:m,isFromTemplate:!0,teamId:i.teamId,workspaceId:i.id,versionId:i.templateVersionId}):l(void 0===c?"header_button":c,m)},[h,l]);return(0,j.useEffect)(function(){i("newPrivateFile",{isHidden:function(){return!p},action:function(){B({isPrivate:!0,eventSource:"command_k"}),x()}}),i("newGitHubFile",function(){c&&A?B({eventSource:"command_k",gitHub:{fileName:"",filePath:"",repositoryId:c,organizationId:A}}):B({eventSource:"command_k"}),m()}),i("newFile",{isHidden:function(){return"private"===o},action:function(){B({folderId:r,eventSource:"command_k"}),x()}}),i("newFileFromTemplate",function(){c&&A?B({gitHub:{fileName:"",filePath:"",repositoryId:c,organizationId:A}}):B({folderId:r,isPrivate:"private"===o}),w()})},[o,i,r,c,A,m,B,w,x,p]),(0,P.jsxs)(rs.Provider,{value:{openGitHubModal:m,setCreationState:B,openTemplatesModal:w,createNewWorkspace:x,isCreatingWorkspace:C},children:[t,_&&(0,P.jsx)(re.U,{isOpen:!0,mountedIn:"other",templateToPreview:null,isLoading:f,onUseTemplate:function(e){B((0,tG.Z)((0,L.Z)({},u.current),{template:e})),u.current.gitHub?m():x()},onClose:E}),v&&(0,P.jsx)(n7,{isOpen:!0,onClose:y,onCreate:function(e){B((0,tG.Z)((0,L.Z)({},u.current),{gitHub:e})),x()},initialDto:u.current.gitHub})]})},nW.Z);rl.displayName="AppContextProviders";var ru=n(23630),rc=n(84215),rA=n(83423),rd=function(e){var t=(0,j.useRef)(!0),n=(0,j.useCallback)(function(){t.current?t.current=!1:e()},[e]);(0,j.useEffect)(function(){var e=(0,rc.iH)(rA.Fs,"force-client-version");return(0,rc.jM)(e,n)},[n])};function rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var rf=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=rh({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",rh({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,rh({},this.attributes,t))},withConverter:function(t){return e(rh({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),rp=n(29259),rg=n.n(rp),rm="__session",rv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf,t=e.get(rm);if(!t)return null;var n=decodeURIComponent(t);try{var r=JSON.parse(n);return rg()(r)?r:null}catch(e){return null}},ry=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expires:365};try{rf.set(rm,JSON.stringify(e),t)}catch(e){}},rb=function(e,t){var n=rv(t);return n?n[e]:null},rw=function(e,t,n){var r=rv();r||(r={}),r[e]=t,ry(r,n)},r_=function(e){var t=rv();t&&(delete t[e],ry(t))},rE="eraserTheme",rC=n(80003),rB=n(71059),rx=function(){var e=(0,ns.F)(),t=e.theme,n=e.toggleTheme,r=e.isDarkMode,i=(0,j.useCallback)(function(){n(),tX.Z.trackEvent("dark_mode","toggle_theme",{source:"global_shortcut",theme:r?"light":"dark"})},[n,r]);return(0,tV.Z)({"shift+alt+d":i},{stopCallback:null}),(0,rB.Z)(function(){r?window.document.documentElement.classList.add(rC.W):window.document.documentElement.classList.remove(rC.W)},[r]),(0,j.useEffect)(function(){t&&(rf.remove("eraserTheme"),rw(rE,t))},[t]),null},rI=n(89960);n(79827),n(48538),n(14369);var rT=n(67640),rS=n(53788),rk=n(51516),rN=n(74026),rD=n(82513),rO=n.n(rD),rR=function(e){var t=e.onClose,n=e.onCreate,r=e.initialDto,i=void 0===r?{}:r,o=e.isOpen,a=e.loading,s=e.isEditing,l=(0,na.Z)(e,["onClose","onCreate","initialDto","isOpen","loading","isEditing"]),u=(0,n$.Z)((0,nY.R)({name:i.name||"",description:i.description||""}),2),c=u[0],A=u[1];(0,j.useEffect)(function(){o&&A({name:i.name||"",description:i.description||""})},[o,i.name,i.description,A]);var d=!c.name.trim(),h=function(){n({name:c.name.trim(),description:c.description.trim()})};return(0,rN.L)(h,!!o),(0,P.jsxs)(nc.Z,(0,tG.Z)((0,L.Z)({},l),{isOpen:o,title:s?"Edit AI Preset":"New AI Preset",onClose:t,children:[(0,P.jsx)("p",{className:rO().description,children:"AI presets help your team organize reference diagrams and set AI rules."}),(0,P.jsx)(n3.Z,{autoFocus:!0,label:"Name",name:"library-name",value:c.name,placeholder:"Acme Corp Architecture AI Preset",onChange:function(e){return A({name:e.currentTarget.value})}}),(0,P.jsx)(n3.Z,{label:"Description",name:"library-description",value:c.description,placeholder:"Briefly describe this AI preset and its purpose",onChange:function(e){return A({description:e.currentTarget.value})}}),(0,P.jsxs)(n0.Z,{className:rO().buttonGroup,children:[(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),(0,P.jsx)(nX.ZP,{disabled:d,onClick:h,variant:nX.ZP.Variants.REGULAR,isLoading:a,children:s?"Save changes":"Create AI preset"})]})]}))},rF=n(9067),rL=n.n(rF),rU=function(e){var t=e.onClose,n=e.onDelete,r=e.libraryName,i=e.loading,o=e.isOpen,a=(0,na.Z)(e,["onClose","onDelete","libraryName","loading","isOpen"]);return(0,rN.L)(n,!!o),(0,P.jsxs)(nc.Z,(0,tG.Z)((0,L.Z)({},a),{isOpen:o,title:"Delete AI Preset, rules and diagrams?",onClose:t,children:[(0,P.jsxs)("p",{className:rL().description,children:["Selecting confirm will delete the AI Preset ",(0,P.jsx)("strong",{children:r})," and delete all the containing rules and diagrams."]}),(0,P.jsxs)(n0.Z,{className:rL().buttonGroup,children:[(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),(0,P.jsx)(nX.ZP,{onClick:n,variant:nX.ZP.Variants.DANGER,isLoading:i,children:"Confirm"})]})]}))},rP=n(88138),rM=function(e){var t,n,r=e.children,i=(0,t3.LP)(),o=(0,rk.Y)().openSettingsModal,a=(0,ra.Q6)(t5.AC.CustomAiContext,i),s=(0,tJ.IA)(function(e){return e.aiContext}),l=(0,j.useState)(),u=l[0],c=l[1],A=(0,j.useState)(!1),d=A[0],h=A[1],f=(0,j.useState)(!1),p=f[0],g=f[1],m=(0,j.useState)(!1),v=m[0],y=m[1],b=(0,j.useState)(!1),w=b[0],_=b[1],E=(0,j.useState)(!1),C=E[0],B=E[1],x=null==s?void 0:s.find(function(e){return e.id===u}),I=(0,j.useCallback)(function(){tX.Z.trackEvent("payment","open_billing_pane",{source:"customAiManager"}),o({openedPane:"plans",paywallFeature:t5.AC.CustomAiContext})},[o]),T=(0,j.useCallback)(function(e){if(("custom"===e||"new-library"===e)&&!a){c(void 0),I();return}"new-library"===e?h(!0):c(e)},[I,a]),S=(0,j.useCallback)((t=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(!i)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,rT.Z.post("teams/".concat(i,"/aiPresets"),{name:e.name,description:e.description,type:rS.r2.DiagramLibrary,exampleDiagrams:[],isBuiltIn:!1,referenceDiagrams:[],rules:[],teamId:i})];case 2:return c(t.sent().id),[3,5];case 3:return t.sent(),[3,5];case 4:return h(!1),[7];case 5:return[2]}})}),function(e){return t.apply(this,arguments)}),[i]),k=(0,j.useCallback)((n=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(!i||!x)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),_(!0),[4,rT.Z.put("teams/".concat(i,"/aiPresets/").concat(x.id),(0,tG.Z)((0,L.Z)({},x),{name:e.name,description:e.description}))];case 2:return t.sent(),g(!1),[3,5];case 3:return t.sent(),[3,5];case 4:return _(!1),[7];case 5:return[2]}})}),function(e){return n.apply(this,arguments)}),[i,x]),N=(0,j.useCallback)((0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(!i||!x)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),_(!0),c(void 0),[4,rT.Z.delete("teams/".concat(i,"/aiPresets/").concat(x.id))];case 2:return t.sent(),y(!1),s&&s.length>1&&(e=s.filter(function(e){return e.id!==x.id})).length>0&&c(e[0].id),[3,5];case 3:return t.sent(),[3,5];case 4:return _(!1),[7];case 5:return[2]}})}),[i,x,s]);(0,j.useEffect)(function(){var e;(e=(0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:if(!s||!a||C||!i)return[2];if(s.some(function(e){return!e.isBuiltIn}))return[3,4];B(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,rT.Z.post("teams/".concat(i,"/aiPresets"),{name:"My AI Preset",description:"Default AI preset for your team",type:rS.r2.DiagramLibrary,exampleDiagrams:[],isBuiltIn:!1,referenceDiagrams:[],rules:[],isDefault:!0,teamId:i})];case 2:return e.sent(),[3,4];case 3:return e.sent(),B(!0),[3,4];case 4:return[2]}})}),function(){return e.apply(this,arguments)})()},[s,a,C,i]);var D=(0,j.useMemo)(function(){return{aiContexts:s,selectedContextId:u,selectedContext:x,isNewLibraryModalOpen:d,isRenameModalOpen:p,isDeleteModalOpen:v,canCreateNewReference:a,handleSelectContext:T,handleUpgradeClick:I,handleCreateLibrary:S,handleEditLibrary:k,handleDeleteLibrary:N,setIsNewLibraryModalOpen:h,setIsRenameModalOpen:g,setIsDeleteModalOpen:y}},[s,u,x,d,p,v,a,T,I,S,k,N]);return(0,P.jsxs)(rP.s.Provider,{value:D,children:[r,d&&(0,P.jsx)(rR,{isOpen:d,onClose:function(){h(!1)},onCreate:S}),x&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(rR,{isOpen:p,onClose:function(){return g(!1)},initialDto:{name:x.name,description:x.description},onCreate:k,loading:w,isEditing:!0}),(0,P.jsx)(rU,{isOpen:v,onClose:function(){return y(!1)},libraryName:x.name,onDelete:N,loading:w})]})]})},rj=n(66161),rZ=n(53327),rQ=n(64870),rH=n(47842),rV=n(37944),rK=n(43667),rz=n(51992),rG=n(27729),rW=n(12171),rq=n(74010),r$=n(27750);function rY(){return(rY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var rJ=function(e){return j.createElement("svg",rY({width:16,height:15,viewBox:"0 0 16 15",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),h||(h=j.createElement("path",{fill:"currentColor",d:"M9.382 2.53H8.16L6.307.676 6.16.53H1.953a1.5 1.5 0 00-1.5 1.5v9.429l1-1V2.03a.5.5 0 01.5-.5h3.793L7.6 3.384l.146.146h.637l1-1zm-2.929 10h7.5a.5.5 0 00.5-.5v-7.5l.936-.936a1.5 1.5 0 01.064.436v8a1.5 1.5 0 01-1.5 1.5h-8.5l1-1z",clipRule:"evenodd",fillRule:"evenodd"})),f||(f=j.createElement("path",{stroke:"currentColor",d:"M1.1 14.176l13-13"})))};function rX(){return(rX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var r0=function(e){return j.createElement("svg",rX({width:17,height:15,viewBox:"0 0 17 15",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),p||(p=j.createElement("path",{fill:"currentColor",d:"M1.445 2.105a.5.5 0 01.5-.5h3.793l1.854 1.854.146.146h6.207a.5.5 0 01.5.5v1.5h1v-1.5a1.5 1.5 0 00-1.5-1.5H8.152L6.3.751 6.152.605H1.945a1.5 1.5 0 00-1.5 1.5v10a1.5 1.5 0 001.5 1.5h5.5v-1h-5.5a.5.5 0 01-.5-.5v-10z",clipRule:"evenodd",fillRule:"evenodd"})),g||(g=j.createElement("path",{stroke:"currentColor",d:"M12.945 7.605v7m-3.5-3.5h7"})))},r1=n(88404),r2=n(86588),r4=n(60238),r3=n(56820),r5=n.n(r3),r6=function(){var e,t,n,r=(0,z.useRouter)(),i=(0,ri.wK)(),o=(0,j.useRef)(null),a=(0,nq.l)().register,s=(0,rq.Z)(),l=s.getFolderPath,u=s.createFolder,c=s.renameFolder,A=l(null==i?void 0:i.id),d=(0,j.useCallback)(function(){var e,t;o.current.focus(),null==(e=document.getSelection())||e.selectAllChildren(o.current),null==(t=document.getSelection())||t.collapseToEnd()},[]),h=function(e){var t=e.currentTarget.textContent;t!==(null==i?void 0:i.name)&&(e.currentTarget.blur(),c(null!=t?t:"",null==i?void 0:i.id))},f=function(e){r.push("/folder/".concat(e))},p=null==i?void 0:i.teamId,g=(0,j.useCallback)(function(){var e;u({name:"",parentFolderId:null!=(e=null==i?void 0:i.id)?e:null,origin:"header",shouldOpen:!1})},[u,null==i?void 0:i.id]);return((0,j.useEffect)(function(){a("renameFolder",d),A.length<r4.p&&p&&a("newFolder",g)},[a,d,g,A.length,p]),i)?(0,P.jsxs)("div",{className:r5().folderTitleRoot,children:[(0,P.jsxs)(rW.c,{children:[(e="#dots#",t=[],(n=A.slice(0,-1)).length<=3?t=n:(t.push(n[0]),t.push({id:e,name:"..."}),t.push(n[n.length-1]),t.push(n[n.length-2])),t.map(function(t){return(0,P.jsx)(rW.c.Item,{isReadOnly:!0,value:t.name||rG.Yp,href:"/folder/".concat(t.id),isDisabled:t.id===e,mode:t.id===e?"edit":"link",onLinkClick:function(){return f(t.id)}},t.id)})),(0,P.jsx)(rW.c.Item,{ref:o,isReadOnly:!1,value:null==i?void 0:i.name,onBlur:h,onEnter:h,placeholder:rG.Yp,onLinkClick:function(){return f(i.id)}})]}),(0,P.jsx)(r$.Z,{folder:i,mountedIn:"folderView",dots:{visible:!0},onStartRenaming:d,className:r5().folderDropdown}),A.length<r4.p?(0,P.jsx)(r2.Z,{text:"New folder",contentClassName:r5().iconTooltip,children:(0,P.jsx)(r1.J,{width:15,height:13,onClick:g,color:"grey-1000",icon:r0,className:(0,nm.Z)(r5().newFolderIcon)})}):(0,P.jsx)(r2.Z,{text:"Max ".concat(r4.p," layers of folders"),contentClassName:r5().iconTooltip,children:(0,P.jsx)(r1.J,{width:15,height:13,onClick:g,color:"grey-1000",icon:rJ,className:r5().disabledFolderIcon})})]}):(0,P.jsx)(rz.yB,{color:"var(--grey-500)",children:(0,P.jsx)(rz.ZP,{width:"100px"})})},r8=n(39323),r9=n.n(r8),r7=[{url:"all",title:"All"},{url:"recents",title:"Recents"},{url:"created-by-me",title:"Created by Me"},{url:"folders",title:"Folders"},{url:"unsorted",title:"Unsorted"}],ie=function(e){var t,n=e.title,r=e.isActive,i=e.index,o=e.onClick;return(0,tV.Z)((t={},(0,rH.Z)(t,"ctrl+".concat(i),{windows:!1,callback:o}),(0,rH.Z)(t,"alt+".concat(i),{macOS:!1,callback:o}),t)),(0,P.jsx)(r2.Z,{text:(0,P.jsx)(nf.P,{className:r9().topNavShortcut,keys:["Control|Alt",String(i)]}),tooltipPopperProps:{placement:"bottom"},children:(0,P.jsx)("button",{className:(0,nm.Z)(r9().topNavTab,r&&r9().active),onClick:o,"data-testid":"dasbhoard-header-nav-".concat(n.toLowerCase()),children:(0,P.jsx)("span",{children:n})})})},it=(0,j.memo)(function(){var e=(0,z.useRouter)(),t=(0,ro.Q)().tabId,n=(0,ri.wK)(),r="archived"===t,i="private"===t;return"search"===t||"github"===t||"templates"===t||"ai-preset"===t||"eraserbot"===t||"git-diagram"===t?null:(0,P.jsxs)(rV.x,{children:[(null==n?void 0:n.id)?(0,P.jsx)(rV.x.Title,{children:(0,P.jsx)(r6,{})}):i?(0,P.jsxs)(rV.x.Title,{children:[(0,P.jsx)("span",{style:{marginRight:6},children:"\uD83D\uDD12"})," Private"]}):r?(0,P.jsx)(rV.x.Title,{children:"Archive"}):(0,P.jsx)("div",{className:r9().topNav,children:r7.map(function(t,n){var r;return(0,P.jsx)(ie,{index:n+1,title:t.title,isActive:(r=t.url,e.asPath.indexOf(r)>=0||e.asPath.indexOf("/dashboard/".concat(r))>=0),onClick:function(){return e.push(t.url)}},t.url)})}),(0,P.jsx)(rK.q,{showRightSide:!i&&!r,searchBarProps:{isOwner:"created-by-me"===t,folderId:"unsorted"===t?null:null==n?void 0:n.id}})]})}),ir=function(e){var t=e.hideSplashOnLoad,n=void 0===t||t,r=e.children,i=(0,t3.DJ)(),o=i.currentTeamId,a=i.isPendingTeamSwitch,s=(0,t3.mZ)(),l=(0,t3.MV)(),u=(0,z.useRouter)(),c=s&&0===s.size;return((0,rB.Z)(function(){if(l&&!a){if(c)return void u.push("/team/join");n&&(0,tH.hf)()}},[l,c,n,a,u]),o&&!l||l&&(a||!c)&&o)?(0,P.jsx)(P.Fragment,{children:r}):null},ii=n(24600),io=n(16962),ia=n(31592),is=n.n(ia),il=n(91232),iu=n(89911),ic=n(2595),iA=n(69071),id=n(6021),ih=n(87076),ip=n(90910),ig=n.n(ip),im=n(53562),iv=n(75426),iy=function(e){var t,n=e.onClose,r=e.isOpen,i=e.onSwitchTeam,o=(0,j.useState)(),a=o[0],s=o[1],l=(0,t$.aF)(),u=(0,ic.Z)(),c=(0,iA.Z)(id.Z),A=(0,im.Z)();(0,j.useEffect)(function(){s(void 0)},[r]);var d=(0,j.useCallback)((t=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),!a||!l)return[2];return[4,u.promise(c.execute(a,l.id,{origin:"dashboard",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"})];case 1:return t.sent(),i(a),n(),[2]}})}),function(e){return t.apply(this,arguments)}),[a,l,c.execute,i,n]);return(0,P.jsx)(nc.Z,{title:"Join Team",className:ig().teamJoinModal,onClose:n,isOpen:r,hideCloseButton:!0,children:A?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ih.D,{teamsToJoin:A}),(0,P.jsxs)("form",{onSubmit:d,children:[(0,P.jsx)(ih.Z,{className:ig().teams,onSelectionChange:s,teamsToJoin:A}),(0,P.jsxs)("div",{className:ig().buttons,children:[(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.TRANSPARENT,size:nX.ZP.Sizes.LARGE,onClick:n,children:"Cancel"}),(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.REGULAR,size:nX.ZP.Sizes.LARGE,type:"submit",disabled:!a,"data-testid":"join-team-button",children:"Join Team"})]})]})]}):(0,P.jsx)(iv.Z,{})})},ib=n(61649),iw=n(54229),i_=n(43446),iE=function(e){var t=e.teams,n=e.selectedTeamId,r=e.onSwitch,i=(0,na.Z)(e,["teams","selectedTeamId","onSwitch"]);if(!t||!t.length)return null;var o=(0,j.useState)(!0),a=o[0],s=o[1],l=(0,i_.Z)();(0,rB.Z)(function(){var e=setTimeout(function(){l()&&s(!1)},1e3);return function(){return clearTimeout(e)}},[]);var u=(0,t3.K)(),c=(0,j.useMemo)(function(){return u&&u.size===t.length?[]:t.filter(function(e){var t=e.teamId;return!(null==u?void 0:u.get(t))}).map(function(e){return e.teamId})},[t,u]);return(0,P.jsx)(P.Fragment,{children:t.map(function(e){var t,o,s=e.teamId,l=null!=(o=null==(t=null==u?void 0:u.get(s))?void 0:t.name)?o:"ID: ".concat(s);return(0,P.jsx)(nO.Z,(0,tG.Z)((0,L.Z)({isLoading:a&&c.includes(s),isSelected:n===s,onClick:function(){return r(s)}},i),{children:l}),s)})})},iC=n(27198),iB=n(98061),ix=n(95184),iI=n(34315),iT=n.n(iI),iS=function(e){var t=e.teamName;return(0,P.jsxs)("span",{className:iT().currentTeam,children:[(0,P.jsx)("span",{className:iT().currentTeamLogo,children:(0,P.jsx)(iB.t,{fallbackIcon:(0,P.jsx)(iu.$q,{}),size:30})}),(0,P.jsx)("span",{className:iT().currentTeamName,children:t||""})]})},ik=function(){var e=(0,no.Z)(),t=e.onOpen,n=e.onClose,r=e.isOpen,i=(0,t$.aF)(),o=(0,t3.lh)(),a=(0,t3.K)(),s=(0,io.MO)().onSearchBarClose,l=(0,rk.Y)().openSettingsModal,u=(0,n$.Z)((0,t3.p3)(),2),c=u[0],A=u[1],d=(0,j.useMemo)(function(){return o&&a?(0,ny.Z)(o).sort(function(e,t){var n,r,i,o,s=null!=(i=null==(n=a.get(e.teamId))?void 0:n.name)?i:"",l=null!=(o=null==(r=a.get(t.teamId))?void 0:r.name)?o:"";return s.localeCompare(l,void 0,{sensitivity:"base"})}):[]},[o,a]),h=(0,j.useCallback)(function(e){A(e,{shouldResetFolder:!0}),s()},[A,s]),f=(0,z.useRouter)(),p=(0,j.useCallback)(function(){f.push("/auth/logout")},[f]);return(0,tV.Z)({"shift+alt+s":function(){return l()}},{stopCallback:null}),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(iy,{isOpen:r,onClose:n,onSwitchTeam:h}),(0,P.jsxs)(n1.Lt,{minWidth:210,title:(0,P.jsx)(iS,{teamName:null==c?void 0:c.name}),toggleClassNames:{button:iT().sidebarDropdown,caret:iT().sidebarDropdownCaret},children:[(0,P.jsx)(iE,{teams:d,onSwitch:h,selectedTeamId:null==c?void 0:c.id}),(0,P.jsx)(n1.KE,{}),(0,P.jsx)(nO.Z,{onClick:t,label:"Join or Create Team",icon:(0,P.jsx)(r1.J,{icon:iw.Z})}),(0,P.jsx)(nO.Z,{label:"Settings",icon:(0,P.jsx)(r1.J,{icon:ix.Z}),onClick:function(){return l({openedPane:"members"})},rightElement:(0,P.jsx)(nf.P,{keys:["Shift","AltOrOption","S"]})}),(0,P.jsx)(nO.Z,{label:"Logout",onClick:p,icon:(0,P.jsx)(r1.J,{icon:ib.Z})}),(0,P.jsx)(n1.KE,{}),(0,P.jsx)(iC.Z,{user:i,style:{margin:"10px 7px"}})]})]})},iN=n(9622);function iD(){return(iD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var iO=function(e){return j.createElement("svg",iD({width:15,height:9,viewBox:"0 0 15 9",xmlns:"http://www.w3.org/2000/svg"},e),m||(m=j.createElement("path",{d:"M0 .5h15m-15 8h15m-15-4h15",fill:"none",stroke:"currentColor"})))},iR=n(41091),iF=n(93664),iL=n.n(iF),iU=function(e){var t=e.onSidebarToggle,n=(0,j.useState)(!1),r=n[0],i=n[1];return(0,P.jsxs)("div",{className:iL().mobileHeader,children:[(0,P.jsx)("button",{className:iL().toggleButton,onClick:t,children:(0,P.jsx)(r1.J,{icon:iO})}),(0,P.jsx)(ik,{}),(0,P.jsx)("button",{className:iL().toggleButton,onClick:function(){return i(!0)},children:(0,P.jsx)(r1.J,{icon:iR.Z})}),(0,P.jsxs)("div",{className:(0,nm.Z)(iL().searchContainer,r&&iL().searchContainerActive),children:[(0,P.jsx)(il.Z,{}),(0,P.jsx)("button",{className:iL().toggleButton,onClick:function(){return i(!1)},children:(0,P.jsx)(r1.J,{icon:iN.Z})})]})]})},iP=n(59509),iM=n(56318),ij=n(85580),iZ=n(18001),iQ=n.n(iZ),iH=n(37214),iV=n(49678),iK=function(e){var t=e.depth,n=e.folder,r=e.onClick,i=e.position,o=e.activeTab,a=e.onKeyDown,s=e.accordionButton,l=(0,j.useRef)(null),u=(0,ij.Q)(n),c=u.isDraggingFolder,A=u.dragRef,d=u.previewRef,h=(0,rq.Z)(),f=h.folders,p=h.folderTree,g=h.getFolderPath,m=h.createFolder,v=h.updateFolderOrder,y=h.updateFolder,b=(0,j.useCallback)(function(){m({name:"",parentFolderId:n.id,origin:"sidebar",shouldOpen:!1})},[m,n.id]),w=(0,j.useCallback)(function(e){var t=e.targetFolder,n=e.folderDropSide,r=e.draggingFolder;if(f)if("on"===n){if(g(t.id).length+(0,iV.ZN)(r.id,p).reduce(function(e,t){return e>t.length?e:t.length},0)>r4.p)return;y(r.id,{parentFolderId:t.id})}else{var i=t.order+("before"===n?-1:0),o=t.parentFolderId;v(r.id,o,i)}},[f,p,g,v,y]),_=(0,ij.z)({targetFolder:n,rootRef:l,onFolderReorder:w}),E=_.dropRef,C=_.isDroppingWorkspace,B=_.isDroppingFolder,x=_.folderDropSide;return(0,P.jsx)(iH.M,{textSize:"medium",onClick:r,tabHeight:"medium",isActive:o,onKeyDown:a,tabPosition:i,isDragging:c,content:(0,P.jsxs)(P.Fragment,{children:[s,(0,P.jsx)("span",{className:iQ().folderName,"data-testid":"sidebar-folder-".concat(n.name||rG.Yp),children:n.name||rG.Yp}),t<r4.p-1&&o&&(0,P.jsx)(r2.Z,{text:"New sub folder",contentClassName:(0,nm.Z)(iQ().subfolderTooltip),children:(0,P.jsx)("button",{type:"button",onClick:b,className:iQ().newFolderIcon,children:(0,P.jsx)(r1.J,{width:15,height:13,color:"grey-1000",icon:r0})})})]}),dragRefs:{containerRef:l,previewRef:d,dragRef:A,dropRef:E},dropTarget:C?"on":B?x:"none"})},iz=n(95634),iG=n(34006),iW=n.n(iG),iq=function(e){var t=e.label,n=e.onSave,r=e.className,i=(0,j.useRef)(null),o=(0,j.useState)(null!=t?t:""),a=o[0],s=o[1];(0,j.useEffect)(function(){setTimeout(function(){var e;null==(e=i.current)||e.focus()},50)},[]);var l=(0,j.useCallback)(function(e){"Enter"===e.key&&n(e.target.value)},[n]),u=(0,j.useCallback)(function(){n(a)},[n,a]),c=(0,j.useCallback)(function(e){var t=e.target.value;t.length>rG.JR||s(t)},[]);return(0,iz.Z)(u),(0,P.jsx)("input",{value:a,ref:i,onBlur:u,onKeyUp:l,onChange:c,placeholder:t?"":rG.Yp,className:(0,nm.Z)(iW().input,r)})},i$=n(26514),iY=n.n(i$),iJ=function(e){var t,n=e.index,r=e.depth,i=e.folder,o=e.currentFolderId,a=e.sameLevelFolders,s=(0,rq.Z)(),l=s.openFolder,u=s.closeFolder,c=s.openFolders,A=s.switchFolder,d=s.toggleFolder,h=s.renamingFolder,f=s.renameFolder,p=i.children,g=i.parentFolderId,m=!!(null==p?void 0:p.length),v=!g,y=c.has(i.id),b=h&&i.id===h.id&&"sidebar"===h.origin&&(!g||c.has(g));return(0,P.jsxs)("div",{className:iY().accordionContainer,children:[(0,P.jsx)("div",{className:iY().parentFolder,children:b?(0,P.jsx)(iq,{label:i.name,onSave:f,className:(0,nm.Z)(iY().active,iY().renamingFolder,!!i.parentFolderId&&iY().nested)},i.id):(0,P.jsx)(iK,{depth:r,folder:i,onKeyDown:function(e){"ArrowRight"===e.key?l(i.id):"ArrowLeft"===e.key&&u(i.id)},activeTab:o===i.id,accordionButton:v||m?(0,P.jsx)(iM.j,{isExpanded:y,onClick:function(e){m&&(e.stopPropagation(),d(i.id))},isIconVisible:m}):null,onClick:function(){return A("folder",i.id)},position:(t=a.length,0===n?"first":n===t-1?"last":"inBetween")},i.id)}),(0,P.jsx)("div",{className:iY().childFolders,style:{display:y?"block":"none"},children:null==p?void 0:p.map(function(e,t){return(0,P.jsx)(iJ,{index:t,folder:e,depth:r+1,sameLevelFolders:p,currentFolderId:o},e.id)})})]})},iX=n(39231),i0=n(9563),i1=n.n(i0),i2=function(e){var t=e.title,n=e.iconProps,r=void 0===n?{icon:iX.Z}:n,i=e.className,o=e.onClick,a=e.iconToolTipProps;return(0,P.jsxs)("div",{className:(0,nm.Z)(i1().sectionTitle,i),children:[(0,P.jsx)("span",{children:t}),function(){if(!o)return null;var e=(0,P.jsx)("button",{onClick:o,className:i1().iconButton,children:(0,P.jsx)(r1.J,(0,tG.Z)((0,L.Z)({},r),{color:"grey-1000",className:i1().icon}))});return a?(0,P.jsx)(r2.Z,(0,tG.Z)((0,L.Z)({},a),{contentClassName:i1().tooltipRoot,children:e})):e}()]})},i4=n(605),i3=n.n(i4),i5=function(){var e=(0,z.useRouter)(),t=(0,nq.l)().register,n=(0,ri.MZ)(),r=(0,rq.Z)(),i=r.topLevelFolders,o=r.switchFolder,a=r.closeFolder,s=r.createFolder,l=(0,j.useCallback)(function(){s({name:"",parentFolderId:void 0,origin:"sidebar",shouldOpen:!0})},[s]);(0,j.useEffect)(function(){n||t("newFolder",l)},[t,n,l]);var u=function(t){var r=["/dashboard/all","/dashboard/recents","/dashboard/created-by-me","/dashboard/folders","/dashboard/unsorted"].concat((0,ny.Z)(i)),s=e.asPath.split("?")[0],l=(r.findIndex(function(e){return"string"==typeof e?e===s:e.id===n})+("next"===t?1:-1)+r.length)%r.length,u=r[l];if(u){if("string"==typeof u)return void e.push(u);n&&a(n),o("folder",u.id)}};return(0,tV.Z)({"alt+shift+f":l,"]":function(){return u("next")},"[":function(){return u("prev")}}),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i2,{title:"Team folders",onClick:l,className:i3().noMarginTop,iconProps:{icon:r0,width:15,height:13},iconToolTipProps:{text:"New folder",placement:"right"}}),(0,P.jsx)("div",{className:i3().foldersList,"data-testid":"sidebar-folders-list",children:i.map(function(e,t){return(0,P.jsx)(iJ,{depth:0,index:t,folder:e,currentFolderId:n,sameLevelFolders:i},e.id)})})]})},i6=n(99283),i8=n(81337),i9=n(29340),i7=n(46131),oe=n(57448),ot=function(e){var t=e.teamId,n=e.tabId,r=(0,nP.k3)().repositoriesMap,i=(0,ra.Q6)(t5.AC.PrivateWorkspaces,t);if("ai-preset"===n||"eraserbot"===n)return[];var o=[],a={key:"newTemplate",icon:(0,P.jsx)(oe.Z,{}),label:"New from Template",shortcutKeys:["Control|Alt","T"]},s=Array.from((null==r?void 0:r.entries())||[]).some(function(e){return e[1].length>0});return(i||s)&&o.push({key:"new",label:"New File",icon:(0,P.jsx)(i7.Z,{}),shortcutKeys:["Control|Alt","N"]}),"templates"!==n&&o.push(a),i&&"private"!==n&&o.push({key:"private",icon:(0,P.jsx)(i9.Z,{}),label:"New Private File",shortcutKeys:["Control|Alt","Shift","N"]}),s&&o.push({key:"gitSynced",icon:(0,P.jsx)(i8.Z,{}),label:"New Github File",shortcutKeys:["Control|Alt","CtrlOrCmd","N"]}),o},on=n(84771),or=n.n(on),oi=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t,n,r=arguments.length>2?arguments[2]:void 0,i=(0,rr.k_)(),o=(0,rr.dr)(),a=(0,rP.X)().selectedContext;return"private"===e?(t="New Private File",n=["Control|Alt","Shift","N"]):i&&o?(t="New GitHub File",n=["Control|Alt","CtrlOrCmd","N"]):"templates"===e?(t="New Template",n=["Control|Alt","T"]):"ai-preset"===e?(t=(null==a?void 0:a.isBuiltIn)?"New AI Preset":"references"===r?"New Reference":"New Rule",n=[]):"eraserbot"===e?(t="New Monitor",n=[]):(t="New File",n=["Control|Alt","N"]),(0,P.jsxs)("span",{className:or().newFileText,children:[t,(0,P.jsx)(nf.P,{className:or().shortcut,keys:n})]})},oo=n(75280),oa=function(){var e=(0,z.useRouter)(),t=(0,ri.MZ)(),n=(0,n4.QR)(),r=(0,ro.Q)().tabId,i=(0,j.useContext)(rs),o=i.openGitHubModal,a=i.setCreationState,s=i.createNewWorkspace,l=i.openTemplatesModal,u=i.isCreatingWorkspace,c=(0,t$.II)(),A=(0,t3.LP)(),d=(0,tJ.IA)(function(e){return e.aiContext}),h=(0,rP.X)(),f=h.setIsNewLibraryModalOpen,p=h.selectedContext,g=(0,j.useState)({})[1];(0,j.useEffect)(function(){var e=function(){g({})};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}},[]);var m=(0,ra.Bv)({featureName:t5.M$.PremiumCredits,userId:c,teamId:A,immediateCallbackWithLimit:!0}),v=(0,ra.Q6)(t5.AC.CustomAiContext,A),y=e.query.presetId,b="private"===r,w="templates"===r,_="ai-preset"===r,E="eraserbot"===r,C=((0,rr.k_)()||{}).id,B=((0,rr.dr)()||{}).id,x=!!(null==m?void 0:m.limit),I=ot({teamId:A,tabId:r}),T=I.length>0,S=C&&B,k=((null==d?void 0:d.filter(function(e){return!e.isBuiltIn}))||[]).length>0,N=new URLSearchParams(window.location.search).get("tab")||void 0,D=oi(r,k,N),O=_&&(!x||_&&y&&!v),R=function(){S?a({gitHub:{fileName:"",filePath:"",repositoryId:C,organizationId:B}}):w?a({isNewTemplate:!0}):a({folderId:t,isPrivate:b}),l()},F=function(e){return"private"===e||"new"===e&&b?(a({isPrivate:!0,eventSource:"header_shortcut"}),s()):"gitSynced"===e?(a({eventSource:"header_shortcut"}),o()):"new"===e&&S?(a({eventSource:"header_shortcut",gitHub:{fileName:"",filePath:"",repositoryId:C,organizationId:B}}),o()):"newTemplate"===e?R():(a({folderId:t,eventSource:"header_shortcut"}),s())};return(0,tV.Z)({"alt+n":{macOS:!1,callback:function(){return F("new")}},"ctrl+n":{windows:!1,callback:function(){return F("new")}},"alt+ctrl+n":{macOS:!1,callback:function(){return F("gitSynced")}},"alt+t":{macOS:!1,callback:function(){return F("newTemplate")}},"alt+shift+n":{macOS:!1,callback:function(){return F("private")}},"ctrl+t":{windows:!1,callback:function(){return F("newTemplate")}},"ctrl+meta+n":{windows:!1,callback:function(){return F("gitSynced")}},"ctrl+shift+n":{windows:!1,callback:function(){return F("private")}}}),(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:or().buttonsRoot,children:[(0,P.jsxs)(nX.ZP,{onClick:function(){if(S)return a({eventSource:"header_button",gitHub:{fileName:"",filePath:"",repositoryId:C,organizationId:B}}),o();if(b)return a({isPrivate:!0,eventSource:"header_button"}),s();if(w)return a({isNewTemplate:!0}),s();if(_)return(null==p?void 0:p.isBuiltIn)?void f(!0):"references"===N?void e.push("/dashboard/ai-preset/new"):void e.push("/dashboard/ai-preset?presetId=".concat(y,"&tab=rules&addNew=true"));if(E){a({folderId:t,eventSource:"header_button"}),e.push("/dashboard/eraserbot/monitors/new");return}return a({folderId:t,eventSource:"header_button"}),s()},size:nX.ZP.Sizes.LARGE,"data-testid":"new-file-button",isLoading:u,variant:nX.ZP.Variants.REGULAR,className:(0,nm.Z)(or().leftButton,T&&or().leftButtonSplit),tooltipClassName:or().leftButton,title:O?"Contact us for access":void 0,children:[D," ",O&&(0,P.jsx)(oo.Z,{variant:"primary",inverted:!0,className:"marginLeftLarge"})]}),T&&(0,P.jsxs)(n4.GI,{controller:n,children:[(0,P.jsx)(n4.GI.Toggle,{children:(0,P.jsx)(nX.ZP,{className:or().rightButton,disabled:u,children:(0,P.jsx)(i6.Z,{})})}),(0,P.jsx)(n4.GI.Menu,{placement:"top-start",children:I.map(function(e){var r=e.key,i=e.label,l=e.icon,u=e.shortcutKeys;return(0,P.jsx)(n4.Wx,{icon:l,label:i,onClick:function(){return(n.closePopup(),"private"===r)?(a({isPrivate:!0,eventSource:"header_button"}),s()):"gitSynced"===r?(a({eventSource:"header_button"}),o()):"newTemplate"===r?R():(a({folderId:t,eventSource:"header_button"}),s())},rightElement:(0,P.jsx)(nf.P,{keys:u})},r)})})]})]})})},os=n(39202),ol=n(93995),ou=n(40758);function oc(){return(oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var oA=function(e){return j.createElement("svg",oc({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),v||(v=j.createElement("g",{clipPath:"url(#sparkle-1px-width_svg__clip0_847_2312)"},j.createElement("path",{d:"M11.667 1.75v2.333m1.166-1.167H10.5m-8.167 7v1.167m.584-.584H1.75m4.047-1.458a1.167 1.167 0 00-.839-.838L1.38 7.28a.292.292 0 010-.561l3.578-.924a1.167 1.167 0 00.839-.837l.922-3.579a.292.292 0 01.562 0l.922 3.579a1.167 1.167 0 00.839.838l3.578.922a.292.292 0 010 .563l-3.578.922a1.167 1.167 0 00-.839.838l-.922 3.579a.292.292 0 01-.562 0L5.797 9.04z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))),y||(y=j.createElement("defs",null,j.createElement("clipPath",{id:"sparkle-1px-width_svg__clip0_847_2312"},j.createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"})))))},od=n(42946),oh=n(73064),of=n.n(oh),op=function(e){var t=e.activeTab,n=e.onTabChange,r=(0,t3.LP)(),i=(0,t$.II)(),o=(0,rk.Y)().openSettingsModal,a=(0,nP.k3)().organizations,s=(0,ra.Q6)(t5.AC.PrivateWorkspaces,r),l=(0,ra.Bv)({featureName:t5.M$.PremiumCredits,teamId:r,userId:i,immediateCallbackWithLimit:!0}),u=function(){n("github")},c=function(){n("templates"),tX.Z.trackEvent("templates_page","sidebar_tab")},A=function(){n("ai-preset")},d=function(){s?n("private"):(o({openedPane:"plans",paywallFeature:t5.AC.PrivateWorkspaces}),tX.Z.trackEvent("payment","open_billing_pane",{source:"privateFilesSidebar",featureName:t5.AC.PrivateWorkspaces}))},h=function(){n("eraserbot")},f=function(){n("archived")},p=function(){n("git-diagram")};return((0,tV.Z)({p:function(){return d()},g:function(){return u()},e:function(){return f()},t:function(){return c()},c:function(){return A()},b:function(){return h()},d:function(){return p()}}),r)?(0,P.jsxs)("div",{className:of().root,children:[(0,P.jsxs)("div",{className:of().footerTabsContainer,children:[(0,P.jsx)(iH.M,{textSize:"medium",tabHeight:"small",content:(0,P.jsxs)("div",{className:of().gitHubLabelContainer,children:[(0,P.jsx)("span",{children:"Eraserbot"}),(0,P.jsx)(ol.vw,{className:of().gitHubBadge})]}),onClick:h,icon:(0,P.jsx)(od.Z,{width:14,height:14,viewBox:"0 0 24 24"}),isActive:"eraserbot"===t,shortcut:(0,P.jsx)(nf.P,{keys:["B"]})}),os.g.isFeatureEnabled("git_diagram")&&(0,P.jsx)(iH.M,{textSize:"medium",tabHeight:"small",content:"Git Diagrammer",onClick:p,icon:(0,P.jsx)(i8.Z,{}),isActive:"git-diagram"===t,shortcut:(0,P.jsx)(nf.P,{keys:["D"]})}),(0,P.jsx)(iH.M,{textSize:"medium",tabHeight:"small",content:(null==l?void 0:l.limit)?"AI Presets":(0,P.jsxs)("div",{className:of().pricingPlanTabContainer,children:[(0,P.jsx)("span",{children:"AI Presets"}),(0,P.jsx)(oo.Z,{})]}),onClick:A,icon:(0,P.jsx)(oA,{}),isActive:"ai-preset"===t,shortcut:(null==l?void 0:l.limit)?(0,P.jsx)(nf.P,{keys:["C"]}):void 0}),(0,P.jsx)(iH.M,{textSize:"medium",tabHeight:"small",content:"Team Templates",onClick:c,icon:(0,P.jsx)(oe.Z,{}),isActive:"templates"===t,shortcut:(0,P.jsx)(nf.P,{keys:["T"]})}),!(null==a?void 0:a.length)&&(0,P.jsx)(iH.M,{textSize:"medium",tabHeight:"small",onClick:u,content:(0,P.jsxs)("div",{className:of().gitHubLabelContainer,children:[(0,P.jsx)("span",{children:"Github Sync"}),(0,P.jsx)(ol.vw,{className:of().gitHubBadge})]}),isActive:"github"===t,icon:(0,P.jsx)(i8.Z,{}),shortcut:(0,P.jsx)(nf.P,{keys:["G"]})}),(0,P.jsx)(iH.M,{textSize:"medium",tabHeight:"small",onClick:d,content:s?"Private Files":(0,P.jsxs)("div",{className:of().pricingPlanTabContainer,children:[(0,P.jsx)("span",{children:"Private Files"}),(0,P.jsx)(oo.Z,{})]}),icon:(0,P.jsx)(i9.Z,{}),isActive:"private"===t,shortcut:s?(0,P.jsx)(nf.P,{keys:["P"]}):void 0}),(0,P.jsx)(iH.M,{textSize:"medium",tabHeight:"small",content:"Archive",icon:(0,P.jsx)(ou.Z,{}),isActive:"archived"===t,onClick:f,shortcut:(0,P.jsx)(nf.P,{keys:["E"]})})]}),(0,P.jsx)(oa,{})]}):null},og=n(79183),om=n(52365),ov=n.n(om),oy=n(40940),ob=n(59296),ow=function(e){var t=e.workspace,n=e.targetRepositoryId,r=e.targetOrganizationId;if(t.isPrivate||t.isArchived)return!1;if(!t.gitHubRepository)return!0;var i=t.gitHubRepository,o=i.organizationId,a=i.repositoryId;return o!==r||a!==n},o_=function(e){var t=e.onWorkspaceDrop,n=e.targetRepositoryId,r=e.targetOrganizationId,i=(0,j.useCallback)(function(e,n){n.getItemType()===ob.L.Workspace&&t(e)},[t]),o=(0,n$.Z)((0,oy.L)({drop:i,accept:[ob.L.Workspace,ob.L.Folder],canDrop:function(e,t){return t.getItemType()===ob.L.Workspace&&ow({targetRepositoryId:n,targetOrganizationId:r,workspace:e})},collect:function(e){var t=e.getItemType();return{isDroppingWorkspace:e.isOver()&&e.canDrop()&&t===ob.L.Workspace}}},[i]),2),a=o[0].isDroppingWorkspace;return{dropRef:o[1],isDroppingWorkspace:a}},oE=function(e){var t=e.onWorkspaceDrop,n=e.organization,r=e.repository,i=e.onClick,o=e.isActive,a=o_({onWorkspaceDrop:t,targetRepositoryId:r.id,targetOrganizationId:n.id}),s=a.dropRef,l=a.isDroppingWorkspace;return(0,P.jsx)(iH.M,{isExpandable:!0,textSize:"medium",onClick:i,tabHeight:"medium",isActive:o,dragRefs:{dropRef:s},content:(0,P.jsxs)("span",{className:iQ().repositoryName,children:[n.name,"/",r.name]}),dropTarget:l?"on":void 0,accordionButtonProps:{isIconVisible:!1,isExpanded:!1}})},oC=n(70039),oB=function(){var e=(0,z.useRouter)(),t=(0,no.Z)(),n=t.isOpen,r=t.onClose,i=t.onOpen,o=(0,rr.dr)(),a=(0,nP.k3)(),s=a.organizations,l=a.repositoriesMap,u=(0,rr.$m)(),c=u.organizationName,A=u.repositoryName,d=(0,j.useState)({}),h=d[0],f=d[1],p=(0,j.useState)({}),g=p[0],m=p[1],v=(0,j.useCallback)(function(e,t){"toggle"===t?m((0,tG.Z)((0,L.Z)({},g),(0,rH.Z)({},e,!g[e]))):g[e]!==t&&m((0,tG.Z)((0,L.Z)({},g),(0,rH.Z)({},e,t)))},[g]);(0,j.useEffect)(function(){o&&A&&v(o.id,!0)},[o,A,v]);var y=function(t,n){e.push("/github/".concat(t.name,"/").concat(n.name))};return(null==s?void 0:s.length)?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i2,{title:(0,P.jsxs)("span",{className:ov().badgeWrapper,children:["Github Sync ",(0,P.jsx)(og.Z,{className:ov().badge})]})}),(0,P.jsx)("div",{className:ov().integrationsList,children:null==s?void 0:s.flatMap(function(e){var t;return t=e.id,s&&l&&l.has(t)?l.get(t).filter(function(e){return!e.disabled&&e.enableSync}).map(function(e){var n=s.find(function(e){return e.id===t});return{isActive:c===n.name&&A===e.name,repository:e,organization:n,onClick:function(){return y(n,e)},onWorkspaceDrop:function(n){i(),f({workspace:n,organizationId:t,repositoryId:e.id})}}}):[]}).map(function(e,t){return(0,P.jsx)(oE,(0,L.Z)({},e),"".concat(e.organization.id,"-").concat(e.repository.name))})}),n&&h.workspace&&h.organizationId&&h.repositoryId&&(0,P.jsx)(oC.b,{isOpen:!0,onClose:function(){r(),f({})},workspace:h.workspace,repositoryId:h.repositoryId,organizationId:h.organizationId})]}):null};function ox(){return(ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var oI=function(e){return j.createElement("svg",ox({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=j.createElement("path",{d:"M1.7.5A1.2 1.2 0 00.5 1.7v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V1.7A1.2 1.2 0 004.3.5H1.7zM7.7.5a1.2 1.2 0 00-1.2 1.2v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V1.7A1.2 1.2 0 0010.3.5H7.7zM1.7 6.5A1.2 1.2 0 00.5 7.7v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V7.7a1.2 1.2 0 00-1.2-1.2H1.7zM7.7 6.5a1.2 1.2 0 00-1.2 1.2v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V7.7a1.2 1.2 0 00-1.2-1.2H7.7z",fill:"currentColor"})))},oT=n(75194),oS=n(24289),ok=n.n(oS),oN=n(76794),oD=n(1031),oO=n.n(oD),oR=n(88859),oF=function(e){var t=e.className,n=(0,t3.LP)(),r=(0,ra.Bv)({featureName:t5.M$.Workspaces,teamId:n}),i=(0,rk.Y)().openSettingsModal,o=(0,j.useCallback)(function(){i({openedPane:"plans",paywallFeature:t5.M$.Workspaces}),tX.Z.trackEvent("payment","open_billing_pane",{source:"upgradeCard",featureName:t5.M$.Workspaces})},[i]);if(!r||r.limit===oR.fY)return null;var a=r.limit,s=r.current;return(0,P.jsxs)("div",{className:(0,nm.Z)(oO().workspaceLimitCard,t),children:[(0,P.jsx)("h4",{children:"Eraser Free Trial"}),(0,P.jsx)("div",{className:oO().progressWrapper,children:(0,P.jsx)(oN.Z,{className:oO().progress,featureName:t5.M$.Workspaces,current:s,limit:a,shortExplanation:!0})}),(0,P.jsx)("span",{children:"Upgrade your plan for unlimited files & more features"}),(0,P.jsx)(nX.ZP,{className:oO().upgradeBtn,onClick:o,children:"Upgrade"})]})},oL=function(e){var t=e.activeTab,n=e.sidebarOpenMobile,r=e.onSidebarClose,i=(0,oT.d)(),o=(0,ri.wK)(),a=(0,rq.Z)().switchFolder,s=(0,t3.S5)();(0,j.useEffect)(function(){r()},[o,r]);var l=i?(0,nm.Z)(ok().mobileSidebar,n&&ok().mobileSidebarOpen):void 0,u=(0,j.useCallback)(function(e){a(e),setTimeout(function(){return r()},100)},[r,a]),c=(0,j.useCallback)(function(){u("all")},[u]),A=(0,j.useCallback)(function(){u("history")},[u]),d=(0,j.useCallback)(function(){u("private")},[u]),h=(0,j.useCallback)(function(){s&&G().push("/workspace/".concat(s))},[s]);(0,tV.Z)({a:c,h:A,p:d,"ctrl+alt+right":h});var f=["all","recents","created-by-me","folders","unsorted"].includes(t);return(0,P.jsxs)(P.Fragment,{children:[i&&n&&(0,P.jsx)("div",{className:ok().sidebarOverlay,onClick:r}),(0,P.jsxs)("div",{className:(0,nm.Z)(ok().container,l),children:[!i&&(0,P.jsx)("div",{className:ok().sidebarMenuContainer,children:(0,P.jsx)(ik,{})}),(0,P.jsx)("div",{className:ok().topSection,children:(0,P.jsx)(iH.M,{content:"All Files",onClick:c,isActive:f,icon:(0,P.jsx)(r1.J,{icon:oI}),shortcut:(0,P.jsx)(nf.P,{keys:["A"]}),classNames:{root:ok().topSectionTab,content:ok().topSectionTabContent}})}),(0,P.jsxs)("div",{className:ok().foldersWrapper,children:[(0,P.jsxs)("div",{className:ok().listContainer,children:[(0,P.jsx)(i5,{}),(0,P.jsx)(oB,{})]}),!i&&(0,P.jsx)(oF,{})]}),!i&&(0,P.jsx)(op,{onTabChange:u,activeTab:t})]})]})},oU=n(44498),oP=n(31583),oM=n(95757),oj=n(53047),oZ=n.n(oj);function oQ(){return(oQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var oH=function(e){return j.createElement("svg",oQ({width:13,height:7,viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg"},e),w||(w=j.createElement("path",{d:"M6 4.6C2 4.6.4.6.4.6m5.6 4c4 0 5.6-4 5.6-4M6 4.6v2M.8 5l1.6-1.6m7.2 0L11.2 5",fill:"none",stroke:"currentColor"})))},oV={modifiers:[{name:"offset",options:{offset:[0,20]}}]},oK=(_={},(0,rH.Z)(_,nZ.c.OpenInsertMenu,"Use the Insert menu"),(0,rH.Z)(_,nZ.c.AddFigure,"Make a Figure"),(0,rH.Z)(_,nZ.c.GenerateDiagramWithCode,"Make a diagram with code"),(0,rH.Z)(_,nZ.c.InviteTeamMember,"Invite a team member"),(0,rH.Z)(_,nZ.c.GitHubSync,"Sync Eraser with GitHub"),(0,rH.Z)(_,nZ.c.VsCodeExtensionDownload,"Download VS Code extension"),(0,rH.Z)(_,nZ.c.GetStartedNotionIntegrationClicked,"Install our Eraser plugin in Notion"),(0,rH.Z)(_,nZ.c.GetStartedConfluenceIntegrationClicked,"Install our Eraser plugin in Confluence"),_),oz=(E={},(0,rH.Z)(E,nZ.c.OpenInsertMenu,"Hundreds of icons built in to Eraser"),(0,rH.Z)(E,nZ.c.AddFigure,"Create structure on your canvas"),(0,rH.Z)(E,nZ.c.GenerateDiagramWithCode,"Use our simple syntax to make beautiful diagrams"),(0,rH.Z)(E,nZ.c.InviteTeamMember,"Eraser is built for teams"),(0,rH.Z)(E,nZ.c.GitHubSync,"Store your docs and diagrams next to code"),(0,rH.Z)(E,nZ.c.VsCodeExtensionDownload,"Diagram in your IDE"),(0,rH.Z)(E,nZ.c.GetStartedNotionIntegrationClicked,"Integrate with Notion"),(0,rH.Z)(E,nZ.c.GetStartedConfluenceIntegrationClicked,"Integrate with Confluence"),E),oG=(0,j.memo)(function(){var e=function(e){return e.map(function(e){return(0,P.jsx)("span",{className:(0,nm.Z)(oZ().checklistItem,a[e]&&oZ().isComplete),children:(0,P.jsxs)("a",{"data-action":e,onClick:v,children:[(0,P.jsx)("i",{children:(0,P.jsx)(oP.Z,{})}),(0,P.jsx)(r2.Z,{text:oz[e],popperProps:oV,placement:"right",children:oK[e]}),(0,P.jsx)(r1.J,{className:oZ().arrow,icon:oM.Z})]})},e)})},t=(0,tJ.Pe)(),n=(0,t$.aF)(),r=(0,t$.Fl)(),i=(0,nH.b)(),o=i.loading,a=i.activations,s=(0,rk.Y)().openSettingsModal,l=(0,oT.d)(),u=null==r?void 0:r.isGetStartedChecklistCollapsed,c=(0,j.useContext)(nz),A=c.setupItems,d=c.tutorialItems,h=c.allItems,f=c.completedItems,p=h.length+1,g=f.length===h.length,m=(0,j.useCallback)(function(){t.currentUser.updateCurrentUser({userSettings:{isGetStartedChecklistCollapsed:!u}}),tX.Z.trackEvent("get_started_checklist","collapse")},[u]),v=(0,j.useCallback)(function(e){var n=e.currentTarget.getAttribute("data-action");switch(tX.Z.trackEvent("get_started_checklist","item_clicked",{item:n}),n){case nZ.c.InviteTeamMember:s({openedPane:"members"});break;case nZ.c.GitHubSync:s({openedPane:"gitConnect"});break;case nZ.c.VsCodeExtensionDownload:t.currentUser.markActivation(nZ.c.VsCodeExtensionDownload),window.open("https://marketplace.visualstudio.com/items?itemName=EraserLabs.eraserlabs","_blank");break;case nZ.c.GetStartedNotionIntegrationClicked:t.currentUser.markActivation(nZ.c.GetStartedNotionIntegrationClicked),window.open("https://www.notion.so/integrations/eraser","_blank");break;case nZ.c.GetStartedConfluenceIntegrationClicked:t.currentUser.markActivation(nZ.c.GetStartedConfluenceIntegrationClicked),window.open("https://marketplace.atlassian.com/apps/1232673/eraser-for-confluence?tab=overview&hosting=cloud","_blank");break;case nZ.c.OpenInsertMenu:window.open("/tutorial/insert-menu","_blank");break;case nZ.c.AddFigure:window.open("/tutorial/make-a-figure","_blank");break;case nZ.c.GenerateAiDiagram:window.open("/tutorial/ai-diagram","_blank");break;case nZ.c.GenerateDiagramWithCode:window.open("/tutorial/diagram-with-code","_blank");break;default:return}},[s]),y=(0,j.useCallback)(function(){tX.Z.trackEvent("get_started_checklist","hide",{isComplete:g}),t.currentUser.updateCurrentUser({userSettings:{isGettingStartedEnabled:!1}})},[g]);return l||!n||o||(null==r?void 0:r.isGettingStartedEnabled)!==!0?null:(0,P.jsxs)("div",{className:(0,nm.Z)(oZ().getStartedChecklist,u&&oZ().isCollapsed),children:[(0,P.jsxs)("div",{className:oZ().header,children:[(0,P.jsxs)("h4",{children:["Get started",(0,P.jsx)(n1.Ng,{toggleClassNames:{button:oZ().threeDotMenu},children:(0,P.jsx)(nO.Z,{label:"Hide Get started checklist",icon:(0,P.jsx)(r1.J,{icon:oH}),onClick:y})})]}),(0,P.jsxs)(ol.Ct,{className:oZ().progressBadge,variant:"success",children:[f.length+1," of ",p]}),(0,P.jsx)(r2.Z,{contentClassName:oZ().toggleBtnWrapper,text:u?"Expand checklist":"Minimize checklist",placement:"right",popperProps:oV,children:(0,P.jsx)("button",{className:oZ().toggleBtn,onClick:m,"data-testid":"get-started-minimize"})})]}),(0,P.jsxs)("div",{className:oZ().progressWrapper,children:[(0,P.jsx)(oU.k,{className:oZ().progressBar,current:f.length+1,limit:p,fullColor:"var(--green-success)"}),(0,P.jsxs)("span",{children:[f.length+1," of ",p]})]}),(0,P.jsxs)("div",{className:oZ().checklist,children:[(0,P.jsx)("h5",{children:"Tutorials"}),e(d),(0,P.jsx)("h5",{className:oZ().setup,children:"Setup"}),(0,P.jsxs)("div",{className:(0,nm.Z)(oZ().checklistItem,oZ().isComplete),children:[(0,P.jsx)("i",{children:(0,P.jsx)(oP.Z,{})}),(0,P.jsx)("span",{children:"Create or join an Eraser team"})]}),e(A),g&&(0,P.jsx)("div",{className:oZ().allCompletedView,children:(0,P.jsxs)("div",{className:oZ().contentWrap,children:[(0,P.jsx)("h6",{children:"\uD83C\uDF89"}),(0,P.jsx)("span",{children:"All tutorials complete"}),(0,P.jsx)(nX.zx,{className:oZ().hideBtn,onClick:y,children:"Hide Checklist"})]})})]})]})}),oW=n(69211),oq=n(76136),o$=function(){var e=(0,t3.Rs)(),t=(0,z.useRouter)();if(!e)return null;var n="".concat(e.name," Workspaces  Eraser");return t.pathname.includes("/git-diagram")?n="Git Diagrammer  Eraser":t.pathname.includes("/eraserbot")&&(n="EraserBot"),(0,P.jsx)(K(),{children:(0,P.jsx)("title",{children:n})})},oY=function(e){var t=e.children,n=(0,z.useRouter)(),r=(0,oT.d)(),i=(0,io.Rx)(),o=i.query,a=i.onInputChange,s=(0,ro.Q)().tabId,l=o.length>0,u="search"===s,c="github"===s,A=(0,no.Z)(),d=A.onClose,h=A.isOpen,f=A.onToggle;return(0,j.useEffect)(function(){l&&a("")},[n.pathname]),(0,P.jsxs)("div",{className:is().dashboardPage,"data-is-ready":"true",children:[(0,P.jsx)(tk.Z,{fallback:function(){return null},onError:oJ,children:(0,P.jsx)(oL,{activeTab:s,onSidebarClose:d,sidebarOpenMobile:h})}),(0,P.jsx)(tk.Z,{fallback:function(){return null},onError:oJ,children:(0,P.jsxs)("div",{className:is().dashboardBody,children:[r&&(0,P.jsx)(iU,{onSidebarToggle:f}),(0,P.jsx)(it,{}),l&&!(u||c)?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(iP.S,{}),(0,P.jsx)(iP.Z,{})]}):t,(0,P.jsx)(oG,{})]})})]})},oJ=function(e){var t=(0,oW.T0)(e);t&&(0,tS.X)({statusCode:t.statusCode,title:t.message,location:"dashboard",error:e})},oX=function(e){var t=e.children,n=(0,z.useRouter)(),r=n.pathname.includes("/eraserbot/monitors")||n.pathname.includes("/git-diagram")||n.pathname.includes("/ai-preset/new")||n.pathname.includes("/ai-preset/")&&n.pathname.endsWith("/edit")?t:(0,P.jsx)(oY,{children:t});return(0,P.jsx)(rj.Z,{hideSplashOnLoad:!1,children:(0,P.jsx)(ir,{children:(0,P.jsx)(rM,{children:(0,P.jsxs)(rG.yR,{children:[(0,P.jsxs)(ii.N,{children:[(0,P.jsx)(o$,{}),(0,P.jsx)(oq.E,{}),(0,P.jsx)(rQ.ZP,{children:r})]}),(0,P.jsx)(rZ.Z,{stickTo:"right"})]})})})})},o0=n(34484);function o1(){return(o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var o2=function(e){return j.createElement("svg",o1({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"key_svg__feather key_svg__feather-key"},e),C||(C=j.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})))},o4=n(45944);function o3(){return(o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var o5=function(e){return j.createElement("svg",o3({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),B||(B=j.createElement("path",{d:"M3.8 11.4V11a2.4 2.4 0 012.4-2.4h1.6a2.4 2.4 0 012.4 2.4v.4M7 3.8A1.6 1.6 0 107 7a1.6 1.6 0 000-3.2zm0 8.8A5.6 5.6 0 117 1.4a5.6 5.6 0 010 11.2z",stroke:"currentColor",strokeLinecap:"square"})))},o6=n(19161),o8=n(44952),o9=n(59244);function o7(){return(o7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var ae=function(e){return j.createElement("svg",o7({width:12,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),x||(x=j.createElement("path",{d:"M0 11.6h12m-7.6-2V4.8m3.2 4.8V2.4m3.2 7.2V0M1.2 7.2v2.4",stroke:"currentColor"})))},at=n(50389),an=function(){var e=(0,t3.Rs)(),t=(0,rk.Y)(),n=t.openedPane,r=t.setOpenedPane,i=(0,ra.Q6)(t5.AC.ApiAccess,null==e?void 0:e.id),o=(0,ra.Q6)(t5.AC.AiImport,null==e?void 0:e.id);if(!e)return null;var a=(0,at.aX)(e);return(0,P.jsxs)("div",{className:(0,nm.Z)(nD().sideBarRoot),children:[(0,P.jsx)("p",{className:(0,nm.Z)(nD().sideBarHeader,ng().small,ng().semiBold),children:"Team"}),(0,P.jsx)(nO.Z,{label:"Team Members",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:iw.Z}),isSelected:"members"===n,onClick:function(){return r("members")}}),!tM.cm.isSingleTenant&&(0,P.jsx)(nO.Z,{onClick:function(){r("plans"),tX.Z.trackEvent("payment","open_billing_pane",{source:"settingsModalSidebar"})},label:"Plans & Billing",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:o6.Z}),isSelected:"plans"===n}),!a&&(0,P.jsx)(nO.Z,{onClick:function(){return r("usage")},label:"AI Usage",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:ae}),isSelected:"usage"===n}),(0,P.jsx)(nO.Z,{label:"Git Connect",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:o4.Z}),isSelected:"gitConnect"===n,onClick:function(){return r("gitConnect")}}),(0,P.jsx)(nO.Z,{onClick:function(){return r("custom-icons")},label:"Custom Icons",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:o8.Z}),className:nD().svgAutoHeight,isSelected:"custom-icons"===n,rightElement:a?(0,P.jsx)(ol.y6,{}):void 0}),(0,P.jsx)(nO.Z,{label:"API Tokens",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:o2}),isSelected:"api-tokens"===n,onClick:function(){return r("api-tokens")},rightElement:i?void 0:(0,P.jsx)(ol.y6,{})}),(0,P.jsx)(nO.Z,{label:"Import",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:o9.Z}),isSelected:"import"===n,onClick:function(){return r("import")},rightElement:o?void 0:(0,P.jsx)(ol.y6,{})}),(0,P.jsx)(nO.Z,{label:"Team Settings",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:ix.Z}),isSelected:"team-settings"===n,onClick:function(){return r("team-settings")}}),(0,P.jsx)("p",{className:(0,nm.Z)(nD().sideBarHeader,ng().small,ng().semiBold),children:"Personal"}),(0,P.jsx)(nO.Z,{label:"Profile",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:o5}),isSelected:"profile"===n,onClick:function(){return r("profile")}}),(0,P.jsx)(nO.Z,{label:"Appearance",focusOnMouseEnter:!1,icon:(0,P.jsx)(r1.J,{icon:o0.Z}),isSelected:"appearance"===n,onClick:function(){return r("appearance")}})]})},ar=n(14670),ai=function(e){var t,n=e.isAdmin,r=(0,ic.Z)(),i=(0,t3.LP)(),o=(0,j.useState)(!1),a=o[0],s=o[1],l=(0,tJ.Pe)(),u=(t=(0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:if(!i)return[2];return s(!0),[4,l.apiTokens.create({teamId:i,name:"Eraser API Token"}).catch(function(e){r.error("API token create failed: ".concat(e.message))})];case 1:return e.sent(),s(!1),[2]}})}),function(){return t.apply(this,arguments)});return(0,P.jsx)(nX.ZP,{disabled:!i||!n,isLoading:a,onClick:n?u:void 0,size:nX.ZP.Sizes.SMALL,variant:nX.ZP.Variants.REGULAR,title:n?null:"Only team admins can create a token",children:"Generate Token"})},ao=n(34224),aa=n(85617),as=n(79658),al=n.n(as),au=function(e){var t=e.apiToken,n=e.isAdmin,r=(0,ao.Z)(),i=(0,no.Z)(),o=i.isOpen,a=i.onClose,s=i.onOpen,l=(0,tJ.Pe)(),u=(0,iA.f)(function(){a();var e=t.teamId?{teamId:t.teamId}:void 0;return l.apiTokens.updateById(t.id,{isDisabled:!0},e)}),c=u.execute,A=u.loading;return(0,P.jsxs)("div",{className:al().root,children:[(0,P.jsx)("div",{className:al().label,children:t.name}),(0,P.jsx)("div",{className:al().token,children:(0,P.jsx)(n3.Z,{readOnly:!0,value:t.id,className:al().inputField,button:(0,P.jsx)(nX.ZP,{onClick:function(){return r(t.id,"Copied token")},className:al().copyButton,variant:nX.ZP.Variants.REVERSED,children:"Copy Token"})})}),(0,P.jsx)(nX.ZP,{onClick:n?s:void 0,variant:nX.ZP.Variants.OUTLINE,disabled:!n,isLoading:A,title:n?null:"Only team admins can delete tokens",children:"Delete"}),(0,P.jsx)(aa.Z,{isOpen:o,onCancel:a,title:"Delete API Token?",onConfirm:c,description:'Are you sure you want to delete the token "'.concat(t.name,'" ?')})]})},ac=n(26942),aA=n(62451),ad=n(47519),ah=n(85964),af=n(88219),ap=n.n(af),ag=function(){var e,t=(0,t3.Rs)(),n=null==t?void 0:t.id,r=null==t||null==(e=t.plan)?void 0:e.payAsYouGoEnabled,i=(0,tJ.IA)(function(e){return e.apiTokens}),o=(0,ra.Q6)(t5.AC.ApiAccess,n),a=(0,ra.Bv)({featureName:t5.M$.MonthlyAiDiagramApiCalls,teamId:n}),s=(0,ra.Bv)({featureName:t5.M$.PremiumApiCalls,teamId:n}),l=(0,rk.Y)().setOpenedPane,u=(0,t$.II)(),c=(0,ar.Z)(n,void 0,{internalOnly:!0}),A=(0,at.GX)(c,u,at.H0),d=!i,h=i?i.filter(function(e){return!e.isDisabled}):[],f=h.length>0,p=o&&!!(r||(null==a?void 0:a.limit)||(null==s?void 0:s.limit));return(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{className:ng().medium,children:["Eraser's API allows generating diagrams programmatically, using the same engine that drives\xa0",(0,P.jsx)(ac.dL,{href:"https://eraser.io/diagramgpt",children:"DiagramGPT"}),"\xa0and Eraser's\xa0",(0,P.jsx)(ac.dL,{href:"https://docs.eraser.io/docs/diagram-as-code",children:"diagram-as-code"}),"\xa0and AI Diagramming features. API calls require a valid API token which is shared by all team members.\xa0",(0,P.jsx)(ac.dL,{href:"https://docs.eraser.io/reference/api-token",children:"See documentation"}),"."]}),p?(0,P.jsxs)("div",{className:ap().tokensContainer,children:[d&&(0,P.jsx)(aA.Z,{}),!f&&!d&&(0,P.jsxs)("div",{className:ap().emptyTokenContainer,children:[(0,P.jsx)("span",{className:ap().label,children:"API Token"}),(0,P.jsx)(n3.Z,{className:ap().inputField,placeholder:"No Token",readOnly:!0}),(0,P.jsx)(ai,{isAdmin:A})]}),f&&!d&&h.filter(function(e){return!e.isDisabled}).map(function(e){return(0,P.jsx)(au,{apiToken:e,isAdmin:A},e.id)})]}):o?(0,P.jsx)(ad.U,{className:"marginTopLarge",children:(0,P.jsxs)("p",{className:(0,nm.Z)(ng().medium,"marginBottomNone"),children:["API access is only available if usage-based-pricing is enabled. ",(0,P.jsx)(ac.h$,{onClick:function(){return l("plans",t5.AC.ApiAccess,ah.$)},children:"Enable here"})]})}):(0,P.jsx)(ad.U,{className:"marginTopLarge",children:(0,P.jsxs)("p",{className:(0,nm.Z)(ng().medium,"marginBottomNone"),children:["API access is only available on ",(0,P.jsx)(ac.h$,{onClick:function(){return l("plans",t5.AC.ApiAccess)},children:"Paid Plans"}),"."]})})]})},am=n(72888),av=n.n(am),ay=function(){var e=(0,ns.F)(),t=e.themeSetting,n=e.theme,r=e.setThemeSetting,i="dark"===t,o="light"===t,a="system"===t;return(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{className:av().subTitle,children:["Toggle between Light & Dark mode at any time with\xa0",(0,P.jsx)(nf.P,{shortcutStyle:"pills",className:av().keyboardShortcuts,keys:["Shift","AltOrOption","D"]}),". Your personal settings do not affect what others see."]}),(0,P.jsxs)("div",{className:(0,nm.Z)(av().radioCardsWrapper,"dark"===n&&av().dark),children:[(0,P.jsxs)("label",{className:(0,nm.Z)(av().radioCard,o&&av().checked),children:[(0,P.jsx)("input",{type:"radio",checked:o,onChange:function(){return r("light")}}),(0,P.jsxs)("div",{className:av().labelWrapper,children:[(0,P.jsx)("span",{className:av().labelTitle,children:"Light"}),(0,P.jsx)("span",{className:av().labelDescription,children:"A traditional white board look"})]})]}),(0,P.jsxs)("label",{className:(0,nm.Z)(av().radioCard,i&&av().checked),children:[(0,P.jsx)("input",{type:"radio",checked:i,onChange:function(){return r("dark")}}),(0,P.jsxs)("div",{className:av().labelWrapper,children:[(0,P.jsx)("span",{className:av().labelTitle,children:"Dark"}),(0,P.jsx)("span",{className:av().labelDescription,children:"A modern night-time aesthetic"})]})]}),(0,P.jsxs)("label",{className:(0,nm.Z)(av().radioCard,a&&av().checked),children:[(0,P.jsx)("input",{type:"radio",checked:a,onChange:function(){return r("system")}}),(0,P.jsxs)("div",{className:av().labelWrapper,children:[(0,P.jsx)("span",{className:av().labelTitle,children:"Auto"}),(0,P.jsx)("span",{className:av().labelDescription,children:"Use system preferences"})]})]})]}),(0,P.jsxs)("div",{className:av().imageWrapper,children:[(0,P.jsx)("img",{alt:"Light mode screenshot",src:"/static/images/settingsModal/lightBg.svg",className:(0,nm.Z)(av().image,"dark"===n&&av().hidden)}),(0,P.jsx)("img",{alt:"Dark mode screenshot",src:"/static/images/settingsModal/darkBg.svg",className:(0,nm.Z)(av().image,"dark"!==n&&av().hidden)})]})]})},ab=n(83607),aw=n(48860),a_=n(26605),aE=(o=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){switch(t.label){case 0:return[4,rT.Z.get("payment/getSubscriptionCancellationInfo?teamId=".concat(e))];case 1:return[2,t.sent()]}})}),function(e){return o.apply(this,arguments)}),aC=function(e){var t,n,r=(0,j.useState)(void 0),i=r[0],o=r[1],a=null==e?void 0:e.id,s=null==e||null==(t=e.plan)||null==(n=t.stripe)?void 0:n.stripeSubscriptionId;return(0,j.useEffect)(function(){a&&s&&aE(a).then(o).catch(console.error)},[a,s]),i},aB=n(75203),ax=n(30678),aI=n(58869),aT=n(63842),aS=n(48123),ak=n(89813),aN=n(43789),aD=n(28316),aO=function(e){var t=e.children,n=(0,j.useRef)(null),r=(0,j.useState)(1),i=r[0],o=r[1],a=n.current;return((0,rB.Z)(function(){if(!a&&i<1024){var e;n.current=null!=(e=document.getElementById("SETTINGS_MODAL_TITLE_SLOT"))?e:null,setTimeout(function(){o(function(e){return 2*e})},i)}else o(1)},[i,a]),a)?aD.createPortal(t,a):null},aR=function(e){var t,n,r,i=e.paywallError,o=e.paywallFeature,a=e.scrollTarget,s=(0,t3.Rs)(),l=(0,ar.Z)(null==s?void 0:s.id,void 0,{internalOnly:!0}),u=aC(s);if(!s)return null;var c=null!=(n=null==s||null==(t=s.plan)?void 0:t.planType)?n:t5.k9.Free;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(a_.m,{highlightedFeature:o,seatCount:null!=(r=null==l?void 0:l.length)?r:1,plan:s.plan,useBillingVersioning:s.useBillingVersioning,subscriptionCancellationInfo:u}),(0,P.jsx)(aF,{paywallError:i,team:s,currentPlan:c,scrollTarget:a,teamMembers:l,subscriptionCancellationInfo:u})]})},aF=function(e){var t=e.paywallError,n=e.team,r=e.currentPlan,i=void 0===r?t5.k9.Free:r,o=e.scrollTarget,a=e.teamMembers,s=e.subscriptionCancellationInfo,l=(0,t$.aF)(),u=(0,aN.K)(n.id),c=u.organization,A=u.loading,d=null==a?void 0:a.find(function(e){return(0,at.H0)(e)}),h=(0,ab.T)({team:n}),f=(0,rk.Y)().clearScrollState,p=!!n.organizationId,g=(null!=(T=null==s?void 0:s.cancelAt)?T:0)*1e3,m=null==s?void 0:s.willCancelAtPeriodEnd,v=null==s?void 0:s.isCanceled,y=!h&&d?(0,P.jsxs)(P.Fragment,{children:["Contact",(0,P.jsx)(ax.Z,{userId:d.userId,size:20}),"to upgrade."]}):null,b=(0,j.useCallback)(function(){var e=document.getElementById(ah.$);if(e)return e.scrollIntoView({behavior:"smooth",block:"end"}),!0},[]);if((0,rB.Z)(function(){if(o===ah.$){function e(){return(e=(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:e=void 0,t.label=1;case 1:if(e)return[3,3];return e=b(),[4,(0,ak.Z)(5)];case 2:return t.sent(),[3,1];case 3:return f(),[2]}})})).apply(this,arguments)}!function(){e.apply(this,arguments)}()}},[b,o,f]),n.organizationId&&c&&!A){var w=c.admins.some(function(e){return e.userId===(null==l?void 0:l.id)}),_=c.admins.map(function(e){return e.email}).join(", "),E=w?(0,P.jsx)(aS.h,{href:"/organizations/dashboard",children:"organization dashboard"}):null;return(0,P.jsx)(aO,{children:(0,P.jsx)(aI.Z,{variant:aI.Z.Variants.Transparent,children:(0,P.jsxs)("p",{className:(0,nm.Z)(ng().medium,"marginBottomNone","rowTop"),children:[(0,P.jsx)(r1.J,{icon:aB.Z,width:16,height:16,strokeWidth:2}),(0,P.jsxs)("span",{className:"marginLeftMedium",children:[" Billing for this team is managed at the organization level by: ",(0,P.jsx)("b",{children:_}),w&&E&&(0,P.jsxs)(P.Fragment,{children:[". Visit the ",E," to manage billing."]}),!w&&". Contact an organization admin to make billing changes."]})]})})})}if(t){var C=i!==t5.k9.Free&&h&&(0,aw.OX)(t.data.featureName);return(0,P.jsx)(aO,{children:(0,P.jsx)(aI.Z,{variant:aI.Z.Variants.Error,children:(0,P.jsxs)("p",{className:(0,nm.Z)(ng().medium,"rowCentered gapSmall"),children:[(0,P.jsx)("b",{children:t.message}),null!=y?y:t.hint,!!C&&(0,P.jsx)(aS.h,{onClick:b,children:"Manage usage and limits"})]})})})}var B=null!=(S=null==a?void 0:a.length)?S:0;if(p)return(0,P.jsx)(aO,{children:(0,P.jsx)(aI.Z,{variant:aI.Z.Variants.Transparent,children:(0,P.jsx)("p",{className:ng().medium,children:"Billing is handled by your organization."})})});if((null==(I=n.plan)?void 0:I.fixedSeatCount)&&B>=n.plan.fixedSeatCount){var x=B>n.plan.fixedSeatCount;return(0,P.jsx)(aO,{children:(0,P.jsx)(aI.Z,{variant:x?aI.Z.Variants.Error:aI.Z.Variants.Warning,children:(0,P.jsxs)("p",{className:ng().medium,children:[(0,P.jsx)("b",{children:x?"You have exceeded your plan's seat limit":"You have reached your plan's maximum number of seats"})," Contact ",(0,P.jsx)(aT.d,{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})," to add seats."]})})})}if(v)return(0,P.jsx)(aO,{children:(0,P.jsx)(aI.Z,{variant:aI.Z.Variants.Transparent,children:(0,P.jsx)("p",{className:ng().medium,children:"Your subscription has been marked as canceled."})})});if(m&&g)return(0,P.jsx)(aO,{children:(0,P.jsx)(aI.Z,{variant:aI.Z.Variants.Transparent,children:(0,P.jsxs)("span",{className:"gapSmall rowCentered",children:[(0,P.jsx)(r1.J,{icon:aB.Z,width:16,height:16,strokeWidth:2}),(0,P.jsxs)("p",{className:ng().medium,children:["Pending changes are scheduled for"," ",new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric",year:"numeric"}).format(new Date(g))," ","to switch from the ",oR.ZP[i].label.toLowerCase()," plan to"," ",oR.ZP.free.label.toLowerCase()," plan.",y]})]})})});if(i!==t5.k9.Enterprise){var I,T,S,k,N=(null==(k=n.plan)?void 0:k.payAsYouGoEnabled)?(0,P.jsxs)("p",{className:ng().medium,children:["Usage based pricing is enabled. ",(0,P.jsx)(aS.h,{onClick:b,children:"Manage usage and limits"})]}):(0,P.jsxs)("p",{className:ng().medium,children:["Need more AI credits or API calls? Enable ",(0,P.jsx)(aS.h,{onClick:b,children:"usage-based pricing"})," to pay as you go.",i===t5.k9.Free&&" (Requires a paid plan)"]});return(0,P.jsx)(aO,{children:(0,P.jsx)(aI.Z,{variant:aI.Z.Variants.Transparent,children:N})})}return null},aL=n(44885),aU=n(90087),aP=n(99587),aM=n(47829),aj=n(41008),aZ=function(e){var t=e.onGitHubConnect,n=e.onGitLabConnect,r=e.renderCustomContent;return(0,P.jsxs)(aM.u,{children:[(0,P.jsxs)(aM.u.IconTray,{children:[(0,P.jsx)(r1.J,{icon:aU.Z,width:24,height:24}),(0,P.jsx)(r1.J,{icon:aP.Z,width:24,height:24}),(0,P.jsx)(r1.J,{icon:aL.Z,width:30,height:30,color:"grey-1000"}),(0,P.jsx)(iu.$q,{height:14})]}),(0,P.jsxs)(aM.u.TextSection,{children:["Codebase -> AI diagrams. PR monitors to keep your content up-to-date.",(0,P.jsx)("br",{}),".md sync available for Github.","\xa0",(0,P.jsx)(aT.d,{href:"https://docs.eraser.io/docs/github-getting-started",children:"Learn more"})]}),(0,P.jsx)(aM.u.Bottom,{children:r?r():(0,P.jsx)(aj.d,{onGitHubClick:t,onGitLabClick:n})})]})},aQ=n(3440),aH=n.n(aQ),aV=n(99618),aK=n(89038),az=n(87230),aG=n(57753),aW=n(38090),aq=n.n(aW);function a$(){return(a$=(0,F.Z)(function(e,t){return(0,U.__generator)(this,function(n){return[2,rT.Z.post("gitlab/projects",{token:e,hostUrl:t||aV.Q})]})})).apply(this,arguments)}var aY=function(e){var t=e.onSubmit,n=e.onCancel,r=e.isLoading,i=e.error,o=(0,j.useState)(""),a=o[0],s=o[1],l=(0,j.useState)(!1),u=l[0],c=l[1],A=(0,j.useState)(""),d=A[0],h=A[1],f=u&&d.trim()?d.trim():aV.Q,p=(0,j.useState)(null),g=p[0],m=p[1];return(0,P.jsxs)("div",{children:[(0,P.jsx)(aI.Z,{children:(0,P.jsxs)("div",{className:ng().information,children:[(0,P.jsx)("p",{className:"marginBottomSmall",style:{fontSize:"14px"},children:"To connect GitLab, you'll need an API access token with API scope. There are 3 options:"}),(0,P.jsxs)("ol",{className:ng().ol,style:{fontSize:"14px"},children:[(0,P.jsxs)("li",{children:["Use a"," ",(0,P.jsx)(aT.d,{href:"".concat(f,"/-/user_settings/personal_access_tokens"),target:"_blank",rel:"noopener noreferrer",className:aq().link,children:"personal access token"})]}),(0,P.jsxs)("li",{children:["Use a"," ",(0,P.jsx)(aT.d,{href:"https://docs.gitlab.com/user/group/settings/group_access_tokens/",target:"_blank",rel:"noopener noreferrer",className:aq().link,children:"group access token"})]}),(0,P.jsxs)("li",{children:["Use a"," ",(0,P.jsx)(aT.d,{href:"https://docs.gitlab.com/user/project/settings/project_access_tokens/",target:"_blank",rel:"noopener noreferrer",className:aq().link,children:"project access token"})]})]})]})}),(0,P.jsx)(aG.X,{label:"Use a self-hosted GitLab instance",isChecked:u,onChange:c,className:"marginBottomMedium"}),u&&(0,P.jsx)(aK.Z,{value:d,onChange:function(e){h(e.currentTarget.value),m(null)},placeholder:"https://gitlab.example.com",label:"GitLab Host URL",error:g,width:300}),(0,P.jsx)(aK.Z,{value:a,onChange:function(e){return s(e.currentTarget.value)},placeholder:"Paste API access token",error:i,width:300}),(0,P.jsxs)("div",{className:"row gapMedium marginTopLarge",children:[(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.OUTLINE,onClick:n,disabled:r,children:"Cancel"}),(0,P.jsx)(nX.ZP,{onClick:function(){if(a.trim()){if(m(null),!u)return void t(a,aV.Q);var e=d.trim().replace(/\/+$/,"");try{var n=new URL(e);if("https:"!==n.protocol&&"http:"!==n.protocol)return void m("URL must use https:// or http:// protocol");t(a,e)}catch(e){m("Invalid URL. Please enter a valid GitLab host URL.");return}}},disabled:!a.trim()||u&&!d.trim()||r,isLoading:r,children:"Connect"})]})]})},aJ=function(e){var t=e.projects,n=e.onSave,r=e.onCancel,i=e.isLoading,o=(0,j.useState)([]),a=o[0],s=o[1];return(0,P.jsxs)("div",{className:aq().simpleSelectionContainer,children:[(0,P.jsx)("h3",{children:"GitLab Connect"}),(0,P.jsx)("p",{className:aq().mainDescription,style:{fontSize:"14px"},children:"Below is the list of available projects. Select repos to add to Eraser."}),(0,P.jsx)(az.c,{name:"gitlab-projects",options:t.map(function(e){var t=e.path_with_namespace;return{id:t,value:t,label:t,checked:a.includes(t)}}),onChangeSelected:function(e){return s(e)},showSelectAll:!0,gap:0,leftPadding:0}),(0,P.jsxs)("div",{className:"row gapMedium marginTopMedium",children:[(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.OUTLINE,onClick:r,disabled:i,children:"Cancel"}),(0,P.jsx)(nX.ZP,{onClick:function(){return n(a)},disabled:!a.length,isLoading:i,children:"Save"})]})]})},aX=function(e){var t,n,r=e.onDone,i=(0,nP.k3)().bulkCreateOrganizations,o=(0,t3.LP)(),a=(0,j.useState)(!1),s=a[0],l=a[1],u=(0,j.useState)(null),c=u[0],A=u[1],d=(0,j.useState)([]),h=d[0],f=d[1],p=(0,j.useState)(""),g=p[0],m=p[1],v=(0,j.useState)(aV.Q),y=v[0],b=v[1],w=(0,j.useState)("token"),_=w[0],E=w[1],C=(t=(0,F.Z)(function(e,t){return(0,U.__generator)(this,function(n){switch(n.label){case 0:l(!0),A(null),m(e),b(t||aV.Q),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,function(e,t){return a$.apply(this,arguments)}(e,t)];case 2:return f(n.sent()),E("project-selection"),[3,5];case 3:return console.error("Error connecting to GitLab:",n.sent()),A("Failed to connect to GitLab"),[3,5];case 4:return l(!1),[7];case 5:return[2]}})}),function(e,n){return t.apply(this,arguments)}),B=(n=(0,F.Z)(function(e){var t,n,a,s,u,c,d,f,p;return(0,U.__generator)(this,function(m){switch(m.label){case 0:l(!0),m.label=1;case 1:m.trys.push([1,3,,4]),t=aH()(h,function(e){var t=e.path_with_namespace.split("/");return t.length>1?t[0]:"default"}),n=aH()(e,function(e){var t=e.split("/");return t.length>1?t[0]:"default"}),a=[],s=!0,u=!1,c=void 0;try{for(d=function(){var e,n,r=(0,n$.Z)(p.value,2),i=r[0],s=r[1],l=s.map(function(e){return{name:e.match("/")?e.split("/").pop():e,enableSync:!1}}),u=(null!=(n=null==(e=t[i])?void 0:e.filter(function(e){return!s.includes(e.path_with_namespace)}))?n:[]).map(function(e){return{name:e.name,enableSync:!1,disabled:!0}}),c=y!==aV.Q;a.push((0,L.Z)({teamId:o,name:i,provider:"gitlab",accessToken:g,installationId:0,type:"Organization",repositories:(0,ny.Z)(l).concat((0,ny.Z)(u))},c?{hostUrl:y}:{}))},f=Object.entries(n)[Symbol.iterator]();!(s=(p=f.next()).done);s=!0)d()}catch(e){u=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}return[4,i(a)];case 2:return m.sent(),l(!1),r(),[3,4];case 3:return m.sent(),l(!1),A("Something went wrong"),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)});return"project-selection"===_?(0,P.jsx)("div",{className:aq().root,children:(0,P.jsx)(aJ,{projects:h,onSave:B,onCancel:r,isLoading:s})}):(0,P.jsx)("div",{className:aq().root,children:(0,P.jsx)(aY,{onSubmit:C,onCancel:function(){r(),E("token"),f([]),m(""),b(aV.Q),A(null)},isLoading:s,error:c})})},a0=n(18149),a1=n.n(a0),a2=n(87705),a4=n(68377),a3=n(76170),a5=n(57546),a6=n.n(a5),a8=function(e,t){if(!e)return{};var n=new Set(t.filter(function(e){return!e.disabled}).map(function(e){return e.name}));return e.reduce(function(e,t){return e[t]=n.has(t),e},{})},a9=function(e){var t,n=e.organization,r=e.addedRepositories,i=(0,j.useState)(""),o=i[0],a=i[1],s=(0,t3.LP)(),l=(0,ic.Z)(),u=(0,nP.k3)(),c=u.addRepository,A=u.updateRepository,d=u.configureOrganization,h=u.listRepositoriesForOrganization,f=(0,j.useState)(!1),p=f[0],g=f[1],m=(0,j.useState)(null),v=m[0],y=m[1],b=(0,n$.Z)((0,nY.R)({}),2),w=b[0],_=b[1],E=(0,n$.Z)((0,nY.R)({}),2),C=E[0],B=E[1],x=(0,j.useMemo)(function(){return{baseCheckedState:a8(v,r),baseSyncedState:v?v.reduce(function(e,t){var n,i;return e[t]=null!=(i=null==(n=r.find(function(e){return e.name===t&&!e.disabled}))?void 0:n.enableSync)&&i,e},{}):{}}},[r,v]),I=x.baseCheckedState,T=x.baseSyncedState;(0,j.useEffect)(function(){_(Object.assign({},I)),B(Object.assign({},T))},[I,T,_,B]);var S=n.id,k=n.isSuspended,N=n.provider;(0,j.useEffect)(function(){S&&!k&&h(S,{addMissing:"github"===N,fromDB:"github"!==N}).then(y).catch(function(e){(0,rI.Tb)(e),y([]),l.error("Could not fetch ".concat((0,a4.QO)(N)," repositories."))})},[S,k,N]);var D=(0,j.useMemo)(function(){if(!v)return null;var e=new Set(r.filter(function(e){return!e.disabled}).map(function(e){return e.name})),t=new Set(r.filter(function(e){return!e.disabled&&e.enableSync}).map(function(e){return e.name}));return(0,ny.Z)(v).sort(function(n,r){var i=e.has(n),o=e.has(r),a=t.has(n),s=t.has(r);return i!==o?i?-1:1:a!==s?a?-1:1:n.localeCompare(r)})},[v,r]),O=null===v&&!n.isSuspended,R=w&&(!a1()(w,I)||!a1()(C,T)),L=function(){d({organizationId:n.id,organizationName:n.name})},M=(t=(0,F.Z)(function(){var e,t,i,o,a,u,d,h,f,p,m,v,y,b,_,E,B,x,S,k,N,D;return(0,U.__generator)(this,function(O){switch(O.label){case 0:for(p in e=function(e){var t,i,l,d,f,p;return(0,U.__generator)(this,function(g){switch(g.label){case 0:if(t=null==I?void 0:I[e],!((i=w[e])&&!t))return[3,5];if(l=r.find(function(t){return t.name===e}),d=C[e],!l)return[3,2];return[4,A({teamId:s,organizationId:n.id,repositoryId:l.id,payload:{disabled:!1,enableSync:d}})];case 1:return g.sent(),[3,4];case 2:return[4,c({repositoryName:e,organizationId:n.id,organizationName:n.name,enableSync:d})];case 3:f=g.sent(),o.set(e,f),g.label=4;case 4:return a.push(e),d&&h.push(e),[3,7];case 5:if(!(!i&&t))return[3,7];return p=r.find(function(t){return t.name===e}),[4,A({teamId:s,organizationId:n.id,repositoryId:p.id,payload:{enableSync:!1,disabled:!0}})];case 6:g.sent(),u.push(e),g.label=7;case 7:return[2]}})},t=function(e){var t,i,a,l,u;return(0,U.__generator)(this,function(c){switch(c.label){case 0:if(i=C[e],a=T[e],!(u=null!=(l=null==(t=r.find(function(t){return t.name===e}))?void 0:t.id)?l:o.get(e)))return console.warn("Repository ID not found",e),[2,"continue"];if(!(i&&!a&&(null==I?void 0:I[e])))return[3,2];return h.push(e),[4,A({teamId:s,organizationId:n.id,repositoryId:u,payload:{enableSync:!0}})];case 1:return c.sent(),[3,4];case 2:if(!(!i&&a))return[3,4];return d.push(e),[4,A({teamId:s,organizationId:n.id,repositoryId:u,payload:{enableSync:!1}})];case 3:c.sent(),c.label=4;case 4:return[2]}})},g(!0),i=l.loading("Applying changes ..."),o=new Map,a=[],u=[],d=[],h=[],f=[],w)f.push(p);m=0,O.label=1;case 1:if(!(m<f.length))return[3,4];return v=f[m],[5,(0,U.__values)(e(v))];case 2:O.sent(),O.label=3;case 3:return m++,[3,1];case 4:for(b in y=[],C)y.push(b);_=0,O.label=5;case 5:if(!(_<y.length))return[3,8];return E=y[_],[5,(0,U.__values)(t(E))];case 6:O.sent(),O.label=7;case 7:return _++,[3,5];case 8:return B=function(e){return e>1?"repositories":"repository"},x=a.length>0?"".concat(a.length," ").concat(B(a.length)," activated."):"",S=u.length>0?"".concat(u.length," ").concat(B(u.length)," inactivated."):"",k=d.length>0?"".concat(d.length," ").concat(B(d.length)," unsynced. Archiving files."):"",N=h.length>0?"".concat(h.length," ").concat(B(h.length)," synced. Downloading MD files."):"",l.dismiss(i),D=[x,S,k,N].filter(Boolean).join("\n"),l.success(D),g(!1),[2]}})}),function(){return t.apply(this,arguments)});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:a6().repositoryListWrapper,children:[O&&(0,P.jsx)("div",{className:"rowCentered justifyCentered fullHeight",children:(0,P.jsx)(aA.Z,{fancy:!0})}),function(){if(n.isSuspended)return(0,P.jsxs)("p",{className:a6().suspension,children:["The ",(0,a4.QO)(n.provider)," app is suspended.\xa0",(0,P.jsx)("a",{role:"button",className:a6().link,onClick:L,children:"Click here to unsuspend it."})]});var e=(0,a4.qX)(n.provider);return(0,P.jsxs)(P.Fragment,{children:[v&&v.length>100&&(0,P.jsx)(nA.Z,{searchTerm:o,className:a6().searchBar,setSearchTerm:a}),(0,P.jsx)("ul",{className:a6().repositoryList,children:(D||[]).filter(function(e){return e.toLocaleLowerCase().includes(o.toLocaleLowerCase())}).slice(0,100).map(function(t){var r,i,o=null!=(r=null==w?void 0:w[t])&&r,a=null!=(i=null==C?void 0:C[t])&&i,s=o&&a?"Active and synced":o?"Active":"Inactive",l=(0,a4.VT)({orgName:n.name,repoName:t,provider:n.provider,hostUrl:n.hostUrl});return(0,P.jsxs)("li",{className:a6().repositoryListItem,children:[(0,a3.k)(n.provider,{width:14,height:14,className:(0,nm.Z)(!o&&a6().inactive,"marginRightSmall")}),(0,P.jsx)("a",{href:l,className:(0,nm.Z)(a6().repositoryLink,!o&&a6().inactive,"marginRightMedium"),target:"_blank",rel:"noreferrer",children:t}),(0,P.jsxs)(a2.ZP,{title:s,variant:a2.ZP.Variants.LightGrey,selectionVariant:nO.Z.SelectionVariants.Grey,width:300,children:[(0,P.jsx)(nO.Z,{label:"Active",isSelected:o&&!a,explanation:"This repo can be access by Eraser",onClick:function(){_((0,rH.Z)({},t,!0)),B((0,rH.Z)({},t,!1))}}),(0,P.jsx)(nO.Z,{label:"Active and synced",isSelected:o&&a,explanation:e?"All .md files and .eraserdiagram files can be synced between Eraser and your repo via pushing and pulling":"Sync is not available for this git provider",onClick:function(){_((0,rH.Z)({},t,!0)),B((0,rH.Z)({},t,!0))},isDisabled:!e}),(0,P.jsx)(nO.Z,{label:"Inactive",isSelected:!o,explanation:"This repo is not accessible by Eraser",onClick:function(){_((0,rH.Z)({},t,!1)),B((0,rH.Z)({},t,!1))}})]})]},t)})}),v&&v.length>100&&(0,P.jsxs)("p",{className:a6().note,children:["Showing first ",100," repositories only. Search to see more."]})]})}()]}),R&&(0,P.jsxs)(n0.Z,{className:a6().repositoryListButtons,children:[(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.TRANSPARENT,size:nX.ZP.Sizes.X_SMALL,disabled:p,onClick:function(){_(Object.assign({},I)),B(Object.assign({},T))},children:"Cancel"}),(0,P.jsx)(nX.ZP,{size:nX.ZP.Sizes.X_SMALL,onClick:M,disabled:p,children:"Save Changes"})]})]})};function a7(){return(a7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var se=function(e){return j.createElement("svg",a7({id:"gitlabColor_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 380 380"},e),I||(I=j.createElement("defs",null,j.createElement("style",null,".gitlabColor_svg__st1{fill:#fc6d26}"))),T||(T=j.createElement("g",{id:"gitlabColor_svg__LOGO"},j.createElement("path",{d:"M265.3 174.4l-.2-.6-21.2-55.3c-.4-1.1-1.2-2-2.2-2.6s-2.1-.9-3.3-.9-2.3.5-3.2 1.2c-.9.7-1.6 1.7-1.9 2.9L219 162.9h-57.9l-14.3-43.8c-.3-1.1-1-2.1-1.9-2.9-.9-.7-2-1.2-3.2-1.2s-2.3.2-3.3.9c-1 .6-1.8 1.5-2.2 2.6L115 173.8l-.2.6c-6.3 16.4-.9 34.9 13.1 45.5h.2c0 .1 32.3 24.3 32.3 24.3l16 12.1 9.7 7.3c2.3 1.8 5.6 1.8 7.9 0l9.7-7.3 16-12.1 32.5-24.3c14-10.6 19.3-29.1 13-45.5h.1z",fill:"#e24329"}),j.createElement("path",{className:"gitlabColor_svg__st1",d:"M265.3 174.4l-.2-.6c-10.5 2.2-20.2 6.6-28.5 12.8-.1 0-25.2 19.1-46.6 35.2 15.8 12 29.6 22.4 29.6 22.4l32.5-24.3c14-10.6 19.3-29.1 13-45.5h.2z"}),j.createElement("path",{d:"M160.3 244.2l16 12.1 9.7 7.3c2.3 1.8 5.6 1.8 7.9 0l9.7-7.3 16-12.1s-13.8-10.4-29.6-22.4c-15.9 12-29.7 22.4-29.7 22.4z",fill:"#fca326"}),j.createElement("path",{className:"gitlabColor_svg__st1",d:"M143.4 186.6c-8.3-6.2-18-10.7-28.5-12.8l-.2.6c-6.3 16.4-.9 34.9 13.1 45.5h.2c0 .1 32.3 24.3 32.3 24.3s13.8-10.4 29.7-22.4c-21.3-16.1-46.4-35.1-46.6-35.2z"}))))},st=n(47252),sn=n.n(st),sr=function(e){var t=e.organization,n=e.onRemoveOrganization,r=e.onConfigureOrganization,i=(0,j.useState)(!1),o=i[0],a=i[1],s=(0,a4.VT)({orgName:t.name,provider:t.provider,hostUrl:t.hostUrl});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:sn().organizationHeaderRoot,children:[(0,P.jsx)("div",{className:sn().organizationLogo,children:function(){if(t.avatarUrl&&!o)return(0,P.jsx)("img",{alt:t.name,src:t.avatarUrl,onError:function(){return a(!0)}});switch(t.provider){case"github":return(0,P.jsx)("img",{alt:t.name,src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"});case"gitlab":return(0,P.jsx)(se,{})}}()}),(0,P.jsxs)("div",{className:sn().organzationInfo,children:[(0,P.jsx)("span",{className:sn().organizationName,children:t.name}),(0,P.jsx)(aT.d,{className:sn().organizationLink,href:s,children:s})]}),(0,P.jsxs)(nX.ZP,{onClick:n,variant:nX.ZP.Variants.OUTLINE,className:sn().removeOrganizationButton,children:["Remove ",t.name]})]}),"github"===t.provider&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("p",{className:sn().organizationSubtitle,children:["The repos below are authorized in GitHub. Eraser will only interact with repos that are set as active here. Active repos can be used for diagramming, monitoring, or syncing.\xa0",(0,P.jsx)(aT.d,{className:sn().organizationLink,href:"https://docs.eraser.io/docs/github-getting-started",children:"Learn more"})]}),(0,P.jsx)("p",{className:sn().organizationSubtitle,children:(0,P.jsx)(aT.d,{role:"button",onClick:r,className:sn().organizationLink,children:"Can't find your repo?"})})]})]})},si=n(68580),so=n.n(si),sa=function(){var e=(0,tJ.Pe)(),t=(0,nP.k3)(),n=t.installApp,r=t.organizations,i=t.repositoriesMap,o=t.configureOrganization,a=t.removeOrganization,s=(0,j.useState)(!1),l=s[0],u=s[1],c=r&&r.length>0;return((0,j.useEffect)(function(){c&&e.currentUser.markActivation(nZ.c.GitHubSync)},[c]),l)?(0,P.jsx)("div",{className:so().root,children:(0,P.jsx)(aX,{onDone:function(){return u(!1)}})}):c?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:so().root,children:r.map(function(e){var t=null==i?void 0:i.get(e.id);return(0,P.jsxs)("div",{className:so().organizationWrapper,children:[(0,P.jsx)(sr,{organization:e,onRemoveOrganization:function(){return a(e)},onConfigureOrganization:function(){o({organizationId:e.id,organizationName:e.name})}}),e&&t&&(0,P.jsx)(a9,{organization:e,addedRepositories:t}),(0,P.jsx)("hr",{className:so().divider})]},e.id)})}),(0,P.jsx)(aO,{children:(0,P.jsx)(ad.U,{variant:ad.U.Variants.Transparent,children:(0,P.jsxs)("div",{className:"rowCentered gapLarge",children:[(0,P.jsx)("p",{className:(0,nm.Z)("marginBottomNone",ng().medium),children:"".concat(r.length," organization").concat(1===r.length?"":"s"," connected")}),(0,P.jsx)("p",{className:(0,nm.Z)(ng().medium,"marginBottomNone"),children:(0,P.jsx)(aj.d,{onGitHubClick:n,onGitLabClick:function(){return u(!0)},asLink:!0,title:"Add an organization"})})]})})})]}):(0,P.jsx)("div",{className:so().root,children:(0,P.jsx)(aZ,{onGitHubConnect:n,onGitLabConnect:function(){return u(!0)}})})},ss=n(57685),sl=n(83485),su=n(58793),sc=n.n(su),sA=function(){var e,t,n,r,i=(0,ss.K)(),o=(0,t3.K)(),a=(0,t3.LP)(),s=(0,rk.Y)().setOpenedPane,l=(0,ic.Z)(),u=(0,j.useState)(a||""),c=u[0],A=u[1],d=(0,j.useState)(!1),h=d[0],f=d[1],p=i.installation_id,g=parseInt(p,10),m=g&&!isNaN(g),v=i.code,y=(null!=(t=null==o?void 0:o.size)?t:0)>1,b=(null!=(n=null==o?void 0:o.size)?n:0)===1,w=(0,j.useRef)(!1),_=(0,j.useCallback)((e=(0,F.Z)(function(e){var t;return(0,U.__generator)(this,function(n){switch(n.label){case 0:f(!0),w.current=!0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,rT.Z.post("/git/auth/completeInstallation",{teamId:e,installationId:g,code:v})];case 2:return n.sent(),l.success("GitHub installation linked successfully"),s("gitConnect"),[3,5];case 3:return console.error("Failed to complete installation:",t=n.sent()),l.error(t.message||"Failed to link GitHub installation"),[3,5];case 4:return f(!1),[7];case 5:return[2]}})}),function(t){return e.apply(this,arguments)}),[g,v,s]);if((0,j.useEffect)(function(){!w.current&&a&&b&&m&&_(a)},[m,a,b,_]),!p||!m)return(0,P.jsx)("div",{className:sc().root,children:(0,P.jsxs)("div",{className:sc().centerContent,children:[(0,P.jsx)("h2",{className:(0,nm.Z)(ng().h3,sc().title),children:p?"Invalid Installation ID":"Missing Installation ID"}),p?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{className:(0,nm.Z)(ng().medium,"c-g11"),children:"No GitHub installation was found. Please try installing the app again from the Git Connect page."}),(0,P.jsx)(nX.ZP,{onClick:function(){return s("gitConnect")},children:"Go to Git Connect"})]}):(0,P.jsx)("p",{className:(0,nm.Z)(ng().medium,"c-g11"),children:"To find your installation ID, please visit https://github.com/org/repo/settings/installations and find the Eraser app.\n            The installation ID is the number after the /installations/ in the URL."})]})});if(!y)return(0,P.jsx)("div",{className:sc().root,children:(0,P.jsxs)("div",{className:sc().centerContent,children:[(0,P.jsx)(aA.$,{fancy:!0}),(0,P.jsx)("h2",{className:(0,nm.Z)(ng().h3,sc().title),children:"Finalizing connection..."}),(0,P.jsx)("p",{className:sc().description,children:"Please wait while we link your GitHub installation."})]})});var E=(0,ny.Z)(null!=(r=null==o?void 0:o.values())?r:[]).map(function(e){return{id:e.id,value:e.id,label:e.name}});return(0,P.jsxs)("div",{className:sc().root,children:[(0,P.jsx)("h3",{className:(0,nm.Z)(ng().h3,sc().title),children:"Link GitHub Installation"}),(0,P.jsx)("p",{className:(0,nm.Z)(ng().medium,"c-g11"),children:"Select which team to link this GitHub installation to:"}),(0,P.jsx)(sl.Z,{name:"team",value:c,options:E,onChange:function(e){return A(e)},disabled:h}),(0,P.jsx)("div",{className:"marginTopLarge",children:(0,P.jsx)(nX.ZP,{onClick:function(){c?_(c):l.error("Please select a team")},disabled:!c||h,isLoading:h,children:"Confirm"})})]})},sd=n(44784),sh=n(34577),sf=n.n(sh),sp=function(e){var t=e.toLocaleLowerCase().replace(".com",""),n="".concat(t.toLocaleUpperCase()[0]).concat(t.slice(1));return"Managed by ".concat(n)},sg=function(){var e,t=(0,ic.Z)(),n=(0,t$.Dh)(),r=(0,tJ.Pe)(),i=(0,j.useState)(!1),o=i[0],a=i[1],s=(0,n$.Z)((0,nY.R)({newPassword:"",confirmNewPassword:"",confirmCurrentPassword:""}),2),l=s[0],u=s[1];if(!n)return null;var c=(e=(0,F.Z)(function(e){var n,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:if(e.preventDefault(),l.newPassword!==l.confirmNewPassword)return t.error("Passwords do not match"),[2];if(n=(0,sd.ym)(l.newPassword))return t.error(n),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r.currentUser.updateUserPassword(l.newPassword,l.confirmCurrentPassword)];case 2:return o.sent(),a(!1),t.success("Password updated successfully"),u({newPassword:"",confirmNewPassword:"",confirmCurrentPassword:""}),[3,4];case 3:return i=o.sent(),t.error(i.message),[2];case 4:return[2]}})}),function(t){return e.apply(this,arguments)});return o?(0,P.jsxs)("form",{className:sf().form,onSubmit:c,children:[(0,P.jsxs)("div",{className:sf().row,children:[(0,P.jsx)("span",{className:(0,nm.Z)(sf().label,ng().standard),children:"Current password"}),(0,P.jsx)(n3.Z,{required:!0,type:"password",labelClassNames:{root:sf().input},value:l.confirmCurrentPassword,onChange:function(e){return u({confirmCurrentPassword:e.currentTarget.value})}})]}),(0,P.jsxs)("div",{className:sf().row,children:[(0,P.jsx)("span",{className:sf().label,children:"New password"}),(0,P.jsx)(n3.Z,{required:!0,type:"password",value:l.newPassword,labelClassNames:{root:sf().input},onChange:function(e){return u({newPassword:e.currentTarget.value})}})]}),(0,P.jsxs)("div",{className:sf().row,children:[(0,P.jsx)("span",{className:sf().label,children:"Confirm new password"}),(0,P.jsx)(n3.Z,{required:!0,type:"password",labelClassNames:{root:sf().input},value:l.confirmNewPassword,onChange:function(e){return u({confirmNewPassword:e.currentTarget.value})}})]}),(0,P.jsxs)(n0.Z,{className:sf().buttonGroup,children:[(0,P.jsx)(nX.ZP,{size:nX.ZP.Sizes.X_LARGE,variant:nX.ZP.Variants.OUTLINE,onClick:function(e){e.preventDefault(),a(!1)},children:"Cancel"}),(0,P.jsx)(nX.ZP,{type:"submit",size:nX.ZP.Sizes.X_LARGE,className:sf().submitButton,variant:nX.ZP.Variants.REGULAR,children:"Update password"})]})]}):(0,P.jsxs)("div",{className:sf().row,children:[(0,P.jsx)("span",{className:sf().label,children:"Password"}),"password"!==n?(0,P.jsx)("span",{className:sf().readonlyValue,children:sp(n)}):(0,P.jsx)("a",{role:"button",className:sf().link,onClick:function(){return a(!0)},children:"Change Password"})]})},sm=(S={},(0,rH.Z)(S,"google.com","google"),(0,rH.Z)(S,"microsoft.com","microsoft"),(0,rH.Z)(S,"password","email"),S),sv=["google.com","microsoft.com"],sy={"google.com":"Google","microsoft.com":"Microsoft"},sb=n(98559),sw=n(99975),s_=n.n(sw),sE=function(){var e,t,n,r=(0,t$.aF)(),i=(0,ic.Z)(),o=(0,t3.LP)(),a=(0,t$.Dh)(),s="string"==typeof a&&sv.includes(a),l=(0,tJ.Pe)(),u=(0,n$.Z)((0,nY.R)({email:null!=(e=null==r?void 0:r.email)?e:"",displayName:null!=(t=null==r?void 0:r.displayName)?t:"",confirmPassword:""}),2),c=u[0],A=u[1],d=(0,j.useState)(),h=d[0],f=d[1];(0,j.useEffect)(function(){var e,t;c.displayName!==(null==r?void 0:r.displayName)&&A({displayName:null!=(e=null==r?void 0:r.displayName)?e:""}),c.email!==(null==r?void 0:r.email)&&A({email:null!=(t=null==r?void 0:r.email)?t:""})},[A,null==r?void 0:r.displayName,null==r?void 0:r.email]);var p=function(e){var t=c.displayName,n=c.email;if(o&&c[e]!==(null==r?void 0:r[e]))switch(e){case"displayName":if(!(null==t?void 0:t.trim().length)){i.error("Name cannot be an empty string"),g(e);break}i.promise(l.currentUser.updateCurrentUser({displayName:t}),{loading:"Updating name ...",error:"Something went wrong",success:"Updated name successfully"}).catch(function(e){return g("displayName")});break;case"email":if(!(null==n?void 0:n.trim().length)){i.error("Email cannot be an empty string"),g(e);break}var a,s=(0,sb.R)(n);if(!(0,sb.J)(s)){i.error("Email is invalid"),g(e);break}tX.Z.trackEvent("account","change_email"),i.promise(l.currentUser.updateCurrentUser({email:s,currentPassword:null!=(a=c.confirmPassword)?a:""}),{loading:"Updating email ...",error:function(e){return e.message},success:"Updated email successfully"}).catch(function(){g("email"),A({confirmPassword:""})})}},g=function(e){return A((0,rH.Z)({},e,null!=(n=null==r?void 0:r[e])?n:""))},m=function(e){return function(t){"Enter"===t.key?p(e):"Escape"===t.key&&(g(e),t.stopPropagation())}},v=function(){s&&l.currentUser.resetProviderEmail(a).catch(function(e){f(e)})};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:s_().row,children:[(0,P.jsx)("span",{className:s_().label,children:"Full Name"}),(0,P.jsx)(n3.Z,{value:c.displayName,labelClassNames:{root:s_().input},onBlur:function(){return p("displayName")},onKeyDown:m("displayName"),onChange:function(e){return A({displayName:e.currentTarget.value})}})]}),(0,P.jsxs)("div",{className:(0,nm.Z)(s_().row,s_().rowWithSpacing),children:[(0,P.jsx)("span",{className:s_().label,children:"Email"}),s?(0,P.jsxs)("div",{className:s_().providerEmail,children:[(0,P.jsx)("span",{className:s_().readonlyValue,children:c.email}),(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.REVERSED,size:nX.ZP.Sizes.TINY,onClick:v,title:"Authenticate with a different ".concat(sy[a]," account."),className:s_().changeButton,children:"Change"})]}):(0,P.jsx)(n3.Z,{type:"email",value:c.email,labelClassNames:{root:s_().input},onKeyDown:m("email"),onChange:function(e){return A({email:e.currentTarget.value})}})]}),c.email!==(null==r?void 0:r.email)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:s_().row,children:[(0,P.jsx)("span",{className:s_().label,children:"Confirm Password"}),(0,P.jsx)(n3.Z,{type:"password",value:c.confirmPassword,labelClassNames:{root:s_().input},onChange:function(e){return A({confirmPassword:e.currentTarget.value})}})]}),(0,P.jsx)(n0.Z,{className:s_().buttonGroup,children:(0,P.jsx)(nX.ZP,{onClick:function(){return p("email")},children:"Update E-mail"})})]}),!!h&&(0,P.jsxs)(ad.U,{children:[(0,P.jsx)("span",{className:ng().error,children:(0,P.jsx)("b",{children:h.message})}),(0,P.jsx)("br",{}),"You must log in again to ensure your eraser account has a valid e-mail associated with it.",(0,P.jsx)(nX.ZP,{variant:nX.ZP.Variants.REVERSED,size:nX.ZP.Sizes.TINY,onClick:v,title:"Re-auth with your ".concat(sy[a]," account, or try again with a valid account that is not already in use."),children:(0,P.jsx)("b",{children:"Sign In"})})]})]})},sC=n(37164),sB=n(64044),sx=n(54848),sI=n(65424),sT=n(49050),sS=n.n(sT),sk=function(e){var t=e.onFileChange,n=e.accept,r=e.children,i=e.disabled,o=void 0!==i&&i,a=e.title,s=(0,j.useRef)(null),l=(0,P.jsxs)("label",{className:(0,nm.Z)(sS().uploadButton,o&&sS().disabled),children:[(0,P.jsx)("input",{type:"file",ref:s,accept:void 0===n?"image/jpg, image/png, image/gif, image/webp, image/svg+xml, image/jpeg, image/x-icon, .ico":n,onChange:function(e){e.target.files&&e.target.files.length>0&&t(e.target.files[0])},disabled:o}),void 0===r?"Upload Photo":r]});return a?(0,P.jsx)(r2.Z,{text:a,contentClassName:(0,nm.Z)(sS().tooltipWrapper,o&&sS().disabledWrapper),children:l}):l},sN=n(65227),sD=n.n(sN),sO=function(){var e,t=(0,t$.aF)(),n=(0,ic.Z)(),r=(0,t3.LP)(),i=(0,tJ.Pe)(),o=(0,tY.ZP)(null==t?void 0:t.id,!0),a=(e=(0,F.Z)(function(e){var o,a,s,l,u;return(0,U.__generator)(this,function(c){switch(c.label){case 0:if(!t||!r)return[2];if(o=(0,sC.x0)(),a=(0,sC.x0)(),e.size/1048576>3)return n.error("File exceeds maximum size of 3MB",{id:o}),[2];s=new sB.Z({maxSizeMB:3,compress:!0,userId:t.id}),c.label=1;case 1:return c.trys.push([1,4,,5]),n.loading("Updating profile image ...",{id:o}),[4,s.upload(e,{fileName:"profilePicture_".concat(a)})];case 2:return l=c.sent().url,u=(0,sI.V)(l),[4,i.currentUser.updateCurrentUser({photoURL:u})];case 3:return c.sent(),n.success("Updated profile image successfully",{id:o}),[3,5];case 4:return c.sent(),n.error("Something went wrong",{id:o}),[3,5];case 5:return[2]}})}),function(t){return e.apply(this,arguments)});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(sx.Z,(0,L.Z)({size:208,className:sD().avatar},o)),(0,P.jsx)(sk,{onFileChange:a,children:"Upload Photo"})]})},sR=n(79170),sF=n(46485),sL=n(2128),sU=n.n(sL),sP=n(91852),sM=n.n(sP),sj=function(){var e,t=(0,ic.Z)(),n=(0,t$.Fl)(),r=(0,tJ.Pe)(),i=null!=(e=null==n?void 0:n.isGettingStartedEnabled)&&e;return(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:(0,nm.Z)(sM().gettingStartedRow),children:(0,P.jsx)(sR.Z,{onChange:function(){var e=!i;t.promise(r.currentUser.updateCurrentUser({userSettings:{isGettingStartedEnabled:e}}),{loading:"Updating setting",error:"Something went wrong",success:"Getting Started ".concat(e?"shown on":"hidden from"," dashboard")})},checked:i,label:"Get Started",labelSide:"left"})}),(0,P.jsx)("span",{className:sM().gettingStartedDescription,children:"Show or hide the Get started checklist on your personal dashboard"})]})},sZ=function(){var e=(0,t$.II)(),t=(0,ic.Z)(),n=(0,t3.Rs)(),r=(0,no.Z)(),i=r.isOpen,o=r.onOpen,a=r.onClose,s=!!n&&(0,at.NV)(n)&&(null==n?void 0:n.ownerId)===e;return(0,P.jsxs)("div",{className:sU().root,children:[(0,P.jsxs)("div",{className:sU().formSide,children:[(0,P.jsx)(sE,{}),(0,P.jsx)("div",{className:sM().passwordForm,children:(0,P.jsx)(sg,{})}),(0,P.jsx)("hr",{className:sM().separator}),(0,P.jsx)(sj,{}),(0,P.jsxs)("div",{className:sM().dangerZone,children:[(0,P.jsx)("span",{className:(0,nm.Z)(ng().standard,"c-redp"),children:"Danger Zone"}),(0,P.jsx)("p",{className:(0,nm.Z)(ng().medium,"c-redp"),children:s?"To delete your account, cancel your subscription first.":"Proceed with caution, once completed, these actions cannot be undone."}),(0,P.jsx)("div",{children:(0,P.jsx)(nX.ZP,{onClick:s?function(){return null}:o,disabled:s,variant:nX.ZP.Variants.TRANSPARENT,children:"Delete Account"})}),(0,P.jsx)(sF.Z,{isDeletion:!0,isOpen:i,onClose:a,onCancel:a,title:"Delete account?",onConfirm:function(){e&&(rT.Z.delete("user/".concat(e)).catch(function(e){(0,rI.Tb)(e),t.error("Something went wrong")}),window.location.href=tM.CF.homepageURL)},description:"By selecting confirm you will delete your account and any teams you own. This cannot be undone."})]})]}),(0,P.jsx)("div",{className:sU().logoSide,children:(0,P.jsx)(sO,{})})]})},sQ=n(61579);function sH(){return(sH=(0,F.Z)(function(e,t){return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,rT.Z.put("teams/".concat(e),t)];case 1:return n.sent(),[2]}})})).apply(this,arguments)}var sV=function(e,t){return sH.apply(this,arguments)},sK=n(53017),sz=n.n(sK),sG=function(e){var t=e.team,n=(0,ic.Z)(),r=(0,j.useState)(t.isAutoJoinEnabled),i=r[0],o=r[1];(0,j.useEffect)(function(){o(t.isAutoJoinEnabled)},[t.isAutoJoinEnabled]);var a=(0,iA.Z)((0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:return[4,n.promise(sV(t.id,{isAutoJoinEnabled:!i}),{success:"Updated team",loading:"Updating team",error:"Something went wrong"})];case 1:return e.sent(),[2]}})}));return t.domain?(0,P.jsxs)("div",{className:sz().settingRow,children:[(0,P.jsx)("div",{className:sz().settingTitleContainer,children:(0,P.jsx)(sR.Z,{label:"Allowed Email Domain",labelSide:"left",checked:i,disabled:a.loading,onChange:function(){return a.execute()}})}),(0,P.jsxs)("span",{className:sz().description,children:["Allow ",(0,P.jsxs)("span",{className:sz().domain,children:["@",t.domain]})," emails to automatically join this team."]})]}):null},sW=function(e){var t=e.team,n=(0,ic.Z)(),r=(0,j.useState)(t.isJitEnabled),i=r[0],o=r[1];(0,j.useEffect)(function(){o(t.isJitEnabled)},[t.isJitEnabled]);var a=(0,iA.Z)((0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:return[4,n.promise(sV(t.id,{isJitEnabled:!i}),{success:"Updated team",loading:"Updating team",error:"Something went wrong"})];case 1:return e.sent(),[2]}})}));return(0,P.jsxs)("div",{className:sz().settingRow,children:[(0,P.jsx)("div",{className:sz().settingTitleContainer,children:(0,P.jsx)(sR.Z,{label:"Just-in-time provisioning",labelSide:"left",checked:i,disabled:a.loading,onChange:function(){return a.execute()}})}),(0,P.jsx)("span",{className:sz().description,children:"Users added in your IdP will auto-join this team on sign up."})]})},sq=function(e){var t=e.isAdmin,n=e.shareController,r=(0,tJ.Pe)(),i=(0,t$.II)(),o=(0,ao.Z)(),a=(0,j.useCallback)(function(){o(n.inviteLink),i&&r.currentUser.markActivation(nZ.c.InviteTeamMember),tX.Z.trackEvent("team_share_dialog","copy_link_click")},[i,n.inviteLink]);return(0,P.jsxs)("div",{className:sz().settingRow,children:[(0,P.jsx)("div",{className:sz().settingTitleContainer,children:t?(0,P.jsx)(sR.Z,{label:"Invite Link",labelSide:"left",onChange:function(){t&&(n.isEnabled?n.onTurnOff():n.onTurnOn())},checked:n.isEnabled,disabled:!t||n.isCreating||n.isDeleting}):(0,P.jsx)("span",{className:sz().settingTitle,children:"Invite Link"})}),n.isCreating&&(0,P.jsx)("span",{className:sz().linkLoading,children:"Loading ..."}),n.inviteLink&&(0,P.jsxs)("div",{className:sz().inviteLinkContainer,children:[(0,P.jsx)("span",{className:sz().link,children:n.inviteLink}),(0,P.jsx)(nX.ZP,{className:sz().copyButton,variant:nX.ZP.Variants.REVERSED,onClick:a,children:"Copy link"})]})]})},s$=function(e){var t=e.team,n=(0,t$.aF)(),r=(0,ar.Z)(t.id,void 0,{internalOnly:!0}),i=(0,sQ._)(t.id),o=(0,at.GX)(r,null==n?void 0:n.id,at.H0);return o||i.inviteLink?(0,P.jsxs)("div",{className:sz().root,children:[(0,P.jsx)("h4",{className:sz().title,children:"Settings"}),(0,P.jsxs)("div",{className:sz().settingRows,children:[!!(o&&(null==n?void 0:n.emailVerified))&&(t.ssoDomain?(0,P.jsx)(sW,{team:t}):(0,P.jsx)(sG,{team:t})),(0,P.jsx)(sq,{shareController:i,team:t,isAdmin:o})]})]}):null},sY=function(e){var t=(0,tJ.Pe)(),n=(0,j.useState)(),r=n[0],i=n[1];return(0,j.useEffect)(function(){if(i(void 0),e)return t.invites.subscribeTeamInvites(e,i)},[e]),r},sJ=n(84054),sX=n(95550),s0=n(46572),s1=n(25248),s2=n(41289),s4=n(68689),s3=n(52362),s5=n(20097),s6=n(27401),s8=n.n(s6),s9=function(e){var t=e.combinedMembers,n=void 0===t?[]:t,r=e.onInvite,i=e.isLoading,o=(0,na.Z)(e,["combinedMembers","onInvite","isLoading"]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:s8().inviteInputContainer,children:(0,P.jsx)(s1.b,{onInvite:r,placeholder:"Invite via email address"})}),(0,P.jsx)("div",{className:s8().membersListContainer,children:(0,P.jsx)("div",{className:(0,nm.Z)(s8().userList,"column gapMedium"),children:i?null:(null!=n?n:[]).map(function(e,t){var n;return e.role===s5.i.Guest?null:(0,P.jsx)(s7,(0,L.Z)({},e,o),"".concat(null!=(n=e.email)?n:e.userId,"-").concat(t))})})})]})},s7=function(e){var t=e.userId,n=e.email,r=e.displayName,i=e.profile,o=e.isCurrentUser,a=e.role,s=e.currentTeamOrganization,l=(0,ic.Z)(),u=(0,tJ.Pe)(),c=t&&(null==s?void 0:s.admins)&&s.admins.some(function(e){return e.userId===t})?"Organization Admin":String(null!=a?a:"pending"),A=(0,rk.Y)().closeSettingsModal;return(0,P.jsxs)("div",{className:(0,nm.Z)(s8().userRow,"rowCentered"),"data-testid":"user-row-".concat(n),children:[(0,P.jsx)(iC.a,{userId:t,email:null!=n?n:void 0,displayName:null!=r?r:void 0,profile:null!=i?i:void 0,displayNameSuffix:o?" (You)":void 0}),(0,P.jsx)("div",{children:(0,P.jsx)(s3.n,{unopenedText:c.charAt(0).toUpperCase()+c.slice(1),dropdownOptions:function(e){var t=e.role,n=e.isCurrentUser,r=e.currentUserRole,i=e.teamInviteId,o=e.userId,a=e.isCurrentUserSoleAdmin,s=e.currentTeamId,l=e.toast,u=e.dataLayer,c=e.closeSettingsModal,A=null!=t?t:"pending";if(!r||!s||r===s5.i.Guest)return[];if(r===s5.i.Member){if(n&&o)return[{label:"Leave team",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s4.Z)({teamId:s,memberId:o})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to leave team"),[3,3];case 3:return[2]}})})}];else if("guest"===A&&o)return[{label:"Add to team as member",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s2.M)({teamId:s,userId:o,role:s5.i.Member,updateRoleIfExists:!0})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to update user role"),[3,3];case 3:return[2]}})})}];else if("pending"===A&&i)return[{label:"Cancel Invitation",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,ak.Z)(300)];case 1:return t.sent(),[4,u.invites.deleteById(i)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to cancel invitation"),[3,4];case 4:return[2]}})})}]}else if(r===s5.i.Admin){if(n&&o){if(!a)return[{label:"Downgrade self to member",asyncOnClick:(0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,s2.M)({teamId:s,userId:o,role:s5.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})},{label:"Leave team",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s4.Z)({teamId:s,memberId:o}).then(function(){return c()})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to remove from team"),[3,3];case 3:return[2]}})})}]}else if("member"===A&&o)return[{label:"Change role to admin",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s2.M)({teamId:s,userId:o,role:s5.i.Admin,updateRoleIfExists:!0})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to update user role"),[3,3];case 3:return[2]}})})},{label:"Remove from team",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s4.Z)({teamId:s,memberId:o})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to remove from team"),[3,3];case 3:return[2]}})})}];else if("admin"===A&&o)return[{label:"Change role to member",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s2.M)({teamId:s,userId:o,role:s5.i.Member,updateRoleIfExists:!0})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to update user role"),[3,3];case 3:return[2]}})})},{label:"Remove from team",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s4.Z)({teamId:s,memberId:o})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to remove from team"),[3,3];case 3:return[2]}})})}];else if("guest"===A&&o)return[{label:"Add to team as member",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s2.M)({teamId:s,userId:o,role:s5.i.Member,updateRoleIfExists:!0})];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to update user role"),[3,3];case 3:return[2]}})})}];else if("pending"===A&&i)return[{label:"Cancel Invitation",asyncOnClick:(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,ak.Z)(300)];case 1:return t.sent(),[4,u.invites.deleteById(i)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),l.error((null==e?void 0:e.message)||"Failed to cancel invitation"),[3,4];case 4:return[2]}})})}]}return[]}((0,tG.Z)((0,L.Z)({},e),{toast:l,dataLayer:u,closeSettingsModal:A}))})})]})};function le(e){var t,n=(e.email?"a":"b")+((null==(t=e.profile)?void 0:t.photoURL)?"a":"b");if(e.isCurrentUser)return"1";if(e.isDeletedUser)return"7";if(e.role===s5.i.Admin)return"2"+n;if(e.role===s5.i.Member)return"3"+n;if(e.role===s5.i.Guest)return"4"+n;else if(!e.role)return"5"+n+(e.displayName?"a":"b");else return"8"}var lt=function(){var e,t,n,r,i,o,a,s=(0,tJ.Pe)(),l=(0,t3.LP)(),u=(0,t$.II)(),c=(0,t3.DJ)().currentTeamOrganization,A=(0,ar.l)(l,void 0,{internalOnly:!1}),d=(0,j.useMemo)(function(){return null!=(a=null==A?void 0:A.map(function(e){return e.userId}))?a:[]},[A]),h=(0,tY.Kb)(d),f=(0,tY.BV)(d),p=sY(l),g=function(e){var t=e.allMembersByRole,n=e.membersWithKnownInfo,r=e.membersWithProfiles,i=e.invitedUsers,o=e.currentUserId,a=[],s=Array.from(new Set([null!=(A=null==t?void 0:t.map(function(e){return e.userId}))?A:[],null!=(d=null==n?void 0:n.map(function(e){return e.memberId}))?d:[],null!=(h=null==r?void 0:r.map(function(e){return e.id}))?h:[]].flat())),l=!0,u=!1,c=void 0;try{for(var A,d,h,f,p=s[Symbol.iterator]();!(l=(f=p.next()).done);l=!0)!function(){var e,i,s,l=f.value,u=null==n?void 0:n.find(function(e){return e.memberId===l}),c=null==r?void 0:r.find(function(e){return e.id===l}),A=null==t?void 0:t.find(function(e){return e.userId===l}),d=!(null!=(e=null==u?void 0:u.displayName)?e:null==c?void 0:c.displayName);a.push({userId:l,email:null==u?void 0:u.email,role:null==A?void 0:A.role,displayName:null!=(s=null!=(i=null==u?void 0:u.displayName)?i:null==c?void 0:c.displayName)?s:"Deleted User",knownPerson:u,isDeletedUser:d,profile:c,isCurrentUser:!!o&&l===o})}()}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}var g=!0,m=!1,v=void 0;try{for(var y,b=(null!=i?i:[])[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=y.value;a.push({userId:null,email:w.inviteeEmail,role:null,displayName:null,knownPerson:void 0,isDeletedUser:!1,profile:void 0,isCurrentUser:!1,teamInviteId:w.id})}}catch(e){m=!0,v=e}finally{try{g||null==b.return||b.return()}finally{if(m)throw v}}return a.sort(function(e,t){var n=le(e),r=le(t);if(n<r)return -1;if(n>r)return 1;if(e.displayName<t.displayName)return -1;if(e.displayName>t.displayName)return 1;if(e.email<t.email)return -1;if(e.email>t.email)return 1;else if(e.userId<t.userId)return -1;else if(e.userId>t.userId)return 1;return 0}),a}({allMembersByRole:A,membersWithKnownInfo:h,membersWithProfiles:f,invitedUsers:p,currentUserId:u}),m=null==(o=null==A?void 0:A.find(function(e){return e.userId===u}))?void 0:o.role,v=(e=m,t=A,!!e&&!!t&&e===s0.i.Admin&&(null!=(r=null==(n=null==t?void 0:t.filter(function(e){return e.role===s0.i.Admin}))?void 0:n.length)?r:0)<=1),y=(0,j.useCallback)((i=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(!u||!l)return[2];return[4,(0,sJ.Z)({type:sX.PA.Email,inviteeEmail:e,inviteTo:sX.FU.Team,teamId:l},"team_members_modal")];case 1:return t.sent(),s.currentUser.markActivation(nZ.c.InviteTeamMember),[2]}})}),function(e){return i.apply(this,arguments)}),[u,l]),b=!l||!u||!A||!h||!f||!p;return(0,P.jsx)(s9,{combinedMembers:g,onInvite:y,currentUserRole:m,isCurrentUserSoleAdmin:v,currentTeamId:l,isLoading:b,currentTeamOrganization:c})},ln=function(e){var t=e.planType,n=void 0===t?t5.k9.Free:t,r=e.teamMembersLength,i=e.fixedSeatCount,o=void 0===i?null:i,a=(0,rk.Y)().setOpenedPane,s=function(){a("plans"),tX.Z.trackEvent("payment","open_billing_pane",{source:"teamMembersPane"})};return o?(0,P.jsx)(aI.Z,{variant:r>o?aI.Z.Variants.Error:aI.Z.Variants.Primary,children:(0,P.jsxs)("p",{className:(0,nm.Z)(ng().medium,"marginBottomNone"),children:["You are on the ",oR.ZP[null!=n?n:t5.k9.Free].label.toLowerCase()," plan with"," ",o," seats. You have\xa0",(0,P.jsx)("strong",{children:r})," current team member",r>1?"s":"",".",(0,P.jsx)(aS.h,{onClick:s,className:"marginLeftSmall",children:"Manage plan"})]})}):(0,P.jsx)(aI.Z,{variant:aI.Z.Variants.Transparent,children:(0,P.jsxs)("p",{className:(0,nm.Z)(ng().medium,"marginBottomNone"),children:["Your team has ",r," member".concat(r>1?"s":""," on the ").concat(oR.ZP[n].label.toLowerCase()," plan. "),(0,P.jsx)(aS.h,{onClick:s,children:"Manage plan"})]})})},lr=function(){var e,t,n,r=(0,t3.Rs)(),i=(0,ar.Z)(null==r?void 0:r.id,void 0,{internalOnly:!0});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:s8().container,children:(0,P.jsxs)("div",{className:s8().centered,children:[(0,P.jsx)("div",{className:s8().preamble,children:"Eraser is made for team collaboration. All team members see the same folders and files on their dashboard. Guests only have access to specific files."}),(0,P.jsxs)("div",{className:s8().body,children:[(0,P.jsx)("div",{className:s8().leftHalf,children:(0,P.jsx)(lt,{})}),(0,P.jsx)("div",{className:s8().rightHalf,children:r&&(0,P.jsx)(s$,{team:r})})]})]})}),(0,P.jsx)(aO,{children:(0,P.jsx)(ln,{planType:null==r||null==(e=r.plan)?void 0:e.planType,fixedSeatCount:null==r||null==(t=r.plan)?void 0:t.fixedSeatCount,teamMembersLength:null!=(n=null==i?void 0:i.length)?n:0})})]})},li=n(42838),lo=function(e){return rT.Z.put("teams/".concat(e.teamId),{config:e.config})},la=n(53030),ls=n(70569),ll=(0,tG.Z)((0,L.Z)({},la.vQ),{popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,10]}}]}),lu=function(e){var t=e.selected,n=e.isDisabled,r=e.buttonClassname,i=e.ssoEnabled,o=e.onChange,a=(0,ls.r)({ssoEnabled:void 0!==i&&i,selectedSetting:t});return(0,P.jsx)(n1.Lt,(0,tG.Z)((0,L.Z)({isMountedInPopper:!0,onSelect:o,selected:t,isDisabled:n,hint:n?{label:"Upgrade your team plan to change this setting"}:void 0,toggleClassNames:{root:r}},ll),{children:a}))},lc=n(59711),lA=n(37972),ld=n(39094),lh=n.n(ld),lf=function(e){var t,n,r,i,o,a=e.variant,s=(0,t3.Rs)(),l=(0,t$.II)(),u=(0,ar.Z)(null==s?void 0:s.id,void 0,{internalOnly:!0}),c=(0,ic.Z)(),A=(0,at.GX)(u,l,at.H0),d="icon"===a?{entity:"company icon",button:"Upload Icon",placeholder:"Upload icon",helper:"Used across the app. Square images work best. 512\xd7512px."}:{entity:"company logo",button:"Upload Logo",placeholder:"Upload custom logo",helper:"Watermark on PNG/PDF exports. Rectangular images work best."},h=(0,j.useState)("icon"===a?null==s||null==(n=s.config)?void 0:n.iconUrl:null==s||null==(r=s.config)?void 0:r.logoUrl),f=h[0],p=h[1];(0,j.useEffect)(function(){var e,t;p("icon"===a?null==s||null==(e=s.config)?void 0:e.iconUrl:null==s||null==(t=s.config)?void 0:t.logoUrl)},[null==s||null==(i=s.config)?void 0:i.iconUrl,null==s||null==(o=s.config)?void 0:o.logoUrl,a]);var g=(t=(0,F.Z)(function(e){var t,n,r,i,o,l,u,A,h,f,g;return(0,U.__generator)(this,function(m){switch(m.label){case 0:if(!s)return[2];if(t=(0,sC.x0)(),n=(0,sC.x0)(),e.size/1048576>3)return c.error("File exceeds maximum size of 3MB",{id:t}),[2];r=new sB.Z((0,tG.Z)((0,L.Z)({maxSizeMB:3,compress:!0},"icon"===a?{maxWidthOrHeight:512}:{}),{teamId:s.id,userId:s.id})),m.label=1;case 1:if(m.trys.push([1,8,,9]),"icon"!==a||"image/svg+xml"===e.type)return[3,5];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,new Promise(function(t,n){var r=URL.createObjectURL(e),i=new Image;i.onload=function(){t({width:i.width,height:i.height}),URL.revokeObjectURL(r)},i.onerror=function(e){URL.revokeObjectURL(r),n(e)},i.src=r})];case 3:if(o=(i=m.sent()).width,l=i.height,o>512||l>512)return c.error("Icon must be  ".concat(512,"px"),{id:t}),[2];return[3,5];case 4:return u=m.sent(),(0,rI.Tb)(u),c.error("Could not read image dimensions. Try a different file.",{id:t}),[2];case 5:return c.loading("Uploading ".concat(d.entity,"..."),{id:t}),[4,r.upload(e,{fileName:"".concat(a,"_").concat(n)})];case 6:return A=m.sent().url,h=(0,sI.V)(A),f="icon"===a?{iconUrl:h}:{logoUrl:h},[4,lo({teamId:s.id,config:f})];case 7:return m.sent(),p(h),c.success("Successfully updated ".concat(d.entity),{id:t}),[3,9];case 8:return g=m.sent(),(0,rI.Tb)(g),c.error("Failed to upload ".concat(d.entity),{id:t}),[3,9];case 9:return[2]}})}),function(e){return t.apply(this,arguments)});return(0,P.jsxs)("div",{className:lh().container,children:[(0,P.jsx)("div",{className:"".concat(lh().preview," ").concat("icon"===a?lh().iconPreview:lh().logoPreview," ").concat(f?lh().hasImage:""),children:f?(0,P.jsx)("img",{src:f,alt:d.entity,className:"icon"===a?lh().iconImage:lh().logoImage}):(0,P.jsx)("div",{className:lh().placeholder,children:(0,P.jsx)("span",{children:d.placeholder})})}),(0,P.jsx)(sk,{onFileChange:g,disabled:!A,title:A?void 0:"Team admins can edit",children:d.button}),(0,P.jsx)("span",{className:lh().helperText,children:d.helper})]})},lp=n(71505),lg=n(88218),lm=n(61929),lv=n(76897),ly=n.n(lv),lb=function(e){var t,n,r,i,o,a=e.currentTeam,s=e.isAdmin,l=(0,ic.Z)(),u=null==a?void 0:a.id,c=(0,lp.Z)(t5.AC.SSO,u),A=c&&s,d=(0,j.useRef)(null!=(i=null==a||null==(t=a.config)?void 0:t.allowedInviteDomains)?i:[]),h=(0,iA.f)(lo),f=(0,j.useCallback)(function(){if(u&&A){var e=d.current;l.promise(h.execute({teamId:u,config:{allowedInviteDomains:e}}),{success:e.length>0?"Updated allowed invite domains":"Removed invite domain restrictions",loading:"Updating allowed invite domains",error:function(e){return(0,rI.Tb)(e),"Something went wrong"}})}},[u,A,h.execute]),p=(0,j.useCallback)(function(e){(0,lg.IW)(e)?(d.current=d.current.concat([{domain:e}]),f()):l.error("Invalid email domain")},[f]),g=(0,j.useCallback)(function(e,t){d.current=d.current.filter(function(e,n){return n!==t}),f()},[f]);return(0,P.jsx)(n2.A,{label:(0,P.jsxs)("span",{children:["Allowed Invite Domains",!c&&(0,P.jsx)(ol.y6,{className:ly().teamRowBadge})]}),explanation:"List of domains that are allowed to receive email invitations. Leave empty to allow all domains.",children:(0,P.jsx)(lm.f,{pills:null!=(o=null==a||null==(n=a.config)||null==(r=n.allowedInviteDomains)?void 0:r.map(function(e){return e.domain}))?o:[],onPillAdd:p,onPillRemove:g,placeholder:"e.g. company.com, partner.org",addButtonText:"Add",isDisabled:!A,isLoading:h.loading,label:""})})},lw=function(){var e,t,n,r,i,o,a=(0,ic.Z)(),s=(0,t$.II)(),l=(0,t3.Zj)(),u=(0,t3.Rs)(),c=(0,t3.DJ)().updateTeam,A=(0,rk.Y)().closeSettingsModal,d=(0,j.useRef)(null),h=(0,j.useRef)(!1),f=(0,no.Z)(),p=f.isOpen,g=f.onClose,m=f.onOpen,v=(0,iA.Z)(lo),y=(0,j.useState)(null!=(r=null==u?void 0:u.name)?r:""),b=y[0],w=y[1],_=(0,ar.Z)(null==u?void 0:u.id,void 0,{internalOnly:!0}),E=(0,j.useCallback)(function(){var e;w(null!=(e=null==u?void 0:u.name)?e:"")},[u]);(0,j.useEffect)(function(){u&&w(u.name)},[u,null==u?void 0:u.name]);var C=null==u||null==(t=u.plan)?void 0:t.planType,B=C&&C!==t5.k9.Free,x=!!u&&(0,at.NV)(u),I=(0,at.GX)(_,s,at.H0),T=null!=(i=null==_?void 0:_.filter(function(e){return e.userId!==s}))?i:[],S=function(){if(c&&u){if(h.current){h.current=!1;return}b!==u.name&&a.promise(c(u.id,{name:b}),{success:"Updated team name",loading:"Updating team name",error:function(e){return(E(),(0,rI.Tb)(e),(0,li.Z)(e,nt.cf))?e.message:"Something went wrong"}})}},k=(e=(0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:var t;if(!u||x)return[2];return[4,a.promise((t=u.id,rT.Z.delete("teams/".concat(t))).then(function(){null==l||l(),A()}),{loading:"Deleting team",success:"Deleted team",error:function(e){return(0,rI.Tb)(e),"Something went wrong"}})];case 1:return e.sent(),null==l||l(),[2]}})}),function(){return e.apply(this,arguments)}),N=(0,j.useCallback)(function(e){u&&B&&a.promise(v.execute({teamId:u.id,config:{defaultWorkspaceAccess:e}}),{success:"Updated default file link settings",loading:"Updating default file link settings",error:function(e){return(0,rI.Tb)(e),"Something went wrong"}})},[v,u,B]);return(0,P.jsxs)("div",{className:sU().root,children:[(0,P.jsxs)("div",{className:sU().formSide,children:[(0,P.jsx)("h3",{className:ly().subHeader,children:"Basic information"}),(0,P.jsx)(n3.Z,{label:"Team Name",explanation:"Can be changed at any time.",ref:d,value:b,disabled:!I,readOnly:!I,onKeyDown:function(e){if("Enter"===e.key)S();else if("Escape"===e.key){var t;e.stopPropagation(),h.current=!0,null==(t=d.current)||t.blur(),E()}},onBlur:function(){return S()},className:(0,nm.Z)(ly().teamRowInput,ng().standard),placeholder:"Enter team name ...",onChange:function(e){return w(e.currentTarget.value)}}),(0,P.jsx)(n2.A,{label:(0,P.jsxs)("span",{children:["Default File Link Access",!B&&(0,P.jsx)(ol.y6,{className:ly().teamRowBadge})]}),explanation:"Applied to all new team files",children:(0,P.jsx)(lu,{selected:null!=(o=null==u||null==(n=u.config)?void 0:n.defaultWorkspaceAccess)?o:lc.bR.WRITE,isDisabled:v.loading||!B,buttonClassname:ly().teamRowDropdown,ssoEnabled:!!(null==u?void 0:u.ssoDomain),onChange:N})}),null!=u&&(0,P.jsx)(lb,{currentTeam:u,isAdmin:I}),(0,P.jsx)(lA.L,{}),I&&!T.length&&(0,P.jsxs)("div",{className:ly().dangerZone,children:[(0,P.jsx)("span",{className:ly().dangerTitle,children:"Danger Zone"}),(0,P.jsx)("p",{className:ly().dangerMessage,children:"Proceed with caution, once completed, these actions cannot be undone."}),(0,P.jsxs)("div",{children:[(0,P.jsx)(nX.ZP,{onClick:m,disabled:x,variant:nX.ZP.Variants.TRANSPARENT,children:"Delete Team"}),x&&(0,P.jsx)("span",{className:ly().deletionWarning,children:"The team has a paid subscription and cannot be deleted."})]}),(0,P.jsx)(aa.Z,{isDeletion:!0,isOpen:p,onClose:g,onCancel:g,title:"Delete team?",onConfirm:k,description:"By selecting confirm you will delete all files that belong to this team. This cannot be undone."})]})]}),(0,P.jsxs)("div",{className:sU().logoSide,children:[(0,P.jsxs)("div",{className:ly().logoSection,children:[(0,P.jsx)("span",{className:ly().logoSectionTitle,children:"Team Icon"}),(0,P.jsx)(lf,{variant:"icon"})]}),(0,P.jsxs)("div",{className:ly().logoSection,children:[(0,P.jsx)("span",{className:ly().logoSectionTitle,children:"Team Logo"}),(0,P.jsx)(lf,{variant:"logo"})]})]})]})},l_=n(19013),lE=n.n(l_),lC=function(){return(0,P.jsxs)("div",{className:(0,nm.Z)(lE().wrapper,lE().spinnerContainer),children:[(0,P.jsx)(aA.Z,{fancy:!0,className:(0,nm.Z)(lE().spinner,"marginRightSmall")})," ","Loading icons..."]})},lB=function(){var e,t=(0,ic.Z)(),n=(0,tJ.Pe)(),r=(0,j.useRef)(null),i=(0,j.useRef)({loaded:0,total:0}),o=function(e){r.current?(i.current.loaded+=1,null==t||t.loading("Uploaded ".concat(i.current.loaded,"/").concat(i.current.total," icons"),r.current?{id:r.current}:{})):null==t||t.success("Icon ".concat(e," uploaded successfully"))},a=function(e,n){null==t||t.error("Error uploading icon ".concat(e))};return e=(0,F.Z)(function(e,s){var l,u,c,A,d,h,f;return(0,U.__generator)(this,function(p){switch(p.label){case 0:if(1===e.length)return[2,n.customIcons.uploadCustomIcon({file:e[0],teamId:s,onSuccess:o,onError:a})];l=[],i.current={loaded:0,total:e.length},r.current=null==t?void 0:t.loading("Preparing icons"),u=!0,c=!1,A=void 0;try{for(d=Array.from(e)[Symbol.iterator]();!(u=(h=d.next()).done);u=!0)f=h.value,l.push(n.customIcons.uploadCustomIcon({file:f,teamId:s,onSuccess:o,onError:a}))}catch(e){c=!0,A=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw A}}return[4,Promise.allSettled(l)];case 1:return p.sent(),null==t||t.success("".concat(i.current.loaded,"/").concat(i.current.total," icons uploaded successfully"),r.current?{id:r.current}:{}),r.current=null,[2]}})}),function(t,n){return e.apply(this,arguments)}},lx=function(e){return e.trim().replace(/.svg$/,"").slice(0,50).toLowerCase().replace(/[^\w]+/gi,"-")},lI=n(97848),lT=n(8350),lS=n.n(lT),lk=n(62202),lN=function(e){var t=e.label,n=e.hideIcon,r=e.buttonVariant,i=e.isDisabled,o=e.className,a=e.onSelectFiles,s=e.allowedFiles,l=e.fileLimit,u=e.fileLimitError,c=(0,j.useRef)(null);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(nX.ZP,{className:(0,nm.Z)(lS().uploadBtn,o),variant:nX.ZP.Variants[void 0===r?"REGULAR":r],onClick:function(){var e;i||null==(e=c.current)||e.click()},disabled:i,children:[!n&&(0,P.jsx)(r1.J,{icon:o9.Z,height:12,width:12}),(0,P.jsx)("span",{children:t})]}),(0,P.jsx)("input",{type:"file",ref:c,multiple:!0,accept:null==s?void 0:s.join(","),className:lS().fileInput,onChange:function(e){if(!i&&e.target.files){if(l&&e.target.files.length>l){lk.Am.error(null!=u?u:"You can upload up to ".concat(l," files")),c.current.value="";return}a(e.target.files),c.current.value=""}}})]})},lD=n(5462),lO=n(16294),lR=n(72119),lF=n(31783),lL=n.n(lF),lU=function(e){var t=e.icon,n=e.onUpdateIcon,r=e.onUpdateName,i=e.onDelete,o=(0,ic.Z)(),a=(0,ao.Z)(),s=(0,j.useRef)(null),l=(0,j.useState)(!1),u=l[0],c=l[1],A=(0,j.useState)(t.label||""),d=A[0],h=A[1],f=(0,tY.ZP)(t.createdBy),p=(0,j.useCallback)(function(e){var n=e.currentTarget.value;if(0===n.length)return void h(t.label);if(t.label!==n){var i=lx(n);r(t.id,i,t.label)}},[t.id,t.label,r]),g=(0,j.useCallback)((0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch(t.url)];case 1:return[4,e.sent().text()];case 2:return a(e.sent(),"Icon copied to clipboard"),[3,4];case 3:return console.error("Copy SVG failure",e.sent()),o.error("Failed to copy icon to clipboard"),[3,4];case 4:return[2]}})}),[t.url]),m=(0,j.useCallback)(function(){var e;null==(e=s.current)||e.click()},[]),v=(0,j.useCallback)(function(e){var r=e.target.files;(null==r?void 0:r.length)!==0&&n(t.id,r[0])},[t.id,n]);return(0,j.useEffect)(function(){h(t.label)},[t.label]),(0,P.jsxs)("div",{className:lL().icon,children:[(0,P.jsxs)("div",{className:lL().iconImg,children:[(0,P.jsx)("img",{src:t.url,alt:t.label,className:u?void 0:lL().hidden,onLoad:function(){return c(!0)}}),!u&&(0,P.jsx)(rz.ZP,{width:"64px",height:64,className:lL().iconImgSkeleton})]}),(0,P.jsxs)("div",{className:lL().iconInfo,children:[(0,P.jsx)(n3.Z,{value:d,labelClassNames:{root:lL().iconLabel},className:lL().iconName,size:n3.Z.Sizes.SMALL,onChange:function(e){return h(lx(e.currentTarget.value))},onBlur:p}),(0,P.jsx)("span",{className:lL().iconAuthor,children:f?"Added by ".concat(f.displayName):""}),(0,P.jsx)("input",{type:"file",ref:s,multiple:!1,accept:"image/svg+xml",className:lL().fileInput,onChange:v}),(0,P.jsxs)(n1.Ng,{minWidth:176,hint:{label:"Actions"},toggleClassNames:{button:lL().iconDropdown},children:[(0,P.jsx)(nO.Z,{label:"Replace Icon",icon:(0,P.jsx)(r1.J,{icon:lO.Z}),onClick:m}),(0,P.jsx)(nO.Z,{label:"Copy Icon",icon:(0,P.jsx)(r1.J,{icon:lD.Z}),onClick:g}),(0,P.jsx)(n1.KE,{}),(0,P.jsx)(nO.Z,{label:"Delete",className:lL().deleteOption,icon:(0,P.jsx)(r1.J,{icon:lR.Z,color:"red"}),onClick:function(){return i(t.id)}})]})]})]},t.id)},lP=function(e){var t,n=e.icons,r=e.teamId,i=e.teamPlan,o=e.limit,a=(0,j.useRef)(null),s=(0,j.useState)(""),l=s[0],u=s[1],c=(0,nW.K)(),A=c.handleDelete,d=c.handleUpdateName,h=c.handleUpdateIcon,f=lB(),p=n.filter(function(e){var t=lx(l.toLowerCase());return e.label.toLowerCase().includes(t)}),g=(t=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){switch(t.label){case 0:return[4,f(e,r)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return(0,tV.Z)({"/":function(e){var t;e.preventDefault(),null==(t=a.current)||t.focus()}}),(0,P.jsxs)("div",{className:lE().wrapper,children:[(0,P.jsxs)("div",{className:lE().sidebar,children:[(0,P.jsx)(lN,{label:"Upload SVG Icons",className:lE().browseBtn,onSelectFiles:g,isDisabled:!(null==o?void 0:o.allowed)}),(0,P.jsx)("p",{className:lE().description,children:"Upload custom SVG icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams."}),(0,P.jsxs)("p",{className:lE().notes,children:["Note: Names must be lower case letters, numbers, or hyphens (no spaces). Maximum length"," ",50," characters."]}),o&&(0,P.jsx)(oN.Z,{showLimitName:!1,limit:o.limit,upgradeLinkText:"Upgrade limit",className:lE().limitIndicator,current:o.current,contactUs:!o.allowed,featureName:t5.M$.CustomIcons,shortExplanation:o.allowed,showLink:(null==i?void 0:i.planType)===t5.k9.Pro})]}),(0,P.jsxs)("div",{className:lE().list,children:[(0,P.jsxs)("div",{className:lE().search,children:[(0,P.jsx)("span",{className:lE().searchIcon,children:(0,P.jsx)(r1.J,{icon:lI.Z,color:"grey-1100"})}),(0,P.jsx)(n3.Z,{ref:a,autoFocus:!0,value:l,className:lE().searchInput,placeholder:"Search custom icon",onChange:function(e){return u(e.currentTarget.value)}}),(0,P.jsx)("span",{className:lE().searchHotkey,children:"/"})]}),(0,P.jsx)("div",{className:lE().listContainer,children:0===p.length?(0,P.jsxs)("p",{className:lE().noIcons,children:['No icons found with "',l,'" in the name']}):p.map(function(e){return(0,P.jsx)(lU,{icon:e,onUpdateName:d,onDelete:A,onUpdateIcon:h},e.id)})})]})]})},lM=n(95153),lj=n.n(lM),lZ=function(e){var t,n=e.description,r=e.notes,i=e.allowedFiles,o=e.fileLimit,a=e.fileLimitError,s=e.onUpload,l=(0,j.useState)(!1),u=l[0],c=l[1],A=(t=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){switch(t.label){case 0:return[4,s(e)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return(0,P.jsxs)("div",{className:(0,nm.Z)(lj().dragArea,u&&lj().highlightOutline),onDragOver:function(e){e.preventDefault(),c(!0)},onDragLeave:function(e){e.preventDefault(),c(!1)},onDrop:function(e){e.preventDefault(),A(e.dataTransfer.files).then(function(){c(!1)})},children:[(0,P.jsx)("span",{className:lj().title,children:"Drag & drop to upload or"}),(0,P.jsx)(lN,{label:"Browse Files",className:lj().browseBtn,onSelectFiles:A,allowedFiles:i,fileLimit:o,fileLimitError:a}),(0,P.jsx)("p",{className:lj().description,children:n}),r&&(0,P.jsxs)("p",{className:lj().notes,children:[(0,P.jsx)("b",{children:"Note:"}),"\xa0",r]})]})},lQ=function(e){var t,n=e.teamId,r=lB(),i=(t=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){switch(t.label){case 0:return[4,r(e,n)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return(0,P.jsx)(lZ,{description:"Upload custom icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams.",notes:(0,P.jsxs)("span",{children:["Names must be lower case letters, numbers, or hyphens (no spaces). ",(0,P.jsx)("br",{})," Maximum length\xa0",50," characters."]}),allowedFiles:["image/svg+xml"],onUpload:i})},lH=n(91625),lV=n.n(lH),lK=function(){var e=(0,rk.Y)().openSettingsModal;return(0,P.jsxs)("div",{className:lV().upgradePlanPane,children:[(0,P.jsx)("p",{className:lV().description,children:"Upload custom SVG icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams."}),(0,P.jsxs)("p",{className:lV().description,children:["Custom icons access is only available on"," ",(0,P.jsx)(ac.c2,{onClick:function(){e({openedPane:"plans",paywallFeature:t5.M$.CustomIcons}),tX.Z.trackEvent("payment","open_billing_pane",{source:"customIcons",featureName:t5.M$.CustomIcons})},className:lV().link,children:"paid plans"})]})]})},lz=n(39418),lG=n.n(lz),lW=function(){var e=(0,t$.II)(),t=(0,t3.vn)(),n=(0,t3.LP)(),r=(0,ra.Bv)({featureName:t5.M$.CustomIcons,teamId:n,immediateCallbackWithLimit:!0}),i=(0,nW.K)().icons;if(!e||!n||!r)return null;var o=!r||!r.allowed;return(0,P.jsx)("div",{className:(0,nm.Z)(lG().wrapper,o&&lG().noMargin),children:i?o&&0===i.length?(0,P.jsx)(lK,{}):0===i.length?(0,P.jsx)(lQ,{teamId:n}):(0,P.jsx)(lP,{icons:i,teamId:n,teamPlan:t,limit:r}):(0,P.jsx)(lC,{})})},lq=n(96795),l$=n.n(lq),lY=n(20578),lJ=n(59590),lX=n(18325),l0=n(95164);(a=k||(k={})).Uploading="uploading",a.Rendering="rendering",a.Complete="complete",a.Error="error";var l1=(0,M.cn)({key:"imageToDiagramState",default:{files:[],diagrams:[]}}),l2=(N={},(0,rH.Z)(N,k.Uploading,"Uploading image file ..."),(0,rH.Z)(N,k.Rendering,"Generating diagram. This can take a few minutes, do not leave the page."),(0,rH.Z)(N,k.Complete,"Diagram complete"),(0,rH.Z)(N,k.Error,"Failed to generate diagram"),N),l4=function(e){var t,n,r,i=e.onSuccess,o=(0,n$.Z)((0,M.FV)(l1),2),a=o[0],s=o[1],l=(0,ic.Z)(),u=(0,z.useRouter)(),c=(0,t$.II)(),A=(0,t3.LP)(),d=(0,rt.Z)().request,h=(0,rk.Y)().openSettingsModal,f=u.query.workspaceId,p=(0,j.useRef)(null),g=(0,ra.Bv)({featureName:t5.M$.PremiumCredits,teamId:A,userId:c,immediateCallbackWithLimit:!0}),m=(t=(0,F.Z)(function(e){var t,n,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:if(t=Array.from(e),!(null==g?void 0:g.allowed))return l.error("You have no premium AI credits remaining"),[2];if(!A||!c)return[2];if(n=f,s({files:(0,ny.Z)(t)}),n)return[3,2];return[4,d("image_to_diagram_pane",{})];case 1:n=null==(r=i.sent())?void 0:r.id,i.label=2;case 2:return p.current=l.loading(l2[k.Uploading]),[4,v(A,c,n,t)];case 3:return i.sent(),[2]}})}),function(e){return t.apply(this,arguments)}),v=(n=(0,F.Z)(function(e,t,n,r){var o,a,s;return(0,U.__generator)(this,function(u){switch(u.label){case 0:return a=(o=(0,n$.Z)(l$()(r,function(e){return e.type.startsWith("image/")}),2))[0],(s=o[1]).length>0&&l.error("Invalid image file(s) uploaded: "+s.map(function(e){return e.name}).join(", "),{id:p.current||void 0}),[4,Promise.all((a||[]).map(function(r){return b(r,e,t,n)}))];case 1:return u.sent(),null==i||i(),[2]}})}),function(e,t,r,i){return n.apply(this,arguments)}),y=(0,M._8)(function(e){var t,n=e.snapshot,r=e.set;return t=(0,F.Z)(function(e,t){var i,o,a,s,u,c,A;return(0,U.__generator)(this,function(d){switch(d.label){case 0:return[4,n.getPromise(l1)];case 1:if(!(s=null==(i=(a=d.sent()).diagrams)?void 0:i.map(function(n){return n.requestId===e?(0,tG.Z)((0,L.Z)({},n),{status:t}):n}))||0===s.length||(null==(o=a.files)?void 0:o.length)===0||(u=s.length||0,c=s.filter(function(e){return e.status===k.Complete}),A=s.filter(function(e){return e.status===k.Error}),c.length+A.length!==u))return[2];return c.length===u?l.success(l2[k.Complete],{id:p.current||void 0}):A.length===u?l.error(l2[k.Error],{id:p.current||void 0}):l.loading("Diagrams successfully rendered for some files:"+c.map(function(e){return e.fileName}).join(", "),{id:p.current||void 0}),p.current=null,r(l1,{files:void 0,diagrams:void 0}),[2]}})}),function(e,n){return t.apply(this,arguments)}}),b=(r=(0,F.Z)(function(e,t,n,r){var i,o,a,u,c;return(0,U.__generator)(this,function(A){switch(A.label){case 0:if(!r)return[2,Promise.reject(Error("workspaceId is required"))];if(!e||!e.type.startsWith("image/"))return[2,Promise.reject(Error("Image to diagram requires a valid image file"))];i=(0,sC.x0)(),l.loading(l2[k.Rendering],{id:p.current||void 0}),A.label=1;case 1:var d,f;return A.trys.push([1,3,,4]),[4,lX.I.startStream({streamType:l0.z.Diagram,args:{text:"",user:n,teamId:t,workspaceId:r,attachedFiles:[e],mode:"Premium",diagramElementId:i},context:{userId:n,teamId:t,workspaceId:r},mode:"Premium",streamApiArgs:{allowAlternative:!1,useTargetedEdit:!1},listener:{onProgress:function(t){t.phase===lJ.s1.Error&&(s(function(e){var t;return(0,tG.Z)((0,L.Z)({},e),{diagrams:null==(t=e.diagrams)?void 0:t.map(function(e){return e.requestId===a.id?(0,tG.Z)((0,L.Z)({},e),{status:k.Error}):e})})}),y(a.id,k.Error),l.error("Failed to render diagram: "+e.name),u())},onCompleted:(d=(0,F.Z)(function(t){var n,r;return(0,U.__generator)(this,function(i){return(r=null==(n=t.diagrams)?void 0:n[0])?(lY.Z.emit("add-element",(0,tG.Z)((0,L.Z)({type:"diagram"},r),{x:0,y:0})),s(function(e){var t;return(0,tG.Z)((0,L.Z)({},e),{diagrams:null==(t=e.diagrams)?void 0:t.map(function(e){return e.requestId===a.id?(0,tG.Z)((0,L.Z)({},e),{status:k.Complete}):e})})}),y(a.id,k.Complete),l.success("Diagrams successfully rendered for file: "+e.name)):(console.error("No diagram found in complete state"),s(function(e){var t;return(0,tG.Z)((0,L.Z)({},e),{diagrams:null==(t=e.diagrams)?void 0:t.map(function(e){return e.requestId===a.id?(0,tG.Z)((0,L.Z)({},e),{status:k.Error}):e})})}),y(a.id,k.Error),l.error("Failed to render diagram: "+e.name)),u(),[2]})}),function(e){return d.apply(this,arguments)}),onError:(f=(0,F.Z)(function(t){var n;return(0,U.__generator)(this,function(r){return(console.error("Generation error:",t),(0,li.Z)(t,oW.WH))?(l.dismiss(p.current||void 0),h({openedPane:"plans",paywallFeature:null==(n=t.data)?void 0:n.featureName,paywallError:t})):(s(function(e){var t;return(0,tG.Z)((0,L.Z)({},e),{diagrams:null==(t=e.diagrams)?void 0:t.map(function(e){return e.requestId===a.id?(0,tG.Z)((0,L.Z)({},e),{status:k.Error}):e})})}),y(a.id,k.Error),l.error("Failed to render diagram: "+e.name)),u(),[2]})}),function(e){return f.apply(this,arguments)})}})];case 2:return a=(o=A.sent()).record,u=o.cleanup,c=a.id,s(function(t){return(0,tG.Z)((0,L.Z)({},t),{diagrams:(0,ny.Z)(t.diagrams||[]).concat([{requestId:c,fileName:e.name,status:k.Rendering}])})}),[3,4];case 3:return console.error("Failed to initiate generation:",A.sent()),l.error("Failed to start generation for: "+e.name),[3,4];case 4:return[2]}})}),function(e,t,n,i){return r.apply(this,arguments)});return{diagrams:a.diagrams,handleUpload:m}},l3=n(60411),l5=n.n(l3),l6=function(){var e=(0,t$.II)(),t=(0,t3.LP)(),n=(0,rk.Y)(),r=n.setOpenedPane,i=l4({onSuccess:n.closeSettingsModal}),o=i.diagrams,a=i.handleUpload,s=(0,ra.Q6)(t5.AC.AiImport,t),l=(0,ra.Bv)({featureName:t5.M$.PremiumCredits,teamId:t,userId:e,immediateCallbackWithLimit:!0});if(!e||!t)return null;if(!s)return(0,P.jsxs)("p",{className:l5().subtitle,children:["Image import is not available on your plan. Please"," ",(0,P.jsx)(ac.c2,{onClick:function(){return r("plans")},children:"upgrade"})," to access this feature."]});if(!(null==l?void 0:l.allowed))return(0,P.jsxs)("p",{className:l5().subtitle,children:["You have used all of your premium credits, please"," ",(0,P.jsx)(ac.c2,{onClick:function(){return r("plans",t5.M$.PremiumCredits)},children:"upgrade your plan or enable usage-based billing"})," "]});var u=null==o?void 0:o.some(function(e){return e.status===k.Uploading||e.status===k.Rendering});return(0,P.jsx)("div",{className:(0,nm.Z)(l5().wrapper),children:u?(0,P.jsxs)("div",{className:lj().dragArea,style:{gap:20},children:[(0,P.jsx)(iv.Z,{}),(0,P.jsx)("span",{children:"We are processing your diagrams, it might take up to few minutes. Please wait."})]}):(0,P.jsx)(lZ,{description:"Bring existing diagrams from LucidChart, Draw.io, Visio, or Mermaid into Eraser.",notes:(0,P.jsxs)(P.Fragment,{children:["Note: Upload PNG or JPEG files. Up to ".concat(5," files at once. Each file will consume 1 premium AI credit. "),(0,P.jsx)(ac.h$,{onClick:function(){return r("usage",t5.M$.PremiumCredits)},children:"View usage"})]}),fileLimit:5,fileLimitError:"You can only upload up ".concat(5," files"),allowedFiles:["image/png","image/jpeg"],onUpload:a})})},l8=n(45171),l9=n(96387),l7=n(54242),ue=n.n(l7),ut=!1;function un(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=r[t.getMonth()],o=r[n.getMonth()],a=t.getDate(),s=n.getDate(),l=t.getFullYear(),u=n.getFullYear(),c="".concat(i," ").concat(a,", ").concat(l),A="".concat(o," ").concat(s,", ").concat(u);return"".concat(c," - ").concat(A)}var ur=[{title:"Standard AI credits",feature:t5.M$.AiDiagramAndOutlineCredits,description:"Monthly standard AI credits per user."},{title:"Premium AI credits",feature:t5.M$.PremiumCredits,description:"Monthly premium AI credits per user."}],ui=[{title:"Standard API calls",feature:t5.M$.MonthlyAiDiagramApiCalls,description:"Monthly standard API calls per team."},{title:"Premium API calls",feature:t5.M$.PremiumApiCalls,description:"Monthly premium API calls per team."}],uo=function(e){var t=e.usage,n=e.teamId,r=e.userId,i=e.payAsYouGoEnabled,o=e.onUpgradeClick,a=e.teamPlan,s=(0,ra.Bv)({featureName:t.feature,teamId:n,userId:r,immediateCallbackWithLimit:!0});if(!s)return null;var l=s.limit===oR.fY,u=s.limit||i&&(0,aw.OX)(t.feature),c=!s.limit||a===t5.k9.Business,A=!s.limit,d=function(){tX.Z.trackEvent("payment","open_billing_pane",{featureName:t.feature,source:"limitBar"}),o(t.feature,c)};return(0,P.jsxs)("div",{className:ue().usageItem,children:[(0,P.jsx)("span",{className:ue().usageItemTitle,children:t.title}),u?(0,P.jsx)(P.Fragment,{children:l?"Unlimited":(0,P.jsxs)("div",{className:ue().usageItemLimitBar,children:[(0,P.jsx)("div",{className:ue().bar,children:(0,P.jsx)(us,{access:s,payAsYouGoEnabled:i})}),(0,P.jsxs)("span",{children:[(0,ra.oj)(s.current),s.limit>0&&(0,P.jsxs)(P.Fragment,{children:["/",s.limit]})]})]})}):null,(0,P.jsxs)("span",{className:ue().usageItemDescription,children:[(0,P.jsx)("span",{className:"marginRightSmall",children:t.description}),u?i?null:(0,P.jsx)("a",{role:"button",onClick:d,className:"linkLight",children:"Upgrade limit."}):(0,P.jsx)("a",{role:"button",onClick:d,className:"linkLight",children:A?"Requires usage based pricing":"Manage plan."})]})]},t.feature)},ua=function(e){var t=e.teamId,n=e.maxMonthlySpend,r=e.onManageClick,i=(0,l8.H)(t);if(!i)return null;var o=i.totalSpendInCents/100;return(0,P.jsxs)("div",{className:ue().usageItem,children:[(0,P.jsx)("span",{className:ue().usageItemTitle,children:"Current spend"}),(0,P.jsx)("span",{className:ue().usageItemPeriod,children:un()}),(0,P.jsxs)("div",{className:ue().usageItemLimitBar,children:[(0,P.jsx)("div",{className:ue().bar,children:(0,P.jsx)(us,{access:{limit:n,current:o,allowed:o<n,hasFeatureAccess:!0}})}),(0,P.jsxs)("span",{children:["$",(0,ra.oj)(o,2)," / ","$",n.toFixed(2)]})]}),(0,P.jsxs)("span",{className:ue().usageItemDescription,children:[(0,P.jsx)("span",{className:"marginRightSmall",children:"AI credits and API calls used beyond your plan limits."}),(0,P.jsx)("a",{role:"button",onClick:r,className:"linkLight",children:"Manage spending limit."})]}),(0,P.jsx)("div",{className:"column gapSmall c-g12 marginTopMedium",children:(0,ny.Z)(ur).concat((0,ny.Z)(ui)).map(function(e){var t,n,r,o,a=null!=(o=null==i||null==(t=i.actions)||null==(n=t.teamWide)||null==(r=n[e.feature])?void 0:r.paid)?o:0;if(0===a)return null;var s=a*(0,l9.ii)(e.feature)/100;return(0,P.jsxs)("div",{className:"row gapSmall",children:[(0,P.jsx)("span",{className:ue().payGoItemItemTitle,children:e.title}),(0,P.jsxs)("span",{className:"c-g10",children:[a," extra ",e.title.includes("API")?"calls":"credits"," / $",s.toFixed(2)]})]},e.feature)})})]})},us=function(e){var t=e.access,n=e.payAsYouGoEnabled;return t&&t.limit!==oR.fY?(0,P.jsx)(oU.k,{useColor:!0,limit:t.limit,current:(0,ra.ZP)(t.current),className:ue().progressBar,fullColor:n?"var(--purple)":void 0}):null},ul=function(){var e,t,n,r=(0,t$.II)(),i=(0,t3.vn)(),o=(0,t3.LP)(),a=(0,rk.Y)().setOpenedPane,s=!!((null==i?void 0:i.payAsYouGoEnabled)&&o);(0,j.useEffect)(function(){ut||(ut=!0,tX.Z.trackEvent("usage","view"))},[]);var l=(0,j.useCallback)(function(e,t){a("plans",e,t?ah.$:void 0)},[a]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(aO,{children:(0,P.jsx)(ad.U,{variant:ad.U.Variants.Transparent,children:(0,P.jsxs)("p",{className:(0,nm.Z)(ng().medium,"marginBottomNone"),children:["Usage for ",un()]})})}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:ng().header,children:"Individual usage"}),(0,P.jsx)("div",{className:ue().usagePaneList,children:ur.map(function(t){return(0,P.jsx)(uo,{usage:t,teamId:o,userId:r,payAsYouGoEnabled:!!(null==i?void 0:i.payAsYouGoEnabled),teamPlan:null!=(e=null==i?void 0:i.planType)?e:t5.k9.Free,onUpgradeClick:l},t.feature)})}),(0,P.jsx)("p",{className:ng().header,children:"Team usage"}),(0,P.jsx)("div",{className:ue().usagePaneList,children:ui.map(function(e){return(0,P.jsx)(uo,{usage:e,teamId:o,userId:r,teamPlan:null!=(t=null==i?void 0:i.planType)?t:t5.k9.Free,payAsYouGoEnabled:!!(null==i?void 0:i.payAsYouGoEnabled),onUpgradeClick:l},e.feature)})}),s&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{className:ng().header,children:"Usage-based pricing"}),(0,P.jsx)("div",{className:ue().usagePaneList,children:(0,P.jsx)(ua,{teamId:o,maxMonthlySpend:null!=(n=null==i?void 0:i.maxMonthlySpend)?n:0,onManageClick:function(){return a("plans",void 0,ah.$)}})})]})]})]})},uu=function(){var e=(0,ss.K)(),t=(0,rk.Y)().openSettingsModal;(0,rB.Z)(function(){e.settings&&t({openedPane:e.settings})},[e.settings,t])},uc=function(){var e=(0,rk.Y)(),t=e.openedPane,n=(0,na.Z)(e,["openedPane"]);return(0,P.jsxs)("div",{className:nu().container,children:[(0,P.jsx)(an,{}),(0,P.jsx)("div",{className:nu().paneContainer,children:function(){if(null==t)return null;var e=null;switch(t){case"gitConnect":e=(0,P.jsx)(sa,{});break;case"gitLink":e=(0,P.jsx)(sA,{});break;case"api-tokens":e=(0,P.jsx)(ag,{});break;case"members":e=(0,P.jsx)(lr,{});break;case"team-settings":e=(0,P.jsx)(lw,{});break;case"appearance":e=(0,P.jsx)(ay,{});break;case"plans":e=(0,P.jsx)(aR,(0,L.Z)({},n));break;case"usage":e=(0,P.jsx)(ul,{});break;case"profile":e=(0,P.jsx)(sZ,{});break;case"custom-icons":e=(0,P.jsx)(lW,{});break;case"import":e=(0,P.jsx)(l6,{})}return(0,P.jsx)("div",{className:nu().pane,children:e})}()})]})},uA=function(){return(0,P.jsxs)("div",{className:"rowCentered",children:["Settings",(0,P.jsx)("span",{id:"SETTINGS_MODAL_TITLE_SLOT",className:nu().titleSlot})]})},ud=function(){e=(0,rk.Y)().openSettingsModal,t=(0,j.useCallback)(function(){rf.get(aV.qf)&&(e({openedPane:"gitConnect"}),rf.remove(aV.qf))},[e]),(0,nP.DZ)("onInstallWindowClosed",t),uu();var e,t,n=(0,rk.Y)(),r=n.isSettingsModalOpen,i=n.closeSettingsModal;return(0,P.jsx)(nc.Z,{title:(0,P.jsx)(uA,{}),showTitleSeparator:!0,size:nc.Z.Sizes.XL,closeButtonVariant:"text",className:nu().modalRoot,isOpen:r,onClose:i,children:(0,P.jsx)(uc,{})})},uh=(D={},(0,rH.Z)(D,"workspace_create",nZ.c.CreateFile),(0,rH.Z)(D,"insert_menu_icon_create",nZ.c.AddIcon),(0,rH.Z)(D,"insert_menu_figure_create",nZ.c.AddFigure),(0,rH.Z)(D,"canvas_figure_create",nZ.c.AddFigure),(0,rH.Z)(D,"figure_create_from_selection",nZ.c.AddFigure),(0,rH.Z)(D,"notepad_wikilink_create",function(e){return(null==e?void 0:e.type)==="figureLink"?nZ.c.AddFigureEmbed:void 0}),(0,rH.Z)(D,"notepad_add_content",nZ.c.AddNoteContent),(0,rH.Z)(D,"comment_create",nZ.c.AddComment),(0,rH.Z)(D,"insert_menu_open",nZ.c.OpenInsertMenu),(0,rH.Z)(D,"canvas_diagram_create",nZ.c.GenerateDiagramWithCode),(0,rH.Z)(D,"ai_diagram_create",nZ.c.GenerateAiDiagram),D),uf=function(){function e(){(0,t0.Z)(this,e)}var t=e.prototype;return t.identify=function(e){var t=e.id,n=e.isAnonymous,r=this;n||(this._userId=t,this._unsubscribe=(0,tJ.z6)().currentUser.subscribeToActivations(function(e){r._activations=e}))},t.trackEvent=function(e,t){if(this._userId){var n,r=uh[e];!r&&/^insert_menu_(.+)_create$/i.test(e)&&(r=nZ.c.UseInsertMenu);var i="function"==typeof r?r(t):r;!i||(null==(n=this._activations)?void 0:n[i])||(0,tJ.z6)().currentUser.markActivation(i)}},t.dispose=function(){var e;null==(e=this._unsubscribe)||e.call(this),this._userId=void 0},e}(),up=n(50252),ug=(s=(0,F.Z)(function(e){var t,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:if(!tM.bO.apiKey)return[3,3];return[4,n.e(8546).then(n.bind(n,68546))];case 1:return[4,(0,i.sent().default)(tM.bO.apiKey)];case 2:t=i.sent(),e.registerIntegration(t),i.label=3;case 3:if(!tM.HE.appId)return[3,5];return[4,n.e(6851).then(n.bind(n,96851))];case 4:r=i.sent().default,e.registerIntegration(new r(tM.HE.appId)),i.label=5;case 5:return e.registerIntegration(new uf),e.registerIntegration(up.N),[2]}})}),function(e){return s.apply(this,arguments)}),um=n(21218),uv=n(39309),uy=n(17620),ub=n.n(uy),uw=n(93586),u_=n.n(uw),uE=n(75652),uC=n.n(uE),uB=n(78549),ux=n(97609),uI=function(){function e(t){(0,t0.Z)(this,e),this.constraints=[],this.ref=t}var t=e.prototype;return t.where=function(e,t,n){return this.constraints.push((0,uB.ar)(e,t,n)),this},t.limit=function(e){return this.constraints.push((0,uB.b9)(e)),this},t.orderBy=function(e,t){return this.constraints.push((0,uB.Xo)(e,t)),this},t.build=function(){return uB.IO.apply(void 0,[this.ref].concat((0,ny.Z)(this.constraints)))},e}();function uT(e,t,n){var r=new uI(e);return(0,ux.Ae)(r,t,n).build()}var uS=n(31410);function uk(e,t){var n=(0,L.Z)({},e);!t.addCreatedAt||"createdAt"in n||(n.createdAt=Date.now()),!t.addUpdatedAt||"updatedAt"in n||(n.updatedAt=Date.now());var r=!0,i=!1,o=void 0;try{for(var a,s,l=(null!=(a=t.dateFields)?a:[])[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;u in n&&"number"==typeof n[u]&&(n[u]=new Date(n[u]))}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}function uN(e,t){var n=(0,L.Z)({},e);!t.addUpdatedAt||"updatedAt"in n||(n.updatedAt=Date.now());var r=!0,i=!1,o=void 0;try{for(var a,s,l=(null!=(a=t.dateFields)?a:[])[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;u in n&&"number"==typeof n[u]&&(n[u]=new Date(n[u]))}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}var uD=n(90731),uO=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(e){var r,i,o,a,s,l,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,t0.Z)(this,n),(i=t.call(this))._collectionName=e;var c=(0,tG.Z)((0,L.Z)({},u),{firestoreTimestampFields:uC()((0,ny.Z)(null!=(o=u.firestoreTimestampFields)?o:[]).concat((0,ny.Z)(null!=(a=u.dateFields)?a:[]),(0,ny.Z)(null!=(s=u.timestampFields)?s:[])))});return c.converter=null!=(l=u.converter)?l:(r=c,{toFirestore:function(e){e.id;var t=(0,na.Z)(e,["id"]);if(r.firestoreTimestampFields){var n=!0,i=!1,o=void 0;try{for(var a,s=r.firestoreTimestampFields[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value,u=l in e?e[l]:void 0,c=void 0;"number"==typeof u?c=uB.EK.fromMillis(u):(0,li.Z)(u,Date)&&(c=uB.EK.fromDate(u)),c&&(t[l]=c)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}return t},fromFirestore:function(e){var t=e.data(),n=(0,tG.Z)((0,L.Z)({},t),{id:e.id});if(r.firestoreTimestampFields){var i=!0,o=!1,a=void 0;try{for(var s,l=r.firestoreTimestampFields[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u,c=s.value,A=c in t?t[c]:void 0;A&&(n[c]=(null==(u=r.dateFields)?void 0:u.includes(c))?(0,uS.Z)(A):(0,uS.e)(A))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}return n}}),i._opts=c,i}var r=n.prototype;return r.getCollectionRef=function(e){if(this._opts.parentCollection){if(!e)throw Error("Parent ID is required for nested collections");var t=(0,uB.JU)(rA.RZ,this._opts.parentCollection,e);return(0,uB.hJ)(t,this._collectionName).withConverter(this._opts.converter)}return(0,uB.hJ)(rA.RZ,this._collectionName).withConverter(this._opts.converter)},r.getParentKey=function(){switch(this._opts.parentCollection){case"teams":return"teamId";case"workspaces":return"workspaceId";case"users":return"userId";case"comment-threads":return"threadId"}},r.getParentId=function(e){var t=this.getParentKey();if(t)return null==e?void 0:e[t]},r.getDocRef=function(e,t){var n=this.getCollectionRef(t);return e?(0,uB.JU)(n,e):(0,uB.JU)(n)},r.create=function(e,t){var n=this;return(0,F.Z)(function(){var r,i,o,a,s,l;return(0,U.__generator)(this,function(u){switch(u.label){case 0:return r=n.getParentId(null!=t?t:e),i=n.getCollectionRef(r),a=null!=(o=e.id)?o:(0,uB.JU)(i).id,s=n.getDocRef(a,r),l=uk(e,n._opts),[4,(0,uB.pl)(s,l)];case 1:return u.sent(),[2,a]}})})()},r.fetchById=function(e,t){var n=this;return(0,F.Z)(function(){var r,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:if(r=n.getDocRef(e,n.getParentId(t)),i=null,!n._opts.fetchFromCache)return[3,2];return[4,(0,uB.kl)(r).catch(function(){return null})];case 1:i=o.sent(),o.label=2;case 2:if(null==i?void 0:i.exists())return[3,4];return[4,(0,uB.QT)(r)];case 3:i=o.sent(),o.label=4;case 4:if(!i.exists())throw new oW.dR("Not Found",{data:{id:e}});return[2,(0,tG.Z)((0,L.Z)({},i.data()),{id:i.id})]}})})()},r.fetchByIds=function(e){var t=this;return(0,F.Z)(function(){var n,r,i,o,a,s,l,u,c,A,d;return(0,U.__generator)(this,function(h){switch(h.label){case 0:if(!e.length)return[2,[]];n=[],r=!0,i=!1,o=void 0,h.label=1;case 1:h.trys.push([1,6,7,8]),a=u_()(e,10)[Symbol.iterator](),h.label=2;case 2:if(r=(s=a.next()).done)return[3,5];return l=s.value,c=(0,uB.IO)(t.getCollectionRef(),(0,uB.ar)("__name__","in",l)),[4,(0,uB.PL)(c)];case 3:A=h.sent(),(u=n).push.apply(u,(0,ny.Z)(A.docs.map(function(e){return e.data()}))),h.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return d=h.sent(),i=!0,o=d,[3,8];case 7:try{r||null==a.return||a.return()}finally{if(i)throw o}return[7];case 8:return[2,n]}})})()},r.updateById=function(e,t,n){var r=this;return(0,F.Z)(function(){var i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return i=r.getDocRef(e,r.getParentId(n)),o=uN(t,r._opts),[4,(0,uB.pl)(i,o,{merge:!0})];case 1:return a.sent(),[2]}})})()},r.deleteById=function(e,t){var n=this;return(0,F.Z)(function(){var r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return r=n.getDocRef(e,n.getParentId(t)),[4,(0,uB.oe)(r)];case 1:return i.sent(),[2]}})})()},r.makeFilters=function(e,t){var n=this.getParentKey();if(n){if(null==t?void 0:t[n])return{parentId:t[n],filters:this.convertTimestampFilterValues(e)};var r=n in e?e[n]:void 0;if(r&&"string"==typeof r)return{parentId:r,filters:this.convertTimestampFilterValues(ub()(e,n))}}return{parentId:void 0,filters:this.convertTimestampFilterValues(e)}},r.convertTimestampFilterValues=function(e){var t=(0,L.Z)({},e),n=!0,r=!1,i=void 0;try{for(var o,a,s=(null!=(o=this._opts.firestoreTimestampFields)?o:[])[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l in t){var u=t[l];if(Array.isArray(u))if(Array.isArray(u[0]))t[l]=u.map(function(e){var t=(0,n$.Z)(e,2),n=t[0],r=t[1];return[n,"number"==typeof r?uB.EK.fromMillis(r):r]});else{var c=(0,n$.Z)(u,2),A=c[0],d=c[1];t[l]=[A,"number"==typeof d?uB.EK.fromMillis(d):d]}else"number"==typeof u&&(t[l]=uB.EK.fromMillis(u))}}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t},r.fetchByTeam=function(e,t){var n=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(r){return[2,n.list({teamId:e},t)]})})()},r.list=function(e,t){var n=this;return(0,F.Z)(function(){var r,i,o,a;return(0,U.__generator)(this,function(s){switch(s.label){case 0:return i=(r=n.makeFilters(e,{})).filters,o=r.parentId,a=uT(n.getCollectionRef(o),i,t),[4,(0,uB.PL)(a)];case 1:return[2,s.sent().docs.map(function(e){return e.data()})]}})})()},r.subscribeByTeam=function(e,t,n,r){var i,o=this,a=null!=(i=this._opts.additionalTeamFilters)?i:{},s=this.makeFilters((0,L.Z)({teamId:e},a),{}),l=s.filters,u=s.parentId,c=uT(this.getCollectionRef(u),l,n);if(!this._opts.storeTeamSubscription||(null==n?void 0:n.limit))return this._subscribe(c,t);var A=this._cachedTeamSubscription;return(null==A?void 0:A.teamId)!==e&&(null==A||A.unsubscribe(),A=void 0),A||(A={teamId:e,currentDocs:void 0,cbs:[],unsubscribe:function(){}},this._cachedTeamSubscription=A,A.unsubscribe=this._subscribe(c,function(t,n){if(!o._cachedTeamSubscription)return void console.warn("No cached team subscription found");if(o._cachedTeamSubscription.teamId!==e){o._cachedTeamSubscription.unsubscribe(),o._cachedTeamSubscription.cbs.forEach(function(e){return e([],{created:[],updated:[],deleted:[]})}),o._cachedTeamSubscription=void 0,console.warn("Stale cached team subscription found");return}o._cachedTeamSubscription.currentDocs=t,o._cachedTeamSubscription.cbs.forEach(function(e){return e(t,n)})},r)),A.cbs.push(t),A.currentDocs&&t(A.currentDocs,{created:A.currentDocs,updated:[],deleted:[]}),function(){A&&(A.cbs=A.cbs.filter(function(e){return e!==t}))}},r.subscribeByWorkspace=function(e,t,n){var r=this.makeFilters({workspaceId:e},{}),i=r.filters,o=r.parentId,a=uT(this.getCollectionRef(o),i,n);return this._subscribe(a,t)},r.subscribeByUser=function(e,t,n){var r=this.makeFilters({userId:e},{}),i=r.filters,o=r.parentId,a=uT(this.getCollectionRef(o),i,n);return this._subscribe(a,t)},r.subscribeByParams=function(e,t,n){var r=this.makeFilters(e,{}),i=r.filters,o=r.parentId,a=uT(this.getCollectionRef(o),i,n);return this._subscribe(a,t)},r._subscribeWithRetries=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:500,o=null,a=null,s=!1,l=function(i){s||(o=(0,uB.cf)(e,t,function(e){(n(e),o&&(o(),o=null),i>5e3||s)?(0,rI.Tb)(e,(0,L.Z)({context:"firestore-subscribe-error"},r)):a=setTimeout(function(){l(2*i)},i)}))};return l(i),function(){s=!0,null==o||o(),a&&clearTimeout(a)}},r.subscribeById=function(e,t,n){var r=this.getParentId(n),i=this.getCollectionRef(r),o=(0,uB.JU)(i,e).withConverter(this._opts.converter),a={collection:this._collectionName,documentId:e,parentId:r};return this._subscribeWithRetries(o,function(e){return t(e.data())},function(e){return t(void 0,e)},a)},r._subscribe=function(e,t,n){var r=this,i=[],o=!1;return this._subscribeWithRetries(e,function(a){if(0===i.length&&0===a.size&&a.metadata.fromCache&&n&&!o&&(o=!0,(0,uB.PL)(e).then(function(e){t(i=e.docs.map(function(e){return e.data()}),{created:i,updated:[],deleted:[]}),e.size>0&&(0,rI.Tb)(Error("Firestore cache corruption detected"),{collectionName:r._collectionName,serverSize:e.size})}).catch(function(e){(0,rI.Tb)(e,{context:"firestore-cache-refresh-failed",collection:r._collectionName})})),!i.length)return void t(i=a.docs.map(function(e){return e.data()}),{created:i,updated:[],deleted:[]});var s={created:[],updated:[],deleted:[]};i=(0,ny.Z)(i);var l=!0,u=!1,c=void 0;try{for(var A,d=a.docChanges()[Symbol.iterator]();!(l=(A=d.next()).done);l=!0){var h=A.value,f=h.oldIndex,p=h.newIndex;if("added"===h.type){var g=h.doc.data();i.splice(p,0,g),s.created.push(g);continue}if("modified"===h.type){var m=h.doc.data();i.splice(f,1),i.splice(p,0,m),s.updated.push(m);continue}i.splice(f,1),s.deleted.push(h.doc.id)}}catch(e){u=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}t(i,s)},function(){},{collection:this._collectionName})},n}(uD.Z),uR=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"prompt-history",{})}var r=n.prototype;return r.createHistory=function(e,t,n){var r=this;return(0,F.Z)(function(){var i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return i=t?[{userInput:t,userId:null!=n?n:"",timestamp:Date.now()}]:[],[4,r.create((0,tG.Z)((0,L.Z)({},e),{history:i}))];case 1:return o=a.sent(),[2,(0,tG.Z)((0,L.Z)({id:o},e),{history:i})]}})})()},r.getHistoryBySearchParams=function(e){var t=this;return(0,F.Z)(function(){var n;return(0,U.__generator)(this,function(r){switch(r.label){case 0:if(!e.teamId)throw new oW.tk("Invalid fetch attempted",{hint:"teamId is required for prompt history",statusCode:400,data:(0,L.Z)({},e)});return[4,t.list(e,{limit:1})];case 1:if(0===(n=r.sent()).length)return[2,void 0];return[2,(0,tG.Z)((0,L.Z)({},n[0]),{id:n[0].id})]}})})()},r.addEntry=function(e,t,n){var r=this;return(0,F.Z)(function(){var i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return[4,r.fetchById(e).catch(function(){})];case 1:if(!(i=a.sent()))return[2];return o={userInput:t,userId:n,timestamp:Date.now()},[4,r.updateById(e,{history:i.history.concat(o)})];case 2:return a.sent(),[2]}})})()},r.removeLastEntry=function(e){var t=this;return(0,F.Z)(function(){var n;return(0,U.__generator)(this,function(r){switch(r.label){case 0:return[4,t.fetchById(e).catch(function(){})];case 1:if(!(null==(n=r.sent())?void 0:n.history.length))return[2];return[4,t.updateById(e,{history:n.history.slice(0,n.history.length-1)})];case 2:return r.sent(),[2]}})})()},n}(uO),uF=n(13706),uL=n(13888),uU=n.n(uL),uP=n(28667),uM=n(12782),uj=n.n(uM);function uZ(e,t,n,r,i){if(Array.isArray(t))return t;n in i&&void 0===t&&(r[n]=void 0)}function uQ(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return uj().apply(void 0,[{},e].concat((0,ny.Z)(n),[uZ]))}var uH=n(41217),uV=n(62349),uK=n.n(uV),uz=n(23779),uG=n.n(uz),uW=["Charming","Creative","Determined","Energetic","Friendly","Imaginative","Dynamic","Brave","Thoughtful","Passionate","Optimistic","Humorous","Marvelous","Knowledgeable","Expert","Amazing","Awesome","Fabulous","Fantastic","Gorgeous","Incredible","Outstanding","Remarkable","Spectacular","Splendid","Stellar","Super","Upbeat","Stunning","Wondrous","Dazzling","Vibrant","Brilliant","Elegant","Enchanting","Magnificent","Insightful","Adventurous","Charismatic","Inquisitive"],uq=["Aardvark","Albatross","Alpaca","Armadillo","Alligator","Antelope","Baboon","Bobcat","Buffalo","Butterfly","Bear","Beaver","Camel","Caterpillar","Cheetah","Dolphin","Elephant","Fox","Falcon","Flamingo","Giraffe","Goose","Eagle","Hippo","Iguana","Jaguar","Kangaroo","Koala","Lion","Llama","Moose","Nighingale","Narwhal","Otter","Ostrich","Peacock","Penguin","Porcupine","Platypus","Puma","Panther","Rabbit","Raccoon","Reindeer","Rhino","Turtle","Squirrel","Swan","Tiger","Walrus","Whale","Wolverine","Wolf","Wombat","Woodpecker","Zebra"],u$=function(){var e=uW[uK()(uW.length-1)],t=uq[uK()(uq.length-1)];return"".concat(uG()(e)," ").concat(uG()(t))},uY=n(96603),uJ=function(e){var t=[uY.Q6[8],uY.iQ[8],uY.pl[8],uY.ht[8],uY.QN[8],uY.iN[8],uY.sl[8],uY.$C[8],uY.ek[8],uY.LR[8],uY.er[8],uY.$y[8]],n=(e?null==e?void 0:e.split("").reduce(function(e,t){return e+t.charCodeAt(0)},0):uK()())%t.length;return t[n]},uX=n(85983),u0=n(60324),u1=n(30475),u2=n(28055),u4=n(48834).lW,u3=Symbol("token-timeout"),u5=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){(0,t0.Z)(this,n),(i=t.call(this)).Events=u2.S,i.authUser=void 0,i.user=void 0,i._coachmarksRecord={},i._coachmarksCallbacks=[],i._activationsRecord={},i._activationsCallbacks=[],i.isLoaded=!1,i.pendingSignIn=!1,i._handleSignInResult=function(e){var t=i._authUserFromFirebaseUser(null==e?void 0:e.user);if(i._setAuthState(t),t){i.isLoaded||(i.isLoaded=!0,i.emit(i.Events.UserLoaded));var n=e?(0,uP.gK)(e):null;(null==n?void 0:n.isNewUser)&&!(null==t?void 0:t.isAnonymous)&&i.emit(i.Events.UserSignedUp)}};var e,r,i,o=(0,uF.Z)(i);e=(0,F.Z)(function(e){var t,n,r,i,a,s,l,u,c,A,d;return(0,U.__generator)(this,function(h){switch(h.label){case 0:if(!(n=null===rA.I8||void 0===rA.I8?void 0:rA.I8.currentUser))throw Error("No user signed in");if(r=n.uid,i=n.email,a=n.providerData.find(function(t){return(null==t?void 0:t.providerId)===e}),s=sm[e],!a)return[3,2];return[4,(0,uP.qB)(n,e).catch(o._handleError)];case 1:h.sent(),tX.Z.trackEvent("account","unlink",{userId:r,authMethod:s,oldEmail:i}),h.label=2;case 2:return l=o._getProvider(e),[4,(0,uP.k9)(n,l).catch(function(e){tX.Z.trackEvent("account","relink_error",{userId:r,authMethod:s,oldEmail:i}),o._handleError(e)})];case 3:if(!(u=h.sent()))throw Error("Failed to link with provider");if(c=null,"google.com"===e?c=uP.hJ.credentialFromResult(u):"microsoft.com"===e&&(c=uP.O4.credentialFromResult(u)),!c)throw Error("Failed to get credential from result");if(d=null==(t=null==(A=(0,uP.gK)(u))?void 0:A.profile)?void 0:t.email,tX.Z.trackEvent("account","relink",{userId:r,authMethod:s,oldEmail:i}),!(d&&d!==i))return[3,6];return[4,(0,uP.aF)(n,c)];case 4:return h.sent(),[4,rT.Z.put("/user/".concat(o.authUser.id),{email:d})];case 5:h.sent(),o._updateAuthUser({email:d}),h.label=6;case 6:return[2]}})}),i.resetProviderEmail=function(t){return e.apply(this,arguments)};var a=(0,uF.Z)(i);return r=(0,F.Z)(function(e){var t,n,r,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:if(!a.authUser)throw Error("No user signed in");if(!("email"in e&&e.email!==a.authUser.email))return[3,4];if(!(t=null===rA.I8||void 0===rA.I8?void 0:rA.I8.currentUser))throw Error("No user signed in");if(!e.currentPassword)throw Error("Must confirm password");n=uP.w9.credential(t.email,e.currentPassword),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,uP.aF)(t,n)];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),a._handleError(r),[2];case 4:return[4,rT.Z.put("/user/".concat(a.authUser.id),e)];case 5:return o.sent(),i=uU()(e,"email","displayName","photoURL","userSettings"),a.authUser=uQ(a.authUser,i),a.user&&(a.user=uQ(a.user,i)),a.emit(a.Events.AuthUserChanged,a.authUser),a.emit(a.Events.UserChanged,a.user),[2]}})}),i.updateCurrentUser=function(e){return r.apply(this,arguments)},i.userDao=new uO("users",{addCreatedAt:!0,dateFields:["createdAt"]}),i.coachmarksDao=new uO("coachmarks",{parentCollection:"users"}),i.activationsDao=new uO("activations",{parentCollection:"users"}),i.init(),i}var r=n.prototype;return r._setAuthState=function(e,t){var n,r=this;this.authUser=e,this.user=null!=t?t:e,this.emit(this.Events.AuthUserChanged,this.authUser),this.emit(this.Events.UserChanged,this.user),this.cachedIdToken=void 0,null===rA.I8||void 0===rA.I8||null==(n=rA.I8.currentUser)||n.getIdToken().then(function(e){r.cachedIdToken=e})},r._updateAuthUser=function(e){this.authUser&&(this.authUser=(0,L.Z)({},this.authUser,e),this.user&&(this.user=(0,L.Z)({},this.user,e)),this.emit(this.Events.AuthUserChanged,this.authUser),this.emit(this.Events.UserChanged,this.user))},r._authUserFromFirebaseUser=function(e,t){if(e){var n,r,i=uJ(e.uid);return{id:e.uid,color:i,photoURL:e.photoURL||void 0,isAnonymous:e.isAnonymous,displayName:t||e.displayName||u$(),email:e.email||void 0,emailVerified:!!e.emailVerified||(null==(n=e.providerData)||null==(r=n[0])?void 0:r.providerId)==="microsoft",createdAt:e.metadata.creationTime?new Date(e.metadata.creationTime):void 0}}},r.getIdToken=function(){var e=this;return(0,F.Z)(function(){var t,n,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:if(e.cachedIdToken)return[2,e.cachedIdToken];if(!(t=null===rA.I8||void 0===rA.I8?void 0:rA.I8.currentUser))return[2,void 0];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.getIdToken()];case 2:return e.cachedIdToken=n=i.sent(),[2,n];case 3:return r=i.sent(),(0,rI.Tb)(r),[2,void 0];case 4:return[2]}})})()},r._signInWithProvider=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(r){if(!rA.I8)throw Error("Auth not available");return(n.pendingSignIn=!0,t.asModal)?[2,(0,uP.rh)(rA.I8,e).then(n._handleSignInResult).catch(n._handleError).finally(function(){n.pendingSignIn=!1})]:[2,(0,uP.F6)(rA.I8,e).catch(n._handleError).finally(function(){n.pendingSignIn=!1})]})})()},r.signOut=function(){var e=this;return(0,F.Z)(function(){var t,n;return(0,U.__generator)(this,function(r){switch(r.label){case 0:if(!rA.I8)throw Error("Auth not available");return n=null==(t=e.getAuthUser())?void 0:t.id,(0,nt.AR)(),[4,(0,uP.w7)(rA.I8)];case 1:if(r.sent(),!n)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),console.debug("[Sign Out] Cleaning up email verification for user:",n),[4,rT.Z.post("/auth/cleanup",{userId:n})];case 3:return r.sent(),[3,5];case 4:return console.warn("[Sign Out] Failed to clean up verification:",r.sent()),[3,5];case 5:return r_("userSessionToken"),[2]}})})()},r.signInWithGoogle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return(0,F.Z)(function(){var n;return(0,U.__generator)(this,function(r){return n=t._getProvider("google.com"),[2,t._signInWithProvider(n,e)]})})()},r.signInWithMicrosoft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return(0,F.Z)(function(){var n;return(0,U.__generator)(this,function(r){return n=t._getProvider("microsoft.com"),[2,t._signInWithProvider(n,e)]})})()},r.sendPasswordResetEmail=function(e){return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){if(!rA.I8)throw Error("Auth not available");return[2,(0,uP.LS)(rA.I8,e)]})})()},r.createUserWithEmailAndPassword=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(i){if(!rA.I8)throw Error("Auth not available");return(0,uH.jj)({displayName:n}),r.pendingSignIn=!0,[2,(0,uP.Xb)(rA.I8,e,t).then(r._handleSignInResult).catch(r._handleError).finally(function(){r.pendingSignIn=!1})]})})()},r.signInWithEmailAndPassword=function(e,t){var n=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(r){if(!rA.I8)throw Error("Auth not available");return n.pendingSignIn=!0,[2,(0,uP.e5)(rA.I8,e,t).then(n._handleSignInResult).catch(n._handleError).finally(function(){n.pendingSignIn=!1})]})})()},r.signInWithCustomToken=function(e){var t=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){if(!rA.I8)throw Error("Auth not available");return t.pendingSignIn=!0,[2,(0,uP._p)(rA.I8,e).then(t._handleSignInResult).catch(t._handleError).finally(function(){t.pendingSignIn=!1})]})})()},r.signInAnonymously=function(){var e=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){if(!rA.I8)throw Error("Auth not available");return[2,(0,uP.XB)(rA.I8).then(e._handleSignInResult).catch(e._handleError)]})})()},r.updateUserPassword=function(e,t){var n=this;return(0,F.Z)(function(){var r,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:if(!(r=null===rA.I8||void 0===rA.I8?void 0:rA.I8.currentUser)||!r.email)throw Error("No user signed in");a.label=1;case 1:return a.trys.push([1,4,,5]),i=uP.w9.credential(r.email,t),[4,(0,uP.aF)(r,i)];case 2:return a.sent(),[4,(0,uP.gQ)(r,e)];case 3:return a.sent(),[3,5];case 4:return o=a.sent(),n._handleError(o),[3,5];case 5:return[2]}})})()},r._getProvider=function(e){switch(e){case"google.com":var t=new uP.hJ;return t.setCustomParameters({prompt:"select_account"}),t;case"microsoft.com":return new uP.O4("microsoft.com");default:throw Error("Unknown provider ID: ".concat(e))}},r._handleError=function(e){var t,n,r=500,i=e.message;throw"code"in e&&null!=e.code&&(r=void 0===(n=(t=(0,uX.X)(e)).statusCode)?500:n,i=t.message),r>=500&&(0,rI.Tb)(e),Error(i!==e.message?i:"Error")},r.init=function(){var e=this;if(rA.I8){(0,uP.cx)(rA.I8).then(function(t){(null==t?void 0:t.user)&&e._handleSignInResult(t)}).catch(rI.Tb);var t,n,r=this;(0,uP.MX)(rA.I8,(t=(0,F.Z)(function(e){var t;return(0,U.__generator)(this,function(n){switch(n.label){case 0:if(!e)return[3,2];return[4,e.getIdToken()];case 1:return r.cachedIdToken=t=n.sent(),!e.isAnonymous&&t&&rw("userSessionToken",t,{secure:!0}),[3,3];case 2:r.cachedIdToken=void 0,n.label=3;case 3:return[2]}})}),function(e){return t.apply(this,arguments)}));var i=this;(0,uP.Aj)(rA.I8,(n=(0,F.Z)(function(e){var t,n,r,o,a,s,l,u,c,A;return(0,U.__generator)(this,function(d){switch(d.label){case 0:if(!e){if(i._setAuthState(void 0),(0,u0.y)()||i.pendingSignIn)return i.isLoaded||(i.isLoaded=!0,i.emit(i.Events.UserLoaded)),[2];return i.signInAnonymously().then(function(){(0,t6.GF)()}).catch(rI.Tb),[2]}if(t=(0,uH.AJ)(),n=i._authUserFromFirebaseUser(e,null==t?void 0:t.displayName),i._setAuthState(n),!e.isAnonymous)return[3,1];return(0,t6.do)(e.uid),[3,6];case 1:return[4,i._getInitialIdTokenWithTimeout(e)];case 2:if(o=(r=d.sent()).token,!r.timedOut)return[3,5];if(i.cachedIdToken=void 0,r_("userSessionToken"),(0,u1.p9)("".concat(window.location.pathname).concat(window.location.search).concat(window.location.hash)),i.pendingSignIn=!0,!rA.I8)return[3,4];return[4,(0,uP.w7)(rA.I8).catch(rI.Tb)];case 3:d.sent(),d.label=4;case 4:return window.location.assign("/auth/sign-in"),[2];case 5:if(o){i.cachedIdToken=o,rw("userSessionToken",o,{secure:!0});try{a=o.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=JSON.parse(u4.from(a,"base64").toString()),i._updateAuthUser({providerId:s.firebase.sign_in_provider,sso:s.sso})}catch(e){(0,rI.Tb)(e)}!e.displayName&&(null==t?void 0:t.displayName)&&i._updateAuthUser({displayName:t.displayName})}d.label=6;case 6:return i.isLoaded=!0,i.emit(i.Events.UserLoaded),i.userDao.subscribeById(i.authUser.id,function(e){i.authUser&&(i.user=(0,L.Z)({},i.authUser,e),i.emit(i.Events.UserChanged,i.user))}),i.subscribeToCoachmarksData(i.authUser.id),i.subscribeToActivationsData(i.authUser.id),l=(0,t6.ES)(),u=t2.getByName(t4.IF)||l,A={userProfile:t,displayName:i.authUser.displayName,color:i.authUser.color,photoURL:null!=(c=e.photoURL)?c:""},u&&(t2.add({name:t4.IF,value:u}),A.userProfile=(0,tG.Z)((0,L.Z)({},A.userProfile),{analyticsId:u})),e.displayName&&e.displayName===i.authUser.displayName||(0,uP.ck)(e,{displayName:i.authUser.displayName}).catch(rI.Tb),i.updateCurrentUser(A).then(function(){e.isAnonymous||((0,uH.Q0)(),(0,t6.QZ)())}),[2]}})}),function(e){return n.apply(this,arguments)}))}},r._getInitialIdTokenWithTimeout=function(e){return(0,F.Z)(function(){var t,n,r,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:if(!e)return[2,{timedOut:!1}];n=new Promise(function(e){t=setTimeout(function(){return e(u3)},12e3)}),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,Promise.race([e.getIdToken(),n])];case 2:if((r=o.sent())===u3)return[2,{timedOut:!0}];return[2,{token:r,timedOut:!1}];case 3:return i=o.sent(),(0,rI.Tb)(i),[2,{timedOut:!1}];case 4:return t&&clearTimeout(t),[7];case 5:return[2]}})})()},r.subscribeToCoachmarksData=function(e){var t,n=this;null==(t=this._coachmarksUnsubscribe)||t.call(this),this._coachmarksRecord={},this._coachmarksCallbacks.forEach(function(e){return e({})}),this._coachmarksUnsubscribe=this.coachmarksDao.subscribeByParams({userId:e},function(e,t){n._coachmarksRecord=Object.fromEntries(e.map(function(e){return[e.id,e]})),n._coachmarksCallbacks.forEach(function(e){return e(n._coachmarksRecord)})})},r.subscribeToActivationsData=function(e){var t,n=this;null==(t=this._activationsUnsubscribe)||t.call(this),this._activationsRecord={},this._activationsCallbacks.forEach(function(e){return e({})}),this._activationsUnsubscribe=this.activationsDao.subscribeByParams({userId:e},function(e,t){n._activationsRecord=Object.fromEntries(e.map(function(e){return[e.id,e.didPerform]})),n._activationsCallbacks.forEach(function(e){return e(n._activationsRecord)})})},r.setDisplayNameForCurrentSession=function(e){this._updateAuthUser({displayName:e})},r.getAuthUser=function(){return this.authUser},r.getCurrentUser=function(){return this.user},r.isUserLoaded=function(){return this.isLoaded},r.subscribeToCoachmarks=function(e){var t=this;return e(this._coachmarksRecord),this._coachmarksCallbacks.push(e),function(){var n=t._coachmarksCallbacks.indexOf(e);n>-1&&t._coachmarksCallbacks.splice(n,1)}},r.markCoachmark=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(i){switch(i.label){case 0:if(!r.authUser)throw Error("No user signed in");return[4,r.coachmarksDao.updateById(e,{isShown:t,lastShownAt:Date.now(),lastShownValue:null!=n?n:""},{userId:r.authUser.id})];case 1:return i.sent(),[2]}})})()},r.subscribeToActivations=function(e){var t=this;return e(this._activationsRecord),this._activationsCallbacks.push(e),function(){var n=t._activationsCallbacks.indexOf(e);n>-1&&t._activationsCallbacks.splice(n,1)}},r.markActivation=function(e){if(!this.authUser)throw Error("No user signed in");return this.activationsDao.updateById(e,{didPerform:!0},{userId:this.authUser.id})},n}(uD.Z),u6=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){var e;return(0,t0.Z)(this,n),e=t.apply(this,arguments),e.commentThreadDAO=new u9,e.commentDAO=new u8,e}var r=n.prototype;return r.subscribeToThread=function(e,t){return this.commentThreadDAO.subscribeById(e,t)},r.subscribeToWorkspaceThreads=function(e,t){return this.commentThreadDAO.subscribeByWorkspace(e,t)},r.subscribeToThreadComments=function(e,t){return this.commentDAO.subscribeByThread(e,t)},r.createThread=function(e){var t=e.workspaceId,n=e.firstCommentText,r=e.userId,i=this;return(0,F.Z)(function(){var e;return(0,U.__generator)(this,function(o){switch(o.label){case 0:return[4,i.commentThreadDAO.create({workspaceId:t,participantMemberIds:[r],readByMemberIds:[r],authorId:r,previewText:n,totalComments:0,createdAt:Date.now(),isResolved:!1})];case 1:return e=o.sent(),[4,i.commentThreadDAO.fetchById(e)];case 2:return[2,o.sent()]}})})()},r.getThreadById=function(e){var t=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,t.commentThreadDAO.fetchById(e)]})})()},r.setThreadResolvedState=function(e,t){return this.commentThreadDAO.setResolvedState(e,t)},r.setThreadAsReadByCurrentUser=function(e,t){return this.commentThreadDAO.markAsReadByUser(e,t)},r.addCommentToThread=function(e){return rT.Z.post("commentThreads/".concat(e.threadId,"/comments"),e)},r.editComment=function(e,t,n){return this.commentDAO.editComment(e,t,n)},n}(uD.Z),u8=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"comments",{parentCollection:"comment-threads",addUpdatedAt:!0,addCreatedAt:!0,firestoreTimestampFields:["createdAt","updatedAt"]})}var r=n.prototype;return r.subscribeByThread=function(e,t){return this.subscribeByParams({threadId:e},t)},r.editComment=function(e,t,n){var r=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(i){return[2,r.updateById(t,{text:n},{threadId:e})]})})()},n}(uO),u9=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"comment-threads",{addUpdatedAt:!0,addCreatedAt:!0,firestoreTimestampFields:["createdAt","updatedAt"]})}var r=n.prototype;return r.subscribeByWorkspace=function(e,t){return this.subscribeByParams({workspaceId:e},t)},r.setResolvedState=function(e,t){var n=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(r){return[2,n.updateById(e,{isResolved:t})]})})()},r.markAsReadByUser=function(e,t){var n=this;return(0,F.Z)(function(){var r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return r=n.getDocRef(e),[4,(0,uB.r7)(r,{readByMemberIds:(0,uB.vr)(t)})];case 1:return i.sent(),[2]}})})()},n}(uO),u7=n(12436),ce=n.n(u7),ct={x:0,y:0},cn=function(e){var t,n,r,i;return r={px:Math.round((n=(t=e).pointer||ct).x),py:Math.round(n.y)},(i=Object.keys(t.selectedElementIds||{})).length&&(r.sid=i),t.editingElementId&&(r.eid=t.editingElementId),t.modifiedAt&&(r.t=t.modifiedAt),r},cr=function(e,t){var n,r=t.s,i=t.modifiedAt,o=t.color,a=t.displayName,s=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n?null!=n.px&&null!=n.py?{pointer:{x:n.px,y:n.py},selectedElementIds:null==(t=n.sid)?void 0:t.reduce(function(e,t){return e[t]=!0,e},{}),editingElementId:n.eid||null,modifiedAt:n.t}:{pointer:n.pointer||ct,selectedElementIds:null==(e=n.selectedElementIds)?void 0:e.reduce(function(e,t){return e[t]=!0,e},{}),editingElementId:n.editingElementId||null}:{pointer:ct,selectedElementIds:{},editingElementId:null,modifiedAt:void 0}}(r),l=null!=(n=s.modifiedAt)?n:i;return(0,tG.Z)((0,L.Z)({},s),{id:e,modifiedAt:l,color:o,displayName:a})},ci=n(56818),co=n(42327),ca=n(76436),cs=n(16810),cl=n(54367),cu=n(94251);function cc(e){return!!e&&!e.isDeleted&&!((0,ci.h4)(e)&&!e.threadId)}var cA=n(85242),cd=[[100,1e3/30],[200,50],[1/0,100]],ch={},cf=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){var e;return(0,t0.Z)(this,n),e=t.apply(this,arguments),e.Events=cA.I,e.workspaceRef=null,e.connectionRef=null,e.userRef=null,e.elementsRef=null,e.lastUpdatedAtRef=null,e.collaboratorsRef=null,e.excalidrawApi=null,e.userId=null,e.sessionId=null,e.isReadOnly=!1,e.elements=new Map,e.collaborators=new Map,e.lastPointer={x:0,y:0},e.syncedElementVersions=new Map,e.isUserReady=!1,e.isElementsReady=!1,e.isZombie=!1,e.subscriptions=[],e.sceneUpdateBufferTime=100,e.pendingElements=new Set,e.firebaseSubscriptions=new Map,e.schedulePointerRemoval=tq()(function(){e.removePointer()},6e4),e.queueSaveAllElements=ce()(function(){if(e.excalidrawApi){var t=e.excalidrawApi.getSceneElements();e.saveElements(t,{addedElements:[],changedElements:[],deletedElements:[]},!0)}},18e5),e}var r=n.prototype;return r.getElementsByIds=function(e,t){return(0,F.Z)(function(){var n,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return n=(0,rc.iH)(rA.Fs,"workspaces/".concat(e,"/whiteboard/elements")),[4,Promise.all(t.map(function(e){return(0,rc.U2)((0,rc.iU)(n,e)).then(function(e){return(0,cs.GK)(e.key,e.val())})}))];case 1:return r=i.sent(),[2,(0,cl.W)(r.filter(Boolean))]}})})()},r.getAllElements=function(e){return(0,F.Z)(function(){var t,n,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return t=(0,rc.iH)(rA.Fs,"workspaces/".concat(e,"/whiteboard/elements")),[4,(0,rc.U2)(t)];case 1:return n=i.sent(),r=[],n.forEach(function(e){var t=(0,cs.GK)(e.key,e.val());t&&r.push(t)}),[2,(0,cl.W)(r)]}})})()},r.subscribeToAdded=function(e,t){var n=this,r="".concat(e,":added");if(this.on(this.Events.ELEMENT_ADDED,t),!this.firebaseSubscriptions.has(r)){var i=(0,rc.iH)(rA.Fs,"workspaces/".concat(e,"/whiteboard/elements")),o=(0,rc.yv)(i,function(e){var t=(0,cs.GK)(e.key,e.val());t&&n.emit(n.Events.ELEMENT_ADDED,t)});this.firebaseSubscriptions.set(r,o)}return function(){if(n.off(n.Events.ELEMENT_ADDED,t),0===n.listenerCount(n.Events.ELEMENT_ADDED)){var e=n.firebaseSubscriptions.get(r);e&&(e(),n.firebaseSubscriptions.delete(r))}}},r.subscribeToChanged=function(e,t){var n=this,r="".concat(e,":changed");if(this.on(this.Events.ELEMENT_CHANGED,t),!this.firebaseSubscriptions.has(r)){var i=(0,rc.iH)(rA.Fs,"workspaces/".concat(e,"/whiteboard/elements")),o=(0,rc.Jr)(i,function(e){var t=(0,cs.GK)(e.key,e.val());t&&n.emit(n.Events.ELEMENT_CHANGED,t)});this.firebaseSubscriptions.set(r,o)}return function(){if(n.off(n.Events.ELEMENT_CHANGED,t),0===n.listenerCount(n.Events.ELEMENT_CHANGED)){var e=n.firebaseSubscriptions.get(r);e&&(e(),n.firebaseSubscriptions.delete(r))}}},r.subscribeToRemoved=function(e,t){var n=this,r="".concat(e,":removed");if(this.on(this.Events.ELEMENT_REMOVED,t),!this.firebaseSubscriptions.has(r)){var i=(0,rc.iH)(rA.Fs,"workspaces/".concat(e,"/whiteboard/elements")),o=(0,rc.MQ)(i,function(e){var t=(0,cs.GK)(e.key,e.val());t&&n.emit(n.Events.ELEMENT_REMOVED,t)});this.firebaseSubscriptions.set(r,o)}return function(){if(n.off(n.Events.ELEMENT_REMOVED,t),0===n.listenerCount(n.Events.ELEMENT_REMOVED)){var e=n.firebaseSubscriptions.get(r);e&&(e(),n.firebaseSubscriptions.delete(r))}}},r.initializeCollaboration=function(e){var t=this;if(null!==this.workspaceRef)throw Error("Collaboration already initialized. Call dispose() first.");this.excalidrawApi=e.excalidrawApi,this.isReadOnly=e.isReadOnly,this.workspaceRef=(0,rc.iH)(rA.Fs,"workspaces/".concat(e.workspaceId)),this.connectionRef=(0,rc.iH)(rA.Fs,".info/connected"),this.userId=e.user.id,this.sessionId=(0,rc.VF)((0,rc.iH)(rA.Fs)).key,this.userRef=(0,rc.iU)(this.workspaceRef,"whiteboard/users/".concat(this.userId)),this.elementsRef=(0,rc.iU)(this.workspaceRef,"whiteboard/elements"),this.lastUpdatedAtRef=(0,rc.iU)(this.workspaceRef,"whiteboard/updatedAt"),this.collaboratorsRef=(0,rc.iU)(this.workspaceRef,"whiteboard/users"),Promise.resolve().then(function(){t.initializeSetUpdatedAt(),t.initializeUser(e.user),t.monitorElements()})},r.saveElements=function(e,t){var n=t.addedElements,r=t.changedElements,i=t.deletedElements,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this;return(0,F.Z)(function(){var t,s,l,u,c,A,d,h;return(0,U.__generator)(this,function(f){switch(f.label){case 0:if(a.isZombie||!a.elementsRef)return[2];return u=(l=function(e){var t={},n=[],r=0,i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;n.push(u),cc(u)&&(t[u.id]=r++)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return{syncableElements:n,zIndexMap:t}}(e)).syncableElements,c=l.zIndexMap,(A=o?u:(0,ny.Z)(n).concat((0,ny.Z)(r))).forEach(function(e){a.elements.set(e.id,e),a.syncedElementVersions.set(e.id,e.version),a.pendingElements.add(e.id),e.zIndex=c[e.id]}),i.forEach(function(e){a.elements.has(e.id)?(a.elements.delete(e.id),a.pendingElements.delete(e.id),(0,rc.Od)((0,rc.iU)(a.elementsRef,e.id)).catch(function(e){console.error(e)})):a.pendingElements.delete(e.id)}),[4,null==(s=(t=a).savePendingChangesThrottled)?void 0:s.call(t)];case 1:return f.sent(),A.length>0&&!o&&(a.emit(a.Events.CHANGE),null==(h=(d=a).debouncedSetUpdatedAt)||h.call(d)),[2]}})})()},r.savePointer=function(e){var t;!this.isUserReady||this.isReadOnly||e.pointersMap.size>1||(this.lastPointer=e.pointer,this.schedulePointerRemoval(),null==(t=this.savePointerThrottled)||t.call(this,e))},r.saveSelection=function(){var e;null==(e=this.updateSelectionThrottled)||e.call(this)},r.dispose=function(){var e,t,n,r,i;this.isZombie=!0,this.removeAllListeners(),this.unsubscribe(),null==(e=this.savePointerThrottled)||e.cancel(),null==(t=this.updateCollaboratorsThrottled)||t.cancel(),null==(n=this.updateElementsThrottled)||n.cancel(),null==(r=this.updateSelectionThrottled)||r.cancel(),null==(i=this.savePendingChangesThrottled)||i.cancel(),this.schedulePointerRemoval.cancel(),this.queueSaveAllElements.cancel(),this.savePointerThrottled=void 0,this.updateCollaboratorsThrottled=void 0,this.updateElementsThrottled=void 0,this.updateSelectionThrottled=void 0,this.savePendingChangesThrottled=void 0,this.workspaceRef&&(0,rc.S1)(this.workspaceRef),this.connectionRef&&(0,rc.S1)(this.connectionRef),this.userRef&&(0,rc.S1)(this.userRef),this.elementsRef&&(0,rc.S1)(this.elementsRef),this.collaboratorsRef&&(0,rc.S1)(this.collaboratorsRef),this.isUserReady&&this.userRef&&(this.schedulePointerRemoval.cancel(),this.removePointer(),(0,rc.ae)(this.userRef).remove().catch(rI.Tb)),this.firebaseSubscriptions.forEach(function(e){e()}),this.firebaseSubscriptions.clear(),this.workspaceRef=null,this.connectionRef=null,this.userRef=null,this.elementsRef=null,this.lastUpdatedAtRef=null,this.collaboratorsRef=null,this.excalidrawApi=null,this.userId=null,this.sessionId=null,this.isUserReady=!1,this.isElementsReady=!1},r.initializeSetUpdatedAt=function(){var e=this;this.lastUpdatedAtRef&&(this.debouncedSetUpdatedAt=tq()(function(){e.lastUpdatedAtRef&&(0,rc.t8)(e.lastUpdatedAtRef,(0,rc.Bt)()).catch(rI.Tb)},5e3,{maxWait:1e4,leading:!0,trailing:!0}))},r.savePendingChanges=function(){var e=this;return(0,F.Z)(function(){var t,n,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:if(!e.elementsRef)return[2];return t=[],n=new Set,r=function(e){"disconnect"===e.message||(0,rI.Tb)(e)},e.pendingElements.forEach(function(i){var o=e.elements.get(i);if(!cc(o))return void n.add(i);if(!(0,ci.L0)(o)||!o.isBeingGenerated){if(o.diagramId){var a=e.elements.get(o.diagramId);if((0,ci.L0)(a)&&a.isBeingGenerated)return}n.add(i);var s=(0,rc.i3)((0,rc.iU)(e.elementsRef,o.id),function(t){if((0,co.ng)(o))return e.elements.delete(o.id),null;var n=t?(0,cs.GK)(o.id,t):void 0;if(function(e,t){if(!t||e.version>t.version)return e;if(e.version===t.version){var n,r;if((null!=(n=e.modifiedAt)?n:0)>=(null!=(r=t.modifiedAt)?r:0))return e}return t}(o,n)===o){var r,i,a=(0,cu._D)(o,n),s={modifiedAt:(0,rc.Bt)(),modifiedBy:null!=(r=e.sessionId)?r:"",userId:null!=(i=e.userId)?i:""},l=a?s:Object.assign(s,uU()(n,["modifiedAt","modifiedBy","userId"]));return(0,cs.Ls)((0,L.Z)({},o,l))}}).catch(r);t.push(s)}}),n.forEach(function(t){e.pendingElements.delete(t)}),[4,Promise.all(t)];case 1:return i.sent(),[2]}})})()},r.initializeUser=function(e){var t=this;if(this.userRef){var n={displayName:e.displayName,color:e.color,modifiedAt:(0,rc.Bt)()};(0,rc.t8)(this.userRef,n).then(function(){t.isUserReady=!0,t.triggerReady(),t.connectionRef&&t.userRef&&t.subscribe(t.connectionRef,"value",function(e){!0===e.val()&&t.userRef?(0,rc.ae)(t.userRef).remove().catch(rI.Tb):t.removePointer()})}).catch(function(){t.isUserReady=!0,t.triggerReady()})}},r.triggerReady=function(){this.isUserReady&&this.isElementsReady&&(this.isZombie||(this.updateAdaptiveMethods(),this.emit(this.Events.READY),this.monitorCollaborators()))},r.updateSelection=function(){if(this.excalidrawApi&&this.userRef){var e=this.excalidrawApi.getState(),t=e.selectedElementIds,n=e.editingElement,r=cn({pointer:this.lastPointer,selectedElementIds:t,editingElementId:n?n.id:null,modifiedAt:Date.now()});(0,rc.t8)((0,rc.iU)(this.userRef,"s"),r).catch(rI.Tb)}},r.doSavePointer=function(e){if(!this.isReadOnly&&this.excalidrawApi&&this.userRef){this.lastPointer=e.pointer;var t=this.excalidrawApi.getState(),n=t.selectedElementIds,r=t.editingElement,i=cn({pointer:e.pointer,selectedElementIds:n,editingElementId:null==r?void 0:r.id,modifiedAt:Date.now()});(0,rc.t8)((0,rc.iU)(this.userRef,"s"),i).catch(rI.Tb)}},r.removePointer=function(){this.userRef&&(0,rc.t8)((0,rc.iU)(this.userRef,"s"),ch).catch(rI.Tb)},r.monitorElements=function(){var e=this;this.elementsRef&&(this.subscribe(this.elementsRef,"child_added",function(t){var n,r=(0,cs.GK)(t.key,t.val());!r.isDeleted&&(r.modifiedBy!==e.sessionId&&(e.elements.set(r.id,r),e.syncedElementVersions.set(r.id,r.version),e.isElementsReady&&(null==(n=e.updateElementsThrottled)||n.call(e))),e.isElementsReady&&e.updateAdaptiveMethods())}),this.subscribe(this.elementsRef,"child_changed",function(t){var n=(0,cs.GK)(t.key,t.val());if(!n.isDeleted&&n.modifiedBy!==e.sessionId&&e.excalidrawApi){var r,i,o,a,s=e.excalidrawApi.getState(),l=n,u=n.id===(null==(r=s.resizingElement)?void 0:r.id)||n.id===(null==(i=s.draggingElement)?void 0:i.id);(0,ci.Sf)(l)&&(0,ci.Sf)(s.editingElement)&&l.id===(null==(o=s.editingElement)?void 0:o.id)&&(l=(0,ca.BE)(l,{text:s.editingElement.text,html:s.editingElement.html,slate:s.editingElement.slate})),!u&&(e.elements.set(n.id,l),e.syncedElementVersions.set(n.id,n.version),e.isElementsReady&&(null==(a=e.updateElementsThrottled)||a.call(e)))}}),this.subscribe(this.elementsRef,"child_removed",function(t){var n,r=(0,cs.GK)(t.key,t.val());e.elements.get(r.id)&&(e.elements.delete(r.id),null==(n=e.updateElementsThrottled)||n.call(e))}),(0,rc.U2)(this.elementsRef).then(function(){e.handleInitialElements()}).catch(rI.Tb))},r.handleInitialElements=function(){var e=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){switch(t.label){case 0:if(e.isElementsReady||!e.excalidrawApi)return[2];return e.isElementsReady=!0,[4,e.fixElementsOnLoad().catch(rI.Tb)];case 1:return t.sent(),e.updateScene({isInitialRender:!0,elements:e.elements}),e.excalidrawApi.zoomToFitElements(e.excalidrawApi.getSceneElements()),e.excalidrawApi.history.clearAllButCurrent(),e.triggerReady(),[2]}})})()},r.fixElementsOnLoad=function(){var e=this;return(0,F.Z)(function(){var t,n,r,i,o,a,s;return(0,U.__generator)(this,function(l){switch(l.label){case 0:if(!e.elementsRef)return[2];t=!0,n=!1,r=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),i=e.elements.values()[Symbol.iterator](),l.label=2;case 2:if(t=(o=i.next()).done)return[3,5];if(!function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),"diagram"===e.type&&"isBeingGenerated"in e!=!1&&!!e.isBeingGenerated&&!!e.modifiedAt&&!!e.isBeingGenerated&&(e.isBeingGenerated=!1,e.forceAiMode=!1,!0)}(a=o.value))return[3,4];return[4,(0,rc.t8)((0,rc.iU)(e.elementsRef,a.id),(0,cs.Ls)((0,tG.Z)((0,L.Z)({},a),{modifiedAt:(0,rc.Bt)()})))];case 3:l.sent(),l.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return s=l.sent(),n=!0,r=s,[3,8];case 7:try{t||null==i.return||i.return()}finally{if(n)throw r}return[7];case 8:return[2]}})})()},r.updateAdaptiveMethods=function(){var e,t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this,s=function(e){var t=e.elements.size,n=!0,r=!1,i=void 0;try{for(var o,a=cd[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,n$.Z)(o.value,2),l=s[0],u=s[1];if(t<=l)return u}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return 100}({elements:this.elements});if(o||this.sceneUpdateBufferTime!==s||!this.updateElementsThrottled){null==(e=this.savePointerThrottled)||e.flush(),null==(t=this.updateCollaboratorsThrottled)||t.flush(),null==(n=this.updateElementsThrottled)||n.flush(),null==(r=this.updateSelectionThrottled)||r.flush(),null==(i=this.savePendingChangesThrottled)||i.flush(),this.sceneUpdateBufferTime=s;var l=0===this.collaborators.size?3e4:s;this.savePointerThrottled=ce()(function(e){return a.doSavePointer(e)},l),this.updateCollaboratorsThrottled=ce()(this.updateCollaborators.bind(this),s,{trailing:!0}),this.updateElementsThrottled=ce()(this.updateElements.bind(this),s,{trailing:!0}),this.updateSelectionThrottled=ce()(this.updateSelection.bind(this),s,{trailing:!0}),this.savePendingChangesThrottled=ce()(this.savePendingChanges.bind(this),s,{trailing:!0})}},r.monitorCollaborators=function(){this.collaboratorsRef&&(this.subscribe(this.collaboratorsRef,"child_added",this.handleCollaboratorAdd.bind(this)),this.subscribe(this.collaboratorsRef,"child_removed",this.handleCollaboratorRemoved.bind(this)))},r.handleCollaboratorAdd=function(e){var t,n=e.key;if(n!==this.userId){var r=cr(e.key,e.val());null==r.modifiedAt||r.modifiedAt<Date.now()-6e4||(this.collaboratorsRef&&this.subscribe((0,rc.iU)(this.collaboratorsRef,"".concat(n,"/s")),"value",this.handleCollaboratorChanged.bind(this)),this.collaborators.set(n,r),null==(t=this.updateCollaboratorsThrottled)||t.call(this),this.updateAdaptiveMethods(!0))}},r.handleCollaboratorChanged=function(e){var t,n,r=null==(t=e.ref.parent)?void 0:t.key;if(r&&r!==this.userId){var i=e.val(),o=this.collaborators.get(r);if(o){var a=cr(r,(0,tG.Z)((0,L.Z)({},o),{s:i}));a&&a.pointer&&(this.collaborators.set(r,a),null==(n=this.updateCollaboratorsThrottled)||n.call(this))}}},r.handleCollaboratorRemoved=function(e){var t,n=e.key;n!==this.userId&&(this.collaborators.delete(n),null==(t=this.updateCollaboratorsThrottled)||t.call(this),this.collaboratorsRef&&(0,rc.S1)((0,rc.iU)(this.collaboratorsRef,"".concat(n,"/s"))),this.updateAdaptiveMethods(!0))},r.updateCollaborators=function(){this.updateScene({collaborators:this.collaborators})},r.updateElements=function(){this.updateScene({elements:this.elements})},r.updateScene=function(e){var t=e.elements,n=e.collaborators,r=e.isInitialRender,i=void 0!==r&&r;if(this.excalidrawApi){var o={commitToHistory:i,isInitialRender:i};if(t){var a=(0,cl.W)(Array.from(t.values()));a.length===t.size?(o.elements=a,this.excalidrawApi.history.syncElements(o.elements)):console.warn("Elements not the right length")}n&&(o.collaborators=n),this.excalidrawApi.updateScene(o)}},r.subscribe=function(e,t,n){var r;if(!this.isZombie){switch(t){case"value":r=(0,rc.jM)(e,n);break;case"child_added":r=(0,rc.yv)(e,n);break;case"child_changed":r=(0,rc.Jr)(e,n);break;case"child_removed":r=(0,rc.MQ)(e,n);break;default:return}this.subscriptions.push({unsubscribe:r})}},r.unsubscribe=function(){this.subscriptions.forEach(function(e){(0,e.unsubscribe)()}),this.subscriptions.length=0},n}(uD.Z),cp="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function cg(e){if(0===e)return"A0";for(var t="";e>0;){var n=e%cp.length;t=cp[n]+t,e-=n,e/=cp.length}return cp[t.length+9]+t}function cm(e){if(0===e.length||e[0]!==cp[e.length+8])throw Error("Invalid revision id!");for(var t=0,n=1;n<e.length;n++)t*=cp.length,t+=cp.indexOf(e[n]);return t}var cv=n(49257);function cy(e){return JSON.parse(e)}var cb=n(48223);function cw(e){return(0,rc.iH)(rA.Fs,"workspaces/".concat(e,"/slate/operations"))}var c_=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(e){var r,i=e.workspaceId,o=e.userId,a=e.clientId;(0,t0.Z)(this,n),(r=t.call(this)).Events=cb.C,r.opsQueue=[],r.unsubscribeConnection=null,r.unsubscribeError=null,r.unsubscribeOps=null,r.onConnectionChange=function(e){var t=e.val();r.isConnected=t,r.emit(r.Events.CONNECTION_CHANGED,t)},r.onServerError=function(e){var t=e.val();if(t){var n=t.message,i=(0,na.Z)(t,["message"]);if(!(r.lastKnownErrorId&&cm(i.opId)<=cm(r.lastKnownErrorId))){r.lastKnownErrorId=i.opId;var o=(0,cv.EG)(Error(n),"ApplyOpServer",i);r.emit(r.Events.BAD_DATA,o)}}},r.makeOpsEntry=function(e){return{ops:e,clientId:r.clientId,userId:r.userId,time:new Date().toISOString()}},r.handleConnection=function(e){if(e){var t,n,i,o=(t=r.workspaceId,n={lastOpId:r.lastKnownId},i=cw(t),(null==n?void 0:n.lastOpId)?(0,rc.IO)(i,(0,rc.R)(),(0,rc.TQ)(n.lastOpId)):(0,rc.IO)(i,(0,rc.R)()));r.unsubscribeOps=(0,rc.yv)(o,r.receiveData),r.once(r.Events.CONNECTION_CHANGED,function(){var e;null==(e=r.unsubscribeOps)||e.call(r),r.unsubscribeOps=null})}};var s=(0,uF.Z)(r);return r.listenForErrors=(0,F.Z)(function(){var e,t,n,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:var o;return o=s.workspaceId,e=(0,rc.iH)(rA.Fs,"workspaces/".concat(o,"/slate/error")),[4,(0,rc.U2)(e)];case 1:return(t=i.sent()).exists()&&(r=null==(n=t.val())?void 0:n.opId)&&(s.lastKnownErrorId=r),s.unsubscribeError=(0,rc.jM)(e,s.onServerError),[2]}})}),r.receiveData=function(e){var t,n,i=(t=e.key,{clientId:(n=e.val()).clientId,userId:n.userId,ops:cy(n.ops),id:t,time:n.time||new Date().toUTCString()});r.handleData(i)},r.handleData=function(e){if(e.id>r.lastKnownId&&(r.lastKnownId=e.id,e.clientId!==r.clientId)){var t=r.clientId<e.clientId?"right":"left",n=(0,n$.Z)((0,cv.YV)(r.opsQueue,e.ops,t),2),i=n[0],o=n[1];r.opsQueue=i,r.emit(r.Events.OPS_ADDED,(0,tG.Z)((0,L.Z)({},e),{ops:o}))}},r.workspaceId=i,r.userId=o,r.clientId=a,r.lastKnownId=cg(0),r.lastKnownErrorId=void 0,r.isConnected=!1,r}var r=n.prototype;return r.initialize=function(){this.on(this.Events.CONNECTION_CHANGED,this.handleConnection),this.unsubscribeConnection=(0,rc.jM)((0,rc.iH)(rA.Fs,".info/connected"),this.onConnectionChange)},r.destroy=function(){var e,t,n;null==(e=this.unsubscribeConnection)||e.call(this),null==(t=this.unsubscribeError)||t.call(this),null==(n=this.unsubscribeOps)||n.call(this),this.off(this.Events.CONNECTION_CHANGED,this.handleConnection)},r.hasPendingOps=function(){return 0!==this.opsQueue.length},r.sendOps=function(e){var t=this;return(0,F.Z)(function(){var n,r,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:if(n=function(){var e,n;return(0,U.__generator)(this,function(r){switch(r.label){case 0:return e=(0,rc.iU)(cw(t.workspaceId),o),n=0,[4,new Promise(function(r,i){(0,rc.i3)(e,function(e){if(null==e){var r,i=t.makeOpsEntry(t.opsQueue);return n=t.opsQueue.length,r=(0,tG.Z)((0,L.Z)({},i),{id:o}),(0,tG.Z)((0,L.Z)({},r),{ops:JSON.stringify(r.ops)})}var a=cy(e.ops);t.handleData((0,tG.Z)((0,L.Z)({},e),{id:o,ops:a}))}).then(function(e){e.committed?(t.opsQueue.splice(0,n),n=0,t.lastKnownId=o):o=cg((t.lastKnownId?cm(t.lastKnownId):0)+1),r()}).catch(function(e){"permission_denied"===e.message&&i(e),r()})})];case 1:return r.sent(),[2]}})},i=0===t.opsQueue.length,(r=t.opsQueue).push.apply(r,(0,ny.Z)(e)),!1===i)return[2];o=cg((t.lastKnownId?cm(t.lastKnownId):0)+1),a.label=1;case 1:if(!t.opsQueue.length)return[3,3];return[5,(0,U.__values)(n())];case 2:return a.sent(),[3,1];case 3:return[2]}})})()},r.fetchValue=function(){var e=this;return(0,F.Z)(function(){var t;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,rT.Z.get("workspace/".concat(e.workspaceId,"/notes"))];case 1:return t=n.sent(),e.listenForErrors(),t.lastOpId&&(e.lastKnownId=t.lastOpId),[2,t]}})})()},n}(uD.Z),cE=n(28065),cC=new(function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.readConfigValue=function(e){var t=this;return(0,F.Z)(function(){var n,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,t._getRemoteConfig()];case 1:return r=null==(n=i.sent())?void 0:n[e],[2,(0,cE.g)(e,r)]}})})()},r._getRemoteConfig=function(){var e=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){return e._config?[2,e._config]:(e._configPromise||(e._configPromise=(0,uB.QT)((0,uB.JU)(rA.RZ,"config/webapp")).then(function(t){var n,r=null!=(n=t.data())?n:{};return e._config=r,r}).catch(function(e){(0,rI.Tb)(e,{source:"AppSettingsDAO.readConfigValue"})})),[2,e._configPromise])})})()},n}(uD.Z)),cB=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"canvas-links")}return n}(uO),cx=n(11389),cI=n(34067),cT=n(18053),cS=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"auto-diagram-requests",{fetchFromCache:!1,addCreatedAt:!0,addUpdatedAt:!0,firestoreTimestampFields:["createdAt"]})}var r=n.prototype;return r.createRequest=function(e){var t=this,r=this;return(0,F.Z)(function(){var i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return[4,(0,cT.v)(e)];case 1:return i=a.sent(),[4,(0,cx.Z)((0,cI.Z)(n.prototype),"create",t).call(r,i)];case 2:return o=a.sent(),[4,r.fetchById(o)];case 3:return[2,a.sent()]}})})()},r.updateDiagramCode=function(e,t){var n=this;return(0,F.Z)(function(){var r,i,o;return(0,U.__generator)(this,function(a){switch(a.label){case 0:return[4,n.fetchById(e)];case 1:return i=a.sent(),[4,n.updateById(e,{diagrams:null==(r=i.diagrams)?void 0:r.map(function(e,n){return(0,tG.Z)((0,L.Z)({},e),{code:null!=(o=t[n])?o:e.code})})})];case 2:return a.sent(),[2]}})})()},n}(uO),ck=n(40052),cN=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"ai-context",{storeTeamSubscription:!0})}var r=n.prototype;return r.fetchByTeam=function(e){return Promise.all([(0,cx.Z)((0,cI.Z)(n.prototype),"fetchByTeam",this).call(this,e),(0,ck.q)({teamId:e})]).then(function(e){var t=(0,n$.Z)(e,2),n=t[0],r=t[1];return(0,ny.Z)(n).concat((0,ny.Z)(r))})},r.fetchById=function(e){var t=this,r=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(i){return(0,rS.fo)(e)?[2,(0,ck.i)({contextId:e})]:[2,(0,cx.Z)((0,cI.Z)(n.prototype),"fetchById",t).call(r,e)]})})()},r.subscribeByTeam=function(e,t){var r=(0,ck.q)({teamId:e});return(0,cx.Z)((0,cI.Z)(n.prototype),"subscribeByTeam",this).call(this,e,function(e,n){r.then(function(r){t((0,ny.Z)(e).concat((0,ny.Z)(r)),n)})})},n}(uO),cD=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){var e;return(0,t0.Z)(this,n),(e=t.call(this)).monitorDao=new uO("monitors",{addCreatedAt:!0,addUpdatedAt:!0,timestampFields:["createdAt","updatedAt","lastUsedAt"]}),e.gitAiRequestDao=new uO("git-ai-requests",{addCreatedAt:!0,addUpdatedAt:!0,timestampFields:["createdAt","updatedAt"]}),e.monitorEventDao=new uO("monitor-events",{addCreatedAt:!0,addUpdatedAt:!0,timestampFields:["createdAt","updatedAt"]}),e}var r=n.prototype;return r.subscribeToMonitors=function(e,t){return this.monitorDao.subscribeByTeam(e,t)},r.subscribeToMonitorHistory=function(e,t){return this.monitorEventDao.subscribeByParams(e,t)},r.createMonitor=function(e){return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){switch(t.label){case 0:return[4,rT.Z.post("eraserbot/monitors",e)];case 1:return[2,t.sent().monitorId]}})})()},r.updateMonitor=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,rT.Z.put("eraserbot/monitors/".concat(e),t)]})})()},r.execute=function(e){return(0,F.Z)(function(){var t,n;return(0,U.__generator)(this,function(r){switch(r.label){case 0:if(!("currentThreadId"in e&&e.currentThreadId))return[3,2];return t=e.currentThreadId,n=(0,na.Z)(e,["currentThreadId"]),[4,rT.Z.put("eraserbot/gitAiRequests/".concat(t),n)];case 1:return r.sent(),[2,{threadId:t}];case 2:if("monitorId"in e&&"prNumber"in e)return[2,rT.Z.post("eraserbot/monitors/".concat(e.monitorId,"/execute"),{prNumber:e.prNumber})];return[2,rT.Z.post("eraserbot/execute",e)]}})})()},r.manuallyEditThread=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,rT.Z.put("eraserbot/gitAiRequests/".concat(e),(0,tG.Z)((0,L.Z)({},t),{inputs:(0,tG.Z)((0,L.Z)({},t.inputs),{isManual:!0})}))]})})()},r.fixThread=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,rT.Z.put("eraserbot/gitAiRequests/".concat(e),(0,tG.Z)((0,L.Z)({},t),{isFix:!0}))]})})()},r.subscribeToGitAiRequests=function(e,t){var n=e.teamId,r=e.userId,i=e.monitorId,o={};return n&&(o.teamId=n),r&&(o.createdBy=r),i&&n&&(o.monitorId=i),this.gitAiRequestDao.subscribeByParams(o,t)},r.executeMonitor=function(e){var t=e.monitorId,n=e.prNumber;return(0,F.Z)(function(){return(0,U.__generator)(this,function(e){return[2,rT.Z.post("eraserbot/monitors/".concat(t,"/execute"),{prNumber:n})]})})()},r.subscribeToGitAiRequest=function(e,t){var n=e.requestId;return this.gitAiRequestDao.subscribeById(n,function(e){return t(e)})},r.fetchGitAiRequest=function(e){var t=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,t.gitAiRequestDao.fetchById(e)]})})()},n}(uD.Z),cO=n(99669),cR="folders",cF=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"folders",{parentCollection:"teams",firestoreTimestampFields:["createdAt","updatedAt"],addCreatedAt:!0,addUpdatedAt:!0,storeTeamSubscription:!0})}var r=n.prototype;return r.subscribeByTeam=function(e,t){var r=cO.J.getItem(cR);return(null==r?void 0:r.teamId)===e&&t(r.folders,{created:r.folders,updated:[],deleted:[]}),(0,cx.Z)((0,cI.Z)(n.prototype),"subscribeByTeam",this).call(this,e,function(n,r){cO.J.setItem(cR,{teamId:e,folders:n}),t(n,r)})},r.fetchById=function(e,t){var r,i,o=t.teamId;if(o===(null==(r=this._cachedTeamSubscription)?void 0:r.teamId)&&(null==(i=this._cachedTeamSubscription)?void 0:i.currentDocs)){var a=this._cachedTeamSubscription.currentDocs.find(function(t){return t.id===e});if(a)return Promise.resolve(a)}return(0,cx.Z)((0,cI.Z)(n.prototype),"fetchById",this).call(this,e,{teamId:o})},r.updateFolderOrders=function(e,t,n){var r=this;return(0,F.Z)(function(){var i,o,a,s,l,u,c,A,d;return(0,U.__generator)(this,function(h){switch(h.label){case 0:i=0,o=(0,uB.qs)(rA.RZ),a=!0,s=!1,l=void 0;try{for(u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0)d=(A=c.value).order,o.set(r.getDocRef(A.id,e),{order:d,parentFolderId:n},{merge:!0}),d>i&&(i=d)}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}return[4,o.commit()];case 1:return h.sent(),[2]}})})()},n}(uO),cL=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){(0,t0.Z)(this,n),r=t.apply(this,arguments),r.teamGitHubOrganizationDAO=new uO("gitHubOrganizations",{parentCollection:"teams",addUpdatedAt:!0,addCreatedAt:!0}),r.teamGitHubRepositoryDAO=new cU;var e,r,i=(0,uF.Z)(r);return e=(0,F.Z)(function(e){var t,n,r,o;return(0,U.__generator)(this,function(a){return t=e.teamId,n=e.organizationId,r=e.repositoryId,o=e.payload,[2,i.teamGitHubRepositoryDAO.updateByIdWithParams(r,o,t,n)]})}),r.updateRepository=function(t){return e.apply(this,arguments)},r}var r=n.prototype;return r.listOpenPrs=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,rT.Z.get("/gitOrganizations/".concat(e,"/repos/").concat(t,"/prs"))];case 1:return[2,n.sent()]}})})()},r.subscribeToOrganizations=function(e,t){return this.teamGitHubOrganizationDAO.subscribeByTeam(e,t)},r.subscribeToRepositories=function(e,t,n){return this.teamGitHubRepositoryDAO.subscribeByOrganization(e,t,n)},r.createRepository=function(e,t,n){var r=this;return(0,F.Z)(function(){var i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:return[4,r.teamGitHubRepositoryDAO.listByOrganization(e,t,{name:n.name})];case 1:if((i=o.sent()).length>0)return[2,i[0].id];return[2,r.teamGitHubRepositoryDAO.createRepository(e,t,n)]}})})()},r.configureOrganization=function(e){var t,n=e.type,r=e.name,i=e.installationId;return t="Organization"===n?"https://github.com/organizations/".concat(r,"/settings/installations/").concat(i):"https://github.com/settings/installations/".concat(i),window.open(t,"_blank")},n}(uD.Z),cU=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"repositories",{addUpdatedAt:!0,addCreatedAt:!0})}var r=n.prototype;return r.getRepositoriesCollectionRef=function(e,t){return(0,uB.hJ)(rA.RZ,"teams/".concat(e,"/gitHubOrganizations/").concat(t,"/repositories")).withConverter(this._opts.converter)},r.getRepositoryDocRef=function(e,t,n){return(0,uB.JU)(this.getRepositoriesCollectionRef(e,t),n)},r.subscribeByOrganization=function(e,t,n){var r=this.getRepositoriesCollectionRef(e,t);return this._subscribe(r,n)},r.listByOrganization=function(e,t,n){var r=this;return(0,F.Z)(function(){var i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:return i=uT(r.getRepositoriesCollectionRef(e,t),null!=n?n:{}),[4,(0,uB.PL)(i)];case 1:return[2,o.sent().docs.map(function(e){return e.data()})]}})})()},r.updateByIdWithParams=function(e,t,n,r){var i=this;return(0,F.Z)(function(){var o,a;return(0,U.__generator)(this,function(s){switch(s.label){case 0:return o=i.getRepositoryDocRef(n,r,e),a=uN(t,i._opts),[4,(0,uB.pl)(o,a,{merge:!0})];case 1:return s.sent(),[2]}})})()},r.createRepository=function(e,t,n){var r=this;return(0,F.Z)(function(){var i,o,a,s,l;return(0,U.__generator)(this,function(u){switch(u.label){case 0:return i=r.getRepositoriesCollectionRef(e,t),a=null!=(o=n.id)?o:(0,uB.JU)(i).id,s=(0,uB.JU)(i,a),l=uk(n,r._opts),[4,(0,uB.pl)(s,l)];case 1:return u.sent(),[2,a]}})})()},n}(uO),cP=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){var e,r;return(0,t0.Z)(this,n),e=t.call(this,"workspaces",{storeTeamSubscription:!0,additionalTeamFilters:{isArchived:!1,isTemplate:!1},addCreatedAt:!0,addUpdatedAt:!0,fetchFromCache:!0}),r=(0,F.Z)(function(e){return(0,U.__generator)(this,function(t){return[2,rT.Z.put("workspace/".concat(e,"/markVisit"),{})]})}),e.markWorkspaceAsVisited=function(e){return r.apply(this,arguments)},e}var r=n.prototype;return r.subscribeByTeam=function(e,t){return(0,cx.Z)((0,cI.Z)(n.prototype),"subscribeByTeam",this).call(this,e,t,{orderBy:[lc.C4,lc.tL]},!0)},r.getWorkspaceTeamInfo=function(e,t){return e&&t?rT.Z.post("workspace/".concat(t,"/teamInfo"),{teamId:e}):Promise.resolve(void 0)},r.validateAccess=function(e){return rT.Z.post("workspace/validateAccess",e)},n}(uO),cM=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"members",{parentCollection:"workspaces"})}var r=n.prototype;return r.isWorkspaceMember=function(e,t){var n=this;return(0,F.Z)(function(){var r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,n.fetchById(t,{workspaceId:e}).catch(function(){})];case 1:return[2,!!(r=i.sent())&&[s5.i.Admin,s5.i.Member].includes(r.role)]}})})()},r.delete=function(e){var t=e.userId,n=e.workspaceId;return(0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:return[4,rT.Z.delete("/workspace/".concat(n,"/memberships/").concat(t))];case 1:return e.sent(),[2]}})})()},n}(uO),cj=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"collaborators",{parentCollection:"workspaces",firestoreTimestampFields:["heartbeat"]})}return n.prototype.updateActivity=function(e,t){return this.updateById(t,{heartbeat:Date.now()},{workspaceId:e})},n}(uO),cZ=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"long-running-operations",{addUpdatedAt:!0,addCreatedAt:!0,firestoreTimestampFields:["createdAt","updatedAt","startedAt"]})}return n}(uO),cQ=function(){function e(){(0,t0.Z)(this,e)}var t=e.prototype;return t.listOrganizations=function(){return rT.Z.get("/organizations")},t.viewOrganization=function(e){return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){return[2,rT.Z.get("/organizations/".concat(e))]})})()},t.listMembers=function(e){return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){return[2,rT.Z.get("/organizations/".concat(e,"/members"))]})})()},t.addMember=function(e,t){return rT.Z.post("/organizations/".concat(e,"/members"),t)},t.removeMember=function(e,t){return rT.Z.delete("/organizations/".concat(e,"/members/").concat(t))},e}(),cH=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"teams",{addCreatedAt:!0,addUpdatedAt:!0,dateFields:["createdAt","updatedAt"]})}var r=n.prototype;return r.updateTeam=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,rT.Z.put("teams/".concat(e),t)]})})()},r.subscribeByDomain=function(e,t){return this.subscribeByParams({domain:e,isAutoJoinEnabled:!0},t)},r.listByDomain=function(e){var t=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,t.list({domain:e,isAutoJoinEnabled:!0},{})]})})()},n}(uO),cV=function(){function e(){(0,t0.Z)(this,e)}var t=e.prototype;return t.getUserTeamRef=function(e){return(0,uB.hJ)(rA.RZ,"users/".concat(e,"/teams"))},t.getTeamMemberRef=function(e){return(0,uB.hJ)(rA.RZ,"teams/".concat(e,"/members"))},t.doesUserHaveTeam=function(e){var t=this;return(0,F.Z)(function(){var n;return(0,U.__generator)(this,function(r){switch(r.label){case 0:return n=(0,uB.IO)(t.getUserTeamRef(e),(0,uB.b9)(1)),[4,(0,uB.PL)(n)];case 1:return[2,!r.sent().empty]}})})()},t.subscribeByUserId=function(e,t){var n=this,r=this.getUserTeamRef(e),i=(0,uB.cf)(r,function(n){!n.size&&n.metadata.fromCache&&(0,uB.zN)(r).catch(function(e){(0,rI.Tb)(e,{context:"firestore-cache-refresh-failed",collection:"userTeams"})}),t(n.docs.map(function(t){return(0,tG.Z)((0,L.Z)({},t.data()),{userId:e,teamId:t.id})}),{created:[],updated:[],deleted:[]})},function(r){console.warn("[UserTeamsDAO] Error subscribing to user teams",r),setTimeout(function(){i=n.subscribeByUserId(e,t)},250)});return function(){return i()}},t.subscribeByTeamId=function(e,t){var n=this,r=this.getTeamMemberRef(e),i=(0,uB.cf)(r,function(n){var r=n.docs.map(function(t){return(0,tG.Z)((0,L.Z)({},t.data()),{userId:t.id,teamId:e})}),i={created:[],updated:[],deleted:[]},o=!0,a=!1,s=void 0;try{for(var l,u=n.docChanges()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;"added"===c.type?i.created.push((0,tG.Z)((0,L.Z)({},c.doc.data()),{userId:c.doc.id,teamId:e})):"modified"===c.type?i.updated.push((0,tG.Z)((0,L.Z)({},c.doc.data()),{userId:c.doc.id,teamId:e})):"removed"===c.type&&i.deleted.push(c.doc.id)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}t(r,i)},function(r){console.warn("[UserTeamsDAO] Error subscribing to team members",r),setTimeout(function(){i=n.subscribeByTeamId(e,t)},250)});return function(){return i()}},e}(),cK=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"visited-workspaces",{firestoreTimestampFields:["lastVisitedAt"]})}var r=n.prototype;return r.subscribeByUser=function(e,t){return this.subscribeByParams({userId:e},t,{orderBy:["lastVisitedAt","desc"]})},r.subscribeByWorkspace=function(e,t){return this.subscribeByParams({workspaceId:e},t,{orderBy:["lastVisitedAt","desc"]})},r.subscribeByUserAndTeam=function(e,t){var n=e.userId,r=e.teamId;return this.subscribeByParams({userId:n,teamId:r},t,{orderBy:["lastVisitedAt","desc"]})},n}(uO),cz=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"invites",{})}var r=n.prototype;return r.subscribeWorkspaceInvites=function(e,t,n){return this.subscribeByParams({workspaceId:e,type:sX.PA.Email,inviteTo:sX.FU.Workspace,status:sX.aj.Pending},t,null!=n?n:{orderBy:["inviteeEmail","asc"]})},r.subscribeTeamInvites=function(e,t,n){return this.subscribeByParams({teamId:e,type:sX.PA.Email,inviteTo:sX.FU.Team,status:sX.aj.Pending},t,null!=n?n:{orderBy:["inviteeEmail","asc"]})},n}(uO),cG=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"ai-interactions",{addCreatedAt:!0,addUpdatedAt:!0})}return n.prototype.updateInteractionStatus=function(e,t,n,r){var i=this;return(0,F.Z)(function(){var o;return(0,U.__generator)(this,function(a){return o={status:t},n&&(o.outputs=n),void 0!==r&&(o.duration=r),[2,i.updateById(e,o)]})})()},n}(uO),cW=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"ai-sessions",{addCreatedAt:!0,addUpdatedAt:!0})}return n}(uO),cq=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"known-people",{storeTeamSubscription:!0})}return n}(uO),c$=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"profiles",{fetchFromCache:!0})}return n.prototype.fetchByIds=function(e){var t=this;return(0,F.Z)(function(){var n,r,i,o,a,s,l,u,c;return(0,U.__generator)(this,function(A){switch(A.label){case 0:n=[],r=!0,i=!1,o=void 0,A.label=1;case 1:A.trys.push([1,6,7,8]),a=u_()(e,10)[Symbol.iterator](),A.label=2;case 2:if(r=(s=a.next()).done)return[3,5];return[4,Promise.all(s.value.map(function(e){return t.fetchById(e).catch(function(t){return console.error("[UserProfilesDAO] Failed to fetch user profile for",e,t),null})}))];case 3:(l=u=A.sent()).push.apply(l,(0,ny.Z)(u.filter(Boolean))),A.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return c=A.sent(),i=!0,o=c,[3,8];case 7:try{r||null==a.return||a.return()}finally{if(i)throw o}return[7];case 8:return[2,n]}})})()},n}(uO),cY=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"api-tokens",{addCreatedAt:!0,timestampFields:["createdAt"]})}var r=n.prototype;return r.create=function(e){return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){switch(t.label){case 0:return[4,rT.Z.post("teams/".concat(e.teamId,"/apiTokens"),e)];case 1:return[2,t.sent().id]}})})()},r.updateById=function(e,t,n){return(0,F.Z)(function(){return(0,U.__generator)(this,function(r){return[2,rT.Z.put("teams/".concat(null==n?void 0:n.teamId,"/apiTokens/").concat(e),t)]})})()},n}(uO),cJ=n(48005),cX=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"custom-icons",{storeTeamSubscription:!0})}var r=n.prototype;return r.uploadCustomIcon=function(e){var t=e.file,n=e.teamId,r=e.onSuccess,i=e.onError;return(0,F.Z)(function(){var e,o,a;return(0,U.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,t.text()];case 1:return e=s.sent(),o={label:lx(t.name),aliases:[],teamId:n,svgString:e},[4,rT.Z.post("customIcons",o)];case 2:return s.sent(),null==r||r(t.name),[3,4];case 3:return a=s.sent(),null==i||i(t.name,a),[3,4];case 4:return[2]}})})()},r.updateById=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){switch(n.label){case 0:if(t.url)throw Error("Cannot update URL");return[4,rT.Z.put("customIcons/".concat(e),t)];case 1:return n.sent(),[2]}})})()},r.updateIconFile=function(e,t){return(0,F.Z)(function(){var n,r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,t.text()];case 1:return n=i.sent(),[4,cJ.t.validateAndSanitize(t,n,window)];case 2:return r=i.sent(),[4,rT.Z.put("customIcons/".concat(e),{svgString:r})];case 3:return i.sent(),[2]}})})()},r.deleteById=function(e){return(0,F.Z)(function(){return(0,U.__generator)(this,function(t){switch(t.label){case 0:return[4,rT.Z.delete("customIcons/".concat(e))];case 1:return t.sent(),[2]}})})()},n}(uO),c0=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"aggregate-team-usage",{addUpdatedAt:!0})}return n}(uO),c1=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.call(this,"workspace-versions",{timestampFields:["createdAt"]})}var r=n.prototype;return r.getVersion=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,rT.Z.get("workspace/".concat(e,"/versions/").concat(t))]})})()},r.duplicateFrom=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,rT.Z.post("workspace/".concat(e,"/versions/duplicate"),{versionId:t})]})})()},r.listByWorkspace=function(e,t){return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return[2,rT.Z.get("workspace/".concat(e,"/versions?keepVersionsDays=").concat(t))]})})()},n}(uO),c2=function(e){(0,um.Z)(n,e);var t=(0,uv.Z)(n);function n(){return(0,t0.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.subscribeToAccessChanges=function(e,t,n){var r,i,o=(0,rc.iH)(rA.Fs,"workspaces/".concat(e,"/userAccess/").concat(t)),a=(0,rc.iH)(rA.Fs,"workspaces/".concat(e,"/publicAccess")),s=!1,l=!1,u=function(){s&&l&&n({read:(null==r?void 0:r.read)||(null==i?void 0:i.read)||!1,write:(null==r?void 0:r.write)||(null==i?void 0:i.write)||!1})},c=(0,rc.jM)(o,function(e){r=e.val(),s=!0,u()}),A=(0,rc.jM)(a,function(e){i=e.val(),l=!0,u()});return function(){c(),A()}},r.dispose=function(){},n}(uD.Z),c4="user-search-token",c3={restrictSearchableAttributes:["title","noteText","whiteboardTexts","ownerName","folderName"]},c5=function(e){(0,um.Z)(r,e);var t=(0,uv.Z)(r);function r(){var e;return(0,t0.Z)(this,r),e=t.apply(this,arguments),e._client=null,e._tokenPromise=null,e._currentUserId=null,e}var i=r.prototype;return i.getSecuredApiKeyRemainingValidity=function(e){try{var t=atob(e),n=/validUntil=(\d+)/.exec(t);if(null===n)return 0;return parseInt(n[1],10)-Math.round(Date.now()/1e3)}catch(e){return 0}},i.isValidStoredToken=function(e,t){return!!t&&"object"==typeof t&&"string"==typeof t.userId&&"string"==typeof t.token&&t.userId===e&&this.getSecuredApiKeyRemainingValidity(t.token)>86400},i.fetchNewToken=function(){return(0,F.Z)(function(){return(0,U.__generator)(this,function(e){switch(e.label){case 0:return[4,rT.Z.post("searchTokens",{})];case 1:return[2,e.sent().token]}})})()},i.ensureToken=function(e){var t=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){return tM.OB.isDev&&tM.wC.emulatorEnabled?[2,null]:(t._currentUserId!==e&&(t._tokenPromise=null,t._client=null,t._currentUserId=e),t._tokenPromise||(t._tokenPromise=(0,F.Z)(function(){var n,r,i;return(0,U.__generator)(this,function(o){switch(o.label){case 0:if(n=cO.J.getItem(c4),t.isValidStoredToken(e,n))return[2,n.token];t.clearSearchToken(),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.fetchNewToken()];case 2:if(r=o.sent())return t.storeSearchToken(e,r),[2,r];return[3,4];case 3:return i=o.sent(),(0,rI.Tb)(i),[3,4];case 4:return[2,null]}})})()),[2,t._tokenPromise])})})()},i.getClient=function(e){var t=this;return(0,F.Z)(function(){var r;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return[4,t.ensureToken(e)];case 1:if(!(r=i.sent()))return[2,null];if(t._client)return[3,3];return[4,n.e(3931).then(n.t.bind(n,43931,23))];case 2:t._client=(0,i.sent().default)(tM.O9.appId,r).initIndex(tM.O9.workspacesIndex),i.label=3;case 3:return[2,t._client]}})})()},i.buildFilterString=function(e){var t=["teamId:".concat(e.teamId)];return t.push("isWorkspaceArchived:".concat(e.isArchived?"true":"false")),void 0!==e.folderId&&(e.folderId?t.push("folderId:".concat(e.folderId)):t.push("folderId:UNSORTED")),e.ownerId&&t.push("ownerId:".concat(e.ownerId)),e.isPrivate&&t.push("isPrivate:true"),t.join(" AND ")},i.search=function(e){var t=this;return(0,F.Z)(function(){var n,r,i,o,a;return(0,U.__generator)(this,function(s){switch(s.label){case 0:if(!(n=t._currentUserId))return[2,{hits:[]}];return[4,t.getClient(n)];case 1:if(!(r=s.sent()))return[2,{hits:[]}];i=t.buildFilterString(e.filters),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,r.search(e.query,(0,L.Z)({filters:i,hitsPerPage:null!=(o=e.hitsPerPage)?o:20},c3))];case 3:return[2,{hits:s.sent().hits.map(function(e){return(0,tG.Z)((0,L.Z)({},e),{objectID:e.objectID,id:e.objectID})})}];case 4:return a=s.sent(),(0,rI.Tb)(a),[2,{hits:[]}];case 5:return[2]}})})()},i.setCurrentUserId=function(e){this._currentUserId!==e&&(this._currentUserId=e,this._tokenPromise=null,this._client=null)},i.ensureSearchToken=function(e){var t=this;return(0,F.Z)(function(){return(0,U.__generator)(this,function(n){switch(n.label){case 0:return t.setCurrentUserId(e),[4,t.ensureToken(e)];case 1:return n.sent(),[2]}})})()},i.storeSearchToken=function(e,t){cO.J.setItem(c4,{userId:e,token:t}),this._currentUserId=e},i.clearSearchToken=function(){cO.J.removeItem(c4),this._tokenPromise=null,this._client=null},r}(uD.Z),c6=n(42091),c8=function(e){var t=e.children,n=(0,j.useMemo)(function(){return O||(O={appSettings:cC,promptHistory:new uR,currentUser:new u5,comments:new u6,folders:new cF,workspaces:new cP,workspaceMembers:new cM,workspaceCollaborators:new cj,whiteboard:new cf,canvasLinks:new cB,aiDiagramming:new cS,eraserBot:new cD,aiContext:new cN,git:new cL,longRunningOperations:new cZ,organizations:new cQ,teams:new cH,userTeams:new cV,visitedWorkspaces:new cK,aiInteractions:new cG,aiSessions:new cW,knownPeople:new cq,userProfiles:new c$,invites:new cz,apiTokens:new cY,customIcons:new cX,aggregateTeamUsage:new c0,workspaceVersions:new c1,workspaceAccess:new c2,search:new c5,makeCanvasAccessor:function(e){var t=new cf;return t.initializeCollaboration(e),t},makeNotesAccessor:function(e){return new c_(e)}}),O},[]);return(0,P.jsx)(c6.$,{dataLayer:n,children:t})},c9=n(65616),c7=n(48617),Ae=n(28257),At=n(14413),An=n.n(At),Ar=function(e){var t=e.children,n=e.authUser,r=e.userDomain,i=(0,t3.K)();return(0,j.useMemo)(function(){if(i)return Array.from(i.values()).find(function(e){return e.ssoDomain===r.toLowerCase()})},[i,r])?(0,P.jsx)(P.Fragment,{children:t}):(0,P.jsx)(Ai,{authUser:n})},Ai=function(e){var t,n=e.authUser;(0,tH.r4)();var r=(0,ic.Z)(),i=(0,tJ.Pe)(),o=(0,im.Z)(),a=(0,n$.Z)((0,t3.p3)(),2),s=(a[0],a[1]);(0,j.useCallback)((t=(0,F.Z)(function(e){var t;return(0,U.__generator)(this,function(i){switch(i.label){case 0:return t="teamId"in e?e.teamId:e.id,[4,r.promise((0,id.Z)(t,n.id,{origin:"sso",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"})];case 1:return i.sent(),s(t,{shouldResetFolder:!0}),[2]}})}),function(e){return t.apply(this,arguments)}),[n.id,s]);var l=null==o?void 0:o.filter(function(e){var t;return"ssoDomain"in e&&e.ssoDomain&&e.ssoDomain===(null==(t=n.sso)?void 0:t.toLowerCase())});return(null==l?void 0:l.length)?(0,P.jsx)("div",{className:An().container,children:(0,P.jsxs)(c7.Z,{title:"Join Team",label:"SSO Sign Up",labelIcon:(0,P.jsx)(Ae.Z,{color:"var(--green-success)"}),children:[(0,P.jsx)("p",{className:An().joinText,children:"Reach out to your admin if you don't see the team you're looking for."}),(0,P.jsx)("table",{className:An().joinTable,children:(0,P.jsx)("tbody",{children:null==l?void 0:l.map(function(e){var t=(0,n$.Z)("teamId"in e?[e.teamName,e.teamId]:[e.name,e.id],2);t[0],t[1],An().joinTableTeamName,nX.zx,nX.u8.X_LARGE})})})]})}):(0,P.jsx)("div",{className:An().container,children:(0,P.jsxs)(c7.Z,{title:"Join Team",label:"SSO Sign Up",labelIcon:(0,P.jsx)(Ae.Z,{color:"var(--green-success)"}),children:[(0,P.jsx)("p",{children:"There are no teams you are eligible to join yet. Please reach out to your admin for an invite."}),(0,P.jsx)(nX.zx,{size:nX.u8.X_LARGE,onClick:function(){return i.currentUser.signOut()},children:"Sign Out"})]})})},Ao=n(27038),Aa=function(e){var t=e.authUser,n=e.ssoTeam,r=(0,tJ.Pe)(),i=(0,j.useCallback)((0,F.Z)(function(){var e;return(0,U.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,Ao.Z)(t.email)];case 1:return e=n.sent(),[4,r.currentUser.signOut()];case 2:return n.sent(),window.location.href=e,[2]}})}),[t.email]),o=n&&t;return(0,j.useLayoutEffect)(function(){o&&setTimeout(i,1500)},[o,i]),(0,tH.r4)(),(0,P.jsx)("div",{className:An().container,children:(0,P.jsxs)(c7.Z,{title:"Re-routing to SSO login...",label:"SSO Detected",labelIcon:(0,P.jsx)(Ae.Z,{color:"var(--green-success)"}),children:[(0,P.jsx)("p",{children:"SSO is detected for your domain."}),(0,P.jsxs)("span",{onClick:i,className:An().rerouting,children:[(0,P.jsx)(iv.Z,{inline:!0})," Re-routing..."]})]})})},As=function(e){var t,n,r,i=e.children,o=(0,t$.fC)(),a=(null==(n=null==o||null==(t=o.email)?void 0:t.split("@")[1])?void 0:n.toLowerCase())||"example.com",s=(null==o||null==(r=o.sso)?void 0:r.toLowerCase())===a,l=(0,t3.K)(),u=(0,j.useMemo)(function(){if(l&&a)return Array.from(l.values()).find(function(e){return e.ssoDomain===a})},[l,a]);return o&&u&&(!u||!s)&&(u||s)?u?(0,P.jsx)(Aa,{authUser:o,ssoTeam:u}):(0,P.jsx)(Ar,{authUser:o,userDomain:a}):(0,P.jsx)(P.Fragment,{children:i})},Al=n(92458),Au={logLevel:4,sdkKey:"X8uGG684qRdkxfjg7yDEx",datafileOptions:{autoUpdate:!0,updateInterval:6e5,urlTemplate:"/api/optimizely/datafile"}},Ac=function(e){var t=e.children,n=(0,t$.fC)(),r=null==n?void 0:n.id,i=(0,t3.DJ)().currentTeamId,o=(0,t3.Ad)(),a=(0,t$.g5)(),s=(0,t3.MV)(),l=(0,j.useMemo)(function(){return{teamId:null!=i?i:"",userId:null!=r?r:"",areTeamsEmpty:o,areTeamsLoaded:s,isUserAnonymous:a}},[i,r,o,s,a]);return(0,Al.B)(l,Au)?(0,P.jsx)(P.Fragment,{children:t}):null};Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0)&&!(e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0}),n(17459),n(97653),n(83167);var AA=n(34406);tI.jU&&(window.addEventListener("error",function(e){var t,n,r;e.stopImmediatePropagation(),e.error&&(("string"==typeof(r=null!=(n=null==(t=e.error)?void 0:t.message)?n:"")?r:r.message).toLowerCase().replace(/_/g," ").includes("permission denied")?console.warn(e.error):(0,rI.Tb)(e.error,{isUncaught:!0}))}),window.addEventListener("unhandledrejection",function(e){e.stopImmediatePropagation()}));var Ad=function(e){var t=e.error;return(0,P.jsx)(tS.Z,{statusCode:500,title:"Something went wrong",error:t})},Ah=["pdf-view","render"],Af=["/tutorial/iframe"],Ap="live"===t4.Wi,Ag=AA.env.TEST_ANALYTICS_ENABLED;(Ap||Ag)&&ug(tX.Z);var Am=function(e){var t,n=e.Component,r=e.pageProps,i=(0,z.useRouter)();rd((0,j.useCallback)(function(){return window.location.reload()},[]));var o=i.pathname.startsWith("/dashboard")?(0,P.jsx)(oX,{children:(0,P.jsx)(n,(0,L.Z)({},r))}):(0,P.jsx)(n,(0,L.Z)({},r));return t=Ah.some(function(e){return i.asPath.includes(e)})?(0,P.jsx)(M.Wh,{children:(0,P.jsx)(ru.Yl,{children:o})}):Af.some(function(e){return i.asPath.startsWith(e)})?(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(tk.Z,{fallback:Ad,children:(0,P.jsx)(M.Wh,{children:(0,P.jsx)(ru.Yl,{children:(0,P.jsx)(c9.D,{children:(0,P.jsx)(rl,{children:(0,P.jsx)(Ac,{children:(0,P.jsxs)(As,{children:[(0,P.jsx)(rx,{}),(0,P.jsx)(tK,{}),o]})})})})})})})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(tQ,{og:(null==r?void 0:r.og)?(0,L.Z)({},tj,r.og):tj}),(0,P.jsx)(tH.ch,{initialTheme:null==r?void 0:r.theme}),(0,P.jsx)(tk.Z,{fallback:Ad,children:(0,P.jsx)(M.Wh,{children:(0,P.jsx)(tT,{children:(0,P.jsx)(ru.Yl,{children:(0,P.jsx)(c8,{children:(0,P.jsx)(rl,{children:(0,P.jsx)(Ac,{children:(0,P.jsxs)(As,{children:[(0,P.jsx)(rx,{}),(0,P.jsx)(tK,{}),(0,P.jsx)(ud,{}),o]})})})})})})})})]}),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(K(),{children:[(0,P.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),(0,P.jsx)("title",{children:"Eraser"})]}),t]})},Av=function(e){if(!e)return null;try{var t=e.url,n=e.headers.host;if(!t||!n)return null;return new URL(t,"http://".concat(n)).searchParams.get("theme")}catch(e){return null}};l=(0,F.Z)(function(e){var t,n,r,i,o,a,s,l;return(0,U.__generator)(this,function(u){switch(u.label){case 0:return t="/playground"===e.router.pathname?"dark":"light",[4,H.default.getInitialProps(e)];case 1:n=u.sent();try{return a=(o=e.ctx).req,s=o.res,"string"==typeof(null==(i=e.ctx.query)?void 0:i.theme)?r=e.ctx.query.theme:e.router.asPath.match(/theme=(dark|light)/)?r=e.router.asPath.match(/theme=(dark|light)/)[1]:Av(a)?r=Av(a):s&&a?(l=new(Q())(a,s),r=rb(rE,l)||t):r=t,[2,{pageProps:(0,L.Z)({theme:r},n.pageProps)}]}catch(e){return[2,n]}}})}),Am.getInitialProps=function(e){return l.apply(this,arguments)};var Ay=Am},98916:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(2784),i=n(96933),o=n(45403);function a(){var e,t=(0,o.Pe)(),n=null!=(e=(0,i.aF)())?e:{},a=n.id,s=n.isAnonymous,l=(0,r.useState)({}),u=l[0],c=l[1],A=(0,r.useState)(!0),d=A[0],h=A[1],f=(0,r.useCallback)(function(e){c(e),h(!1)},[]);return(0,r.useEffect)(function(){if(!a||s){c({}),h(!1);return}h(!0);try{return t.currentUser.subscribeToActivations(f)}catch(e){console.error("Error subscribing to activations",e),h(!1)}},[a,s,f]),{loading:d,activations:u}}},42541:function(e,t,n){"use strict";var r=n(90581),i=n(70865),o=n(96670),a=n(32472);t.Z=new(function(){function e(){(0,r.Z)(this,e),this._integrations=new Set,this._sessionProperties={},this._cachedEvents=[]}var t=e.prototype;return t.registerIntegration=function(e){this._integrations.add(e),this._cachedEvents&&this._cachedEvents.forEach(function(t){e.trackEvent(t.event,t.payload)})},t.trackEvent=function(e,t,n){var r=null!=e?"".concat(e,"_").concat(t):t,s=(0,o.Z)((0,i.Z)({appVersion:a.Ji},this._sessionProperties,n),{isTouchDevice:!!(null==window?void 0:window.ontouchstart)||!!(null==navigator?void 0:navigator.maxTouchPoints)});this._integrations.forEach(function(e){e.trackEvent(r,s)}),this._addToCache({event:r,payload:s})},t._addToCache=function(e){this._cachedEvents.push(e),this._cachedEvents.length>100&&this._cachedEvents.unshift()},t.identify=function(e){this._integrations.forEach(function(t){t.identify(e)})},t.updateSessionProperties=function(e){this._sessionProperties=(0,i.Z)({},this._sessionProperties,e)},t.dispose=function(){this._sessionProperties={},this._cachedEvents=[],this._integrations.forEach(function(e){e.dispose()})},e}())},50252:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(90581),i=n(21218),o=n(39309),a=new(function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}var a=n.prototype;return a.trackEvent=function(e,t){this.emit("event",e,t)},a.identify=function(){},a.dispose=function(){this.removeAllListeners()},n}(n(30686).v))},64044:function(e,t,n){"use strict";var r=n(98788),i=n(90581),o=n(70865),a=n(96670),s=n(22970),l=n(89960),u=n(67640);function c(){return(c=(0,r.Z)(function(e,t){return(0,s.__generator)(this,function(r){switch(r.label){case 0:return[4,n.e(5362).then(n.bind(n,78321))];case 1:return[4,(0,r.sent().default)(e,(0,a.Z)((0,o.Z)({},t),{useWebWorker:!0}))];case 2:return[2,r.sent()]}})})).apply(this,arguments)}t.Z=function(){function e(t){(0,i.Z)(this,e),this._options=t}var t=e.prototype;return t.upload=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return(0,r.Z)(function(){var r,i,o,a,A,d,h,f,p,g,m,v;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(r=t.fileName,o=(i=n._options).compress,a=i.maxSizeMB,A=i.maxWidthOrHeight,d=i.workspaceId,h=i.teamId,f=i.userId,p=r||("name"in e?e.name:void 0)||"",!(o&&"image/svg+xml"!==e.type))return[3,2];return[4,function(e,t){return c.apply(this,arguments)}(e,{maxSizeMB:a,maxWidthOrHeight:A})];case 1:e=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),g=d?"/workspace/".concat(d,"/upload"):h?"/teams/".concat(h,"/upload"):"/user/".concat(f,"/upload"),(m=new FormData).append("fileName",p),m.append("file",e,p),[4,u.Z.post(g,m)];case 3:return[2,s.sent()];case 4:throw v=s.sent(),(0,l.Tb)(v),v;case 5:return[2]}})})()},t.dispose=function(){},e}()},84054:function(e,t,n){"use strict";var r,i=n(98788),o=n(22970),a=n(42541),s=n(95550),l=n(67640),u=function(e,t){var n;e.inviteTo===s.FU.Team?n=e.teamId:e.inviteTo===s.FU.Workspace&&(n=e.workspaceId),n&&e.type===s.PA.Email&&a.Z.trackEvent("invite","create",{inviteTo:e.inviteTo,inviteId:n,inviteType:e.type,origin:t})};r=(0,i.Z)(function(e,t){var n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return[4,l.Z.post("invite",e)];case 1:return(n=r.sent())&&u(e,t),[2,n]}})}),t.Z=function(e,t){return r.apply(this,arguments)}},76793:function(e,t,n){"use strict";n.d(t,{K:function(){return m}});var r=n(11929),i=n(42541),o=n(2595),a=n(96933),s=n(2332),l=n(53562),u=n(11269),c=n(69211),A=n(50389),d=n(88218),h=n(10847),f=n(41217),p=n(67640),g=n(45403);function m(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onSuccess,t=(0,o.Z)(),n=(0,a.aF)(),m=(0,s.Gr)(null==n?void 0:n.id,!0),v=(0,l.Z)(),y=(0,u.K)(),b=(0,h.E)("team_create_domain_exceptions"),w=b.value,_=b.isLoading,E=(0,d.u6)(n),C=function(e,t,n,r,i,o){var a=null==t||null==n||!e||o;if(a)return{isLoadingCreateTeamCheck:a,canCreateTeam:!1};if(null==i?void 0:i.includes(r))return{isLoadingCreateTeamCheck:a,canCreateTeam:!0};var s=t.some(function(e){return"domain"in e&&e.domain===r&&(0,A.aX)(e)}),l=n.some(function(t){return(0,A.aX)(t)&&(t.ownerId===e||t.domain===r)});return{isLoadingCreateTeamCheck:a,canCreateTeam:!s&&!l}}(null==n?void 0:n.id,v,y?Array.from(y.values()):void 0,E,_?null:null!=w?w:[],_),B=C.canCreateTeam,x=C.isLoadingCreateTeamCheck,I=(0,a.ZE)(),T=I?"".concat(I.split(" ")[0],"'s Team"):"",S=(0,r.UK)(function(r){if(B){var o,a,s=(0,f.AJ)();return t.promise((o={name:r.name,isAutoJoinEnabled:null==n?void 0:n.emailVerified,ref:null!=(a=null==s?void 0:s.signUpOrigin)?a:null==m?void 0:m.signUpOrigin},p.Z.post("teams",o)),{loading:"Creating team",success:"Created team",error:function(e){return 409===(0,c.Lr)(e).statusCode?"You already have a team with that name. Try another name.":"Error creating team."}}).then(function(t){i.Z.trackEvent("team","create",{teamId:t.id}),null==e||e(t),(null==n?void 0:n.id)&&(0,g.z6)().search.ensureSearchToken(n.id)})}t.error("".concat(E," already has a team with a free plan"))});return{isLoadingCreateTeamCheck:x,canCreateTeam:B,workDomain:E,handleCreateTeam:S.execute,error:S.error,loading:S.loading,defaultTeamName:T}}},6021:function(e,t,n){"use strict";var r,i=n(98788),o=n(70865),a=n(96670),s=n(22970),l=n(42541),u=n(45403),c=n(67640);r=(0,i.Z)(function(e,t,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(!t)throw Error("Cannot join a team without a userId");return[4,c.Z.post("teams/".concat(e,"/join"),{})];case 1:return r.sent(),(0,u.z6)().search.ensureSearchToken(t),l.Z.trackEvent("team","join",(0,a.Z)((0,o.Z)({},n),{teamId:e})),[2]}})}),t.Z=function(e,t,n){return r.apply(this,arguments)}},41289:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var r=n(26297),i=n(67640),o=function(e){var t=e.teamId,n=e.userId,o=(0,r.Z)(e,["teamId","userId"]);return i.Z.post("teams/".concat(t,"/memberships/").concat(n),o)}},68689:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(67640),i=function(e){var t=e.teamId,n=e.memberId;return r.Z.delete("teams/".concat(t,"/memberships/").concat(n))};t.Z=i},1429:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(67640),i=n(42541),o=function(e){return i.Z.trackEvent("template","publish",{templateId:e.templateWorkspaceId,teamId:e.teamId}),r.Z.post("template/save",e)}},20985:function(e,t,n){"use strict";n.d(t,{ES:function(){return p},GF:function(){return A},QZ:function(){return g},do:function(){return f},wR:function(){return h},yh:function(){return d}});var r,i=n(98788),o=n(22970),a=n(99669),s=n(67640),l=n(89813),u="anonymous-user-token",c="anonymous-user-id",A=(r=(0,i.Z)(function(){var e;return(0,o.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,l.Z)(1e3)];case 1:return t.sent(),[4,s.Z.post("/user/anonymousToken",{prevToken:d()},{responseType:"text"})];case 2:return e=t.sent(),a.J.setItem(u,e),[2]}})}),function(){return r.apply(this,arguments)}),d=function(){return a.J.getItem(u)||void 0},h=function(){a.J.removeItem(u)},f=function(e){a.J.setItem(c,e)},p=function(){return a.J.getItem(c)},g=function(){a.J.removeItem(c)}},41217:function(e,t,n){"use strict";n.d(t,{AJ:function(){return o},Q0:function(){return s},jj:function(){return a}});var r=n(99669),i="cached-profile-args",o=function(){var e;return null!=(e=r.J.getItem(i))?e:{}},a=function(e){var t,n=null!=(t=o())?t:{},a=Object.assign({},n,e);n.signUpOrigin&&"other"===e.signUpOrigin&&(a.signUpOrigin=n.signUpOrigin),r.J.setItem(i,a)},s=function(){r.J.removeItem(i)}},90332:function(e,t,n){"use strict";n.d(t,{D:function(){return u},M:function(){return c}});var r=n(5632),i=n.n(r),o=n(92106),a=n(99669),s="last-textbox-scale",l=function(){var e=i().query.id||i().query.workspaceId;return"string"!=typeof e?s:"".concat(e,"-").concat(s)},u=function(e){a.J.setItem(l(),e)},c=function(){return a.J.getItem(l())||o.hl}},3552:function(e,t,n){"use strict";n.d(t,{M:function(){return u}});var r,i=n(98788),o=n(22970),a=n(42541),s=n(67640),l=function(e,t,n){a.Z.trackEvent("workspace","create",{workspaceId:e,eventSource:t,isTemplate:n.isTemplate}),n.isTemplate&&a.Z.trackEvent("template","create",{templateId:e,teamId:n.teamId})},u=(r=(0,i.Z)(function(e,t){var n,r,i,a;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,s.Z.post("workspace",e)];case 1:return r=(n=o.sent()).workspace,i=n.didCreate,a=n.id,i&&l(a,t,e),[2,r]}})}),function(e,t){return r.apply(this,arguments)})},45262:function(e,t,n){"use strict";n.d(t,{B:function(){return i},f:function(){return o}});var r=n(99669),i="workspace-id";function o(){r.J.removeItem(i)}},355:function(e,t,n){"use strict";n.d(t,{$:function(){return i},N:function(){return o}});var r=n(61534),i=function(e){return Object.values(r.X).includes(e)},o=function(e){var t=e.workspaceId,n=e.params,r="".concat(location.origin,"/workspace/").concat(t);return n&&(r+="?".concat(new URLSearchParams(n).toString())),r}},76136:function(e,t,n){"use strict";n.d(t,{E:function(){return tC}});var r,i,o,a=n(52322),s=n(5632),l=n.n(s),u=n(87583),c=n(2784),A=n(11269),d=n(39183),h=n(42541),f=n(2643),p=n(67058),g=n(86378),m=n.n(g),v=n(66804),y=n(62866),b=n(89563),w=n(28563),_=n(22805),E=(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:m().keys,children:[(0,p.K8)("ArrowUp",!0),(0,p.K8)("ArrowDown",!0)]}),(0,a.jsx)("span",{children:"to navigate"})]}),C=function(e){switch(e){case"commands":return(0,a.jsxs)(a.Fragment,{children:[E,(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:m().keys,children:(0,p.K8)("Enter",!0)}),(0,a.jsx)("span",{children:"enter command"})]})]});case"fileSearch":case"help":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:m().keys,children:(0,p.K8)("Enter",!0)}),(0,a.jsx)("span",{children:"search"})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:m().keys,children:(0,p.K8)("Esc",!0)}),(0,a.jsx)("span",{children:"cancel"})]})]});case"goToFile":return(0,a.jsxs)(a.Fragment,{children:[E,(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:m().keys,children:(0,p.K8)("Enter",!0)}),(0,a.jsx)("span",{children:"open here"})]}),(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:m().keys,children:[(0,p.K8)("CtrlOrCmd",!0)," ",(0,p.K8)("Enter",!0)]}),(0,a.jsx)("span",{children:"open new tab"})]})]});default:return null}},B=(0,a.jsxs)("span",{className:m().toggleTitle,children:["Mode ",(0,a.jsx)(b.P,{keys:["AltOrOption","M"]})]}),x=(0,c.forwardRef)(function(e,t){var n=e.screen,r=e.onScreenChange,i=e.onDropdownClose,o=(0,c.useRef)(null),s=(0,c.useState)(!1),l=s[0],u=s[1];return(0,_.Z)({"ctrl+m":{callback:function(){var e;return null==(e=o.current)?void 0:e.click()}}}),(0,c.useImperativeHandle)(t,function(){return{openDropdown:function(){var e;return null==(e=o.current)?void 0:e.click()}}},[]),(0,a.jsxs)("div",{className:m().shortcuts,children:[C(n),(0,a.jsx)("span",{className:m().modeWrapper,children:(0,a.jsxs)(v.Lt,{showCaret:!1,selected:n,title:B,toggleRef:o,isOpen:l,onSelect:function(e){r(e),h.Z.trackEvent("command_k","switch_screen",{method:"dropdown",screen:n})},classNames:{menu:m().menu},onOpenChange:function(e){u(e),e||i()},selectionVariant:w._.Grey,toggleClassNames:{button:m().toggleButton,root:m().toggleRoot},children:[(0,a.jsx)(y.Wx,{rightElement:(0,a.jsx)(b.P,{keys:["CtrlOrCmd","K"]}),children:"Commands"},"commands"),(0,a.jsx)(y.Wx,{rightElement:(0,a.jsx)(b.P,{keys:["CtrlOrCmd","P"]}),children:"Go to file ..."},"goToFile"),(0,a.jsx)(y.Wx,{rightElement:(0,a.jsx)(b.P,{keys:["AltOrOption","F"]}),children:"File Search"},"fileSearch"),(0,a.jsx)(y.Wx,{rightElement:(0,a.jsx)(b.P,{keys:["AltOrOption","H"]}),children:"Help"},"help")]})})]})}),I=n(21732),T=n(39097),S=n.n(T),k=n(50852),N=n(56380),D=n(83433),O=n(45612),R=n(70865),F=n(96670),L=n(32472),U=n(1158),P=n(34803),M=n(91947),j=n(12967),Z=n(49377),Q=n(88404),H=function(e){if("folder"===e.type)return{icon:(0,a.jsx)(Q.J,{icon:Z.Z}),subTitle:e.title};var t,n=(0,U.T5)(e.gitHubRepository||{}),r=n.organization,i=n.repository,o=!!e.isPrivate,s=r&&i,l=void 0,u="",c=e.folderName||L.bo;return s&&(l=(0,a.jsx)(Q.J,{icon:M.Z,width:10}),c="".concat(r.name,"/").concat(i.name),u=(0,P.Id)(null==(t=e.gitHubRepository)?void 0:t.filePath)),o&&(l=(0,a.jsx)(Q.J,{icon:j.Z})),{icon:l,subTitle:c,secondaryTitle:u}},V=function(e){return"/dashboard/all?search=".concat(encodeURIComponent(e))},K=n(12614),z=n.n(K),G=n(26297),W=n(12567),q=n(57200),$=n.n(q),Y=n(3635),J=function(e){var t=e.classNames,n=(0,G.Z)(e,["classNames"]);return(0,a.jsx)(W.v,(0,F.Z)((0,R.Z)({},n),{disableHover:!0,classNames:(0,F.Z)((0,R.Z)({},t),{root:(0,Y.Z)(null==t?void 0:t.root,$().root),rootActive:(0,Y.Z)(null==t?void 0:t.rootActive,$().rootActive)})}))},X=function(e,t){return"folder"===e.type?"/folder/".concat(e.id):e.id!==es.id?"/workspace/".concat(e.id):V(t)},ee=function(e){var t=e.query,n=e.isActive,r=e.item,i=e.onClick,o=e.onMouseOver,s=H(r);return(0,a.jsx)(S(),{href:X(r,t),children:(0,a.jsx)("a",{onClick:function(e){return i(r,e)},children:(0,a.jsx)(J,(0,F.Z)((0,R.Z)({},s),{isActive:n,onMouseOver:o,mainTitle:r.title||L.SF,classNames:{icon:z().icon}}))})})},et=n(51992),en=n(79941),er=n.n(en),ei=function(){return(0,a.jsx)(a.Fragment,{children:Array.from(Array(6)).map(function(e,t){return(0,a.jsx)("div",{className:(0,Y.Z)(er().skeletonWrapper,0===t&&er().isActive),children:(0,a.jsxs)(et.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[(0,a.jsx)(et.ZP,{height:15}),(0,a.jsx)(et.ZP,{className:er().folder,width:"30%",height:14})]})},"skeleton-".concat(t))})})},eo=n(69713),ea=n.n(eo),es={id:"no-results",type:"file",title:"No results found",folderName:"Hit enter to try full search"},el=function(e){var t,n=e.query,r=(0,I.Y)().isModalOpen,i=(0,N.qz)().setModalStates,o=(0,O.Z)(n,7),s=(0,c.useMemo)(function(){return Array.isArray(o.results)?o.results:[]},[o.results]),u=function(){var e,t=(null==(e=o.results)?void 0:e.length)||0;h.Z.trackEvent("files_search","open_full_search",{resultsCount:t})},A=function(e,t){var n=t[k.q]||t.shiftKey;"folder"===e.type?h.Z.trackEvent("files_search","open_folder",{method:"click",isInNewTab:n}):h.Z.trackEvent("files_search","open_file",{method:"click",isInNewTab:n}),n||i({isFileSearchModalOpen:!1})},d=s.length?s:[es],f=(0,D.c)({isListOpen:r,items:d,onSelect:function(e,t){var r=X(e,n),o=t[k.q]||t.shiftKey;(e===es&&u(),"folder"===e.type?h.Z.trackEvent("files_search","open_folder",{method:"keyboard",isInNewTab:o}):h.Z.trackEvent("files_search","open_file",{method:"keyboard",isInNewTab:o}),null==t?void 0:t[k.q])?window.open(r,"_blank"):t.shiftKey?window.open(r,e.title):(l().push(r),i({isFileSearchModalOpen:!1}))},options:{additionalOnSelectShortcuts:["shift+enter"]}}),p=f.activeIndex,g=f.setActiveIndex;return(0,c.useEffect)(function(){var e;!n.length||o.isLoading||null!=(e=o.results)&&e.length||h.Z.trackEvent("files_search","no_results")},[o.isLoading,o.results,n.length]),(0,a.jsxs)(a.Fragment,{children:[d?d.map(function(e,t){return(0,a.jsx)(ee,{query:n,item:e,onClick:A,isActive:t===p,onMouseOver:g.bind(null,t)},e.id)}):(0,a.jsx)(ei,{}),n&&(null==(t=o.results)?void 0:t.length)===1&&(0,a.jsxs)("div",{className:ea().fullSearchSuggestion,children:["Not what you are looking for? Try",(0,a.jsx)(S(),{href:V(n),children:(0,a.jsx)("a",{onClick:function(){u(),i({isFileSearchModalOpen:!1})},children:"full search."})})]})]})},eu="data-command-k-item-index",ec=n(50930),eA=n(66140),ed=n(99669),eh=n(34406),ef="recentCommandKItems",ep=function(){return ed.J.getItem(ef)||[]},eg=["joinSlack"],em=function(e){if(!eg.includes(e)){var t=ep(),n=Date.now(),r=t.find(function(t){return t.id===e});r?(r.count++,r.lastUsed=n):t.push({id:e,count:1,lastUsed:n});var i=t.sort(function(e,t){var r=e.count*(1/(n-e.lastUsed));return t.count*(1/(n-t.lastUsed))-r}).slice(0,5);ed.J.setItem(ef,i)}},ev=["goToGitConnect","joinSlack","goToDocs-embeds","goToDocs-codebase-diagrams","goToDocs-eraserbot"],ey=eh.env.STORYBOOK?"goToDocs-embeds":ev[Math.floor(Math.random()*ev.length)],eb=function(e){var t,n,r,i,o,a,s,l,u,c,A,d,f,p,g,m,v,y,b,w,_,E,C,B,x,I=e.context,T=e.registrar,S=[],k="\xa0\xa0then\xa0\xa0",N="workspace"===I.type&&!(null==(t=I.workspace)?void 0:t.teamId),D=function(e){var t,n,r;(null==(t=T[e])?void 0:t.execute)&&(null==(n=T[e])||null==(r=n.execute)||r.call(n),em(e),h.Z.trackEvent("command_k","execute_item",{commandId:e}))},O=[{type:"action",id:"toggleDarkMode",isSuggested:!0,categoryId:"display",title:"Toggle dark mode",aliases:["light"],shortcut:["Shift","AltOrOption","D"],execute:function(){return D("toggleDarkMode")},description:"Switch between a light and dark theme",availableContextTypes:{dashboard:!0,folder:!0,gitHubRepo:!0,workspace:!0}},{type:"action",id:"toggleComments",categoryId:"display",aliases:["hide","show"],title:"Toggle comments",shortcut:["AltOrOption","C"],availableContextTypes:{workspace:!0},execute:function(){return D("toggleComments")},description:"Toggle the visibility of comments"},{id:"toggleUi",type:"action",title:"Toggle UI",categoryId:"display",shortcut:["CtrlOrCmd","\\"],isHidden:null==(n=T.toggleUi)?void 0:n.isHidden,execute:function(){return D("toggleUi")},availableContextTypes:{workspace:!0},description:"Toggle the visibility of the UI"},{type:"action",aliases:["note"],categoryId:"display",id:"switchLayoutDocument",shortcut:["AltOrOption","1"],title:"Switch to Document layout",description:"Only see the Document",availableContextTypes:{workspace:!0},isHidden:null==(r=T.switchLayoutDocument)?void 0:r.isHidden,execute:function(){return D("switchLayoutDocument")}},{type:"action",categoryId:"display",id:"switchLayoutBoth",title:"Switch to Both layout",shortcut:["AltOrOption","2"],availableContextTypes:{workspace:!0},isHidden:null==(i=T.switchLayoutBoth)?void 0:i.isHidden,execute:function(){return D("switchLayoutBoth")},description:"See both the Document and the Canvas"},{type:"action",categoryId:"display",aliases:["whiteboard"],id:"switchLayoutCanvas",shortcut:["AltOrOption","3"],title:"Switch to Canvas layout",description:"Only see the Canvas",availableContextTypes:{workspace:!0},isHidden:null==(o=T.switchLayoutCanvas)?void 0:o.isHidden,execute:function(){return D("switchLayoutCanvas")}}],L=[{id:"newFile",type:"action",title:"New file",categoryId:"newFile",shortcut:["Control|Alt","N"],isHidden:null==(a=T.newFile)?void 0:a.isHidden,execute:function(){return D("newFile")},description:"Create a new Eraser file",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0}},{type:"action",categoryId:"newFile",id:"newFileFromTemplate",shortcut:["Control|Alt","T"],title:"New file from template",execute:function(){return D("newFileFromTemplate")},description:"Use a template to create a new Eraser file",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"newGitHubFile",categoryId:"newFile",title:"New Github file",shortcut:["Control|Alt","CtrlOrCmd","N"],execute:function(){return D("newGitHubFile")},description:"Create a new Eraser file that is synced to Github",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"newPrivateFile",categoryId:"newFile",title:"New private file",shortcut:["Control|Alt","Shift","N"],isHidden:null==(s=T.newPrivateFile)?void 0:s.isHidden,execute:function(){return D("newPrivateFile")},description:"Create a new Eraser file that only you can see",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],U=[{type:"action",id:"inviteToTeam",title:"Invite to team",aliases:["add","user"],categoryId:"inviteAndShare",execute:function(){return D("inviteToTeam")},description:"Invite team members to this team",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"copyShareLink",aliases:["invite"],title:"Copy share link",categoryId:"inviteAndShare",shortcut:["CtrlOrCmd","Shift","L"],availableContextTypes:{workspace:!0},description:"Quickly copy the link to this file",execute:function(){return D("copyShareLink")}},{type:"action",id:"openShare",title:"Invite / Share",categoryId:"inviteAndShare",shortcut:["CtrlOrCmd","Shift","S"],execute:function(){return D("openShare")},availableContextTypes:{workspace:!0},description:"Invite users, change access settings, and more",aliases:["add","invite","secure","security","access","read","write"]},{type:"action",id:"changeFileType",title:"Change file type",categoryId:"inviteAndShare",aliases:["access","team","private"],availableContextTypes:{workspace:!0},description:"Modify the privacy of this file",execute:function(){return D("changeFileType")}},{type:"action",id:"changeLinkAccess",title:"Change link access",categoryId:"inviteAndShare",availableContextTypes:{workspace:!0},execute:function(){return D("changeLinkAccess")},description:"Modify the settings of the file link",aliases:["security","privacy","read","write","public"]},{type:"action",id:"changeToTeamFile",subCategory:"File type",categoryId:"inviteAndShare",title:"Change to team file",availableContextTypes:{workspace:!0},isHidden:null==(l=T.changeToTeamFile)?void 0:l.isHidden,execute:function(){return D("changeToTeamFile")},description:"Any team member can find and edit this file"},{type:"action",subCategory:"File type",id:"changeToPrivateFile",categoryId:"inviteAndShare",title:"Change to private file",availableContextTypes:{workspace:!0},isHidden:null==(u=T.changeToPrivateFile)?void 0:u.isHidden,description:"Only invited members and guests can edit",execute:function(){return D("changeToPrivateFile")}},{type:"action",subCategory:"Link type",id:"changeToNoLinkAccess",categoryId:"inviteAndShare",title:"Change to no link access",availableContextTypes:{workspace:!0},isHidden:null==(c=T.changeToNoLinkAccess)?void 0:c.isHidden,execute:function(){return D("changeToNoLinkAccess")},description:"Only team members or invited guests can view or edit this file"},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToAnyoneAccessFile",availableContextTypes:{workspace:!0},title:"Change to anyone with the link can edit",isHidden:null==(A=T.changeToAnyoneAccessFile)?void 0:A.isHidden,execute:function(){return D("changeToAnyoneAccessFile")},description:"Anyone with the link can View. Does not require Eraser account. Anyone with the link can Edit. Requires Eraser account."},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToPublicViewedFile",title:"Change to publicly viewable",availableContextTypes:{workspace:!0},isHidden:null==(d=T.changeToPublicViewedFile)?void 0:d.isHidden,execute:function(){return D("changeToPublicViewedFile")},description:"Anyone with the link can View. Does not require Eraser account."},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToPublicEditableFile",title:"Change to publicly editable",availableContextTypes:{workspace:!0},isHidden:null==(f=T.changeToPublicEditableFile)?void 0:f.isHidden,execute:function(){return D("changeToPublicEditableFile")},description:"Anyone with a link can Edit. Does not require Eraser account."}],P=[{type:"action",id:"newFolder",title:"New folder",categoryId:"folderActions",description:"Create a new folder",execute:function(){return D("newFolder")},availableContextTypes:{folder:!0,dashboard:!0}},{type:"action",id:"moveFolder",title:"Move folder",categoryId:"folderActions",availableContextTypes:{folder:!0},isHidden:null==(p=T.moveFolder)?void 0:p.isHidden,execute:function(){return D("moveFolder")},description:"Modify the location of this folder"},{type:"action",id:"renameFolder",title:"Rename folder",categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Modify the name of this folder",execute:function(){return D("renameFolder")}},{type:"action",id:"deleteFolder",title:"Delete folder",categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Permanently delete this folder",execute:function(){return D("deleteFolder")}}],M=[{type:"action",id:"exportFile",isSuggested:!0,title:"Export file",categoryId:"fileActions",shortcut:["CtrlOrCmd","E"],availableContextTypes:{workspace:!0},execute:function(){return D("exportFile")},description:"Export to pdf, markdown, svg or image formats"},{type:"action",id:"insertAiOutline",isSuggested:!0,title:"New AI outline",aliases:["insert","ai","generate","document"],categoryId:"fileActions",availableContextTypes:{workspace:!0},execute:function(){return D("insertAiOutline")},description:"Add an AI outline into the document"},{type:"action",id:"renameFile",title:"Rename file",categoryId:"fileActions",availableContextTypes:{workspace:!0},description:"Modify the name of this file",execute:function(){return D("renameFile")}},{type:"action",id:"duplicateFile",title:"Duplicate file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","D"],availableContextTypes:{workspace:!0},execute:function(){return D("duplicateFile")},description:"Make a copy of this file and navigate to it"},{type:"action",id:"archiveFile",title:"Archive file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","E"],isHidden:null==(g=T.archiveFile)?void 0:g.isHidden,availableContextTypes:{workspace:!0},execute:function(){return D("archiveFile")},description:"Hide this file and move it to Archive"},{type:"action",id:"restoreFile",title:"Restore file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","E"],isHidden:null==(m=T.restoreFile)?void 0:m.isHidden,availableContextTypes:{workspace:!0},execute:function(){return D("restoreFile")},description:"Restore this file back to its original folder"},{type:"action",id:"openVersionHistory",categoryId:"fileActions",title:"Open version history",aliases:["backup","changes"],availableContextTypes:{workspace:!0},isHidden:null==(v=T.openVersionHistory)?void 0:v.isHidden,description:"View the version history for this file",execute:function(){return D("openVersionHistory")}},{type:"action",id:"openFileInfo",categoryId:"fileActions",title:"Open file information",shortcut:["AltOrOption","I"],availableContextTypes:{workspace:!0},execute:function(){return D("openFileInfo")},description:"View the meta data for this file",aliases:["contribute","visit","editor","guest"]},{type:"action",id:"moveFile",title:"Move file",aliases:["folder"],categoryId:"fileActions",shortcut:["Control|Alt","M"],execute:function(){return D("moveFile")},isHidden:null==(y=T.moveFile)?void 0:y.isHidden,availableContextTypes:{workspace:!0},description:"Modify the location of this file"}],j=[{type:"action",id:"insertAiDiagram",isSuggested:!0,shortcut:["CtrlOrCmd","J"],title:"New AI diagram",aliases:["insert","ai","generate"],categoryId:"canvasActions",availableContextTypes:{workspace:!0},execute:function(){return D("insertAiDiagram")},description:"Add an AI diagram into the canvas"},{type:"action",shortcut:["/"],id:"openInsertMenu",title:"Open insert menu",categoryId:"canvasActions",description:"View the Canvas insert menu",availableContextTypes:{workspace:!0},execute:function(){return D("openInsertMenu")}},{type:"action",id:"openZoomControls",title:"Open zoom controls",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"View the canvas zoom level options",execute:function(){return D("openZoomControls")}},{type:"action",id:"zoomToFit",subCategory:"Zoom",title:"Zoom to fit",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Fit the entire canvas in view",execute:function(){return D("zoomToFit")}},{type:"action",id:"zoomTo100",subCategory:"Zoom",title:"Zoom to 100%",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Fit the canvas too 100% scale",execute:function(){return D("zoomTo100")}},{type:"action",id:"createFigure",title:"Create figure",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Create a figure from the current selection",execute:function(){return D("createFigure")}},{type:"action",id:"copyHtmlEmbed",title:"Copy as HTML Embed",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Copy selected elements as HTML embed code",execute:function(){return D("copyHtmlEmbed")}},{type:"action",id:"copyMarkdownEmbed",title:"Copy as Markdown Embed",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Copy selected elements as Markdown embed code",execute:function(){return D("copyMarkdownEmbed")}}],Z=[{type:"action",id:"goToFile",categoryId:"general",title:"Go to file (Cmd+P)",shortcut:["CtrlOrCmd","P"],aliases:["open","switch","find"],execute:function(){return D("goToFile")},description:"Quickly navigate to any of your files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"searchFiles",aliases:["find"],title:"Search files",categoryId:"general",shortcut:["AltOrOption","F"],execute:function(){return D("searchFiles")},description:"Search the content of all of your files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openHelp",title:"Open help",categoryId:"general",shortcut:["AltOrOption","H"],aliases:["how","learn","tutorial"],execute:function(){return D("openHelp")},description:"Useful links and support articles",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],Q=[{type:"action",id:"pushFile",title:"Push file",categoryId:"gitSync",isHidden:null==(b=T.pushFile)?void 0:b.isHidden,description:"Push this file to Github",availableContextTypes:{workspace:!0},execute:function(){return D("pushFile")}},{type:"action",id:"pullFile",title:"Pull file",categoryId:"gitSync",isHidden:null==(w=T.pullFile)?void 0:w.isHidden,availableContextTypes:{workspace:!0},execute:function(){return D("pullFile")},description:"Pull the latest changes of this file from Github"},{type:"action",id:"pushRepo",categoryId:"gitSync",title:"Push entire repo",availableContextTypes:{gitHubRepo:!0},execute:function(){return D("pushRepo")},description:"Push all of the files in this repo to Github"},{type:"action",id:"pullRepo",categoryId:"gitSync",title:"Pull entire repo",availableContextTypes:{gitHubRepo:!0},execute:function(){return D("pullRepo")},description:"Pull all of the latest changes of this repo from Github"}],H=[{type:"link",id:"eraserDocs",target:"_blank",aliases:["docs"],categoryId:"help",href:eA.CF.docsURL,title:"Eraser documentation",onClick:function(){var e,t;return null==(e=T.eraserDocs)||null==(t=e.execute)?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"sendFeedback",categoryId:"help",title:"Send feedback",aliases:["report","bug"],execute:function(){return D("sendFeedback")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",target:"_blank",categoryId:"help",id:"submitRequest",aliases:["suggestion"],title:"Submit feature request",href:eA.CF.featureRequestURL,onClick:function(){var e,t;return null==(e=T.submitRequest)||null==(t=e.execute)?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",target:"_blank",categoryId:"help",id:"eraserWebsite",title:"Eraser website",href:eA.CF.homepageURL,aliases:["site","page","home"],onClick:function(){var e,t;return null==(e=T.eraserWebsite)||null==(t=e.execute)?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",categoryId:"help",isSuggested:!0,id:"openKeyboardShortcuts",title:"Open keyboard shortcuts",shortcut:["CtrlOrCmd","/"],execute:function(){return D("openKeyboardShortcuts")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"joinSlack",isSuggested:"joinSlack"===ey,target:"_blank",categoryId:"help",href:eA.CF.slackURL,title:"Join Slack community",onClick:function(){var e,t;return null==(e=T.joinSlack)||null==(t=e.execute)?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-embeds",isSuggested:"goToDocs-embeds"===ey,target:"_blank",categoryId:"help",title:"Learn about: Embeds",href:"https://docs.eraser.io/docs/figure-embeds",aliases:["figure","section"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-figures",isSuggested:"goToDocs-figures"===ey,target:"_blank",categoryId:"help",title:"Learn about: Figures",href:"https://docs.eraser.io/docs/figures",aliases:["section","container","organize"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-saml",target:"_blank",categoryId:"help",title:"Learn about: SAML",href:"https://docs.eraser.io/docs/sso",aliases:["sso","okta","entra"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-deleting-a-file",target:"_blank",categoryId:"help",title:"Learn about: Deleting a File",href:"https://docs.eraser.io/docs/deleting-files",aliases:["archive","delete"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-ai-diagrams",target:"_blank",categoryId:"help",title:"Learn about: AI Diagrams",href:"https://docs.eraser.io/docs/ai-diagrams",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-codebase-diagrams",isSuggested:"goToDocs-codebase-diagrams"===ey,target:"_blank",categoryId:"help",title:"Learn about: Codebase Diagrams",href:"https://docs.eraser.io/docs/codebase-diagrams",aliases:["code","git"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"goToDocs-eraserbot",isSuggested:"goToDocs-eraserbot"===ey,target:"_blank",categoryId:"help",title:"Learn about: Eraserbot",href:"https://docs.eraser.io/docs/eraserbot",aliases:["code","ci","auto","agent","integration"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],V=[{type:"action",id:"goToDashboard",title:"Go to dashboard",categoryId:"navigation",description:"Navigate to the Dashboard",isHidden:null==(_=T.goToDashboard)?void 0:_.isHidden,shortcut:["Control","AltOrOption","ArrowLeft"],aliases:["home","files"],execute:function(){return D("goToDashboard")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToGitConnect",isSuggested:"goToGitConnect"===ey,title:"Open Git Connect",description:"Connect your Github / Gitlab repositories",categoryId:"navigation",aliases:["github","gitlab","sync","integrations","integrate"],execute:function(){return D("goToGitConnect")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToTemplates",categoryId:"navigation",title:"Go to Templates",isHidden:null==(E=T.goToTemplates)?void 0:E.isHidden,execute:function(){return D("goToTemplates")},description:"Navigate to Templates on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",k,"T"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToPrivateFiles",categoryId:"navigation",title:"Go to Private files",isHidden:null==(C=T.goToPrivateFiles)?void 0:C.isHidden,execute:function(){return D("goToPrivateFiles")},description:"Navigate to Private files on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",k,"P"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToArchive",title:"Go to Archive",categoryId:"navigation",isHidden:null==(B=T.goToArchive)?void 0:B.isHidden,execute:function(){return D("goToArchive")},description:"Navigate to Archive on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",k,"E"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openImport",isSuggested:!0,title:"Import",categoryId:"navigation",aliases:["image","diagram","png","jpg","jpeg","ai"],execute:function(){return D("openImport")},description:"Import diagrams into Eraser from image files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],K=[{type:"action",id:"openSettings",title:"Open Settings",categoryId:"settings",description:"View the Settings modal",shortcut:["Shift","AltOrOption","S"],execute:function(){return D("openSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openCustomIcons",title:"Custom Icons",categoryId:"settings",description:"Upload your own icons to use in Eraser",aliases:["upload","customize","icon"],execute:function(){return D("openCustomIcons")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToOrganization",title:"Organization Dashboard",categoryId:"settings",isHidden:null==(x=T.goToOrganization)?void 0:x.isHidden,execute:function(){return D("goToOrganization")},description:"Open your Organization dashboard",aliases:["company","teams"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"viewUsage",title:"View Usage",categoryId:"settings",description:"View your team usage statistics and limits",aliases:["billing","plan","quota","subscription","limits"],execute:function(){return D("viewUsage")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"teamSettings",title:"Team Settings",categoryId:"settings",description:"Manage your team settings",execute:function(){return D("teamSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"profileSettings",title:"Profile",categoryId:"settings",description:"Manage your personal profile settings",aliases:["account","personal","settings","user","avatar","password","email","display"],execute:function(){return D("profileSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"appearanceSettings",title:"Display Settings",categoryId:"settings",description:"Manage your personal display settings",aliases:["display","theme"],execute:function(){return D("appearanceSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openApiTokens",title:"API Tokens",categoryId:"settings",description:"Manage API tokens for programmatic access",aliases:["api","token","keys"],execute:function(){return D("openApiTokens")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}];N?S.push.apply(S,(0,ec.Z)(j).concat((0,ec.Z)(H))):"dashboard"===I.type?S.push.apply(S,(0,ec.Z)(U).concat((0,ec.Z)(L),(0,ec.Z)(P),(0,ec.Z)(Z),(0,ec.Z)(V),(0,ec.Z)(K),(0,ec.Z)(O),(0,ec.Z)(H),(0,ec.Z)(Q),(0,ec.Z)(M),(0,ec.Z)(j))):"workspace"===I.type?S.push.apply(S,(0,ec.Z)(Q).concat((0,ec.Z)(U),(0,ec.Z)(j),(0,ec.Z)(M),(0,ec.Z)(Z),(0,ec.Z)(L),(0,ec.Z)(V),(0,ec.Z)(K),(0,ec.Z)(O),(0,ec.Z)(H),(0,ec.Z)(P))):S.push.apply(S,(0,ec.Z)(Q).concat((0,ec.Z)(P),(0,ec.Z)(U),(0,ec.Z)(L),(0,ec.Z)(Z),(0,ec.Z)(V),(0,ec.Z)(K),(0,ec.Z)(O),(0,ec.Z)(H),(0,ec.Z)(M),(0,ec.Z)(j)));var z=S.filter(function(e){return e.availableContextTypes[I.type]}).filter(function(e){return!e.isHidden||!e.isHidden()}),G=ep().map(function(e){var t=z.find(function(t){return t.id===e.id});return t?(0,F.Z)((0,R.Z)({},t),{categoryId:"recent",originalCategoryId:t.categoryId}):null}).filter(Boolean).slice(0,3),W=z.filter(function(e){return e.isSuggested&&!G.some(function(t){return t.id===e.id})}).map(function(e){return(0,F.Z)((0,R.Z)({},e),{categoryId:"suggested",originalCategoryId:e.categoryId})});return(0,ec.Z)(G).concat((0,ec.Z)(W),(0,ec.Z)(z))},ew=function(e){var t=e.context,n=e.registrar,r=(0,c.useState)(!1)[0],i=(0,c.useState)([]),o=i[0],a=i[1];return(0,c.useEffect)(function(){t&&a(eb({context:t,registrar:n}))},[t,n]),{commandKItems:o,areItemsLoading:r}},e_=n(64442),eE=n(47842),eC=n(18114),eB=n(46131),ex=n(81053),eI=n(95184);function eT(){return(eT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var eS=function(e){return c.createElement("svg",eT({width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.854.646L13.207 5 8.854 9.354l-.708-.708L11.293 5.5H0v-1h11.293L8.146 1.354l.708-.708z",fill:"currentColor"})))},ek=n(81337);function eN(){return(eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var eD=function(e){return c.createElement("svg",eN({width:15,height:13,viewBox:"0 0 15 13",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=c.createElement("path",{d:"M.5 11.5v-10a1 1 0 011-1h4l2 2h6a1 1 0 011 1v8a1 1 0 01-1 1h-12a1 1 0 01-1-1z",fill:"none",stroke:"currentColor"})))},eO=n(6634),eR=n(54229);function eF(){return(eF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var eL=function(e){return c.createElement("svg",eF({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=c.createElement("path",{d:"M.5 1l6 14 2-6 6-2-14-6z",stroke:"currentColor",strokeLinejoin:"round"})))},eU=n(32538),eP=n(44885),eM=n(41091),ej=n(44952),eZ=n(41144),eQ=n(59644),eH=n(95343),eV=n.n(eH),eK=n(19101),ez=n.n(eK),eG=n(26378),eW=n.n(eG),eq=function(e){switch("string"==typeof e?e:e.id){case"canvasActions":return(0,a.jsx)(Q.J,{icon:eL});case"display":return(0,a.jsx)(Q.J,{icon:eC.Z});case"settings":return(0,a.jsx)(Q.J,{icon:eI.Z});case"fileActions":return(0,a.jsx)(Q.J,{icon:eO.Z});case"folderActions":return(0,a.jsx)(Q.J,{icon:eD});case"general":case"gettingStarted":case"recent":return null;case"gitConnect":return(0,a.jsx)(Q.J,{icon:ek.Z});case"inviteAndShare":return(0,a.jsx)(Q.J,{icon:eR.Z});case"navigation":return(0,a.jsx)(Q.J,{icon:eS});case"newFile":return(0,a.jsx)(Q.J,{icon:eB.Z});case"help":return(0,a.jsx)(Q.J,{icon:ex.Z});case"suggested":return(0,a.jsx)(Q.J,{icon:ej.Z})}},e$=function(e){switch(e.id){case"goToFile":return(0,a.jsx)(Q.J,{icon:eP.Z});case"searchFiles":return(0,a.jsx)(Q.J,{icon:eM.Z});case"openHelp":return(0,a.jsx)(Q.J,{icon:ex.Z});default:return null}},eY=function(e){var t,n,r,i=e.category,o=e.isActive,s=e.item,l=e.setIsActive,u=e.index,c=e.classNames,A=(0,eQ.$w)().isMouseMoving;t="suggested"===i.id?eq(i):e$(s)||eq(i)||eq(null!=(n=s.originalCategoryId)?n:"");var d=(0,F.Z)((0,R.Z)({isActive:o,onMouseOver:function(){A.current&&l()},subTitle:s.description},s.subCategory?{mainTitle:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:(0,Y.Z)(eV().standard,"c-g10"),children:s.subCategory}),(0,a.jsx)(Q.J,{className:eW().subCategoryChevron,icon:eU.Z}),s.title]})}:{mainTitle:s.title}),(r={classNames:(0,R.Z)({root:ez().item,icon:ez().itemIcon,subTitle:ez().itemSubTitle,endContent:ez().itemEndContent},c)},(0,eE.Z)(r,eu,u),(0,eE.Z)(r,"icon",t),(0,eE.Z)(r,"endContent",s.shortcut?(0,a.jsx)(b.P,{keys:s.shortcut}):null),r));switch(s.type){case"link":return(0,a.jsx)(S(),{href:"string"==typeof s.href?s.href:s.href(),children:(0,a.jsx)("a",{target:s.target,onClick:s.onClick,children:(0,a.jsx)(J,(0,F.Z)((0,R.Z)({},d),{endContent:(0,a.jsx)(Q.J,{icon:eZ.Z})}))})});case"action":return(0,a.jsx)(J,(0,F.Z)((0,R.Z)({},d),{onClick:s.execute}));case"checkbox":return null}},eJ=n(24344),eX=n.n(eJ),e0=function(e){var t=e.context,n=e.query,r=ew({context:t,registrar:(0,e_.l)().registrar}).commandKItems,i=(0,c.useMemo)(function(){return r.filter(function(e){return"help"===e.categoryId&&e.title.toLowerCase().includes((null==n?void 0:n.toLowerCase())||"")})},[r,n]),o=(0,D.c)({items:i,onSelect:function(e,t){t.preventDefault(),t.stopPropagation();var n=i.findIndex(function(t){return t.id===e.id}),r=document.querySelector("[".concat(eu,'="').concat(n,'"]'));null==r||r.click()}}),s=o.activeIndex,l=o.setActiveIndex;return(0,c.useEffect)(function(){h.Z.trackEvent("help_center","help_center_click")},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:eX().helpTitle,children:"Help"}),i.map(function(e,t){return(0,a.jsx)(eY,{item:e,index:t,isActive:s===t,classNames:{root:eX().item},category:{id:"help",title:"Help"},setIsActive:function(){return l(t)}},e.id)})]})},e1=n(74803),e2=n.n(e1),e4=function(e){switch(e){case"folder":return(0,a.jsx)(Q.J,{icon:eD,color:"grey-1200"});case"gitHubRepo":return(0,a.jsx)(Q.J,{icon:ek.Z,color:"grey-1200"});default:return null}},e3=function(e){switch(e.type){case"folder":return e.folder.name||L.bo;case"gitHubRepo":return"".concat(e.organizationName,"/").concat(e.repositoryName);case"workspace":return e.workspace.title||L.SF;case"dashboard":return"Dashboard";default:return""}},e5=function(e){var t=e.context;switch(e.screen){case"commands":return(0,a.jsxs)(a.Fragment,{children:[e4(t.type),e3(t)]});case"fileSearch":return"File search";case"goToFile":return"Go to file ...";case"help":return"Help";default:return""}},e6=function(e){var t=e.screen,n=e.contextDto;return n&&!n.isLoading&&n.context?(0,a.jsx)("div",{className:(0,Y.Z)(e2().root,"commands"===t&&e2().light),children:e5({context:n.context,screen:t})}):null},e8=n(17423),e9=n(62915),e7=function(e){var t=e.query.workspaceId,n=(0,e9.Z)(t),r=n.data,i=n.isLoading;return e.pathname.startsWith("/workspace")?i||!r?{isValid:!0,context:null,isLoading:i}:{isValid:!0,isLoading:!1,context:{workspace:r,type:"workspace"}}:{isValid:!1,context:null,isLoading:!1}},te=function(e){var t=(0,A.LP)(),n=e.query.folderId,r=(0,e8.Z)(n,t),i=r.data,o=r.isLoading;return e.pathname.startsWith("/dashboard/folder")?o||!i?{isValid:!0,context:null,isLoading:o}:{isValid:!0,isLoading:!1,context:{type:"folder",folder:i}}:{isValid:!1,context:null,isLoading:!1}},tt=function(e){var t=e.query.repositoryName,n=e.query.organizationName;return e.pathname.startsWith("/dashboard/github")?t&&n?{isValid:!0,isLoading:!1,context:{type:"gitHubRepo",repositoryName:t,organizationName:n}}:{isValid:!0,context:null,isLoading:!0}:{isValid:!1,context:null,isLoading:!1}},tn=function(){var e=(0,s.useRouter)(),t=te(e),n={isValid:!0,isLoading:!1,context:{type:"dashboard",subPage:e.pathname.split("/")[2]}};return[e7(e),t,tt(e),n].find(function(e){return e.isValid})||null},tr=n(89325),ti=n(62441),to=n.n(ti),ta=function(e){var t=e.category,n=e.items,r=e.setIsActive,i=e.activeIndex,o=e.startIndex;return 0===n.length?null:(0,a.jsxs)("div",{className:to().root,children:[(0,a.jsx)("p",{className:to().title,children:t.title}),n.map(function(e,n){return(0,a.jsx)(eY,{item:e,category:t,index:o+n,isActive:i===o+n,setIsActive:function(){return r(o+n)}},e.id)})]})},ts=n(27202),tl=n.n(ts),tu=function(){return(0,a.jsx)(a.Fragment,{children:Array.from(Array(6)).map(function(e,t){return(0,a.jsx)("div",{className:(0,Y.Z)(tl().skeletonWrapper,0===t&&tl().isActive),children:(0,a.jsxs)(et.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[(0,a.jsx)(et.ZP,{width:"30%",height:14}),(0,a.jsx)(et.ZP,{className:tl().description,height:15})]})},"skeleton-".concat(t))})})},tc=new Map([["recent",{id:"recent",title:"Recent"}],["suggested",{id:"suggested",title:"Suggested"}],["gettingStarted",{id:"gettingStarted",title:"Getting started"}],["inviteAndShare",{id:"inviteAndShare",title:"Invite and share"}],["newFile",{id:"newFile",title:"New file"}],["folderActions",{id:"folderActions",title:"Folder actions"}],["general",{id:"general",title:"General"}],["navigation",{id:"navigation",title:"Navigation"}],["settings",{id:"settings",title:"Settings"}],["display",{id:"display",title:"Display"}],["help",{id:"help",title:"Help"}],["gitSync",{id:"gitSync",title:"Git Sync"}],["fileActions",{id:"fileActions",title:"File actions"}],["canvasActions",{id:"canvasActions",title:"Canvas actions"}]]),tA=function(e){switch(e){case"dashboard":return["recent","suggested","gettingStarted","inviteAndShare","newFile","folderActions","general","settings","navigation","display","help","gitSync","fileActions","canvasActions"];case"workspace":return["recent","suggested","gettingStarted","gitSync","inviteAndShare","canvasActions","fileActions","general","newFile","settings","navigation","display","help","folderActions"];case"folder":case"gitHubRepo":return["recent","suggested","gettingStarted","gitSync","folderActions","inviteAndShare","newFile","general","settings","navigation","display","help","fileActions","canvasActions"]}},td=function(e){var t=e.contextType,n=(0,c.useState)(!1)[0],r=(0,c.useState)([]),i=r[0],o=r[1];return(0,c.useEffect)(function(){t&&o(tA(t).map(function(e){return tc.get(e)}))},[t]),{commandKCategories:i,areCategoriesLoading:n}},th=new Set(["sendFeedback","joinSlack","submitRequest","openKeyboardShortcuts"]),tf=function(e,t,n){if(!t)return{filteredMap:e,mapScoreById:new Map};var r=new Map,i=null==n?void 0:n.search(t),o=new Map(null==i?void 0:i.map(function(e){return[e.item.id,e.score]})),a=new Map;return e.forEach(function(e,t){var n,i,s=1/0;if("recent"!==t&&"suggested"!==t){var l=[],u=!0,c=!1,A=void 0;try{for(var d,h=e[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var f=d.value,p=o.get(f.id);null!=p&&("help"!==t||th.has(f.id)||(p+=.5,o.set(f.id,p)),l.push(f),p<s&&(s=p))}}catch(e){c=!0,A=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw A}}l.sort(function(e,t){return(null!=(n=o.get(e.id))?n:0)-(null!=(i=o.get(t.id))?i:0)}),l.length>0&&(r.set(t,l),a.set(t,s))}}),{filteredMap:r,mapScoreById:a}},tp=(0,c.forwardRef)(function(e,t){var n=e.context,r=e.query,i=null==n?void 0:n.type,o=(0,I.Y)().isModalOpen,s=ew({context:n,registrar:(0,e_.l)().registrar}),l=s.commandKItems,u=s.areItemsLoading,A=(0,c.useMemo)(function(){return new tr.Z(l,{keys:["title","aliases","description"],includeScore:!0,threshold:.4})},[l]),d=(0,c.useMemo)(function(){return l.reduce(function(e,t){return e.has(t.categoryId)?e.get(t.categoryId).push(t):e.set(t.categoryId,[t]),e},new Map)},[l]),h=(0,c.useMemo)(function(){return tf(d,r,A)},[d,r,A]),f=h.filteredMap,p=h.mapScoreById,g=td({contextType:i}),m=g.commandKCategories,v=g.areCategoriesLoading,y=(0,c.useMemo)(function(){var e,t;return p.size?(0,ec.Z)(m).sort(function(n,r){return(null!=(e=p.get(n.id))?e:1/0)-(null!=(t=p.get(r.id))?t:1/0)}):m},[m,p]),b=!!f.size,w=(0,c.useMemo)(function(){return y.flatMap(function(e){return f.get(e.id)||[]})},[y,f]),_=function(e){return w.findIndex(function(t){return t.id===(null==e?void 0:e.id)})},E=(0,D.c)({onSelect:function(e,t){t.preventDefault(),t.stopPropagation();var n=_(e),r=document.querySelector("[".concat(eu,'="').concat(n,'"]'));null==r||r.click()},items:w,customScrollIntoView:function(e){var t=document.querySelector("[".concat(eu,'="').concat(e,'"]'));null==t||t.scrollIntoView({block:"nearest",behavior:"auto",inline:"nearest"})},isListOpen:o,options:{additionalOnSelectShortcuts:["shift+enter"]}}),C=E.activeIndex,B=E.setActiveIndex;return(0,c.useImperativeHandle)(t,function(){return{didQueryMatchItems:b}},[b]),(0,a.jsx)("div",{children:v||u?(0,a.jsx)(tu,{}):b?y.map(function(e){var t;return(0,a.jsx)(ta,{category:e,activeIndex:C,setIsActive:B,items:f.get(e.id)||[],startIndex:_(null==(t=f.get(e.id))?void 0:t[0])},e.id)}):(0,a.jsx)("div",{className:ez().notFoundWrapper,children:(0,a.jsx)(J,{mainTitle:"No results found",icon:(0,a.jsx)(Q.J,{icon:eM.Z}),subTitle:"Hit enter to try File Search",classNames:{root:ez().item,icon:ez().itemIcon,subTitle:ez().itemSubTitle}})})})}),tg=function(e){var t=e.containerRef,n=e.isModalOpen,r=(0,eQ.$w)().isMouseMoving;(0,c.useEffect)(function(){if(t&&n){var e,i=function(){r.current=!0},o=function(){r.current=!1},a=function(){clearTimeout(e),e=setTimeout(o,300)};return t.addEventListener("mousemove",a),t.addEventListener("mousemove",i),t.addEventListener("mouseleave",o),function(){t.removeEventListener("mousemove",a),t.removeEventListener("mousemove",i),t.removeEventListener("mouseleave",o),clearTimeout(e)}}},[t,r,n])},tm=n(51516),tv=function(e,t){var n=(0,c.useRef)();(0,c.useEffect)(function(){if(e){var r,i=window.getSelection();n.current={element:document.activeElement},i&&i.rangeCount>0&&(n.current.selectionRange=i.getRangeAt(0)),null==(r=t.current)||r.focus()}else{var o,a,s=null==(o=n.current)?void 0:o.element;if(!s||!document.contains(s))return;var l=window.getSelection(),u=null==(a=n.current)?void 0:a.selectionRange,c=u&&document.contains(u.startContainer);s.focus(),c&&(null==l||l.removeAllRanges(),null==l||l.addRange(u)),n.current=void 0}},[e,t.current])},ty=function(e){var t=e.isModalOpen,n=e.footerRef,r=e.openOrGoToScreen,i=(0,c.useCallback)(function(e){if((e.ctrlKey||e.metaKey)&&"k"===e.key)r("commands",e);else if((e.ctrlKey||e.metaKey)&&"p"===e.key)r("goToFile",e);else if(e.altKey&&"KeyH"===e.code)r("help",e);else if(e.altKey&&"KeyF"===e.code)r("fileSearch",e);else if(e.altKey&&"KeyM"===e.code&&t){var i;null==(i=n.current)||i.openDropdown(),e.preventDefault()}},[r,t,n.current]);(0,c.useEffect)(function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}},[i])},tb=function(){var e=(0,I.Y)().switchScreen,t=(0,e_.l)().register,n=(0,tm.Y)().openSettingsModal,r=(0,c.useCallback)(function(t){e({screen:t,inputValue:""})},[e]);(0,c.useEffect)(function(){t("openSettings",function(){return n()}),t("goToGitConnect",function(){return n({openedPane:"gitConnect"})}),t("viewUsage",function(){return n({openedPane:"usage"})}),t("inviteToTeam",function(){return n({openedPane:"members"})}),t("openImport",function(){return n({openedPane:"import"})}),t("openCustomIcons",function(){return n({openedPane:"custom-icons"})}),t("teamSettings",function(){return n({openedPane:"team-settings"})}),t("profileSettings",function(){return n({openedPane:"profile"})}),t("appearanceSettings",function(){return n({openedPane:"appearance"})}),t("openApiTokens",function(){return n({openedPane:"api-tokens"})}),t("searchFiles",function(){return r("fileSearch"),!1}),t("openHelp",function(){return r("help"),!1}),t("goToFile",function(){return r("goToFile"),!1})},[t,r,n])},tw=n(38814),t_=n.n(tw);n(31858);var tE=function(e){switch(e){case"commands":return"Search commands ...";case"fileSearch":return"Search files for ...";case"goToFile":return"Search file name ...";case"help":return"Search help ...";default:return""}},tC=function(){var e=(0,A.LP)(),t=(0,c.useRef)(null),n=tn(),r=(0,d.S$)(),i=(0,c.useRef)(null),o=(0,c.useRef)(null),s=(0,c.useState)(null),p=s[0],g=s[1],m=(0,I.Y)(),v=m.query,y=m.screen,b=m.inputValue,w=m.isModalOpen,_=m.switchScreen,E=m.setInputValue,C=m.openCommandKModal,B=m.closeCommandKModal,T=(0,c.useMemo)(function(){return"/team/create"!==l().pathname&&!r&&!!e},[l().pathname,r,e]),S=(0,c.useCallback)(function(e,n){var r;T&&(null==n||n.preventDefault(),null==n||n.stopPropagation(),null==(r=t.current)||r.focus(),w?(_({screen:e}),h.Z.trackEvent("command_k","switch_screen",{method:"shortcut",screen:e})):(C({screen:e}),h.Z.trackEvent("command_k","open",{method:"shortcut",screen:e})))},[T,w,_,C]);return tb(),tv(w,t),ty({isModalOpen:w,footerRef:i,openOrGoToScreen:S}),tg({containerRef:null==p?void 0:p.contentWrapperEl,isModalOpen:w}),(0,a.jsxs)(f.Z,{hideCloseButton:!0,isOpen:w,"data-screen":y,onClose:function(){B(),h.Z.trackEvent("command_k","close",{screen:y,query:v})},className:t_().modalRoot,"data-testid":"command-k-modal",contentWrapperClassName:t_().modalWrapper,children:[(0,a.jsx)(e6,{screen:y,contextDto:n}),(0,a.jsx)("input",{type:"text",ref:t,value:b,onKeyDown:function(e){var t;"Enter"===e.key&&"fileSearch"===y&&v.length>0?l().push(V(v)):!(v.length>0)||"Enter"!==e.key||"commands"!==y||(null==(t=o.current)?void 0:t.didQueryMatchItems)||l().push(V(v))},className:t_().searchInput,"data-testid":"command-k-modal-input",placeholder:tE(y),onChange:function(e){return E(e.target.value)}}),"fileSearch"!==y&&(0,a.jsx)(u.Z,{ref:g,className:t_().content,classNames:{contentWrapper:t_().contentWrapper},children:function(){switch(y){case"goToFile":return(0,a.jsx)(el,{query:v});case"commands":return(0,a.jsx)(tp,{query:v,ref:o,context:null==n?void 0:n.context});case"fileSearch":return null;case"help":return(0,a.jsx)(e0,{context:null==n?void 0:n.context,query:v})}}()}),(0,a.jsx)(x,{ref:i,screen:y,onScreenChange:S,onDropdownClose:function(){var e;return null==(e=t.current)?void 0:e.focus()}})]})}},27750:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(52322),i=n(2784),o=n(27729),a=n(11269),s=n(45403),l=n(74010),u=n(42541),c=n(70865),A=n(96670),d=n(26297),h=n(95162),f=n(2643),p=n(91983),g=n.n(p),m=n(66838),v=n(60238),y=n(89960),b=n(2595),w=function(e){var t=e.folder,n=e.isOpen,a=e.onClose,s=(0,d.Z)(e,["folder","isOpen","onClose"]),u=(0,b.Z)(),p=(0,l.Z)(),w=p.getAllFolderPaths,_=p.updateFolder,E=(0,i.useState)(void 0),C=E[0],B=E[1],x=(0,i.useCallback)(function(){void 0!==C&&u.promise(_(t.id,{parentFolderId:C}),{loading:"Moving folder",success:"Moved folder",error:"Something went wrong"}).catch(y.Tb),null==a||a()},[t.id,a,C,_]),I=(0,i.useCallback)(function(){B(null),null==a||a()},[a]),T=!!t.parentFolderId;return(0,r.jsxs)(f.Z,(0,A.Z)((0,c.Z)({isOpen:n,title:"Move Folder",onClose:I},s),{className:g().container,children:[(0,r.jsxs)("div",{className:g().folderList,children:[T&&(0,r.jsx)(m.G,{name:"/",selected:null===C,onClick:function(){return B(null)}}),w().filter(function(e){return e.length<v.p}).map(function(e){var n=e[e.length-1],i=e.reduce(function(e,t){return"".concat(e,"/").concat(t.name||o.Yp)},""),a=n.id===t.id,s=n.id===t.parentFolderId;return a||s?null:(0,r.jsx)(m.G,{name:i,selected:n.id===C,onClick:function(){return B(n.id)}},n.id)})]}),(0,r.jsxs)("div",{className:g().buttonGroup,children:[(0,r.jsx)(h.ZP,{variant:h.ZP.Variants.REVERSED,onClick:I,className:g().button,children:"Cancel"}),(0,r.jsx)(h.ZP,{onClick:x,className:g().button,disabled:void 0===C,children:"Confirm"})]})]}))},_=n(85617),E=n(66804),C=n(88404),B=n(28563),x=n(80498),I=n(64442),T=n(72119),S=n(74442),k=n(48845),N=n(45369),D=n.n(N),O=function(e){var t=e.mountedIn,n=e.children,c=e.folder,A=e.onStartRenaming,d=e.dots,h=e.className,f=e.dropdownShortcut,p=(0,s.Pe)(),g=(0,I.l)().register,m=(0,l.Z)(),v=m.switchFolder,y=!!(0,m.getFolderChildren)(c.id).length,b=(0,x.Z)(),N=b.isOpen,O=b.onClose,R=b.onOpen,F=(0,x.Z)(),L=F.isOpen,U=F.onClose,P=F.onOpen,M=(0,i.useCallback)(function(){R()},[R]),j=(0,a.LP)(),Z=(0,i.useCallback)(function(){j&&(u.Z.trackEvent("folders","delete_folder"),p.folders.deleteById(c.id,{teamId:j}),O(),v&&(c.parentFolderId?v("folder",c.parentFolderId):v("all")))},[c.id,c.parentFolderId,O,v,j]);(0,i.useEffect)(function(){"folderRow"!==t&&(g("deleteFolder",M),g("moveFolder",{isHidden:function(){return y},action:P}))},[t,y,g,P,M]);var Q=d?E.Ng:E.Lt;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.Z,{title:"Delete folder and archive workspaces?",description:"Selecting confirm will delete the folder ".concat(c.name||o.Yp," and move all of the files to the teams Achived folder"),isOpen:N,onConfirm:Z,onCancel:O}),L&&(0,r.jsx)(w,{isOpen:!0,folder:c,onClose:U}),(0,r.jsxs)(Q,{title:n,keyboardShortcut:f,isHidden:!!d&&!d.visible,toggleClassNames:{root:D().folderSelect,button:h},children:[(0,r.jsx)(B.Z,{label:"Move Folder",onClick:P,isDisabled:y,icon:(0,r.jsx)(C.J,{icon:S.Z})}),(0,r.jsx)(B.Z,{label:"Rename",onClick:A,icon:(0,r.jsx)(C.J,{icon:k.Z})}),(0,r.jsx)(B.Z,{label:"Delete Folder",onClick:M,icon:(0,r.jsx)(C.J,{icon:T.Z})})]})]})}},37944:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(52322),i=n(3635),o=n(83264),a=n.n(o),s=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:(0,i.Z)(a().dashboardHeader,n),"data-testid":"dashboard-header",children:t})};s.Title=function(e){var t=e.children;return(0,r.jsx)("div",{className:a().dashboardHeaderTitle,children:t})},s.Tools=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:(0,i.Z)(a().dashboardHeaderTools,n),children:t})}},43667:function(e,t,n){"use strict";n.d(t,{q:function(){return x}});var r,i=n(70865),o=n(96670),a=n(52322),s=n(11269),l=n(14670),u=n(4406),c=n(91232),A=n(51516),d=n(2784);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var f=function(e){return d.createElement("svg",h({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=d.createElement("path",{d:"M11.963.568a.401.401 0 01-.08.115L4.32 8.245l2.136 3.56a.4.4 0 00.71-.047L11.964.568zM3.755 7.68L.195 5.542a.4.4 0 01.047-.71L11.434.035a.398.398 0 00-.117.081L3.755 7.68z",fill:"currentColor"})))},p=n(95162),g=n(75194),m=n(3635),v=n(37944),y=n(42541),b=n(89563),w=n(21732),_=n(83264),E=n.n(_),C=n(64001),B=n.n(C),x=function(e){var t,n=e.className,r=void 0===n?E().dashboardHeaderTools:n,d=e.showSearchBar,h=e.showRightSide,_=e.searchBarProps,C=e.children,x=(0,g.d)(),I=(0,s.LP)(),T=(0,w.Y)().openCommandKModal,S=(0,A.Y)().openSettingsModal,k=(0,l.Z)(I,void 0,{internalOnly:!0});return x?null:(0,a.jsxs)(v.x.Tools,{className:r,children:[(void 0===d||d)&&(0,a.jsx)(c.Z,(0,o.Z)((0,i.Z)({},_),{className:(0,m.Z)(null==_?void 0:_.className,B().searchBar)})),!x&&(0,a.jsx)(p.ZP,{variant:p.ZP.Variants.OUTLINE,onClick:function(){T(),y.Z.trackEvent("command_k","open",{method:"button",screen:"commands"})},"data-testid":"command-k-button",children:(0,a.jsx)(b.P,{keys:["CtrlOrCmd","K"]})}),void 0!==h&&h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{isStaticSize:!0,avatarSize:24,showDummyAvatars:!0,avatarDummyThreshold:3,className:"marginRightMedium",userIds:null!=(t=null==k?void 0:k.map(function(e){return e.userId}))?t:[]}),(0,a.jsx)(p.ZP,{leftIcon:(0,a.jsx)(f,{}),className:B().noMargin,onClick:function(){return S({openedPane:"members"})},"data-testid":"dashboard-header-invite-button",children:"Invite"})]}):C]})}},81623:function(e,t,n){"use strict";var r=n(52322),i=n(82108),o=n.n(i),a=n(39097),s=n.n(a),l=n(1158),u=n(12798),c=n.n(u);t.Z=function(e){var t=e.folderId,n=e.folderName,i=e.gitHubRepository,a=e.isArchived,u=e.isPrivate,A=e.shouldMarkArchived,d=e.externalFileData,h=e.isExternal,f=(0,l.T5)(i||{}),p=f.organization,g=f.repository;if(a&&(void 0===A||A))return(0,r.jsx)("span",{children:"Archived"});if(u)return(0,r.jsx)("object",{className:c().object,children:(0,r.jsx)(s(),{href:"/dashboard/private",children:"Private"})});if(h){if(null==d?void 0:d.integrationPartner)return(0,r.jsx)("span",{children:o()(d.integrationPartner)});if(null==d?void 0:d.teamName)return(0,r.jsx)("span",{children:d.teamName})}if(t)return(0,r.jsx)("object",{className:c().object,children:(0,r.jsx)(s(),{href:"/folder/".concat(t),children:null!=n?n:""})});if(i&&p&&g){var m="".concat(p.name,"/").concat(g.name);return(0,r.jsx)("object",{className:c().object,children:(0,r.jsx)(s(),{href:"/github/".concat(m),children:(0,r.jsx)("a",{title:m,className:c().gitHubRepoNameLink,children:m})})})}return null}},45938:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(2784),a=n(34498),s=n.n(a),l=n(11269),u=n(45403),c=n(96933);t.Z=function(e){var t=e.orderBy,n=e.ownerId,a=e.orderDir,A=e.folderId,d=e.isPrivate,h=e.isTemplate,f=e.isArchived,p=(0,l.LP)()||"",g=(0,c.II)(),m=(0,u.Pe)(),v=(0,u.IA)(function(e){return e.folders}),y=(0,o.useMemo)(function(){return new Map(null==v?void 0:v.map(function(e){return[e.id,e.name]}))},[v]),b=(0,o.useState)(void 0),w=b[0],_=b[1],E=(0,o.useState)(void 0),C=E[0],B=E[1],x=(0,o.useState)(void 0),I=x[0],T=x[1];(0,o.useEffect)(function(){if(_(void 0),p)return m.workspaces.subscribeByTeam(p,_)},[p]),(0,o.useEffect)(function(){if(p&&f&&!h)return m.workspaces.subscribeByParams({teamId:p,isArchived:!0,isTemplate:!1},B);B([])},[p,f,h]),(0,o.useEffect)(function(){if(p&&h)return m.workspaces.subscribeByParams({teamId:p,isTemplate:!0},T);T([])},[p,h]);var S=(0,o.useMemo)(function(){return h?I:f?C:w},[w,C,I,f,h]),k=(0,o.useMemo)(function(){return null==S?void 0:S.map(function(e){return e.folderId?(0,i.Z)((0,r.Z)({},e),{folderName:y.get(e.folderId)}):e})},[S,y]),N=(0,o.useMemo)(function(){return null==k?void 0:k.filter(function(e){return(!A||e.folderId===A)&&(!d||!!e.isPrivate)&&(!n||e.ownerId===n)&&(!f||!!e.isArchived)&&(!!f||!e.isArchived)&&(!e.isPrivate||e.ownerId===g)})},[k,d,A,n,f,g]);return(0,o.useMemo)(function(){return"folderId"===t?s()(N,function(e){return e.folderName?e.folderName:"desc"===a?"":"ZZZZZZZZZZZZZZZZZZZZZZZZ"},a):s()(N,t,a)},[N,t,a])}},36410:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(16962),i=n(66842),o=n(5632),a=n(2784),s=function(e){var t=(0,o.useRouter)(),n=(0,r.Rx)().onInputChange;(0,a.useEffect)(function(){if(e.current){var r,o,a=(null==(r=t.query)?void 0:r[i.KU])||"";a&&(null==(o=e.current)||o.focus(),n(a))}},[e,n,t.query])}},91232:function(e,t,n){"use strict";var r=n(52322),i=n(36410),o=n(2784),a=n(16962),s=n(97848),l=n(88404),u=n(22805),c=n(89563),A=n(3635),d=n(72397),h=n.n(d);t.Z=function(e){var t=e.className,n=e.tabTitle,d=e.folderId,f=e.isArchived,p=e.isOwner,g=e.isPrivate,m=(0,a.Rx)(),v=m.onInputChange,y=m.query,b=m.saveRouteToHistory,w=(0,a.Sr)().setPassedFilters,_=(0,o.useRef)(null),E=(0,o.useState)(!1),C=E[0],B=E[1];(0,i.T)(_),(0,o.useEffect)(function(){w({isArchived:f,isOwner:p,isPrivate:g,folderId:d})},[d,f,p,g,w]);var x=(0,o.useCallback)(function(e){var t;["Escape","ArrowUp","ArrowDown"].includes(e.key)&&C&&(null==(t=_.current)||t.blur())},[C]),I=(0,o.useCallback)(function(e){var t;C||(e.preventDefault(),null==(t=_.current)||t.focus())},[C]);return(0,u.Z)({"/":I}),(0,r.jsxs)("div",{className:(0,A.Z)(h().searchContainer,C&&h().focused,t),children:[(0,r.jsx)("span",{className:h().searchIcon,children:(0,r.jsx)(l.J,{icon:s.Z,color:"grey-1100"})}),(0,r.jsx)("input",{type:"text",value:y,ref:_,className:h().input,onKeyDown:x,onBlur:function(){B(!1),b()},onFocus:function(){return B(!0)},placeholder:"Search ".concat(void 0===n?"":n),onChange:function(e){return v(e.target.value)},"data-testid":C?"compact-search-bar-input-extended":"compact-search-bar-input"}),!y&&(0,r.jsx)("div",{className:h().shortcut,children:(0,r.jsx)(c.P,{keys:["/"]})})]})}},59509:function(e,t,n){"use strict";n.d(t,{S:function(){return G},Z:function(){return W}});var r,i,o,a,s,l,u=n(52322),c=n(2784),A=n(5632),d=n(51105),h=n(16962),f=n(96933),p=n(25947),g=n.n(p),m=function(){return(0,u.jsxs)("div",{className:g().container,children:[(0,u.jsx)("div",{className:g().title,children:"No results found"}),(0,u.jsx)("div",{className:g().text,children:"We didnt seem to find anything based off of your search"})]})},v=n(84979),y=n.n(v),b=n(83433),w=n(39097),_=n.n(w),E=n(98788),C=n(22970),B=n(79421),x=n.n(B),I=n(12982),T=n.n(I);(r=a||(a={})).Snippet="_snippetResult",r.Highlight="_highlightResult";var S=(i=(0,E.Z)(function(e,t,r){var i;return(0,C.__generator)(this,function(o){switch(o.label){case 0:if(!t||!(null==e?void 0:e.value)||"full"!==e.matchLevel&&"partial"!==e.matchLevel)return[2,void 0];return[4,Promise.resolve().then(n.bind(n,72813))];case 1:return i=o.sent().default.sanitize(e.value),[2,{attribute:t,value:r,component:(0,u.jsx)("span",{className:y().highlight,dangerouslySetInnerHTML:{__html:i}})}]}})}),function(e,t,n){return i.apply(this,arguments)}),k=(o=(0,E.Z)(function(e){var t,n,r;return(0,C.__generator)(this,function(i){switch(i.label){case 0:var o;return t={},n=[],r=e[a.Snippet],x()(r,(o=(0,E.Z)(function(r,i){var o,a,s,l,u,c,A,d;return(0,C.__generator)(this,function(h){switch(h.label){case 0:if(null==r)return[2];return o=i,Array.isArray(r)?(-1===(l=T()(r,{matchLevel:"full"}))&&(l=0),a=e[o][l],s=r[l]):(a=null!=(u=e[o])?u:"",s=r),c="guestNames"===o||"ownerName"===o?"user":o,A=S(s,o,a),n.push(A),[4,A];case 1:if(null==(d=h.sent()))return[2];return t[c]=d,[2]}})}),function(e,t){return o.apply(this,arguments)})),[4,Promise.all(n)];case 1:return i.sent(),[2,t]}})}),function(e){return o.apply(this,arguments)});function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var D=function(e){return c.createElement("svg",N({width:18,height:13,viewBox:"0 0 18 13",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=c.createElement("path",{d:"M1.785 8.7a1 1 0 00-1.14 1.643l1.14-1.644zm7.087 1.586l-.83-.557.83.557zM17 2a1 1 0 100-2v2zM.645 10.343c.993.688 2.609 1.57 4.246 1.949 1.604.37 3.623.322 4.812-1.45L8.042 9.729c-.477.71-1.357.925-2.7.615-1.31-.303-2.692-1.044-3.557-1.644l-1.14 1.644zm9.058.5c.758-1.13 1.12-2.34 1.378-3.43.273-1.15.415-2.05.729-2.888.29-.772.686-1.352 1.377-1.768C13.907 2.323 15.063 2 17 2V0c-2.127 0-3.691.349-4.845 1.043-1.185.714-1.82 1.72-2.218 2.78-.373.994-.575 2.17-.802 3.128C8.893 7.97 8.598 8.9 8.042 9.73l1.66 1.114z",fill:"currentColor"})))};function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var R=function(e){return c.createElement("svg",O({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=c.createElement("path",{stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",d:"M1 1h12M1 5h7M1 9h10M1 13h12"})))},F=n(12967),L=n(32472),U=n(54848),P=n(88404),M=n(71921),j=n(3635),Z=n(81623),Q=n(91132),H=n.n(Q),V=function(e){var t=e.title,n=e.updatedAt,r=e.isPrivate,i=e.location;return(0,u.jsxs)("span",{className:y().fileRowMinimal,children:[(0,u.jsxs)("span",{className:y().fileInfo,children:[(0,u.jsxs)("h4",{children:[r&&(0,u.jsx)(P.J,{icon:F.Z,style:{marginRight:10}}),t||L.SF]}),i&&(0,u.jsx)("span",{className:H().tagVariant,children:i})]}),(0,u.jsx)("h6",{children:n&&(0,u.jsx)(M.Z,{time:n})})]})},K=function(e){var t=e.match,n=void 0,r=void 0;switch(t.attribute){case"whiteboardTexts":n=(0,u.jsx)(P.J,{icon:D}),r="Found in Canvas";break;case"noteText":n=(0,u.jsx)(P.J,{icon:R}),r="Found in Notes";break;case"ownerName":case"guestNames":n=(0,u.jsx)(U.Z,{displayName:t.value}),r="User Match"}return(0,u.jsxs)("span",{className:y().matchBlock,children:[(0,u.jsx)("span",{className:y().matchIcon,children:n}),(0,u.jsxs)("span",{className:y().matchBody,children:[(0,u.jsx)("span",{className:y().matchFoundIn,children:r}),(0,u.jsxs)("span",{className:y().matchContent,children:["",t.component,""]})]})]})},z=function(e){var t,n,r,i=e.hit,o=e.isFocused,a=e.setFocusOnHover,s=(0,c.useState)(),l=s[0],A=s[1];return((0,c.useEffect)(function(){k(i).then(A)},[i]),l)?(0,u.jsx)(_(),{href:"/workspace/".concat(i.objectID),passHref:!0,children:(0,u.jsxs)("a",{"data-testid":"dasbhoard-search-result-highlighted-link",onMouseMove:a,rel:"noopener noreferrer",className:(0,j.Z)(y().searchRow,o&&y().isFocused),tabIndex:-1,children:[(0,u.jsx)(V,{title:(null==l||null==(t=l.title)?void 0:t.component)||i.title,updatedAt:i.updatedAt||Date.now(),isPrivate:null!=(n=i.isPrivate)&&n,location:(0,u.jsx)(Z.Z,{folderId:i.folderId,folderName:i.folderName,gitHubRepository:i.gitHubRepository,isPrivate:null!=(r=i.isPrivate)&&r,isArchived:i.isWorkspaceArchived})},i.objectID),(0,u.jsxs)("span",{className:y().matches,children:[l.noteText&&(0,u.jsx)(K,{match:l.noteText}),l.whiteboardTexts&&(0,u.jsx)(K,{match:l.whiteboardTexts}),l.user&&(0,u.jsx)(K,{match:l.user})]}),(0,u.jsx)("span",{className:y().divider})]})}):null},G=function(){var e={title:{id:"title",title:"Title",flex:1},edited:{id:"edited",title:"Edited",flex:1,className:y().alignRight}};return(0,u.jsx)(d.Z,{className:y().headerPadding,columns:e,orderBy:"",orderDir:"asc",updateOrder:function(){}})},W=function(){var e=(0,c.useRef)(null),t=(0,h.O6)(),n=(0,h.nR)(),r=(0,f.II)(),i=(0,A.useRouter)(),o=t.filter(function(e){return!(e.isPrivate&&e.ownerId!==r)}),a=!o.length,s=(0,c.useCallback)(function(e){var t=e.objectID;i.push("/workspace/".concat(t))},[i]),l=(0,b.c)({containerRef:e,items:o,onSelect:s,scrollOptions:{behavior:"auto",block:"nearest"},options:{shouldTabKeySelect:!1,whenShouldHookBeActive:"whenNoInputIsFocused"}}),d=l.activeIndex,p=l.setActiveIndex;return!n&&a?(0,u.jsx)(m,{}):(0,u.jsx)("div",{ref:e,className:y().searchPadding,children:o.map(function(e,t){return(0,u.jsx)(z,{hit:e,isFocused:d===t,setFocusOnHover:function(){return p(t)}},t)})})}},56318:function(e,t,n){"use strict";n.d(t,{j:function(){return d}});var r,i=n(52322),o=n(53122),a=n.n(o),s=n(2784);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var u=function(e){return s.createElement("svg",l({width:9,height:6,viewBox:"0 0 9 6",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=s.createElement("path",{d:"M1 1l3.5 4L8 1",stroke:"currentColor",strokeWidth:1.067,fill:"none",strokeLinecap:"square"})))},c=n(88404),A=n(3635),d=function(e){var t=e.isExpanded,n=e.isIconVisible,r=e.onClick;return(0,i.jsx)("div",{onClick:r,className:(0,A.Z)(a().root,void 0!==t&&t&&a().expanded),children:void 0!==n&&n&&(0,i.jsx)(c.J,{icon:u})})}},37214:function(e,t,n){"use strict";n.d(t,{M:function(){return A}});var r=n(70865),i=n(52322),o=n(47200),a=n.n(o),s=n(56318),l=n(3635),u=n(46402),c=n.n(u),A=function(e){var t=e.icon,n=e.onClick,o=e.content,u=e.isActive,A=e.shortcut,d=e.dragRefs,h=e.onKeyDown,f=e.isDragging,p=e.dropTarget,g=e.tabPosition,m=e.isExpandable,v=e.classNames,y=void 0===v?{}:v,b=e.textSize,w=e.tabHeight,_=e.accordionButtonProps;return(0,i.jsx)("div",{ref:null==d?void 0:d.containerRef,className:c().fullWidth,"data-testid":"sidebar-tab-".concat(o),children:(0,i.jsx)("div",{ref:null==d?void 0:d.previewRef,className:(0,l.Z)(c().fullWidth,f&&a().isDragging),children:(0,i.jsx)("div",{ref:null==d?void 0:d.dropRef,className:c().fullWidth,children:(0,i.jsxs)("div",{tabIndex:0,role:"button",onClick:n,onKeyDown:h,ref:null==d?void 0:d.dragRef,className:(0,l.Z)(c().root,y.root,c()[void 0===w?"large":w],u&&c().active,"last"===g&&a().isLast,"first"===g&&a().isFirst,"on"===p&&a().folderTarget,"after"===p&&a().droppingBorderAfter,"before"===p&&a().droppingBorderBefore),children:[t&&(0,i.jsx)("div",{className:c().icon,children:t}),(0,i.jsxs)("span",{className:(0,l.Z)(c().content,c().fullWidth,c()[void 0===b?"large":b],y.content),children:[m&&(0,i.jsx)(s.j,(0,r.Z)({},_)),o]}),A&&(0,i.jsx)("div",{className:c().shortcut,children:A})]})})})})}},70039:function(e,t,n){"use strict";n.d(t,{b:function(){return m}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(55929),u=n(95162),c=n(1158),A=n(11747),d=n(2643),h=n(2595),f=n(45403),p=function(){var e=(0,h.Z)(),t=(0,f.Pe)();return{moveFileToGitHub:(0,s.useCallback)(function(n){var r=n.workspaceId,i=n.organizationId,o=n.repositoryId,a=n.filePath;return r&&i&&o?e.promise(t.workspaces.updateById(r,{folderId:null,gitHubRepository:{organizationId:i,repositoryId:o,filePath:void 0===a?"":a}}),{error:"An error has occurred.",loading:"Movile file to repository...",success:"File moved to repository successfully."}):Promise.resolve()},[])}},g=n(32472),m=function(e){var t=e.workspace,n=e.organizationId,h=e.repositoryId,f=e.onClose,m=(0,o.Z)(e,["workspace","organizationId","repositoryId","onClose"]),v=(0,s.useState)("/"),y=v[0],b=v[1],w=p().moveFileToGitHub,_=(0,c.T5)({organizationId:n,repositoryId:h}),E=_.organization,C=_.repository;return(0,a.jsxs)(d.Z,(0,i.Z)((0,r.Z)({},m),{title:"Move file to Github repository",onClose:f,children:[(0,a.jsx)(l.Z,{label:"Repository",readOnly:!0,value:"".concat(null==E?void 0:E.name,"/").concat(null==C?void 0:C.name)}),(0,a.jsx)(l.Z,{label:"File path",value:y,placeholder:"Enter path ...",onChange:function(e){return b(e.currentTarget.value)}}),(0,a.jsxs)(A.Z,{children:[(0,a.jsx)(u.ZP,{variant:u.ZP.Variants.TRANSPARENT,onClick:f,children:"Cancel"}),(0,a.jsx)(u.ZP,{disabled:!y,onClick:function(){null==f||f();var e=y.replace(/^\//,""),r=t.title||g.SF;w({repositoryId:h,organizationId:n,filePath:e.length?"".concat(e,"/").concat(r):r,workspaceId:t.id})},variant:u.ZP.Variants.REGULAR,children:"Move File"})]})]}))}},26605:function(e,t,n){"use strict";n.d(t,{m:function(){return ep}});var r,i,o=n(98788),a=n(22970),s=n(52322),l=n(2784),u=n(11269),c=n(57685),A=n(2595),d=n(4126),h=n(70599),f=n(67640),p=n(15765),g=n(89960),m=n(96933),v=n(45171),y=n(42541),b=n(83607),w=n(70865),_=n(96670),E=n(87394),C=n(3635),B=n(74762),x=n.n(B),I=n(93995),T=function(e){var t=e.children,n=e.isDarkMode,r=e.isCurrent;return(0,s.jsx)("div",{className:(0,C.Z)(x().root,r&&x().isCurrent,n&&x().isDarkMode),children:(0,s.jsxs)("div",{className:x().content,children:[r&&(0,s.jsx)(I.Ct,{variant:"primary",className:x().badge,children:"Current plan"}),t]})})};function S(){return(S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var k=function(e){return l.createElement("svg",S({width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.828 2.4L4.463 9.766.297 5.6l.566-.566 3.6 3.6 6.8-6.8.565.566z",fill:"#2866DF"})))},N=n(88404),D=n(66140),O=n(23616),R=n.n(O),F=D.CF.pricingURL,L=function(e){var t=e.features,n=e.secondaryFeatures,r=e.onLearnMoreClick;return(0,s.jsxs)("div",{className:R().benefitsContainer,children:[(0,s.jsx)("ul",{className:R().featureList,children:t.map(function(e){return(0,s.jsxs)("li",{children:[(0,s.jsx)(N.J,{icon:k}),(0,s.jsx)("span",{className:(0,C.Z)(e.isHighlighted&&R().isHighlighted),children:e.label}),e.description&&(0,s.jsx)("span",{className:R().bulletListItemDescription,children:e.description})]},e.label)})}),(0,s.jsx)("ul",{className:R().secondaryFeatureList,children:null==n?void 0:n.map(function(e){return(0,s.jsxs)("li",{children:[(0,s.jsx)(N.J,{icon:k}),"string"==typeof e?e:(0,s.jsx)("span",{className:(0,C.Z)(e.isHighlighted&&R().isHighlighted),children:e.label})]},"string"==typeof e?e:e.label)})}),r&&(0,s.jsx)("a",{className:"linkLight",href:F,style:{marginLeft:"24px"},target:"_blank",rel:"noreferrer",children:"Learn More"})]})},U=n(88859),P=n(5406),M=n.n(P),j=function(e){var t=e.annualPrice,n=e.monthlyPrice;return(0,s.jsxs)("div",{className:M().priceTag,children:[(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:M().priceTagNumber,children:["$",t]}),(0,s.jsx)("span",{className:M().priceTagText,children:"per member / month"})]}),(0,s.jsxs)("p",{className:M().smallSemiBold,children:["billed annually or $",n,"/monthly"]})]})},Z=n(47842),Q=n(95162),H=n(21949),V=n.n(H),K=function(e){var t=e.children;return(0,s.jsxs)("div",{className:V().root,children:[(0,s.jsx)(Q.ZP,(0,_.Z)((0,w.Z)({},e),{className:(0,C.Z)(e.className,V().mainButton),children:t})),(0,s.jsx)(Q.ZP,(0,_.Z)((0,w.Z)({},e),{isLoading:!1,className:(0,C.Z)(e.className,V().hiddenButton),children:t}))]})},z=n(97023),G=n.n(z),W=(i={},(0,Z.Z)(i,h.k9.Free,0),(0,Z.Z)(i,h.k9.Pro,1),(0,Z.Z)(i,h.k9.Business,2),(0,Z.Z)(i,h.k9.Enterprise,3),i),q=function(e){if(e.hideActionButtons)return null;var t=e.currentPlan,n=e.actionsState,r=e.cardPlanType,i=e.canChangePlan,o=e.onUpgradeClick,a=e.onDowngradeClick,l=e.onManagePlanClick,u=e.subscriptionStatus,c=e.willCancelAtPeriodEnd,A=e.isCanceled;if(i&&r===h.k9.Enterprise)return(0,s.jsx)(K,{"data-testid":"billing-plan-management-button",onClick:function(){return l(h.k9.Enterprise)},isLoading:!1,children:"Contact us"});var d=u===h.yh.paused,f=u===h.yh.canceled||A,p=i&&(d||f)&&t===r,g=i&&!A&&W[r]<W[t]&&!(r===h.k9.Free&&c),m=i&&(t!==h.k9.Free&&t===r||t===h.k9.Free&&d),v=i&&(W[r]>W[t]||f&&r!==h.k9.Free);return i&&r===t&&f&&r!==h.k9.Free?(0,s.jsx)(K,{variant:Q.tr.TRANSPARENT,"data-testid":"billing-plan-reactivate-button",onClick:function(){return o({hasPromoCode:!1,planType:r})},isLoading:n.isManagementButtonLoading===r,children:"Reactivate"}):m||p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K,{variant:Q.tr.TRANSPARENT,"data-testid":"billing-plan-management-button",onClick:function(){return l(r)},isLoading:n.isManagementButtonLoading===r,children:"Billing & Invoices"}),d&&t===h.k9.Free&&(0,s.jsx)("small",{className:G().failedPayment,children:"Payment failed. Check payment method."})]}):v?(0,s.jsx)(K,{"data-testid":"billing-plan-upgrade-button",isLoading:n.isUpgradeLoading===r,onClick:function(){return o({hasPromoCode:!0,planType:r})},children:"Upgrade"}):g?(0,s.jsx)(K,{variant:Q.tr.TRANSPARENT,"data-testid":"billing-plan-downgrade-button",isLoading:n.isDowngradeLoading===r,onClick:function(){return a({planType:r,hasPromoCode:!0})},children:"Downgrade"}):null},$=n(19275),Y=n(79170),J=n(60885),X=n.n(J),ee=(0,l.memo)(function(e){var t=e.className,n=e.value,r=e.min,i=void 0===r?-1/0:r,o=e.max,a=void 0===o?1/0:o,u=e.placeholder,c=e.defaultValue,A=e.onChange,d=e.onBlur,h=e.disabled,f=void 0!==h&&h,p=(0,l.useRef)(null),g=(0,l.useState)(n||c),m=g[0],v=g[1];(0,l.useEffect)(function(){"number"==typeof n&&v(n)},[n]);var y=(0,l.useMemo)(function(){return"number"!=typeof n?u:void 0===m?"":m.toString()},[n,m,u]),b=(0,l.useCallback)(function(e){return Math.min(Math.max(e||0,i),a)},[a,i]),w=(0,l.useCallback)(function(){m===n||f||A(b(m))},[m,A,n,b,f]),_=(0,l.useCallback)(function(e){"number"!=typeof n&&c&&A(c),e.target.select()},[c,A,n]),E=(0,l.useCallback)(function(){w(),null==d||d()},[w,d]),B=(0,l.useCallback)(function(e){var t=e.currentTarget.value.replace(/[^\d]/g,"");""===t?v(void 0):v(Number(t))},[]),x=(0,l.useCallback)(function(e){"Enter"===e.key&&(w(),e.preventDefault())},[w]);return(0,s.jsxs)("div",{className:(0,C.Z)(X().container,t),children:[(0,s.jsx)("input",{ref:p,className:X().input,type:"text",value:y,onFocus:_,onBlur:E,onChange:B,onKeyDown:x,disabled:f}),(0,s.jsx)("span",{className:X().dollarSign,children:"$"})]})}),et=n(63842),en=n(97420),er=n(48860),ei=n(85964),eo=n(88232),ea=n(95343),es=n.n(ea),el=n(40145),eu=n.n(el),ec=U.ZP.free.features.featureLimits,eA=U.ZP.pro.features.featureLimits,ed=U.ZP.business.features.featureLimits,eh=function(e){var t,n,r,i,o,a,u,c,A,d,f=e.isDarkMode,p=e.currentPlan,g=e.hideActionButtons,m=e.aiDiagramAccess,v=e.premiumCreditsAccess,b=e.workspaceAccess,B=e.customIconsAccess,x=e.subscriptionStatus,I=e.highlightedFeature,S=e.teamMemberCount,k=void 0===S?1:S,N=e.currentMonthlySpend,D=void 0===N?0:N,O=e.billingVersioning,R=e.onManageBillingClick,F=e.onPlanChange,P=e.canChangePlan,M=e.onTeamPlanLimitsChange;e.subscriptionCancellationInfo;var Z=p.planType,H=(0,E.Z)((0,$.R)({isUpgradeLoading:null,isDowngradeLoading:null,isManagementButtonLoading:null}),2),V=H[0],K=H[1],z=(0,l.useCallback)(function(e){var t=e||{hasPromoCode:!1,planType:h.k9.Pro},n=t.planType,r=void 0===n?h.k9.Pro:n,i=t.hasPromoCode,o=void 0!==i&&i;K({isUpgradeLoading:r}),y.Z.trackEvent("payment","billing_plan_upgrade",{planType:r,hasPromoCode:o,source:"billingPlanPane"}),F({hasPromoCode:o,planType:r}).finally(function(){return K({isUpgradeLoading:null})})},[K,F]),G=(0,l.useCallback)(function(e){var t=e.planType,n=e.hasPromoCode;K({isDowngradeLoading:t}),y.Z.trackEvent("payment","billing_plan_downgrade",{source:"billingPlanPane"}),(t===h.k9.Free?R():F({planType:t,hasPromoCode:void 0!==n&&n})).finally(function(){return K({isDowngradeLoading:null})})},[R,F,K]),W=(0,l.useCallback)(function(e){e===h.k9.Enterprise?window.open("https://cal.com/shin-kim/eraser-enterprise-plan?source=app","_blank"):(K({isManagementButtonLoading:e}),y.Z.trackEvent("payment","billing_plan_manage",{source:"billingPlanPane"}),R().finally(function(){return K({isManagementButtonLoading:null})}))},[K,R]),J=(0,l.useCallback)(function(){y.Z.trackEvent("payment","billing_plan_learn_more",{source:"billingPlanPane"})},[]),X=(0,l.useCallback)(function(e,t,n){return p.planType===h.k9.Free&&n&&(null==e?void 0:e.limit)||t},[p]),ea=(null==O||null==(t=O[h.k9.Business])?void 0:t.version)==="v1",el=(null==O||null==(n=O[h.k9.Business])?void 0:n.version)==="v2",eh=(null==O||null==(r=O[h.k9.Pro])?void 0:r.version)==="v2",ef=(0,l.useState)(null!=(i=null==p?void 0:p.maxMonthlySpend)?i:50),ep=ef[0],eg=ef[1],em=(0,l.useState)(null!=(o=null==p?void 0:p.payAsYouGoEnabled)&&o),ev=em[0],ey=em[1],eb=(0,w.Z)({hideActionButtons:g,currentPlan:p.planType,actionsState:V,canChangePlan:P,onUpgradeClick:z,onDowngradeClick:G,onManagePlanClick:W,subscriptionStatus:x},e.subscriptionCancellationInfo),ew=I===h.M$.AiDiagramAndOutlineCredits,e_=I===h.M$.MonthlyAiDiagramApiCalls||I===h.M$.PremiumApiCalls||I===h.AC.ApiAccess,eE=I===h.M$.PremiumCredits,eC=I===h.AC.CustomAiContext,eB=[{label:X(m,ec[h.M$.AiDiagramAndOutlineCredits],!0)+" Standard AI Credits",current:X(m,ec[h.M$.AiDiagramAndOutlineCredits],!0),description:"one-time use",isHighlighted:ew},{label:"".concat(X(v,ec[h.M$.PremiumCredits],!0)," Premium AI Credits"),description:"one-time use",isHighlighted:eE}],ex=[{label:"".concat(X(m,eA[h.M$.AiDiagramAndOutlineCredits])," Standard AI Credits"),description:"per month per member",isHighlighted:ew},{label:"".concat(X(m,eA[h.M$.PremiumCredits])," Premium AI Credits"),description:"per month per member",isHighlighted:eE},{label:"AI API Access",description:"With usage-based pricing",isHighlighted:e_}],eI=[{label:"".concat(X(m,ed[h.M$.AiDiagramAndOutlineCredits])," Standard AI Credits"),description:"per month per member",isHighlighted:ew},{label:"".concat(X(m,ed[h.M$.PremiumCredits])," Premium AI Credits"),description:"per month per member",isHighlighted:eE},{label:"AI API Access",description:"With usage-based pricing",isHighlighted:e_}],eT=[{label:"Unlimited Standard AI",description:"per month per member",isHighlighted:ew},{label:"More Premium AI",description:"per month per member",isHighlighted:eE},{label:"AI API Access",description:"more calls",isHighlighted:e_}],eS="".concat(k," ").concat(1===k?"Member":"Members");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:eu().container,children:[(0,s.jsxs)(T,{isDarkMode:f,isCurrent:Z===h.k9.Free,children:[(0,s.jsx)("div",{className:eu().title,children:U.ZP.free.label}),(0,s.jsx)("div",{className:(0,C.Z)(es().medium,"c-g10"),style:{visibility:Z===h.k9.Free?"visible":"hidden"},children:eS}),(0,s.jsx)(L,{features:eB,secondaryFeatures:[{label:"".concat(X(b,ec[h.M$.Workspaces])," Team Files"),isHighlighted:I===h.M$.Workspaces},"Standard AI Presets","Github Sync","Unlimited Members","Unlimited Guests","Diagram-as-Code","Realtime Collaboration","Commenting"]}),(0,s.jsx)("div",{className:eu().buttonContainer,children:(0,s.jsx)(q,(0,_.Z)((0,w.Z)({},eb),{cardPlanType:h.k9.Free}))})]}),(0,s.jsxs)(T,{isDarkMode:f,isCurrent:Z===h.k9.Pro,children:[(0,s.jsx)("div",{className:eu().title,children:U.ZP.pro.label}),(0,s.jsx)("div",{className:(0,C.Z)(es().medium,"c-g10"),style:{visibility:Z===h.k9.Pro?"visible":"hidden"},children:eS}),(0,s.jsx)(L,{features:ex,secondaryFeatures:["Everything in Free",{label:"Unlimited Team Files",isHighlighted:I===h.M$.Workspaces},{label:"Security Controls",isHighlighted:I===h.AC.NoLinkAccess},{label:"".concat(X(B,eA[h.M$.CustomIcons])," Custom Icons"),isHighlighted:I===h.M$.CustomIcons},{label:"PDF Export",isHighlighted:I===h.AC.ExportPDF},{label:"Better Quality Export",isHighlighted:I===h.AC.ExportQualityControls||I===h.AC.ExportWatermarkToggle},{label:"Private Files",isHighlighted:I===h.AC.PrivateWorkspaces}],onLearnMoreClick:J}),(0,s.jsx)(j,{monthlyPrice:eh?12:20,annualPrice:eh?10:15}),(0,s.jsx)("div",{className:eu().buttonContainer,children:(0,s.jsx)(q,(0,_.Z)((0,w.Z)({},eb),{cardPlanType:h.k9.Pro}))})]}),(0,s.jsxs)(T,{isDarkMode:f,isCurrent:Z===h.k9.Business,children:[(0,s.jsx)("div",{className:eu().title,children:U.ZP.business.label}),(0,s.jsx)("div",{className:(0,C.Z)(es().medium,"c-g10"),style:{visibility:Z===h.k9.Business?"visible":"hidden"},children:eS}),(0,s.jsx)(L,{features:eI,secondaryFeatures:["Everything in Starter",{label:"SAML SSO",isHighlighted:I===h.AC.SSO},{label:"".concat(X(B,ed[h.M$.CustomIcons])," Custom Icons"),isHighlighted:I===h.M$.CustomIcons},{label:"Custom AI Presets",isHighlighted:eC}],onLearnMoreClick:J}),(0,s.jsx)(j,{monthlyPrice:ea?24:el?35:60,annualPrice:ea?20:el?25:45}),(0,s.jsx)("div",{className:eu().buttonContainer,children:(0,s.jsx)(q,(0,_.Z)((0,w.Z)({},eb),{cardPlanType:h.k9.Business}))})]}),(0,s.jsxs)(T,{isDarkMode:f,isCurrent:Z===h.k9.Enterprise,children:[(0,s.jsx)("div",{className:eu().title,children:U.ZP.enterprise.label}),(0,s.jsx)("div",{className:(0,C.Z)(es().medium,"c-g10"),style:{visibility:Z===h.k9.Enterprise?"visible":"hidden"},children:eS}),(0,s.jsx)(L,{features:eT,secondaryFeatures:["Everything in Business","Flexible Deployment","Premium Support"],onLearnMoreClick:J}),(0,s.jsx)("div",{className:eu().priceTagContainer,children:(0,s.jsx)("span",{children:"Inquire for pricing"})}),(0,s.jsx)("div",{className:eu().buttonContainer,children:(0,s.jsx)(q,(0,_.Z)((0,w.Z)({},eb),{cardPlanType:h.k9.Enterprise}))})]})]}),(0,s.jsxs)("div",{id:ei.$,className:eu().usageBasedSection,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:(0,C.Z)(es().header),children:"Usage-based pricing"}),(0,s.jsx)(eo.Z,{text:"Usage-based pricing is managed at the organization level",disabled:!g||Z===h.k9.Free||P,children:(0,s.jsx)(Y.Z,{label:"Enable usage-based pricing",labelSide:"right",checked:ev,onChange:function(e){ey(e.target.checked),null==M||M({maxMonthlySpend:ep,payAsYouGoEnabled:e.target.checked})},disabled:Z===h.k9.Free||!P,className:"marginTopSmall marginBottomMedium"})}),(0,s.jsxs)("p",{className:(0,C.Z)(es().medium,"c-g10 marginBottomNone marginTopMedium"),children:["Usage-based pricing allows you to pay for extra AI credits or API calls beyond your plan limits. ",(0,s.jsx)(et.d,{href:"https://docs.eraser.io/docs/usage-based-pricing",children:"Learn more"})]})]}),(0,s.jsxs)("div",{className:"row alignEnd gapMedium",children:[(0,s.jsx)(eo.Z,{text:"Usage-based pricing is managed at the organization level",disabled:!g||Z===h.k9.Free||P,children:(0,s.jsx)(en.A,{label:"Monthly spend limit",style:{width:150},children:(0,s.jsx)(ee,{value:ep,min:5,max:1e4,onChange:eg,disabled:!p.payAsYouGoEnabled||Z===h.k9.Free||!P})})}),(0,s.jsx)(eo.Z,{text:"Usage-based pricing is managed at the organization level",disabled:!g||Z===h.k9.Free||P,children:(0,s.jsx)(Q.ZP,{onClick:function(){null==M||M({maxMonthlySpend:ep,payAsYouGoEnabled:ev})},isLoading:e.savingTeamPlanLimits,disabled:!p.payAsYouGoEnabled||Z===h.k9.Free||!P,children:"Save"})})]}),(ev||D>0)&&(0,s.jsx)(en.A,{label:"Current spend",children:(0,s.jsxs)("span",{className:eu().currentSpend,children:["$",D.toFixed(2),(0,s.jsxs)("span",{className:"c-g9 marginLeftSmall",children:[" / ",(null!=(a=p.maxMonthlySpend)?a:0).toFixed(2)]})]})}),(0,s.jsx)("div",{children:(0,s.jsx)(en.A,{label:"Rates",children:(0,s.jsxs)("div",{className:"column gapSmall",children:[(0,s.jsxs)("p",{className:es().medium,children:[(0,s.jsx)("span",{className:eu().pricingAction,children:"Standard AI credits"}),(0,s.jsxs)("span",{className:"c-g9",children:["$",null!=(u=er.uJ[h.M$.AiDiagramAndOutlineCredits])?u:0," / 100 credits"]})]}),(0,s.jsxs)("p",{className:es().medium,children:[(0,s.jsx)("span",{className:eu().pricingAction,children:"Premium AI credits"}),(0,s.jsxs)("span",{className:"c-g9",children:["$",null!=(c=er.uJ[h.M$.PremiumCredits])?c:0," / 100 credits"]})]}),(0,s.jsxs)("p",{className:es().medium,children:[(0,s.jsx)("span",{className:eu().pricingAction,children:"Standard API calls"}),(0,s.jsxs)("span",{className:"c-g9",children:["$",null!=(A=er.uJ[h.M$.MonthlyAiDiagramApiCalls])?A:0," / 100 calls"]})]}),(0,s.jsxs)("p",{className:es().medium,children:[(0,s.jsx)("span",{className:eu().pricingAction,children:"Premium API calls"}),(0,s.jsxs)("span",{className:"c-g9",children:["$",null!=(d=er.uJ[h.M$.PremiumApiCalls])?d:0," / 100 calls"]})]})]})})})]})]})},ef=function(e){try{if(e){var t=new URL(e);if(null==t?void 0:t.host.endsWith("stripe.com"))return t.toString()}}catch(e){(0,g.Tb)(e)}return null},ep=function(e){var t,n,r,i=e.highlightedFeature,w=e.organizationId,_=e.seatCount,E=e.useBillingVersioning,C=e.plan,B=e.isOrgView,x=e.subscriptionCancellationInfo,I=(0,A.Z)(),T=(0,d.F)().isDarkMode,S=(0,m.II)(),k=(0,u.Rs)(),N=(0,c.K)(),D=(0,b.Y)(),O=(0,b.T)({team:k}),R=(0,u.DJ)().updateTeam,F=null==k?void 0:k.id,L=(0,p.Bv)({featureName:h.M$.Workspaces,teamId:F}),U=(0,p.Bv)({featureName:h.M$.AiDiagramAndOutlineCredits,userId:S,teamId:F}),P=(0,p.Bv)({featureName:h.M$.PremiumCredits,userId:S,teamId:F}),M=(0,p.Bv)({featureName:h.M$.CustomIcons,userId:S,teamId:F}),j="true"===N.showPromoCodeOption,Z=(0,l.useState)(!1),Q=Z[0],H=Z[1],V=(0,l.useCallback)((t=(0,o.Z)(function(e){var t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return t={planType:e.planType,returnUrl:D,allowPromoCode:e.hasPromoCode,organizationId:w,teamId:F},[4,f.Z.post("payment/createUrl",t).catch(function(e){var t;return(0,g.Tb)(e),I.error(null!=(t=null==e?void 0:e.message)?t:"Could not access billing page."),{redirectUrl:null}}).then(function(e){var t=ef(e.redirectUrl);t&&(window.location.href=t)})];case 1:return[2,n.sent()]}})}),function(e){return t.apply(this,arguments)}),[F,w,D]),K=(0,l.useCallback)((0,o.Z)(function(){var e;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return e={organizationId:w,teamId:F,returnUrl:D},[4,f.Z.post("payment/createManagementUrl",e).catch(function(e){var t;return(0,g.Tb)(e),I.error(null!=(t=null==e?void 0:e.message)?t:"Could not load subscription."),{redirectUrl:null}}).then(function(e){var t=ef(e.redirectUrl);t&&(window.location.href=t)})];case 1:return[2,t.sent()]}})}),[F,w,D]),z=(0,l.useCallback)(function(e){H(!0),y.Z.trackEvent("payment","manage_limits",e),F&&(null==R||R(F,{plan:e}).then(function(){H(!1)}))},[F,R]),G=(0,v.H)(F);return(0,s.jsx)(eh,{isDarkMode:T,hideActionButtons:!B&&!!(null==k?void 0:k.organizationId),currentPlan:null!=C?C:{planType:h.k9.Free},onPlanChange:V,canChangePlan:O,workspaceAccess:L,aiDiagramAccess:U,premiumCreditsAccess:P,customIconsAccess:M,showPromoCodeOption:j,onManageBillingClick:K,billingVersioning:E,subscriptionStatus:null==C||null==(n=C.stripe)?void 0:n.status,highlightedFeature:i,teamMemberCount:_,onTeamPlanLimitsChange:z,savingTeamPlanLimits:Q,currentMonthlySpend:(null!=(r=null==G?void 0:G.totalSpendInCents)?r:0)/100,subscriptionCancellationInfo:x})}},83607:function(e,t,n){"use strict";n.d(t,{T:function(){return l},Y:function(){return s}});var r=n(50389),i=n(14670),o=n(96933),a=n(70599),s=function(){var e=new URL(window.location.href);return e.search="?settings=plans",e.toString()},l=function(e){var t,n,s=e.team,l=e.isOrgView,u=(0,o.II)(),c=(0,i.Z)(null==s?void 0:s.id,void 0,{internalOnly:!0}),A=(0,r.GX)(c,u),d=null!=(n=null==s||null==(t=s.plan)?void 0:t.planType)?n:a.k9.Free,h=(0,r.GX)(c,u,r.H0);return(!!l||null==s||!s.organizationId)&&!!s&&!!A&&(d===a.k9.Free||h)}},85964:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var r="usage-based-pricing-section"},37972:function(e,t,n){"use strict";n.d(t,{K:function(){return j},L:function(){return M}});var r,i,o=n(98788),a=n(22970),s=n(52322),l=n(11269),u=n(14670),c=n(96933);(r=i||(i={})).OAuth="oauth",r.Saml="saml";var A="Only team admins can view or edit SSO information",d=n(67640),h=n(50389),f=n(2784),p=n(79170),g=n(70865),m=n(96670),v=n(63955),y=n(71059),b=n(95162),w=n(11747),_=n(7956),E=n(55929),C=n(18858),B=n(11406),x=n.n(B);function I(e){return e?e.startsWith("-----BEGIN CERTIFICATE-----")&&e.endsWith("-----END CERTIFICATE-----")?void 0:'Certificate must start with "-----BEGIN CERTIFICATE-----" and end with "-----END CERTIFICATE-----"':"Certificate is required"}var T=function(e){var t,n,r,l,u,c,A=e.ssoTenant,d=e.onCancel,h=e.onUpdate,p=(0,v.cI)({values:A}),B=p.register,T=p.handleSubmit,S=p.formState.errors,k=T((t=(0,o.Z)(function(e){return(0,a.__generator)(this,function(t){return h((0,g.Z)({type:i.Saml},e)),[2,!1]})}),function(e){return t.apply(this,arguments)})),N=(0,f.useRef)(null);(0,y.Z)(function(){var e;null==(e=N.current)||e.scrollIntoView({behavior:"smooth"})},[]);var D=(0,f.useCallback)(function(e){e.preventDefault(),d()},[d]);return(0,s.jsxs)("form",{onSubmit:k,ref:N,className:x().form,children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsx)(E.Z,(0,m.Z)((0,g.Z)({},B("domain",{required:"Domain is required"})),{label:"Verified Domain",readOnly:!0,error:null==(n=S.domain)?void 0:n.message,className:x().formField})),(0,s.jsx)(E.Z,(0,m.Z)((0,g.Z)({},B("serviceProvider",{required:"Entity ID is required",setValueAs:function(e){return e.trim()}})),{readOnly:!0,error:null==(r=S.serviceProvider)?void 0:r.message,label:"Entity ID",className:x().formField})),(0,s.jsx)(E.Z,(0,m.Z)((0,g.Z)({},B("entryPoint",{required:"Sign-In URL is required",validate:C.po,setValueAs:function(e){return e.trim()}})),{error:null==(l=S.entryPoint)?void 0:l.message,label:"SAML Sign-In URL",className:x().formField})),(0,s.jsx)(E.Z,(0,m.Z)((0,g.Z)({},B("issuer",{required:"Issuer is required",validate:C.po,setValueAs:function(e){return e.trim()}})),{error:null==(u=S.issuer)?void 0:u.message,label:"Identity Provider Issuer",className:x().formField})),(0,s.jsx)(_.Z,(0,m.Z)((0,g.Z)({},B("idpCert",{required:"Certificate is required",validate:I,setValueAs:function(e){return e.trim()}})),{error:null==(c=S.idpCert)?void 0:c.message,label:"Key x509 Certificate",height:95,className:x().formField}))]}),(0,s.jsxs)(w.Z,{autoWidth:!0,children:[(0,s.jsx)(b.zx,{variant:b.tr.LIGHT,onClick:D,children:"Cancel"}),(0,s.jsx)(b.zx,{type:"submit",children:"Save"})]})]})};function S(e){if(!e)return"";try{return new URL(e).hostname}catch(e){return"invalid url"}}var k=function(e){var t=e.ssoTenant,n=e.onUpdate,r=e.hideForm,i=e.originalTenant,o=e.canManage,a=(0,f.useState)(!t.entryPoint),l=a[0],u=a[1],c=(0,f.useCallback)(function(e){n(e),u(!1),r()},[n,r]);return l?(0,s.jsx)(T,{ssoTenant:t,onCancel:function(){u(!1),i||r()},onUpdate:c}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("table",{className:x().table,children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Verified Domain"}),(0,s.jsx)("td",{children:t.domain})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"SAML Sign-In URL"}),(0,s.jsx)("td",{children:S(t.entryPoint)})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Identity Provider Issuer"}),(0,s.jsx)("td",{children:S(t.issuer)})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Key x509 Certificate"}),(0,s.jsx)("td",{children:""})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Entity ID"}),(0,s.jsx)("td",{children:t.serviceProvider})]})]})}),(void 0===o||o)&&(0,s.jsx)(b.zx,{variant:b.tr.LIGHT,onClick:function(){return u(!0)},children:"Edit Configuration"})]})},N=n(44371),D=n(89960),O=n(75426),R=n(93995),F=n(51516),L=n(71505),U=n(70599),P=function(e){var t,n,r=e.entityId,i=e.entityType,l=e.entityDomain,u=e.canView,c=e.canAccessSSO,h=e.currentSsoDomain,g=e.onSsoChange,m=e.showSettingsModalLinks,v=void 0!==m&&m,y=e.canManage,b=void 0===y||y,w=e.disabledTooltip,_=(0,f.useState)(),E=_[0],C=_[1],B=(0,f.useState)(),I=B[0],T=B[1],S=(0,f.useState)(),L=S[0],P=S[1],M=(0,f.useState)(!!h),j=M[0],Z=M[1],Q=(0,f.useState)(!!h),H=Q[0],V=Q[1],K=(0,f.useCallback)(function(){return"organization"===i?"organizations/".concat(r,"/sso"):"sso/".concat(r)},[i,r]),z=(0,f.useCallback)((t=(0,o.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(i){switch(i.label){case 0:if(!c)return e.preventDefault(),[2];if(V(t=e.target.checked),!t)return[3,7];if(!I)return[3,5];C(I),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d.Z.post(K(),I)];case 2:return i.sent(),N.a1.success("SSO restored"),null==g||g(),[3,4];case 3:return n=i.sent(),(0,D.Tb)(n),N.a1.error("Failed to restore SSO"),[3,4];case 4:return[3,6];case 5:C({domain:l,serviceProvider:"https://app.eraser.io"}),Z(!1),i.label=6;case 6:return[3,11];case 7:if(C(void 0),!I)return[3,11];i.label=8;case 8:return i.trys.push([8,10,,11]),[4,d.Z.delete(K())];case 9:return i.sent(),C(void 0),N.a1.success("SSO disabled"),null==g||g(),[3,11];case 10:return r=i.sent(),(0,D.Tb)(r),N.a1.error("Failed to disable SSO"),[3,11];case 11:return[2]}})}),function(e){return t.apply(this,arguments)}),[l,I,c,K,g]);(0,f.useEffect)(function(){u&&r&&H&&c&&!I&&d.Z.get(K()).then(function(e){Z(!1),"inactive"in e||(C(e),T(e))}).catch(function(e){Z(!1),401===e.statusCode?(e.message===A&&P(e.message),"SSO already exists for this domain. Please contact us at hello@eraser.io to add SSO to this team."===e.message&&P(e.message),C(void 0)):P(e.message)})},[r,u,c,H,I,K]);var G=(0,f.useCallback)((n=(0,o.Z)(function(e){var t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,d.Z.post(K(),e)];case 1:return n.sent(),C(e),T(e),I?N.a1.success("SSO updated"):N.a1.success("SSO enabled"),null==g||g(),[3,3];case 2:return t=n.sent(),(0,D.Tb)(t),N.a1.error("Failed to update SSO"),[3,3];case 3:return[2]}})}),function(e){return n.apply(this,arguments)}),[I,K,g]),W=(0,f.useCallback)(function(){C(void 0),V(!1)},[]),q=(0,F.Y)().setOpenedPane,$=(0,s.jsxs)("h3",{children:["Authentication ","team"===i&&!c&&(0,s.jsx)(R.y6,{})]});return u?L?(0,s.jsxs)(s.Fragment,{children:[$,(0,s.jsx)("div",{children:L})]}):(0,s.jsxs)(s.Fragment,{children:[$,(0,s.jsxs)("div",{children:[!e.hideSwitch&&(0,s.jsx)(p.Z,{checked:H||void 0!==h,readOnly:!c||H,disabled:!b,disabledTooltip:w,onChange:z,label:(0,s.jsxs)(s.Fragment,{children:["SAML SSO ",j&&(0,s.jsx)(O.Z,{inline:!0})]})}),"organization"===i?(0,s.jsxs)("p",{className:x().infoText,children:["Set up SSO for your organization."," ",(0,s.jsx)("a",{href:"https://docs.eraser.io/docs/sso",children:"Learn about SSO"}),". If you are facing issues with setup, send an email to ",(0,s.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"}),"."]}):(0,s.jsxs)("p",{className:x().infoText,children:["Team members on your email domain will be required to sign in with SSO."," ",c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{href:"https://docs.eraser.io/docs/sso",children:"Learn about SSO"}),"."," ",v&&(0,s.jsxs)(s.Fragment,{children:["You can enable"," ",(0,s.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),q("members")},children:"just-in-time provisioning"})," ","here."," "]}),"If you are facing issues with setup, send an email to"," ",(0,s.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"}),"."]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),v&&q("plans",U.AC.SSO)},children:"Upgrade to Business."})})]}),E?(0,s.jsx)(k,{ssoTenant:E||{domain:l},originalTenant:I,hideForm:W,onUpdate:G,canManage:b}):null]})]}):(0,s.jsxs)(s.Fragment,{children:[$,(0,s.jsx)("div",{children:A})]})},M=function(){var e,t,n,r=(0,l.Rs)(),i=(0,c.aF)(),o=null==(e=(0,u.Z)(null==r?void 0:r.id,void 0))?void 0:e.find(function(e){return e.userId===(null==i?void 0:i.id)}),a=(0,h.H0)(o),A=(0,L.Z)(U.AC.SSO,null==r?void 0:r.id);if(!r)return null;var d=!r.organizationId;return(0,s.jsx)(P,{entityId:r.id,entityType:"team",entityDomain:null==i||null==(t=i.email)?void 0:t.split("@")[1],canView:a,canManage:d,disabledTooltip:d?void 0:"SSO is managed at the organization level",canAccessSSO:A,currentSsoDomain:null!=(n=r.ssoDomain)?n:void 0,showSettingsModalLinks:!0})},j=function(e){return(0,s.jsx)(P,{entityId:e.organizationId,entityType:"organization",entityDomain:e.entityDomain,canView:!0,canAccessSSO:!0,canManage:!0,currentSsoDomain:e.currentSsoDomain,onSsoChange:e.onSsoChange,showSettingsModalLinks:!1,hideSwitch:!!e.currentSsoDomain})}},76784:function(e,t,n){"use strict";n.d(t,{U:function(){return Q}});var r,i=n(70865),o=n(96670),a=n(26297),s=n(52322),l=n(2784),u=n(35637),c=n(95162),A=n(89563),d=n(41832),h=n(42896),f=n(25300),p=n(32472),g=n(57225),m=n(73705),v=n.n(m),y=function(e){var t=e.isLoading,n=e.templates,r=e.onUseTemplate,i=e.onClose,o=e.onTemplatePreview,a=(0,l.useState)(""),m=a[0],y=a[1],b=(0,f.Z)(),w=b.loading,_=b.request;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:v().titleWrapper,children:[(0,s.jsx)("h3",{className:v().title,children:"Team Templates"}),(0,s.jsxs)("div",{className:v().titleTools,children:[(0,s.jsx)(u.Z,{showShortcut:!0,searchTerm:m,className:v().searchBar,setSearchTerm:y}),(0,s.jsxs)(c.ZP,{onClick:i,size:c.ZP.Sizes.SMALL,className:v().closeButton,variant:c.ZP.Variants.TRANSPARENT,children:["Close",(0,s.jsx)(A.P,{keys:["Esc"]})]})]})]}),(0,s.jsxs)("div",{className:v().contentWrapper,children:[n.filter(function(e){var t,n;return null==(n=null==(t=e.title)?void 0:t.toLocaleLowerCase())?void 0:n.includes(m.toLocaleLowerCase())}).map(function(e,n){return(0,s.jsx)(d.w,{template:e,isLoading:t,onUseTemplate:r,classNames:{root:v().templateCard},onPreviewClick:function(){return o(n)}},e.id)}),(0,s.jsx)(h.x,{disabled:w,onClick:function(){w||_("templates_page",{title:p.k1,isTemplate:!0},{toastOptions:{success:{duration:5e3}},toastMessages:{loading:"Creating template",error:"Something went wrong. Failed to create template.",success:(0,s.jsx)(g.S,{successMessage:"Template created"})}})},classNames:{root:v().templateCard}})]})]})},b=n(5632),w=n(25237),_=n.n(w),E=n(88404);function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var B=function(e){return l.createElement("svg",C({width:8,height:12,viewBox:"0 0 8 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{d:"M1 11.2L6.6 6 1 .8",stroke:"currentColor",fill:"none",strokeLinecap:"square"})))},x=n(32148),I=n(11269),T=n(4120),S=n(77622),k=n(4126),N=n(65424),D=n(6375),O=n(34823),R=n.n(O),F=_()(function(){return Promise.all([n.e(7179),n.e(1539),n.e(6113),n.e(4526),n.e(3880),n.e(3262),n.e(9907),n.e(6946),n.e(8164),n.e(580),n.e(4188),n.e(9096),n.e(4656),n.e(3472)]).then(n.bind(n,11980)).then(function(e){return e.default})},{loadableGenerated:{webpack:function(){return[11980]}},ssr:!1,loading:function(){return(0,s.jsx)(D.Z,{})}}),L=function(e,t){var n=e.id,r=e.templateVersionId,i=e.templatePreviewImages;if(!r||!i||!i[t]||i[t]!==r)return{};var o=(0,S.j)({theme:t,templateVersionId:r,templateWorkspaceId:n}).imgixPath;return{backgroundImage:"url(".concat((0,N.V)(o),")")}},U=function(e){var t=e.onNext,n=e.onCancel,r=e.template,i=e.isLoading,o=e.onPrevious,a=e.onUseTemplate,u=e.onSeeAllTemplates,A=(0,b.useRouter)(),d=(0,k.F)().theme,h=(0,I.LP)(),f=(0,l.useState)(!1),p=f[0],g=f[1],m=(0,x.o)({currentTeamId:h,workspaceId:r.id,workspaceTeamId:r.teamId,isArchived:!!r.isArchived}),v=L(r,d);return(0,s.jsxs)("div",{className:R().root,children:[(0,s.jsxs)("div",{className:R().headerWrapper,children:[(0,s.jsxs)("div",{className:R().navigationWrapper,children:[(0,s.jsx)(c.ZP,{variant:c.ZP.Variants.TRANSPARENT,onClick:u,children:"See all"}),(0,s.jsx)(c.ZP,{onClick:o,variant:c.ZP.Variants.TRANSPARENT,children:(0,s.jsx)(E.J,{icon:B,className:R().previousIcon})}),(0,s.jsx)(c.ZP,{onClick:t,variant:c.ZP.Variants.TRANSPARENT,children:(0,s.jsx)(E.J,{icon:B})})]}),(0,s.jsx)("div",{className:R().metadataWrapper,children:(0,s.jsx)(T.E,{template:r})}),(0,s.jsx)("div",{className:R().controlsWrapper,children:r.isArchived?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.ZP,{onClick:n,variant:c.ZP.Variants.TRANSPARENT,children:"Cancel"}),(0,s.jsx)(c.ZP,{onClick:m,children:"Restore Template"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.ZP,{isLoading:p,onClick:function(){g(!0),A.push("/workspace/".concat(r.id))},variant:c.ZP.Variants.TRANSPARENT,children:"Edit Template"}),(0,s.jsx)(c.ZP,{isLoading:i,onClick:function(){return a(r)},children:"Use Template"})]})})]}),(0,s.jsx)("div",{className:R().previewWrapper,children:v.backgroundImage?(0,s.jsx)("div",{className:R().previewImage,style:v}):(0,s.jsx)(F,{template:r},r.id)})]})},P=n(2643),M=n(68583),j=n(94127),Z=n.n(j),Q=function(e){var t,n,r=e.isOpen,u=e.onClose,c=e.isLoading,A=e.mountedIn,d=e.onUseTemplate,h=e.templateToPreview,f=(0,a.Z)(e,["isOpen","onClose","isLoading","mountedIn","onUseTemplate","templateToPreview"]),p=(0,l.useState)(-1),g=p[0],m=p[1],v=h?"templatePreview":"allTemplates",b=(0,l.useState)(v),w=b[0],_=b[1],E=null!=(n=(0,M.z)({isArchived:null!=(t=null==h?void 0:h.isArchived)&&t}))?n:[],C=(0,l.useMemo)(function(){var e=E.findIndex(function(e){return e.id===(null==h?void 0:h.id)});return -1===g?e:g},[g,h,E]),B=function(){m(-1),"templatesPage"===A?null==u||u():_("allTemplates")};return(0,s.jsxs)(P.Z,(0,o.Z)((0,i.Z)({isOpen:r,hideCloseButton:!0,className:Z().root,onClose:u},f),{children:["allTemplates"===w&&(0,s.jsx)(y,{onClose:u,isLoading:c,templates:E,onUseTemplate:d,onTemplatePreview:function(e){m(e),_("templatePreview")}}),"templatePreview"===w&&E[C]&&(0,s.jsx)(U,{onUseTemplate:d,onCancel:B,template:E[C],onSeeAllTemplates:B,onNext:function(){return m((C+1)%E.length)},onPrevious:function(){return m((C-1)%E.length)}})]}))}},15902:function(e,t,n){"use strict";n.d(t,{QH:function(){return A},RZ:function(){return c},nU:function(){return u},qw:function(){return h},sv:function(){return l},zO:function(){return s}});var r=n(90581),i=n(21218),o=n(20624),a=n(39309),s=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).name="ParseError",o.hash=i,o}return n}((0,o.Z)(Error)),l=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var o,a=e.message,s=e.line,l=e.lineNumber;return(0,r.Z)(this,n),(o=t.call(this,a)).lineNumber=l,o.message=i({line:(void 0===s?"":s).trim(),message:a}),o}return n}((0,o.Z)(Error));function u(e,t){throw new s(e,t)}var c={DUPLICATE_ENTITY:"An entity with this name already exists. This leads to unspecified behavior.",RELATIONSHIP_IN_GROUP:"Relationship statements must be outside of group definitions. Try <br/><br/><code><span>Start > End</span><span>User Flow {</span><span>&nbsp;Start, End</span><span>}</span></code>"},A={INVALID_CHAR:"Special characters such as { } [ ] < > : , / - are not allowed in names.",INCOMPLETE_SETTING:"Property setting is incomplete. Try `A [shape: oval]`",NON_COMPLETED_SETTINGS_COLON:"Properties are defined using colons. Try: `A [icon: user]`",NON_COMPLETED_SETTINGS_COMMA:"Properties need to be separated by commas. Try: `A [icon: user, color: gray]`",INCORRECT_SETTING_ESCAPING:'Value is incorrectly escaped. Try `[label: value]` or `[label: "value"]`',INCOMPLETE_GROUP:"Group definition isn't closed. Try `Group { A, B }`",INCORRECT_GROUP_DEFINITION:"Group definition is incomplete. Try: <code><span>Group {</span><span>&nbsp;&nbsp;node</span><span>}</span></code>",EXPECTING_NEWLINE_AFTER_OPEN_BRACE:"Expecting new line after <b>{</b>. Try: <code>app {<span>&nbsp;&nbsp;compute</span>}</code>",EXPECTING_NEWLINE_AFTER_CLOSE_BRACE:"Expecting new line after <b>}</b>. Try: <code>app {<span>&nbsp;&nbsp;compute</span>}</code>",MISSING_NEWLINE_IN_GROUP:"Nodes in a group must be defined on a new line.",INCOMPLETE_RELATIONSHIP:"Relationship definition isn't completed. Try `A > B`",EXPECTING_NEWLINE_FOR_NEW_NODE:"Each node, group, relationship definition requires own line. Try: <code><span>A</span><span>B</span></code>",INCORRECT_ESCAPING:'Value is incorrectly escaped. Try `Start` or `"Start"`',NESTED_GROUPS_IN_LANE:"Lanes cannot contain nested groups. Only pools can contain lanes.",DEFAULT:"Invalid statement."};function d(e){var t=e.message;if(!t.startsWith("Parse error on line"))return t;if(t.includes("got 'INVALID'")||t.includes("got '/'"))return A.INVALID_CHAR;if(t.includes("got 'RELATIONSHIP'"))return c.RELATIONSHIP_IN_GROUP;if(t.includes("got 'ESC_CHAR_OPEN_Q'"))return t.includes("CLOSE_SQUARE_BRACKET")||t.includes("Expecting 'COMMA', 'CLOSE_SQUARE_BRACKET'")?A.INCORRECT_SETTING_ESCAPING:A.INCORRECT_ESCAPING;if(t.includes("Expecting 'COLON', got 'ALPHANUM'")||t.includes("Expecting 'COLON', got 'CLOSE_SQUARE_BRACKET'"))return A.NON_COMPLETED_SETTINGS_COLON;if(t.includes("Expecting 'CLOSE_SQUARE_BRACKET', 'COMMA', got 'ALPHANUM'")||t.includes("Expecting 'CLOSE_SQUARE_BRACKET', 'COMMA', got 'COLON'")||t.includes("Expecting 'COMMA', 'CLOSE_SQUARE_BRACKET', got 'COLON'"))return A.NON_COMPLETED_SETTINGS_COMMA;if(t.includes("Expecting 'CLOSE_SQUARE_BRACKET', 'COMMA', 'ALPHANUM', got ")||t.includes("Expecting 'ALPHANUM', got 'CLOSE_SQUARE_BRACKET'")||t.includes("Expecting 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN', got 'CLOSE_SQUARE_BRACKET'"))return A.INCOMPLETE_SETTING;if(t.includes("got 'FORWARD'")||t.includes("got 'BACKWARD'")||t.includes("got 'UNDIRECTED'")||t.includes("got 'BIDIRECTIONAL'")||t.includes("got 'FORWARD_DASHED'")||t.includes("got 'BACKWARD_DASHED'")||t.includes("got 'UNDIRECTED_DASHED'")||t.includes("got 'BIDIRECTIONAL_DASHED'"))return A.INCOMPLETE_RELATIONSHIP;if(t.includes("Expecting 'COMMA', 'CLOSE_SQUARE_BRACKET', got 'NEWLINE'")||t.includes("Expecting 'CLOSE_SQUARE_BRACKET', 'ALPHANUM', got 'NEWLINE'")||t.includes("Expecting 'ALPHANUM', got '1'")||t.includes("Expecting 'COMMA', 'CLOSE_SQUARE_BRACKET', got '1'")||t.includes("Expecting 'COLON', 'COMMA', 'CLOSE_SQUARE_BRACKET'")||t.includes("Expecting 'ALPHANUM', 'CLOSE_SQUARE_BRACKET'")&&(t.includes("got 'NEWLINE'")||t.includes("got '1'"))||t.includes("Expecting 'COMMA', 'CLOSE_SQUARE_BRACKET', 'ALPHANUM'")&&(t.includes("got 'NEWLINE'")||t.includes("got '1'"))||t.includes("got 'OPEN_SQUARE_BRACKET'")&&t.includes("TITLE")&&t.includes("DIAGRAM_SETTINGS")||t.includes("Expecting 'NEWLINE', 'EOF', 'TITLE', 'DIRECTION', 'DIAGRAM_SETTINGS', 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'"))return A.INCOMPLETE_SETTING;if(t.includes("got ']'"))return A.INCORRECT_GROUP_DEFINITION;if(t.includes("CLOSE_SQUARE_BRACKET")&&t.includes("COMMA"))return A.INCOMPLETE_SETTING;if(t.includes("Expecting 'NEWLINE', 'CLOSE_CURLY_BRACKET', got 'ALPHANUM'"))return A.MISSING_NEWLINE_IN_GROUP;if(t.includes("Expecting 'NEWLINE', 'CLOSE_CURLY_BRACKET'")&&t.includes("got '1'")||t.includes("Expecting 'NEWLINE', 'OPEN_CURLY_BRACKET', 'CLOSE_CURLY_BRACKET', 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'")&&t.includes("got '1'")||t.includes("Expecting 'NEWLINE', 'OPEN_CURLY_BRACKET', 'CLOSE_CURLY_BRACKET', 'COMMA', 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'")&&t.includes("got '1'")||t.includes("Expecting 'NEWLINE', 'CLOSE_CURLY_BRACKET', 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'")&&t.includes("got '1'")||t.includes("Expecting 'NEWLINE', 'EOF', 'CLOSE_CURLY_BRACKET', 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN', got '1'")||t.includes("Expecting 'EOF', 'NEWLINE', 'TITLE', 'ALPHANUM', got '1'")||t.includes("Expecting 'NEWLINE', 'EOF', got '1'"))return A.INCOMPLETE_GROUP;if(t.includes("Expecting 'NEWLINE', 'OPEN_CURLY_BRACKET', 'CLOSE_CURLY_BRACKET', 'COMMA', 'OPEN_SQUARE_BRACKET', 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'")||t.includes("Expecting 'NEWLINE', 'EOF', 'TITLE', 'DIRECTION', 'COLON', 'DIAGRAM_SETTINGS', 'OPEN_CURLY_BRACKET', 'CLOSE_CURLY_BRACKET', 'COMMA', 'OPEN_SQUARE_BRACKET', 'CLOSE_SQUARE_BRACKET', 'ALPHANUM', 'UNDIRECTED_DASHED', 'UNDIRECTED', 'FORWARD_DASHED', 'FORWARD', 'BACKWARD_DASHED', 'BACKWARD', 'BIDIRECTIONAL', 'BIDIRECTIONAL_DASHED', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'")||t.includes("Expecting 'NEWLINE', 'CLOSE_CURLY_BRACKET', 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'")&&!t.includes("got '1'"))return A.INCORRECT_GROUP_DEFINITION;if(t.includes("Expecting 'NEWLINE', 'EOF', got 'ALPHANUM_WITH_HYPHEN'"))return A.EXPECTING_NEWLINE_AFTER_CLOSE_BRACE;if(t.includes("Expecting 'NEWLINE', 'EOF', 'OPEN_CURLY_BRACKET', 'COMMA', 'UNDIRECTED_DASHED', 'UNDIRECTED', 'FORWARD_DASHED', 'FORWARD', 'BACKWARD_DASHED', 'BACKWARD', 'BIDIRECTIONAL', 'BIDIRECTIONAL_DASHED', got 'ALPHANUM_WITH_HYPHEN'"))return A.EXPECTING_NEWLINE_FOR_NEW_NODE;if((t.includes("Expecting 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'")||t.includes("Expecting 'NEWLINE', 'EOF', 'ALPHANUM', 'ESC_CHAR_OPEN_Q', 'ALPHANUM_WITH_HYPHEN'")||t.includes("Expecting 'ALPHANUM', 'ALPHANUM_WITH_HYPHEN', got 'NEWLINE'"))&&(t.includes("got 'FORWARD'")||t.includes("got 'BACKWARD'")||t.includes("got 'UNDIRECTED'")||t.includes("got 'BIDIRECTIONAL'")||t.includes("got 'COMMA'")||t.includes("got 'NEWLINE'")||t.includes("got 'OPEN_SQUARE_BRACKET'")||t.includes("got 'OPEN_CURLY_BRACKET'")||t.includes("got 'EOF'")))return A.INCOMPLETE_RELATIONSHIP;if(t.includes("got 'EOF'")&&(t.includes("CLOSE_CURLY_BRACKET")||t.includes("got '1'")))return A.INCOMPLETE_GROUP;if(t.includes("got 'NEWLINE'")||t.includes("got 'EOF'")){if(t.includes("ALPHANUM"))return A.INCOMPLETE_RELATIONSHIP;if(t.includes("CLOSE_SQUARE_BRACKET"))return A.INCOMPLETE_SETTING;if(t.includes("CLOSE_CURLY_BRACKET"))return A.INCOMPLETE_GROUP}return t.includes("got 'ALPHANUM_WITH_HYPHEN'")||t.includes("got 'ALPHANUM'")?A.EXPECTING_NEWLINE_FOR_NEW_NODE:A.DEFAULT}var h=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e,d)}return n}(l)},64926:function(e,t,n){"use strict";n.d(t,{Cj:function(){return a},E5:function(){return s},Vx:function(){return o},XU:function(){return l},ub:function(){return i},vE:function(){return u}});var r=n(9648),i="#ffffff",o="#242424",a=(0,r.Z)(i),s=(0,r.Z)(o),l="#1c1c1c",u="#000000"},48389:function(e,t,n){"use strict";n.d(t,{XW:function(){return c},dN:function(){return h},pk:function(){return f},xE:function(){return s}});var r=n(87394),i=n(9648),o=n(93939),a=n(14935),s="#171717",l=(0,r.Z)((0,i.Z)(s).oklab(),1)[0],u="transparent",c=function(e){return e?e!==u&&(0,a.Kf)(e)?A((0,i.Z)(e)).hex():e:""},A=function(e){var t=(0,r.Z)(e.hsl(),3),n=t[0],o=t[1],a=t[2];return i.Z.hsl(n,o,1-a).alpha(e.alpha())},d=function(e,t){var n=(0,r.Z)(e.oklab(),3),o=n[0],a=n[1],s=n[2];return i.Z.oklab(o-o*t+t,a,s).alpha(e.alpha())},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";if(!e)return"";var n=/^var\(--(.+?)\)$/.exec(e);if(n)return(0,o.IH)(n[1]);if("light"===t||e===u||!(0,a.Kf)(e))return e;var s=(0,i.Z)(e),c=A(s),h=(0,r.Z)(s.hsv(),2);return d(c,l*(1-(h[0],h[1]))).hex()},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light",n=/^var\(--(.+?)\)$/.exec(e);return n?(0,o.IH)(n[1]):"dark"===t?c(e):e}},14935:function(e,t,n){"use strict";n.d(t,{Cj:function(){return l},Dj:function(){return A},E5:function(){return c},Ec:function(){return x},Fs:function(){return g},Kf:function(){return b},Od:function(){return d},Ws:function(){return C},_6:function(){return p},eO:function(){return _},iD:function(){return v},jc:function(){return f},jw:function(){return m},pF:function(){return u},vv:function(){return y},wj:function(){return h}});var r=n(50930),i=n(9648),o=n(96603),a=n(64926),s=n(50986),l=o.ix,u=o.MA[4],c=o.Sn,A="#ec2c40",d="#00a9e5",h="#b7d2f7",f="#2866df",p="var(--blue-link)",g="transparent",m="rgba(0, 169, 229, 0.1)",v="rgba(43, 43, 43, 0.05)",y="rgba(43, 43, 43, 0.25)",b=function(e){return e===g||i.Z.valid(e)},w=function(e){var t=parseInt(e.substring(1),16);return .2126*(t>>16&255)+.7152*(t>>8&255)+.0722*(255&t)},_=function(e){return e===g||!!i.Z.valid(e)&&w((0,i.Z)(e).hex())>238},E=[1,.98,.92,.85,.7,.45,.35,.18,.12],C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e===g||e===a.ub&&t<5)return e;if(!i.Z.valid(e))return"rgba(0, 0, 0, 0)";var r=(0,i.Z)(e).hsl(),o=Math.round(r[0]),s=r[1],l=E[t];return"rgba(".concat((0,i.Z)([o,s,null!=l?l:.975],"hsl").rgb().join(","),", ").concat(n,")")},B=(0,r.Z)(s.Hq).concat((0,r.Z)(s.Se),(0,r.Z)(s.Kl)),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||e===g)return e===g?"transparent":null;if(!i.Z.valid(e))return null;if(t&&e===a.XU)return"black";if(t&&e===a.ub)return"white";var n=(0,i.Z)(e).hex().toLowerCase(),r=B.find(function(e){return e.color.toLowerCase()===n||t&&e.secondary.toLowerCase()===n});if(null==r?void 0:r.title)return r.title.toLowerCase();try{return(0,i.Z)(e).name()}catch(e){return null}}},98568:function(e,t,n){"use strict";n.d(t,{$C:function(){return C},$e:function(){return y},AU:function(){return W},Af:function(){return I},D8:function(){return m},E1:function(){return e_},EX:function(){return $},F9:function(){return J},FO:function(){return D},Fg:function(){return ee},Gj:function(){return er},H:function(){return ey},Hg:function(){return M},IM:function(){return F},Iw:function(){return v},J$:function(){return en},KE:function(){return x},Ks:function(){return i},LP:function(){return eu},Mj:function(){return ec},OO:function(){return X},O_:function(){return V},Oh:function(){return _},Pp:function(){return Q},S$:function(){return eB},TO:function(){return ex},UL:function(){return ew},Vh:function(){return O},Vi:function(){return E},W4:function(){return L},_D:function(){return U},_P:function(){return es},av:function(){return ed},ay:function(){return b},az:function(){return el},cH:function(){return et},dJ:function(){return G},dt:function(){return H},eA:function(){return eb},f:function(){return p},fK:function(){return ep},fn:function(){return eC},g8:function(){return eA},hU:function(){return Z},hs:function(){return j},i5:function(){return q},j9:function(){return R},jo:function(){return eo},ks:function(){return ea},lS:function(){return Y},mp:function(){return N},n5:function(){return P},nB:function(){return K},nM:function(){return ei},oc:function(){return w},qj:function(){return eE},qx:function(){return g},rG:function(){return S},sc:function(){return B},tn:function(){return T},uB:function(){return z},ut:function(){return k},vM:function(){return eh},vu:function(){return ef},wK:function(){return em},xX:function(){return ev},yK:function(){return eg}});var r,i,o,a,s,l,u,c,A=n(47842),d=n(31632),h=n(6901),f=n(27352),p=10,g=8,m=1,v=5,y=1,b=Math.PI/12,w={TEXT:"text",CROSSHAIR:"crosshair",NESW_RESIZE:"nesw-resize",NWSE_RESIZE:"nwse-resize",NS_RESIZE:"ns-resize",EW_RESIZE:"ew-resize",GRAB:"grab",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",NOT_ALLOWED:"not-allowed",SPLINE_CONTROL_MOVE:"spline-control-move",PEN:"pen",DUPLICATE:"duplicate",ROTATION_NW:"rotation-nw",ROTATION_NE:"rotation-ne",ROTATION_SW:"rotation-sw",ROTATION_SE:"rotation-se",AUTO:""},_={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(r=i||(i={})).COPY="copy",r.PASTE="paste",r.CUT="cut",r.KEYDOWN="keydown",r.KEYUP="keyup",r.MOUSE_MOVE="mousemove",r.RESIZE="resize",r.UNLOAD="unload",r.BLUR="blur",r.DRAG_OVER="dragover",r.DROP="drop",r.GESTURE_END="gestureend",r.BEFORE_UNLOAD="beforeunload",r.GESTURE_START="gesturestart",r.GESTURE_CHANGE="gesturechange",r.POINTER_MOVE="pointermove",r.POINTER_UP="pointerup",r.STATE_CHANGE="statechange",r.WHEEL="wheel",r.TOUCH_START="touchstart",r.TOUCH_END="touchend",r.SCROLL="scroll",r.CONTEXT_MENU="contextmenu";var E={TEST:"test",DEVELOPMENT:"development"},C={SHAPE_ACTIONS_MENU:"shape-actions-menu",CANVAS_BUTTON:"canvas-button"},B={S:20,M:30,L:40,XL:50},x={S:.2,M:.33,L:.6,XL:1.2},I="data-textfield-blur-exception",T="data-copy-paste-exception",S="data-esc-exception",k={1:"Virgil",2:"EraserNimbusSans",3:"Cascadia",4:"FerruleSans",5:"JetBrainsMono",6:"Inter"},N={ROUGH:2,CLEAN:6,MONO:5},D={2:"rough",6:"clean",5:"mono"},O=(o={},(0,A.Z)(o,N.ROUGH,1),(0,A.Z)(o,N.CLEAN,.87),(0,A.Z)(o,N.MONO,.85),o),R=(a={},(0,A.Z)(a,N.ROUGH,h.ED?-3.5:-.5),(0,A.Z)(a,N.CLEAN,h.ED?1.1:.4),(0,A.Z)(a,N.MONO,h.ED?1.4:1),a),F=(s={},(0,A.Z)(s,N.MONO,h.ED?-.5:0*globalThis.devicePixelRatio),(0,A.Z)(s,N.ROUGH,h.ED?-1:-.45*globalThis.devicePixelRatio),(0,A.Z)(s,N.CLEAN,h.ED?-.8:-.35*globalThis.devicePixelRatio),s),L=Object.values(N),U="Segoe UI Emoji",P=20,M="left",j="middle",Z=h.Um?1.25:1,Q=d.ck.Normal,H=10,V=12,K=.3,z="excalidraw",G="excalidraw-cursor-element",W="text-editor-root",q="canvasTextEditor",$="diagram-sidebar-wrapper",Y=.22,J=function(){return .525},X=5,ee=function(){return .15},et=12,en=70,er=300,ei=500,eo=["image/png","image/jpg","image/jpeg","image/svg+xml","image/gif"],ea="-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica Neue, Helvetica, Nimbus Sans, Ubuntu, Roboto, Noto, Arial, sans-serif",es="arrow",el=[430,600],eu=(l={},(0,A.Z)(l,d.Nm.LEFT,""),(0,A.Z)(l,d.Nm.RIGHT,""),(0,A.Z)(l,d.Nm.UP,""),(0,A.Z)(l,d.Nm.DOWN,""),l);u={},(0,A.Z)(u,d.Nm.UP,d.Nm.DOWN),(0,A.Z)(u,d.Nm.DOWN,d.Nm.UP),(0,A.Z)(u,d.Nm.LEFT,d.Nm.RIGHT),(0,A.Z)(u,d.Nm.RIGHT,d.Nm.LEFT);var ec=(c={},(0,A.Z)(c,f.tW.ARROW_UP,d.Nm.UP),(0,A.Z)(c,f.tW.ARROW_DOWN,d.Nm.DOWN),(0,A.Z)(c,f.tW.ARROW_LEFT,d.Nm.LEFT),(0,A.Z)(c,f.tW.ARROW_RIGHT,d.Nm.RIGHT),c),eA=6,ed=2,eh=6.5,ef=.8,ep=1.5,eg=26/Math.PI,em=50,ev=10,ey=12,eb=6,ew=4,e_=12,eE=8,eC=12,eB=10,ex=30},35445:function(e,t,n){"use strict";n.d(t,{Oi:function(){return v},PJ:function(){return m}});var r=n(70865),i=n(96670),o=n(56818),a={isDeleted:!1,opacity:100,angle:0,roughness:1,shouldApplyRoughness:!0,groupIds:[],lockedGroupId:null,diagramId:null,containerId:null,figureId:null},s=(0,i.Z)((0,r.Z)({},a),{fillStyle:"solid",backgroundColor:"transparent",strokeColor:"#1c1c1c",strokeWidth:1,strokeStyle:"solid",strokeSharpness:"round",colorMode:0,elementStyle:1}),l={defaultProperties:(0,r.Z)({},a)},u={allowChangeShape:!0,allowSmartDuplication:!0,defaultProperties:(0,r.Z)({},s)},c={defaultProperties:(0,i.Z)((0,r.Z)({},a),{strokeColor:"#d7d9dc",backgroundColor:"#ffffff",fillStyle:"solid",strokeWidth:1,strokeStyle:"solid",roughness:0,strokeSharpness:"sharp"})},A={defaultProperties:(0,r.Z)({},s)},d={isScalable:!0,defaultProperties:(0,i.Z)((0,r.Z)({},a),{backgroundColor:"transparent",fillStyle:"solid",strokeColor:"#1c1c1c",strokeWidth:1,strokeStyle:"solid",strokeSharpness:"round"})},h={isScalable:!0,defaultProperties:(0,i.Z)((0,r.Z)({},a),{fillStyle:"solid",backgroundColor:"transparent",strokeColor:"#d7d9dc",strokeWidth:1,strokeStyle:"solid",strokeSharpness:"round",isBeingGenerated:!1,forceAiMode:!1,isSyntaxMissing:!1,isSyntaxBroken:!1,scale:1})},f={selectionHitBox:"self",selectionStrategy:"spline",defaultProperties:(0,i.Z)((0,r.Z)({},a),{lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:null,endArrowhead:"arrow",arrowHeadSize:12,textGap:null,gaps:[]})},p=(0,i.Z)((0,r.Z)({},s),{backgroundColor:"#000000",strokeColor:"#000000",strokeWidth:.5,strokeStyle:"solid",strokeSharpness:"sharp",roughness:.5}),g=(0,i.Z)((0,r.Z)({},u),{allowChangeShape:!1,allowSmartDuplication:!0,defaultProperties:p}),m={allowChangeShape:!1,allowSmartDuplication:!0,defaultProperties:(0,i.Z)((0,r.Z)({},a),{opacity:100,fillStyle:"solid",strokeColor:"#000000",backgroundColor:"#000000",strokeStyle:"solid",strokeSharpness:"sharp",roughness:.5,strokeWidth:.5,customStyle:!1})};function v(e){if(null!=e)return(0,o.$5)(e)?c:(0,o.L0)(e)?h:(0,o.Sf)(e)?d:(0,o.kh)(e)?f:(0,o._u)(e)?m:(0,o.WQ)(e)?e.isDeviceFrame?A:e.diagramId?g:u:l}},42327:function(e,t,n){"use strict";n.d(t,{Lm:function(){return l},_M:function(){return c},fL:function(){return a},ng:function(){return s},qP:function(){return u}});var r=n(70865),i=n(96670),o=n(56818),a=function(e){return null==e.x||null==e.y||null==e.width||null==e.height},s=function(e){return"freedraw"===e.type&&e.points.length<2},l=function(e){return e.filter(function(e){return!e.isDeleted&&!a(e)})},u=function(e){return!e.isDeleted},c=function(e){return l(e).map(function(e){return(0,o.dt)(e.type)?(0,i.Z)((0,r.Z)({},e),{lastCommittedPoint:null}):e})}},76436:function(e,t,n){"use strict";n.d(t,{BE:function(){return u},DR:function(){return s},nP:function(){return l}});var r=n(70865),i=n(96670),o=n(98030),a=n(28839),s=function(e,t,n){if(t){var i=!1,s=!0,u=t.points;void 0!==u&&(t=(0,r.Z)({},(0,o.kc)(u),t));var c=Object.keys(t);if(0!==c.length){var A=!0,d=!1,h=void 0;try{for(var f,p=c[Symbol.iterator]();!(A=(f=p.next()).done);A=!0){var g=f.value,m=t[g];if("number"==typeof m&&isNaN(m)){console.warn("mutateElement hit NaN",g,m,Error().stack);continue}if(void 0!==m){if(e[g]===m&&("object"!=typeof m||null===m||"groupIds"===g))continue;e[g]=m,i=!0,"x"!==g&&"y"!==g&&(s=!1)}}}catch(e){d=!0,h=e}finally{try{A||null==p.return||p.return()}finally{if(d)throw h}}if(i){l(e);var v=a.Z.getScene(e);if((null==v?void 0:v.getPhantomElement(e.id))===e)return void v.informPhantomMutation({phantomElements:[e],preventLocalTextboxRender:null==n?void 0:n.preventLocalTextboxRender});if((null==v?void 0:v.getElement(e.id))===e)v.informMutation({changedElements:s?[]:[e],movedElements:s?[e]:[],preventLocalTextboxRender:null==n?void 0:n.preventLocalTextboxRender});else if(v){var y,b=null==(y=Error().stack)?void 0:y.split("\n")[2].replace(/^\s+at\s+/,"");console.warn("mutateElement called with an out of date version of element, this means replaceAllElements was called or a stale spreaded element is being passed.\n\nCalled from: ".concat(b,"\n\nWith keys: ").concat(Object.keys(t).join(", ")))}else e.type}}}};function l(e){e.version++,e.modifiedAt=Date.now()}var u=function(e,t){return(0,i.Z)((0,r.Z)({},e,t),{modifiedAt:Date.now(),version:e.version+1})}},26843:function(e,t,n){"use strict";n.d(t,{HL:function(){return c},N9:function(){return l},rV:function(){return u}});var r=n(70865),i=n(96670),o=n(76436),a=n(56818),s=n(61542);function l(e,t){var n=u(e,t);return n?(0,o.BE)(e,n):e}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var r=t.scale/n,i={x:t.x+e.x*r,y:t.y+e.y*r,width:e.width*r,height:e.height*r,strokeWidth:e.strokeWidth*r};return 1!==r&&((0,a.kh)(e)&&(e.points&&(i.points=e.points.map(function(e){return[e[0]*r,e[1]*r]})),e.arrowHeadSize&&(i.arrowHeadSize=r*e.arrowHeadSize),e.textGap&&(i.textGap=e.textGap.map(function(e){return e*r})),e.gaps&&(i.gaps=e.gaps.map(function(e){return e.map(function(e){return e*r})}))),(0,a.Sf)(e)&&(i.scale=e.scale*r)),i}}function c(e,t,n){var a=!0,l=!1,c=void 0;try{for(var A,d=(0,s.Q8)(e,t)[Symbol.iterator]();!(a=(A=d.next()).done);a=!0){var h=A.value,f=(0,i.Z)((0,r.Z)({},h),{x:h.x-n.x,y:h.y-n.y}),p=u(f,t,n.scale);p&&(0,o.DR)(h,p)}}catch(e){l=!0,c=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw c}}}},74410:function(e,t,n){"use strict";n.d(t,{S2:function(){return b},Sv:function(){return m},ZO:function(){return w}});var r,i=n(90581),o=n(47842),a=n(70865),s=n(96670),l=n(72813),u=n(31632),c=n(48389),A=n(46317),d=n(36451),h=n(6901),f=n(98568),p=n(93939),g=n(51632),m=function(e){r=e},v=new d.X(6e4),y=function(){function e(t){var n;(0,i.Z)(this,e),this._namespace=t,this._elementToHtmlCache=(n={},(0,o.Z)(n,u.ck.CodeBlock,new WeakMap),(0,o.Z)(n,u.ck.Normal,new WeakMap),n),this.existingEditors={}}var t=e.prototype;return t.setHTML=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appPositionMetrics,i=n.width,o=this._getOrCreateEditor(e),s=this._getContentFromElement((0,a.Z)({},e,t)),l=s.text,u=s.html,c=this._setHtmlContent(o,{text:l,html:u}),A=(0,p.zX)(e).naturalWidth,d=e.hasFixedBounds?A:i;return this._setDefaultStyles(c,e,n),o.style.width=d?"".concat(d,"px"):"auto",o.style.visibility="visible",c.style.transform=(0,g.C)(d||c.offsetWidth,c.offsetHeight,e.angle,r,e.scale),c},t.measureBaseline=function(e){var t=this.setHTML(e,{text:e.text,html:e.html}),n=document.createElement("span");n.style.display="inline-block",n.style.overflow="hidden",n.style.width="1px",n.style.height="1px",t.appendChild(n);var r=n.offsetTop+n.offsetHeight;return n.remove(),r},t.measureScaledSize=function(e,t,n,r,i){var o,s=t.text,l=t.html,c=t.slate,A=e.mode===u.ck.CodeBlock&&s.match(/^\n/);A&&(s="/"+s,l=l?l.replace("\n","/\n"):void 0);var d=this.setHTML(e,{text:s,html:l,slate:c},(0,a.Z)({width:n,appPositionMetrics:r},i)),h=d.getBoundingClientRect(),f=h.width,p=h.height;return A&&this.setHTML(e,t,{width:n,appPositionMetrics:r}),null==(o=d.parentElement)||o.remove(),[f,p]},t.measureScaledSizeWithText=function(e,t){var n=JSON.stringify({text:e.text,html:e.html,mode:e.mode,slate:e.slate,scale:e.scale,fontSize:e.fontSize,textAlign:e.textAlign,fontFamily:e.fontFamily,maxWidth:null==t?void 0:t.maxWidth,fitToText:null==t?void 0:t.fitToText}),r=v.get(n);if(r)return r;var i=this._getContentFromElement(e),o=i.text,a=i.html,s=this._getOrCreateEditor(),l=this._setHtmlContent(s,{text:o,html:a});this._setDefaultStyles(l,e,t),l.style.transform="scale(".concat(e.scale,")");var u=l.getBoundingClientRect(),c=u.width,A=u.height;if(null==t?void 0:t.fitToText){var d=-1/0,h=!0,f=!1,p=void 0;try{for(var g,m=(function(e){for(var t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){var t;return(null==(t=e.textContent)?void 0:t.trim())?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),n=[],r=t.nextNode();r;)n.push(r),r=t.nextNode();return n})(l)[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value,b=function(e){var t=document.createRange();t.selectNodeContents(e);var n=t.getBoundingClientRect();return t.detach(),n}(y);b.width>d&&(d=b.width)}}catch(e){f=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(f)throw p}}c=Number.isFinite(d)?d:c}return v.set(n,[c,A]),[c,A]},t.refreshEditorPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._getOrCreateEditor(e);if(!this.existingEditors[e.id]){var i=this._getContentFromElement(e),o=i.text,a=i.html;this._setHtmlContent(r,{text:o,html:a})}var s=r.childNodes[0],l=(0,p.zX)(e),u=l.naturalWidth,c=l.naturalHeight,A=(0,p.Zz)({element:e,offset:t,scrollState:t}),d=A.x,h=A.y;Object.assign(r.style,{visibility:"visible",top:"".concat(h,"px"),left:"".concat(d,"px"),width:"".concat(u,"px"),zIndex:"".concat(e.zIndex||1)}),this._setDefaultStyles(s,e,n),s.style.width="".concat(u,"px"),s.style.height="".concat(c,"px"),s.style.transform=(0,g.C)(u,c,e.angle,t,e.scale)},t.hideFromCanvas=function(e){this.existingEditors[e.id]&&(this._getOrCreateEditor(e).remove(),this.existingEditors[e.id]=!1)},t._getOrCreateEditor=function(e){var t=(null==e?void 0:e.id)||"no-element",n="".concat(this._namespace,"-textbox-").concat(t),r=document.getElementById(n);if(r)return r;(r=document.createElement("div")).id=n,r.className="textEditorWrapper";var i=document.createElement("div"),o=(null==e?void 0:e.fontFamily)===f.mp.MONO;i.contentEditable="false",i.classList.add("textMeasurerEditor"),h.Um&&i.classList.add("darwin"),o&&i.classList.add("is-monospace"),r.appendChild(i);var a=document.getElementById(f.uB);return a&&a.appendChild(r),e&&(this.existingEditors[e.id]=!0),r},t._setHtmlContent=function(e,t){var n,r=e.childNodes[0];if(t.html)return n=t.html,r.innerHTML=(0,l.default)(window).sanitize(n,{USE_PROFILES:{html:!0},ADD_TAGS:["pre","code","svg","path","rect","circle","ellipse","line","polyline","polygon","g","defs","use","button","span","div"],ADD_ATTR:["class","contenteditable","role","zindex","spellcheck","type","aria-label","aria-hidden","xmlns","viewBox","width","height","x","y","fill","stroke","stroke-width","d","rx","ry","cx","cy","r","points","transform"],ALLOW_DATA_ATTR:!0,FORBID_TAGS:["script","object","embed","link","meta","iframe"],FORBID_ATTR:["onerror","onload","onmouseover","onmouseout","onmousemove","onclick","onmousedown","onmouseup","onkeydown","onkeypress","onkeyup","ondblclick","onwheel","onshow","ontoggle","onfocus","onblur","onchange","onsubmit","onreset","onselect","onunload","onbeforeunload","onhashchange","onpopstate","onstorage","onmessage","onoffline","ononline","onpagehide","onpageshow","onresize","onscroll","onsearch","ontouchcancel","ontouchend","ontouchmove","ontouchstart"],SANITIZE_DOM:!0}),r;var i=t.text.split(/\n/).map(function(e){return 0===e.trim().length?"&nbsp;":e}).join("\n"),o=document.createElement("p");return o.textContent=i,r.innerHTML=o.outerHTML,r},t._getContentFromElement=function(e){var t=e.text,n=e.html,i=e.mode,o=e.slate;if(!o||0===o.length)return{text:t,html:n||t};var a=this._elementToHtmlCache[i||u.ck.Normal];if(a.has(o))return a.get(o);var s={text:t,html:n};return r&&(s=r({textboxElement:{text:t,html:n,slate:o},mode:null!=i?i:u.ck.Normal}),a.set(o,s)),s},t._setDefaultStyles=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.theme,i=n.maxWidth,o=(0,A.I)(e),l=o?f.IM[t.fontFamily]:f.j9[t.fontFamily];Object.assign(e.style,(0,s.Z)((0,a.Z)({width:"100%",height:"100%",display:"block",userSelect:"none",pointerEvents:"none",whiteSpace:"pre-wrap",wordBreak:"break-word",alignSelf:"flex-start"},(0,p.P)(t)),{top:"".concat(l||0,"px"),textAlign:t.textAlign,paddingBottom:o?0:"3px",lineHeight:f.hU,maxWidth:i?"".concat(i,"px"):"none",color:(0,c.dN)(t.strokeColor,r)}))},e}(),b=new y("measurer"),w=new y("previewer")},51632:function(e,t,n){"use strict";n.d(t,{C:function(){return i},j:function(){return r}});var r=function(e,t){return{zoom:t.zoom,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,scrollX:t.scrollX,scrollY:t.scrollY}},i=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=180*n/Math.PI;if(!r)return"scale(".concat(i,")");var a=r.zoom,s=r.offsetTop,l=(e-2*r.offsetLeft)*(a.value-1)/2,u=(t-2*s)*(a.value-1)/2;return"translate(".concat(l,"px, ").concat(u,"px) scale(").concat(a.value*i,") rotate(").concat(o,"deg)")}},56818:function(e,t,n){"use strict";n.d(t,{$5:function(){return d},$N:function(){return a},AW:function(){return u},Ah:function(){return M},B3:function(){return c},F9:function(){return T},FL:function(){return P},J8:function(){return S},L0:function(){return C},Le:function(){return h},MD:function(){return Z},Mt:function(){return s},SQ:function(){return N},Sf:function(){return w},TB:function(){return p},UB:function(){return D},Ut:function(){return H},WQ:function(){return A},_h:function(){return b},_u:function(){return v},_v:function(){return j},bA:function(){return _},bt:function(){return I},dt:function(){return l},e7:function(){return y},eA:function(){return L},f0:function(){return R},fe:function(){return k},gk:function(){return B},h4:function(){return x},iB:function(){return g},kh:function(){return f},pC:function(){return m},r2:function(){return Q},y$:function(){return i},yZ:function(){return E}});var r=n(31632);function i(e){var t;return"cardinalElbowData"in e&&!!(null==(t=e.cardinalElbowData)?void 0:t.isEnabled)}var o=function(e){return"selection"===e||"rectangle"===e||"oval"===e||"star"===e||"document"===e||"hexagon"===e||"parallelogram"===e||"trapezoid"===e||"cylinder"===e||"diamond"===e||"triangle"===e||"ellipse"===e},a=function(e){return"selection"!==e&&o(e)},s=function(e){return"arrow"===e||"line"===e},l=function(e){return"arrow"===e||"freedraw"===e||"line"===e||"draw"===e},u=function(e){return"text"===e||"textbox"===e},c=function(e){return null!=e&&o(e.type)},A=function(e){return!!e&&a(e.type)},d=function(e){return!!e&&"figure"===e.type},h=function(e){return"arrow"===e||"line"===e},f=function(e){return h(null==e?void 0:e.type)},p=function(e){return f(e)&&!e.isDeleted&&!!(e.endBinding||e.startBinding)},g=function(e){return null!=e&&"text"===e.type},m=function(e){return null!=e&&"image"===e.type},v=function(e){return(null==e?void 0:e.type)==="icon"},y=function(e,t){return v(e)||A(e)&&!!e.lockedGroupId&&!e.isContainer&&C(t)&&t.diagramType===r.pj.CAD},b=function(e){return!!e.compound&&"containerType"in e.compound&&"cad-node"===e.compound.containerType},w=function(e){return null!=e&&"textbox"===e.type},_=function(e){return w(e)&&e.mode===r.ck.CodeBlock},E=function(e){return null!=e&&("text"===e.type||"textbox"===e.type)},C=function(e){return(null==e?void 0:e.type)==="diagram"},B=function(e){return e.some(function(e){return!!C(e)||!!e.diagramId&&!!e.diagramEntityId&&(!!M(e)||"diagramEntityId"in e&&null!=e.diagramEntityId&&!e.isContainer)})},x=function(e){return null!=e&&"comment"===e.type},I=function(e){return null!=e&&l(e.type)},T=function(e){return null!=e&&S(e.type)},S=function(e){return"freedraw"===e},k=function(e){return"eraser"===e},N=function(e){return null!=e&&k(e.type)},D=function(e){return["eraser","freedraw"].includes(e)},O=["rectangle","oval","star","document","hexagon","parallelogram","trapezoid","diamond","triangle","cylinder","ellipse","text","icon","image","figure"],R=function(e){return"textbox"===e.type?!e.lockedGroupId:O.includes(e.type)},F=["textbox","oval","star","document","hexagon","parallelogram","trapezoid","diamond","triangle","cylinder","rectangle","ellipse","arrow","icon","image","freedraw","line","figure","draw","text"],L=function(e){return F.includes(null==e?void 0:e.type)},U=[r.pj.CAD,r.pj.FLOW,r.pj.BPMN,r.pj.CUSTOM],P=function(e){return!!(C(e)&&e.diagramType&&U.includes(e.diagramType))};function M(e){return!!e.compound&&(Z(e)||Q(e))}function j(e){if(!e.compound||"parent"!==e.compound.type)return!1;var t=e.compound.containerType;return"legend"===t||"legend-item"===t}function Z(e){return!!e.compound&&"containerType"in e.compound&&"bpmn-group"===e.compound.containerType}function Q(e){return!!e.compound&&"containerType"in e.compound&&"bpmn-nested-group"===e.compound.containerType}function H(e){var t,n;return Q(e)&&!(null==(t=e.compound)||null==(n=t.children)?void 0:n.label)}},57568:function(e,t,n){"use strict";n.d(t,{$L:function(){return h},bZ:function(){return l},f:function(){return d},po:function(){return c}});var r=n(98788),i=n(22970),o=n(65424),a=n(89813),s=new Map;function l(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(function(e){var t,n,r,o=arguments;return(0,i.__generator)(this,function(i){var a;return n=e+Object.keys(a=t=o.length>1&&void 0!==o[1]?o[1]:{}).sort().reduce(function(e,t){return"".concat(e,"|").concat(t,"=").concat(JSON.stringify(a[t]))},""),(r=s.get(n))||(r=c(e,t,10),s.set(n,r)),[2,r]})})).apply(this,arguments)}function c(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function(e){var t,n,r,o,s,l,u,A,h,f,p=arguments;return(0,i.__generator)(this,function(i){switch(i.label){case 0:t=p.length>1&&void 0!==p[1]?p[1]:{},n=p.length>2&&void 0!==p[2]?p[2]:0,r=p.length>3&&void 0!==p[3]?p[3]:0,s=void 0===(o=t.crossOrigin)?"anonymous":o,u=void 0===(l=t.applyOptimizations)||l,A=t.lowQualityImagePreview,h=document.createElement("img"),e.startsWith("data:")||null==s||(h.crossOrigin=s),h.src=d(e,{applyOptimizations:u,lowQualityImagePreview:A}),i.label=1;case 1:return i.trys.push([1,3,,7]),[4,h.decode()];case 2:return i.sent(),[2,h];case 3:if(f=i.sent(),!(n>0))return[3,5];return[4,(0,a.Z)((r+1)*200)];case 4:return i.sent(),[2,c(e,t,n-1,r+1)];case 5:throw f;case 6:return[3,7];case 7:return[2]}})})).apply(this,arguments)}function d(e,t){var n=t.applyOptimizations,r=t.lowQualityImagePreview;return n?(0,o.V)(e,{fit:"fill",auto:["compress","format"],"max-w":r?256:2048,"max-h":r?256:2048}):(0,o.V)(e)}function h(){s.clear()}},27352:function(e,t,n){"use strict";n.d(t,{Ac:function(){return l},Wl:function(){return a},aU:function(){return i},tW:function(){return o},zJ:function(){return s}});var r=n(6901),i={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",C:"KeyC",G:"KeyG",K:"KeyK",F:"KeyF",H:"KeyH",M:"KeyM",V:"KeyV",Z:"KeyZ"},o={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r.Um?"metaKey":"ctrlKey",CTRL:"ctrlKey",SHIFT:"shiftKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",FORWARD_SLASH:"/",DOT:".",COMMA:",",LEFT_CARET:"<",RIGHT_CARET:">",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",I:"i",J:"j",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Z:"z"},a=function(e){return e===o.ARROW_LEFT||e===o.ARROW_RIGHT||e===o.ARROW_DOWN||e===o.ARROW_UP},s=function(e){return e.altKey},l=function(e){return e.shiftKey}},98030:function(e,t,n){"use strict";n.d(t,{Lp:function(){return l},eN:function(){return o},kc:function(){return i},tw:function(){return u},zJ:function(){return s}});var r=n(50930),i=function(e){var t,n,i,o,a=e.map(function(e){return e[0]}),s=e.map(function(e){return e[1]});return{width:(t=Math).max.apply(t,(0,r.Z)(a))-(n=Math).min.apply(n,(0,r.Z)(a)),height:(i=Math).max.apply(i,(0,r.Z)(s))-(o=Math).min.apply(o,(0,r.Z)(s))}},o=function(e){if(e.length<2){var t;return console.warn("Unable to calculate line mid point. Points.length = ".concat(e.length)),null!=(t=e[0])?t:[0,0]}for(var n=0,r=e.map(function(t,r){var i=0===r?[0,0]:e[r-1],o=Math.hypot(t[0]-i[0],t[1]-i[1]);return n+=o,o}),i=n/2,o=0,a=0,s=0;s<r.length;s++)if((a+=r[s])>i){o=s;break}var l=e[o-1],u=e[o];return l&&u||(l=e[0],u=e[1]),[(l[0]+u[0])/2,(l[1]+u[1])/2]},a=function(e,t){var n=1/0,r=-1/0;e.forEach(function(e){var i=e[t];n=Math.min(i,n),r=Math.max(i,r)});var i=r-n;return{prevMin:n,prevMax:r,prevSize:i}};function s(e,t,n){var i=a(n,e),o=i.prevMin,s=i.prevSize,l=0===s?1:t/s,u=1/0,c=n.map(function(t){var n=t[e]*l;u=Math.min(n,u);var i=(0,r.Z)(t);return i[e]=n,i});if(2===c.length)return c;var A=o-u;return c.map(function(t){var n=(0,r.Z)(t);return"number"!=typeof n[e]||(n[e]=n[e]+A),n})}var l=function(e){return[e.x,e.y]};function u(e){return{x:e[0],y:e[1]}}},33489:function(e,t,n){"use strict";n.d(t,{FM:function(){return y},Mk:function(){return I},NJ:function(){return p},Pf:function(){return T},Sj:function(){return w},UO:function(){return f},kK:function(){return x},kf:function(){return m},mt:function(){return _},q2:function(){return v},r9:function(){return B},ro:function(){return C},sN:function(){return b},tZ:function(){return g}});var r=n(90581),i=n(47842),o=n(70865),a=n(96670),s=n(50930),l=n(56818),u=n(26843),c=n(10291),A=n(36451),d=n(80003),h=n(31781),f=new WeakMap([]),p=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,y=function(e){var t=m.get(e);if(t&&t.version===e.version)return t.bounds},b=function(e,t){m.set(e,{bounds:t,version:e.version})},w=function(e){var t=v.get(e);if(t&&t.version===e.version)return t.coords},_=function(e,t){v.set(e,{coords:t,version:e.version})},E=new A.X(6e4),C=function(){E.clear()},B=function e(){(0,r.Z)(this,e)};B.cache=new Map,B.textboxCanvasesMap=new Map,B.setCache=function(e,t,n,r,i){var o={scale:e.scale,elements:t,code:e.code,parsed:n,selectionData:r,lineMapping:null!=i?i:void 0};return B.cache.set(e.id,o),o},B.getCache=function(e){return B.cache.get(e.id)||null},B.getParseMapping=function(e){var t=B.cache.get(e.id);return(null==t?void 0:t.parsed)&&"parsedDiagram"in t.parsed?t.parsed:null},B.generateTextboxCanvases=function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,A=e[Symbol.iterator]();!(r=(s=A.next()).done);r=!0)!function(){var e=s.value;if((0,l.Sf)(e)){var r=JSON.stringify({theme:(0,d.l)(),diagramId:t.id,diagramScale:t.scale,width:e.width,height:e.height,scale:e.scale,text:e.text,html:e.html,fontSize:e.fontSize,strokeColor:e.strokeColor,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign}),i=E.get(r);if(i)return B.setTextboxCanvas(t,e,i);var a=(0,o.Z)({},e,(0,u.rV)(e,t));null!==B.getTextboxCanvas(t,a)||n.push((0,c.PZ)(a,t.id).then(function(e){E.set(r,e),B.setTextboxCanvas(t,a,e)}))}}()}catch(e){i=!0,a=e}finally{try{r||null==A.return||A.return()}finally{if(i)throw a}}return Promise.all(n)},B.setTextboxCanvas=function(e,t,n){var r=B.textboxCanvasesMap.get(e.id);if(r){r[t.id]=n;return}B.textboxCanvasesMap.set(e.id,(0,i.Z)({},t.id,n))},B.getTextboxCanvas=function(e,t){var n;return e&&(null==(n=B.textboxCanvasesMap.get(e.id))?void 0:n[t.id])||null},B.cleanTextboxCanvases=function(e){B.textboxCanvasesMap.delete(e.id)},B.clean=function(e){B.cleanTextboxCanvases(e),B.cache.delete(e.id)};var x=function(){function e(){(0,r.Z)(this,e)}return e.add=function(t){t.targetElementId&&(e.cache.has(t.targetElementId)?e.cache.set(t.targetElementId,(0,s.Z)(e.cache.get(t.targetElementId)||[]).concat([t])):e.cache.set(t.targetElementId,[t]))},e.set=function(t,n){!t||!(0,l.h4)(t)||(t.targetElementId||n)&&t.targetElementId!==n&&(n?(t.targetElementId&&e.cache.set(t.targetElementId,(0,s.Z)(e.cache.get(t.targetElementId)||[]).concat([t])),e.cache.set(n,(0,s.Z)((e.cache.get(n)||[]).filter(function(e){return e.id!==t.id})))):t.targetElementId&&e.cache.set(t.targetElementId,(0,s.Z)(e.cache.get(t.targetElementId)||[]).concat([t])))},e.get=function(t){return e.cache.get(t)||[]},e.clear=function(){e.cache.clear()},e}();x.cache=new Map([]);var I=new(function(){function e(){(0,r.Z)(this,e),this.childElementsMap=new WeakMap,this.textboxCanvasesMap=new WeakMap,this.loadPromisesMap=new WeakMap,this.transformCache=new WeakMap}var t=e.prototype;return t.setChildElements=function(e,t){this.childElementsMap.set(e,t),this.transformCache.delete(e)},t.getChildElements=function(e){return this.childElementsMap.get(e)},t.refreshChildElements=function(e){this.transformCache.delete(e)},t.getChildElement=function(e,t){var n;return null==(n=this.childElementsMap.get(e))?void 0:n.find(function(e){return e.id===t})},t.clearChildElements=function(e){this.childElementsMap.delete(e)},t.setLoadPromise=function(e,t){this.loadPromisesMap.set(e,t)},t.getLoadPromise=function(e){return this.loadPromisesMap.get(e)},t.getTextboxCanvas=function(e){return this.textboxCanvasesMap.get(e)},t.setTextboxCanvas=function(e,t){this.textboxCanvasesMap.set(e,t)},t.clearTextboxCanvas=function(e){this.textboxCanvasesMap.delete(e)},t.hasTextboxCanvas=function(e){return this.textboxCanvasesMap.has(e)},t.getTransformCacheEntry=function(e){return this.transformCache.get(e)},t.getTransformedElements=function(e){var t;return null==(t=this.getTransformCacheEntry(e))?void 0:t.transformedElements},t.setTransformedElements=function(e,t){var n,r=(null!=(n=this.getChildElements(e))?n:[]).map(function(n){return(0,a.Z)((0,o.Z)({},n),{width:n.width*t,height:n.height*t,x:e.x+n.x*t,y:e.y+n.y*t})});return this.transformCache.set(e,{x:e.x,y:e.y,scale:t,transformedElements:r}),r},t.delete=function(e){this.childElementsMap.delete(e),this.transformCache.delete(e)},t.clear=function(){this.childElementsMap=new WeakMap},e}());function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,h.b)(e),t.delete(e),n&&(0,l.Sf)(e)&&p.delete(e),(null==(a=e.compound)?void 0:a.type)==="parent"){var r=!0,i=!1,o=void 0;try{for(var a,s,u,c=(null!=(s=I.getChildElements(e))?s:[])[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var A=u.value;(0,h.b)(A),t.delete(A),n&&(0,l.Sf)(A)&&I.clearTextboxCanvas(A)}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}var d=!0,f=!1,g=void 0;try{for(var m,v,y=(null!=(m=I.getTransformedElements(e))?m:[])[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=v.value;(0,h.b)(b),t.delete(b)}}catch(e){f=!0,g=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw g}}}}},31781:function(e,t,n){"use strict";n.d(t,{b:function(){return a},g:function(){return o}});var r=n(84754),i=n(33489),o=new r.T,a=function(e){o.delete(e),i.kf.delete(e),i.q2.delete(e)}},28839:function(e,t,n){"use strict";var r=n(90581),i=n(70865),o=n(96670),a=n(87394),s=n(50930),l=n(32472),u=n(54367),c=n(42327),A=n(56818),d=n(57568),h=n(33489),f=n(89848),p=n(76436),g=function(e){return"string"==typeof e},m=function(){function e(){(0,r.Z)(this,e),this._batch=!1,this._callbacks=new Set,this._elements=[],this._elementsMap=new Map,this._elementIds=new Set,this._elementIdsByGroupId=new Map,this._groupIdsByElementId=new Map,this._elementIdsByFigureId=new Map,this._figureIdByElementId=new Map,this._boundIdsByElementId=new Map,this._bindingTargetsByLinearId=new Map,this._mutationVersion=0,this.phantomElements=new Map,this._destroyed=!1}var t=e.prototype;return t.getElements=function(){return this._elements},t.getElementsById=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this._elementsMap.get(s);l&&t.push(l)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t},t.getElement=function(e){return this._elementsMap.get(e)||null},t.getElementIdsInGroup=function(e){if(e)return this._elementIdsByGroupId.get(e)},t.getElementsInGroup=function(e){if(e){var t=this._elementIdsByGroupId.get(e);if(!t)return void console.warn("No elements found for group",e);var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=this._elementsMap.get(l);c?n.push(c):console.warn("Element not found for id",l)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return(0,u.W)(n)}},t.getElementsInFigure=function(e){if(e){var t=this._elementIdsByFigureId.get(e);if(t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=this._elementsMap.get(l);c&&n.push(c)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return(0,u.W)(n)}}},t.getElementIdsInFigure=function(e){if(e)return this._elementIdsByFigureId.get(e)},t.getBoundElementIds=function(e){if(e)return this._boundIdsByElementId.get(e)},t.getBoundElements=function(e){if(e){var t=this._boundIdsByElementId.get(e);if(t&&0!==t.size){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=this._elementsMap.get(l);u&&(0,A.kh)(u)&&n.push(u)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n.length>0?n:void 0}}},t.getVersion=function(){return this._mutationVersion},t.replaceAllElements=function(t,n){var r=this,s=[];(null==n?void 0:n.ignorePendingComments)||(s=this._elements.filter(function(e){return(0,A.h4)(e)&&!e.isDeleted&&null==e.threadId}));var l=t.filter(function(e){return!(e.compound&&"child"===e.compound.type)}),u=(0,f.L)(l),d=this._elementsMap,g=this._elementIds;this._elementsMap=new Map,this._elementIds=new Set;var m=[],v=[],y=[],b={},w=Object.entries((null==n?void 0:n.predicates)||{}),_=!0,E=!1,C=void 0;try{for(var B,x=w[Symbol.iterator]();!(_=(B=x.next()).done);_=!0)b[(0,a.Z)(B.value,1)[0]]=[]}catch(e){E=!0,C=e}finally{try{_||null==x.return||x.return()}finally{if(E)throw C}}h.kK.clear();var I=0,T=[],S=function(t){m.push(t),r._updateElementRelationships((0,o.Z)((0,i.Z)({},t),{isDeleted:!0})),e._sceneMapByElement.delete(t),e._sceneMapById.delete(t.id)},k=function(e){y.push(e),r._updateElementRelationships(e)},N=function(e){v.push(e),r._updateElementRelationships(e)};u.forEach(function(t){if(!r._elementIds.has(t.id)){r._elementsMap.set(t.id,t),r._elementIds.add(t.id),g.delete(t.id);var i=d.get(t.id);e.mapElementToScene(t,r),r._shouldNewElementBeMarkedDeleted(t,n)&&(t.isDeleted=!0,(0,p.nP)(t));var o=!0,s=!1,l=void 0;try{for(var u,c=w[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=(0,a.Z)(u.value,2),m=f[0];(0,f[1])(t,d.get(t.id))&&b[m].push(t)}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}if(t.isDeleted){i&&!i.isDeleted&&S(t);return}var v=t.zIndex;t.zIndex=I++,T.push(t),!i||i.isDeleted?k(t):t!==i?N(t):t.zIndex!==v&&((0,p.nP)(t),N(t)),(0,A.h4)(t)&&h.kK.add(t),"elementIds"in t&&(t.elementIds=void 0)}});var D=!0,O=!1,R=void 0;try{for(var F,L=g[Symbol.iterator]();!(D=(F=L.next()).done);D=!0){var U=F.value,P=d.get(U);((null==n?void 0:n.isRemote)||P&&(0,c.qP)(P))&&S(P)}}catch(e){O=!0,R=e}finally{try{D||null==L.return||L.return()}finally{if(O)throw R}}var M=!0,j=!1,Z=void 0;try{for(var Q,H=s[Symbol.iterator]();!(M=(Q=H.next()).done);M=!0){var V=Q.value;V.zIndex=I++,T.push(V)}}catch(e){j=!0,Z=e}finally{try{M||null==H.return||H.return()}finally{if(j)throw Z}}return this._elements=T,(v.length||y.length||m.length)&&this._mutationVersion++,this._emitStateChange({changedElements:v,deletedElements:m,addedElements:y,movedElements:[],previousElements:d,preventLocalTextboxRender:null==n?void 0:n.preventLocalTextboxRender,isRemote:!!(null==n?void 0:n.isRemote),isInitialRender:!!(null==n?void 0:n.isInitialRender)}),b},t.batchMutations=function(e){if(this._changeBatch)return void e();this._changeBatch=new Set,this._movedBatch=new Set,this._batch=!0,this._batchedPreventLocalTextboxRender=!0,e(),this._batch=!1;var t=[],n=[],r=[],i=!0,o=!1,a=void 0;try{for(var s,u=this._changeBatch[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;c.id.startsWith(l.Kn)?r.push(c):t.push(c)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var A=!0,d=!1,h=void 0;try{for(var f,p=this._movedBatch[Symbol.iterator]();!(A=(f=p.next()).done);A=!0){var g=f.value;g.id.startsWith(l.Kn)?r.push(g):t.includes(g)||n.push(g)}}catch(e){d=!0,h=e}finally{try{A||null==p.return||p.return()}finally{if(d)throw h}}r.length>0&&this.informPhantomMutation({phantomElements:r,preventLocalTextboxRender:this._batchedPreventLocalTextboxRender}),this.informMutation({changedElements:t,movedElements:n,preventLocalTextboxRender:this._batchedPreventLocalTextboxRender}),this._changeBatch=void 0,this._movedBatch=void 0,this._batchedPreventLocalTextboxRender=void 0},t.informMutation=function(e){var t=e.changedElements,n=void 0===t?[]:t,r=e.movedElements,i=void 0===r?[]:r,o=e.preventLocalTextboxRender,a=void 0!==o&&o,s=this;if(n.forEach(function(e){s._updateElementRelationships(e)}),this._batch){var l=!0,u=!1,c=void 0;try{for(var A,d=n[Symbol.iterator]();!(l=(A=d.next()).done);l=!0){var h,f,p=A.value;null==(h=this._changeBatch)||h.add(p),null==(f=this._movedBatch)||f.delete(p)}}catch(e){u=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}var g=!0,m=!1,v=void 0;try{for(var y,b=i[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w,_,E=y.value;(null==(w=this._changeBatch)?void 0:w.has(E))||null==(_=this._movedBatch)||_.add(E)}}catch(e){m=!0,v=e}finally{try{g||null==b.return||b.return()}finally{if(m)throw v}}a||(this._batchedPreventLocalTextboxRender=!1);return}this._mutationVersion++,this._emitStateChange({changedElements:n,movedElements:i,deletedElements:[],addedElements:[],previousElements:this._elementsMap,preventLocalTextboxRender:a,isRemote:!1,isInitialRender:!1})},t.addCallback=function(e){var t=this;if(this._callbacks.has(e))throw Error("Scene already has this callback!");return this._callbacks.add(e),function(){if(!t._destroyed){if(!t._callbacks.has(e))throw Error();t._callbacks.delete(e)}}},t._updateElementRelationships=function(e){var t=this._groupIdsByElementId.get(e.id),n=this._figureIdByElementId.get(e.id),r=e.isDeleted?void 0:e.groupIds,i=e.isDeleted?void 0:e.figureId;if(null==t?void 0:t.size){var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c,A=l.value;(null==r?void 0:r.includes(A))||null==(c=this._elementIdsByGroupId.get(A))||c.delete(e.id)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}if(null==r?void 0:r.length){this._groupIdsByElementId.set(e.id,new Set(r));var d=!0,h=!1,f=void 0;try{for(var p,g=r[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var m=p.value;(null==t?void 0:t.has(m))||(this._elementIdsByGroupId.has(m)||this._elementIdsByGroupId.set(m,new Set),this._elementIdsByGroupId.get(m).add(e.id))}}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}}else this._groupIdsByElementId.delete(e.id);i?this._figureIdByElementId.set(e.id,i):this._figureIdByElementId.delete(e.id),i!==n&&(i&&(this._elementIdsByFigureId.has(i)||this._elementIdsByFigureId.set(i,new Set),this._elementIdsByFigureId.get(i).add(e.id)),n&&this._elementIdsByFigureId.get(n).delete(e.id)),this._updateBoundElementRelationships(e)},t._updateBoundElementRelationships=function(e){if((0,A.kh)(e)){var t,n,r=this._bindingTargetsByLinearId.get(e.id),i=(0,a.Z)(null!=r?r:[void 0,void 0],2),o=i[0],s=i[1],l=e.isDeleted||null==(t=e.startBinding)?void 0:t.elementId,u=e.isDeleted||null==(n=e.endBinding)?void 0:n.elementId;if(o&&o!==l){var c=this._boundIdsByElementId.get(o);c&&(c.delete(e.id),0===c.size&&this._boundIdsByElementId.delete(o))}if(s&&s!==u&&s!==o){var d=this._boundIdsByElementId.get(s);d&&(d.delete(e.id),0===d.size&&this._boundIdsByElementId.delete(s))}l&&(this._boundIdsByElementId.has(l)||this._boundIdsByElementId.set(l,new Set),this._boundIdsByElementId.get(l).add(e.id)),u&&u!==l&&(this._boundIdsByElementId.has(u)||this._boundIdsByElementId.set(u,new Set),this._boundIdsByElementId.get(u).add(e.id)),l||u?this._bindingTargetsByLinearId.set(e.id,[l,u]):this._bindingTargetsByLinearId.delete(e.id)}},t._shouldNewElementBeMarkedDeleted=function(e,t){var n;return!e.isDeleted&&(!!(0,c.fL)(e)||!!((null==t?void 0:t.isInitialRender)&&!(null==t?void 0:t.skipDeleteHangingDiagramElements)&&e.diagramId&&(!this.getElement(e.diagramId)||(null==(n=this.getElement(e.diagramId))?void 0:n.isDeleted))))},t._emitStateChange=function(e){var t=e.changedElements,n=e.deletedElements,r=e.addedElements,i=e.movedElements,o=e.phantomElements,a=e.previousElements,l=e.preventLocalTextboxRender,u=e.isRemote,c=e.isInitialRender,A=(0,s.Z)(t);i&&A.push.apply(A,(0,s.Z)(i));var d=!0,h=!1,f=void 0;try{for(var p,g=Array.from(this._callbacks)[Symbol.iterator]();!(d=(p=g.next()).done);d=!0)(0,p.value)({sceneVersion:this.getVersion(),changedElements:A,deletedElements:n,addedElements:r,movedElements:i,phantomElements:o,previousElements:a,preventLocalTextboxRender:l,isRemote:!!u,isInitialRender:!!c})}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}},t.destroy=function(){var t=this;this._destroyed=!0,e._sceneMapById.forEach(function(n,r){n===t&&e._sceneMapById.delete(r)}),this._callbacks.clear(),(0,d.$L)()},t.informPhantomMutation=function(e){var t=e.phantomElements,n=void 0===t?[]:t,r=e.preventLocalTextboxRender,i=void 0!==r&&r;if(this._batch){var o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c,A=l.value;null==(c=this._changeBatch)||c.add(A)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}i||(this._batchedPreventLocalTextboxRender=!1);return}this._emitStateChange({changedElements:[],deletedElements:[],addedElements:[],movedElements:[],phantomElements:n,previousElements:this._elementsMap,preventLocalTextboxRender:i,isRemote:!1,isInitialRender:!1})},t.getPhantomElements=function(){return Array.from(this.phantomElements.values())},t.getPhantomElement=function(e){return this.phantomElements.get(e)||null},t.addPhantomElements=function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.mapElementToScene(s,this),this.phantomElements.set(s.id,s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}t.length>0&&this.informPhantomMutation({phantomElements:t})},t.clearPhantomElements=function(e){if(0!==this.phantomElements.size){if(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.phantomElements.delete(l.Kn+a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}else this.phantomElements.clear();var s=this.getPhantomElements();e&&e.length>0&&(s=s.filter(function(t){return!e.includes(t.id.replace(l.Kn,""))})),this.informPhantomMutation({phantomElements:Array.from(s)})}},e.mapElementToScene=function(t,n){if(g(t)){var r=n.getElement(t);r&&(e._sceneMapById.set(t,n),e._sceneMapByElement.set(r,n))}else e._sceneMapByElement.set(t,n),e._sceneMapById.set(t.id,n)},e.unmapElementFromScene=function(t){var n=e.getScene(t);if(n){var r=g(t)?n.getElement(t):t,i=g(t)?t:t.id;e._sceneMapById.delete(i),r&&e._sceneMapByElement.delete(r)}},e.getScene=function(t){return g(t)?e._sceneMapById.get(t)||null:e._sceneMapByElement.get(t)||e._sceneMapById.get(t.id)||null},e}();m._sceneMapByElement=new WeakMap,m._sceneMapById=new Map,t.Z=m},10291:function(e,t,n){"use strict";n.d(t,{EM:function(){return ax},wu:function(){return aB},PZ:function(){return aI},TS:function(){return aE}});for(var r,i,o,a,s,l,u,c,A,d,h,f,p,g,m,v,y,b,w,_,E,C,B,x,I,T,S,k,N,D,O,R,F,L,U,P,M,j,Z,Q,H,V,K,z,G,W,q,$,Y,J,X,ee,et,en,er,ei,eo,ea,es,el,eu,ec,eA,ed,eh,ef,ep,eg,em,ev,ey,eb,ew,e_,eE,eC,eB,ex,eI=n(98788),eT=n(87394),eS=n(22970),ek=n(90581),eN=n(42838),eD=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},eO=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},eR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eF="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eL=0;eL<eR.length;eL++)eF[eR.charCodeAt(eL)]=eL;for(var eU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eP="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eM=0;eM<eU.length;eM++)eP[eU.charCodeAt(eM)]=eM;for(var ej=2112,eZ=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},eQ=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=ej-32+(e>>11),t=this.index[t]+(e>>5&63),t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),eH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eV="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eK=0;eK<eH.length;eK++)eV[eH.charCodeAt(eK)]=eK;var ez=[9001,65288],eG=(i=Array.isArray(r=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):Array(a),c=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<s;t+=4)n=eP[e.charCodeAt(t)],r=eP[e.charCodeAt(t+1)],i=eP[e.charCodeAt(t+2)],o=eP[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|i>>2,c[l++]=(3&i)<<6|63&o;return u}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="))?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(r):new Uint32Array(r),a=eZ(o=Array.isArray(r)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(r):new Uint16Array(r),12,i[4]/2),l=2===i[5]?eZ(o,(24+i[4])/2):(s=Math.ceil((24+i[4])/4),i.slice?i.slice(s,void 0):new Uint32Array(Array.prototype.slice.call(i,s,void 0))),new eQ(i[0],i[1],i[2],i[3],a,l)),eW=[30,36],eq=[1,2,3,5],e$=[10,8],eY=[27,26],eJ=eq.concat(e$),eX=[38,39,40,34,35],e0=[15,13],e1=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(e,o){var a=eG.get(e);if(a>50?(i.push(!0),a-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(16);if(4===a||11===a){if(0===o)return r.push(o),n.push(30);var s=n[o-1];return -1===eJ.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(30))}if(r.push(o),31===a)return n.push("strict"===t?21:37);if(42===a||29===a)return n.push(30);if(43===a)if(e>=131072&&e<=196605||e>=196608&&e<=262141)return n.push(37);else return n.push(30);n.push(a)}),[r,n,i]},e2=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){var a=r[++o];if(a===t)return!0;if(10!==a)break}if(10===i)for(var o=n;o>0;){var s=r[--o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var l=n;l<=r.length;){var a=r[++l];if(a===t)return!0;if(10!==a)break}if(10!==s)break}return!1},e4=function(e,t){for(var n=e;n>=0;){var r=t[n];if(10!==r)return r;n--}return 0},e3=function(e,t,n,r,i){if(0===n[r])return"\xd7";var o=r-1;if(Array.isArray(i)&&!0===i[o])return"\xd7";var a=o-1,s=o+1,l=t[o],u=a>=0?t[a]:0,c=t[s];if(2===l&&3===c)return"\xd7";if(-1!==eq.indexOf(l))return"!";if(-1!==eq.indexOf(c)||-1!==e$.indexOf(c))return"\xd7";if(8===e4(o,t))return"\xf7";if(11===eG.get(e[o])||(32===l||33===l)&&11===eG.get(e[s])||7===l||7===c||9===l||-1===[10,13,15].indexOf(l)&&9===c||-1!==[17,18,19,24,28].indexOf(c)||22===e4(o,t)||e2(23,22,o,t)||e2([17,18],21,o,t)||e2(12,12,o,t))return"\xd7";if(10===l)return"\xf7";if(23===l||23===c)return"\xd7";if(16===c||16===l)return"\xf7";if(-1!==[13,15,21].indexOf(c)||14===l||36===u&&-1!==e0.indexOf(l)||28===l&&36===c||20===c||-1!==eW.indexOf(c)&&25===l||-1!==eW.indexOf(l)&&25===c||27===l&&-1!==[37,32,33].indexOf(c)||-1!==[37,32,33].indexOf(l)&&26===c||-1!==eW.indexOf(l)&&-1!==eY.indexOf(c)||-1!==eY.indexOf(l)&&-1!==eW.indexOf(c)||-1!==[27,26].indexOf(l)&&(25===c||-1!==[22,15].indexOf(c)&&25===t[s+1])||-1!==[22,15].indexOf(l)&&25===c||25===l&&-1!==[25,28,24].indexOf(c))return"\xd7";if(-1!==[25,28,24,17,18].indexOf(c))for(var A=o;A>=0;){var d=t[A];if(25===d)return"\xd7";if(-1!==[28,24].indexOf(d))A--;else break}if(-1!==[27,26].indexOf(c))for(var A=-1!==[17,18].indexOf(l)?a:o;A>=0;){var d=t[A];if(25===d)return"\xd7";if(-1!==[28,24].indexOf(d))A--;else break}if(38===l&&-1!==[38,39,34,35].indexOf(c)||-1!==[39,34].indexOf(l)&&-1!==[39,40].indexOf(c)||-1!==[40,35].indexOf(l)&&40===c||-1!==eX.indexOf(l)&&-1!==[20,26].indexOf(c)||-1!==eX.indexOf(c)&&27===l||-1!==eW.indexOf(l)&&-1!==eW.indexOf(c)||24===l&&-1!==eW.indexOf(c)||-1!==eW.concat(25).indexOf(l)&&22===c&&-1===ez.indexOf(e[s])||-1!==eW.concat(25).indexOf(c)&&18===l)return"\xd7";if(41===l&&41===c){for(var h=n[o],f=1;h>0;)if(41===t[--h])f++;else break;if(f%2!=0)return"\xd7"}return 32===l&&33===c?"\xd7":"\xf7"},e5=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=e1(e,t.lineBreak),r=n[0],i=n[1],o=n[2];return("break-all"===t.wordBreak||"break-word"===t.wordBreak)&&(i=i.map(function(e){return -1!==[25,30,42].indexOf(e)?37:e})),[r,i,"keep-all"===t.wordBreak?o.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0]},e6=function(){function e(e,t,n,r){this.codePoints=e,this.required="!"===t,this.start=n,this.end=r}return e.prototype.slice=function(){return eO.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),e8=function(e,t){var n=eD(e),r=e5(n,t),i=r[0],o=r[1],a=r[2],s=n.length,l=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var e="\xd7";u<s&&"\xd7"===(e=e3(n,o,i,++u,a)););if("\xd7"!==e||u===s){var t=new e6(n,e,l,u);return l=u,{value:t,done:!1}}return{done:!0,value:null}}}},e9=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="".concat(123,"px"),n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=Math.round(t.getBoundingClientRect().height);if(e.body.removeChild(n),123===r)return!0}}return!1},e7=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=eD(r.data).map(function(e){return eO(e)}),o=0,a={},s=i.every(function(e,t){n.setStart(r,o),n.setEnd(r,o+e.length);var i=n.getBoundingClientRect();o+=e.length;var s=i.x>a.x||i.y>a.y;return a=i,0===t||s});return e.body.removeChild(t),s},te=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},tt=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},tn=function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var r=new Image,i=t.toDataURL();r.src=i;var o=tr(100,100,0,0,r);return n.fillStyle="red",n.fillRect(0,0,100,100),ti(o).then(function(t){n.drawImage(t,0,0);var r=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=e.createElement("div");return o.style.backgroundImage="url(".concat(i,")"),o.style.height="".concat(100,"px"),tt(r)?ti(tr(100,100,0,0,o)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),tt(n.getImageData(0,0,100,100).data)}).catch(function(){return!1})},tr=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},ti=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(new XMLSerializer().serializeToString(e)))})},to={get SUPPORT_RANGE_BOUNDS(){var ta=e9(document);return Object.defineProperty(to,"SUPPORT_RANGE_BOUNDS",{value:ta}),ta},get SUPPORT_WORD_BREAKING(){var ts=to.SUPPORT_RANGE_BOUNDS&&e7(document);return Object.defineProperty(to,"SUPPORT_WORD_BREAKING",{value:ts}),ts},get SUPPORT_SVG_DRAWING(){var tl=te(document);return Object.defineProperty(to,"SUPPORT_SVG_DRAWING",{value:tl}),tl},get SUPPORT_FOREIGNOBJECT_DRAWING(){var tu="function"==typeof Array.from&&"function"==typeof window.fetch?tn(document):Promise.resolve(!1);return Object.defineProperty(to,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:tu}),tu},get SUPPORT_CORS_IMAGES(){var tc=void 0!==new Image().crossOrigin;return Object.defineProperty(to,"SUPPORT_CORS_IMAGES",{value:tc}),tc},get SUPPORT_RESPONSE_TYPE(){var tA="string"==typeof new XMLHttpRequest().responseType;return Object.defineProperty(to,"SUPPORT_RESPONSE_TYPE",{value:tA}),tA},get SUPPORT_CORS_XHR(){var td="withCredentials"in new XMLHttpRequest;return Object.defineProperty(to,"SUPPORT_CORS_XHR",{value:td}),td},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var th=!!("undefined"!=typeof Intl&&Intl.Segmenter);return Object.defineProperty(to,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:th}),th}},tf=function(){function e(){(0,ek.Z)(this,e)}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e}();tf._origin="about:blank";var tp=function(){function e(t,n){(0,ek.Z)(this,e),this.context=t,this._options=n,this._cache={}}var t=e.prototype;return t.addImage=function(e){var t=Promise.resolve();return this.has(e)||(t_(e)||ty(e))&&(this._cache[e]=this.loadImage(e),this._cache[e].catch(function(){})),t},t.match=function(e){return this._cache[e]},t.loadImage=function(e){var t=this;return(0,eI.Z)(function(){var n,r,i,o;return(0,eS.__generator)(this,function(a){switch(a.label){case 0:if(n=tf.isSameOrigin(e),r=!tb(e)&&!0===t._options.useCORS&&to.SUPPORT_CORS_IMAGES&&!n,i=!tb(e)&&!n&&!t_(e)&&"string"==typeof t._options.proxy&&to.SUPPORT_CORS_XHR&&!r,!n&&!1===t._options.allowTaint&&!tb(e)&&!t_(e)&&!i&&!r)return[2];if(o=e,!i)return[3,2];return[4,t.proxy(o)];case 1:o=a.sent(),a.label=2;case 2:return t.context.logger.debug("Added image ".concat(e.substring(0,256))),[4,new Promise(function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=n,(tw(o)||r)&&(i.crossOrigin="anonymous"),i.src=o,!0===i.complete&&setTimeout(function(){return e(i)},500),t._options.imageTimeout>0&&setTimeout(function(){return n("Timed out (".concat(t._options.imageTimeout,"ms) loading image"))},t._options.imageTimeout)})];case 3:return[2,a.sent()]}})})()},t.has=function(e){return void 0!==this._cache[e]},t.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(i,o){var a=to.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===a)i(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return i(e.result)},!1),e.addEventListener("error",function(e){return o(e)},!1),e.readAsDataURL(s.response)}else o("Failed to proxy resource ".concat(r," with status code ").concat(s.status))},s.onerror=o;var l=n.indexOf("?")>-1?"&":"?";if(s.open("GET","".concat(n).concat(l,"url=").concat(encodeURIComponent(e),"&responseType=").concat(a)),"text"!==a&&(0,eN.Z)(s,XMLHttpRequest)&&(s.responseType=a),t._options.imageTimeout){var u=t._options.imageTimeout;s.timeout=u,s.ontimeout=function(){return o("Timed out (".concat(u,"ms) proxying ").concat(r))}}s.send()})},e}(),tg=/^data:image\/svg\+xml/i,tm=/^data:image\/.*;base64,/i,tv=/^data:image\/.*/i,ty=function(e){return to.SUPPORT_SVG_DRAWING||!tE(e)},tb=function(e){return tv.test(e)},tw=function(e){return tm.test(e)},t_=function(e){return"blob"===e.substr(0,4)},tE=function(e){return"svg"===e.substr(-3).toLowerCase()||tg.test(e)},tC=n(70865),tB=n(50930),tx=function(){function e(t){var n=t.id,r=t.enabled;(0,ek.Z)(this,e),this.id=n,this.enabled=r,this.start=Date.now()}var t=e.prototype;return t.debug=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.debug?(e=console).debug.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tB.Z)(n))):this.info.apply(this,(0,tB.Z)(n)))},t.getTime=function(){return Date.now()-this.start},t.info=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&window.console&&"function"==typeof console.info&&(e=console).info.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tB.Z)(n)))},t.warn=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.warn?(e=console).warn.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tB.Z)(n))):this.info.apply(this,(0,tB.Z)(n)))},t.error=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.error?(e=console).error.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tB.Z)(n))):this.info.apply(this,(0,tB.Z)(n)))},e}();tx.instances={};var tI=function e(t,n){var r;(0,ek.Z)(this,e),this.instanceName="#".concat(e.instanceCount++),this.windowBounds=n,this.logger=new tx({id:this.instanceName,enabled:t.logging}),this.cache=null!=(r=t.cache)?r:new tp(this,t)};tI.instanceCount=1;var tT=function(){function e(t,n,r,i){(0,ek.Z)(this,e),this.left=t,this.top=n,this.width=r,this.height=i,this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e}();tT.EMPTY=new tT(0,0,0,0);var tS=function(e,t){return tT.fromClientRect(e,t.getBoundingClientRect())},tk=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw Error("Unable to get document size");return new tT(0,0,Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight)))};(u=q||(q={}))[u.STRING_TOKEN=0]="STRING_TOKEN",u[u.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",u[u.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",u[u.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",u[u.COMMA_TOKEN=4]="COMMA_TOKEN",u[u.HASH_TOKEN=5]="HASH_TOKEN",u[u.DELIM_TOKEN=6]="DELIM_TOKEN",u[u.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",u[u.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",u[u.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",u[u.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",u[u.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",u[u.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",u[u.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",u[u.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",u[u.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",u[u.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",u[u.NUMBER_TOKEN=17]="NUMBER_TOKEN",u[u.FUNCTION=18]="FUNCTION",u[u.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",u[u.IDENT_TOKEN=20]="IDENT_TOKEN",u[u.COLUMN_TOKEN=21]="COLUMN_TOKEN",u[u.URL_TOKEN=22]="URL_TOKEN",u[u.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",u[u.CDC_TOKEN=24]="CDC_TOKEN",u[u.CDO_TOKEN=25]="CDO_TOKEN",u[u.COLON_TOKEN=26]="COLON_TOKEN",u[u.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",u[u.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",u[u.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",u[u.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",u[u.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",u[u.EOF_TOKEN=32]="EOF_TOKEN";var tN=function(e){return e>=48&&e<=57},tD=function(e){return tN(e)||e>=65&&e<=70||e>=97&&e<=102},tO=function(e){return e>=97&&e<=122||e>=65&&e<=90},tR=function(e){return 10===e||9===e||32===e},tF=function(e){return tO(e)||e>=128||95===e},tL=function(e){return tF(e)||tN(e)||45===e},tU=function(e,t){return 92===e&&10!==t},tP=function(e,t,n){return 45===e?tF(t)||tU(t,n):!!(tF(e)||92===e&&tU(e,t))||!1},tM=function(e,t,n){return 43===e||45===e?!!tN(t)||46===t&&tN(n):46===e?tN(t):tN(e)},tj=function(e){var t=0,n=1;(43===e[0]||45===e[t])&&(45===e[t]&&(n=-1),t++);for(var r=[];tN(e[t]);)r.push(e[t++]);var i=r.length?parseInt(eO.apply(void 0,(0,tB.Z)(r)),10):0;46===e[t]&&t++;for(var o=[];tN(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(eO.apply(void 0,(0,tB.Z)(o)),10):0;(69===e[t]||101===e[t])&&t++;var l=1;(43===e[t]||45===e[t])&&(45===e[t]&&(l=-1),t++);for(var u=[];tN(e[t]);)u.push(e[t++]);return n*(i+s*Math.pow(10,-a))*Math.pow(10,l*(u.length?parseInt(eO.apply(void 0,(0,tB.Z)(u)),10):0))},tZ={type:2},tQ={type:3},tH={type:4},tV={type:13},tK={type:8},tz={type:21},tG={type:9},tW={type:10},tq={type:11},t$={type:12},tY={type:14},tJ={type:23},tX={type:1},t0={type:25},t1={type:24},t2={type:26},t4={type:27},t3={type:28},t5={type:29},t6={type:31},t8={type:32},t9=function(){function e(){(0,ek.Z)(this,e),this._value=[]}var t=e.prototype;return t.write=function(e){this._value=this._value.concat(eD(e))},t.read=function(){for(var e=[],t=this.consumeToken();t!==t8;)e.push(t),t=this.consumeToken();return e},t.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tL(t)||tU(n,r)){var i=tP(t,n,r)?2:1;return{type:5,value:this.consumeName(),flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tV;break;case 39:return this.consumeStringToken(39);case 40:return tZ;case 41:return tQ;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tY;break;case 43:case 46:if(tM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return tH;case 45:var o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(tM(e,o,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tP(e,o,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===o&&62===a)return this.consumeCodePoint(),this.consumeCodePoint(),t1;break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var s=this.consumeCodePoint();if(42===s&&47===(s=this.consumeCodePoint())||-1===s)return this.consumeToken()}break;case 58:return t2;case 59:return t4;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),t0;break;case 64:if(tP(this.peekCodePoint(0),this.peekCodePoint(1),this.peekCodePoint(2)))return{type:7,value:this.consumeName()};break;case 91:return t3;case 92:if(tU(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return t5;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tK;break;case 123:return tq;case 125:return t$;case 117:case 85:var l=this.peekCodePoint(0),u=this.peekCodePoint(1);return 43===l&&(tD(u)||63===u)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tG;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),tz;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tW;break;case -1:return t8}return tR(e)?(this.consumeWhiteSpace(),t6):tN(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):tF(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:eO(e)}},t.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},t.reconsumeCodePoint=function(e){this._value.unshift(e)},t.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();tD(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(eO.apply(void 0,(0,tB.Z)(e.map(function(e){return 63===e?48:e}))),16),end:parseInt(eO.apply(void 0,(0,tB.Z)(e.map(function(e){return 63===e?70:e}))),16)};var r=parseInt(eO.apply(void 0,(0,tB.Z)(e)),16);if(!(45===this.peekCodePoint(0)&&tD(this.peekCodePoint(1))))return{type:30,start:r,end:r};this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];tD(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(eO.apply(void 0,(0,tB.Z)(i)),16)}},t.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),tJ)}for(;;){var r,i=this.consumeCodePoint();if(-1===i||41===i)return{type:22,value:eO.apply(void 0,(0,tB.Z)(e))};if(tR(i)){if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))return this.consumeCodePoint(),{type:22,value:eO.apply(void 0,(0,tB.Z)(e))};return this.consumeBadUrlRemnants(),tJ}if(34===i||39===i||40===i||(r=i)>=0&&r<=8||11===r||r>=14&&r<=31||127===r)return this.consumeBadUrlRemnants(),tJ;if(92===i)if(!tU(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),tJ;else e.push(this.consumeEscapedCodePoint());else e.push(i)}},t.consumeWhiteSpace=function(){for(;tR(this.peekCodePoint(0));)this.consumeCodePoint()},t.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;tU(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(5e4,e);t+=eO.apply(void 0,(0,tB.Z)(this._value.splice(0,n))),e-=n}return this._value.shift(),t},t.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(-1===r||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(10===r)return this._value.splice(0,n),tX;if(92===r){var i=this._value[n+1];-1!==i&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):tU(r,i)&&(t+=this.consumeStringSlice(n),t+=eO(this.consumeEscapedCodePoint()),n=-1))}n++}},t.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for((43===n||45===n)&&e.push(this.consumeCodePoint());tN(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&tN(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;tN(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===n||101===n)&&((43===r||45===r)&&tN(i)||tN(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;tN(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[tj(e),t]},t.consumeNumericToken=function(){var e=(0,eT.Z)(this.consumeNumber(),2),t=e[0],n=e[1],r=this.peekCodePoint(0);return tP(r,this.peekCodePoint(1),this.peekCodePoint(2))?{type:15,number:t,flags:n,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},t.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(tD(e)){for(var t=eO(e);tD(this.peekCodePoint(0))&&t.length<6;)t+=eO(this.consumeCodePoint());tR(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||n>=55296&&n<=57343||n>1114111?65533:n}return -1===e?65533:e},t.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tL(t))e+=eO(t);else{if(!tU(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=eO(this.consumeEscapedCodePoint())}}},e}(),t7=function(){function e(t){(0,ek.Z)(this,e),this._tokens=t}var t=e.prototype;return t.parseComponentValue=function(){for(var e=this.consumeToken();e.type===q.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===q.EOF_TOKEN)throw SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===q.WHITESPACE_TOKEN);if(e.type===q.EOF_TOKEN)return t;throw SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===q.EOF_TOKEN)return e;e.push(t),e.push()}},t.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case q.LEFT_CURLY_BRACKET_TOKEN:case q.LEFT_SQUARE_BRACKET_TOKEN:case q.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case q.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},t.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===q.EOF_TOKEN||na(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.consumeFunction=function(e){for(var t={name:e.value,values:[],type:q.FUNCTION};;){var n=this.consumeToken();if(n.type===q.EOF_TOKEN||n.type===q.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},t.consumeToken=function(){var e=this._tokens.shift();return void 0===e?t8:e},t.reconsumeToken=function(e){this._tokens.unshift(e)},e.create=function(t){var n=new t9;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e}(),ne=function(e){return e.type===q.DIMENSION_TOKEN},nt=function(e){return e.type===q.NUMBER_TOKEN},nn=function(e){return e.type===q.IDENT_TOKEN},nr=function(e,t){return nn(e)&&e.value===t},ni=function(e){return e.type!==q.WHITESPACE_TOKEN&&e.type!==q.COMMA_TOKEN},no=function(e){var t=[],n=[];return e.forEach(function(e){if(e.type===q.COMMA_TOKEN){if(0===n.length)throw Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}e.type!==q.WHITESPACE_TOKEN&&n.push(e)}),n.length&&t.push(n),t},na=function(e,t){return t===q.LEFT_CURLY_BRACKET_TOKEN&&e.type===q.RIGHT_CURLY_BRACKET_TOKEN||t===q.LEFT_SQUARE_BRACKET_TOKEN&&e.type===q.RIGHT_SQUARE_BRACKET_TOKEN||t===q.LEFT_PARENTHESIS_TOKEN&&e.type===q.RIGHT_PARENTHESIS_TOKEN},ns=function(e){return e.type===q.NUMBER_TOKEN||e.type===q.DIMENSION_TOKEN},nl=function(e){return e.type===q.PERCENTAGE_TOKEN||ns(e)},nu=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},nc={type:q.NUMBER_TOKEN,number:0,flags:4},nA={type:q.PERCENTAGE_TOKEN,number:50,flags:4},nd={type:q.PERCENTAGE_TOKEN,number:100,flags:4},nh=function(e,t,n){var r=(0,eT.Z)(e,2),i=r[0],o=r[1];return[nf(i,t),nf(void 0!==o?o:i,n)]},nf=function(e,t){if(e.type===q.PERCENTAGE_TOKEN)return e.number/100*t;if(ne(e))switch(e.unit){case"rem":case"em":return 16*e.number}return e.number},np="grad",ng="turn",nm=function(e,t){if(t.type===q.DIMENSION_TOKEN)switch(t.unit){case"deg":return Math.PI*t.number/180;case np:return Math.PI/200*t.number;case"rad":return t.number;case ng:return 2*Math.PI*t.number}throw Error("Unsupported angle type")},nv=function(e){return e.type===q.DIMENSION_TOKEN&&("deg"===e.unit||e.unit===np||"rad"===e.unit||e.unit===ng)},ny=function(e){switch(e.filter(nn).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[nc,nc];case"to top":case"bottom":return nb(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[nc,nd];case"to right":case"left":return nb(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nd,nd];case"to bottom":case"top":return nb(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nd,nc];case"to left":case"right":return nb(270)}return 0},nb=function(e){return Math.PI*e/180},nw=function(e,t){if(t.type===q.FUNCTION){var n=nS[t.name];if(void 0===n)throw Error('Attempting to parse an unsupported color function "'.concat(t.name,'"'));return n(e,t.values)}if(t.type===q.HASH_TOKEN){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return nC(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){var a=t.value.substring(0,1),s=t.value.substring(1,2),l=t.value.substring(2,3),u=t.value.substring(3,4);return nC(parseInt(a+a,16),parseInt(s+s,16),parseInt(l+l,16),parseInt(u+u,16)/255)}if(6===t.value.length){var c=t.value.substring(0,2),A=t.value.substring(2,4),d=t.value.substring(4,6);return nC(parseInt(c,16),parseInt(A,16),parseInt(d,16),1)}if(8===t.value.length){var h=t.value.substring(0,2),f=t.value.substring(2,4),p=t.value.substring(4,6),g=t.value.substring(6,8);return nC(parseInt(h,16),parseInt(f,16),parseInt(p,16),parseInt(g,16)/255)}}if(t.type===q.IDENT_TOKEN){var m=nN[t.value.toUpperCase()];if(void 0!==m)return m}return nN.TRANSPARENT},n_=function(e){return(255&e)==0},nE=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba(".concat(i,",").concat(r,",").concat(n,",").concat(t/255,")"):"rgb(".concat(i,",").concat(r,",").concat(n,")")},nC=function(e,t,n,r){return(e<<24|t<<16|n<<8|(0|Math.round(255*r)))>>>0},nB=function(e,t){if(e.type===q.NUMBER_TOKEN)return e.number;if(e.type===q.PERCENTAGE_TOKEN){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},nx=function(e,t){var n=t.filter(ni);if(3===n.length){var r=(0,eT.Z)(n.map(nB),3);return nC(r[0],r[1],r[2],1)}if(4===n.length){var i=(0,eT.Z)(n.map(nB),4);return nC(i[0],i[1],i[2],i[3])}return 0};function nI(e,t,n){return(n<0&&(n+=1),n>=1&&(n-=1),n<1/6)?(t-e)*n*6+e:n<.5?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var nT=function(e,t){var n=t.filter(ni),r=(0,eT.Z)(n,4),i=r[0],o=r[1],a=r[2],s=r[3],l=(i.type===q.NUMBER_TOKEN?nb(i.number):nm(e,i))/(2*Math.PI),u=nl(o)?o.number/100:0,c=nl(a)?a.number/100:0,A=void 0!==s&&nl(s)?nf(s,1):1;if(0===u)return nC(255*c,255*c,255*c,1);var d=c<=.5?c*(u+1):c+u-c*u,h=2*c-d;return nC(255*nI(h,d,l+1/3),255*nI(h,d,l),255*nI(h,d,l-1/3),A)},nS={hsl:nT,hsla:nT,rgb:nx,rgba:nx},nk=function(e,t){return nw(e,t7.create(t).parseComponentValue())},nN={ALICEBLUE:0xf0f8ffff,ANTIQUEWHITE:0xfaebd7ff,AQUA:0xffffff,AQUAMARINE:0x7fffd4ff,AZURE:0xf0ffffff,BEIGE:0xf5f5dcff,BISQUE:0xffe4c4ff,BLACK:255,BLANCHEDALMOND:0xffebcdff,BLUE:65535,BLUEVIOLET:0x8a2be2ff,BROWN:0xa52a2aff,BURLYWOOD:0xdeb887ff,CADETBLUE:0x5f9ea0ff,CHARTREUSE:0x7fff00ff,CHOCOLATE:0xd2691eff,CORAL:0xff7f50ff,CORNFLOWERBLUE:0x6495edff,CORNSILK:0xfff8dcff,CRIMSON:0xdc143cff,CYAN:0xffffff,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:0xb886bbff,DARKGRAY:0xa9a9a9ff,DARKGREEN:6553855,DARKGREY:0xa9a9a9ff,DARKKHAKI:0xbdb76bff,DARKMAGENTA:0x8b008bff,DARKOLIVEGREEN:0x556b2fff,DARKORANGE:0xff8c00ff,DARKORCHID:0x9932ccff,DARKRED:0x8b0000ff,DARKSALMON:0xe9967aff,DARKSEAGREEN:0x8fbc8fff,DARKSLATEBLUE:0x483d8bff,DARKSLATEGRAY:0x2f4f4fff,DARKSLATEGREY:0x2f4f4fff,DARKTURQUOISE:0xced1ff,DARKVIOLET:0x9400d3ff,DEEPPINK:0xff1493ff,DEEPSKYBLUE:0xbfffff,DIMGRAY:0x696969ff,DIMGREY:0x696969ff,DODGERBLUE:0x1e90ffff,FIREBRICK:0xb22222ff,FLORALWHITE:0xfffaf0ff,FORESTGREEN:0x228b22ff,FUCHSIA:0xff00ffff,GAINSBORO:0xdcdcdcff,GHOSTWHITE:0xf8f8ffff,GOLD:0xffd700ff,GOLDENROD:0xdaa520ff,GRAY:0x808080ff,GREEN:8388863,GREENYELLOW:0xadff2fff,GREY:0x808080ff,HONEYDEW:0xf0fff0ff,HOTPINK:0xff69b4ff,INDIANRED:0xcd5c5cff,INDIGO:0x4b0082ff,IVORY:0xfffff0ff,KHAKI:0xf0e68cff,LAVENDER:0xe6e6faff,LAVENDERBLUSH:0xfff0f5ff,LAWNGREEN:0x7cfc00ff,LEMONCHIFFON:0xfffacdff,LIGHTBLUE:0xadd8e6ff,LIGHTCORAL:0xf08080ff,LIGHTCYAN:0xe0ffffff,LIGHTGOLDENRODYELLOW:0xfafad2ff,LIGHTGRAY:0xd3d3d3ff,LIGHTGREEN:0x90ee90ff,LIGHTGREY:0xd3d3d3ff,LIGHTPINK:0xffb6c1ff,LIGHTSALMON:0xffa07aff,LIGHTSEAGREEN:0x20b2aaff,LIGHTSKYBLUE:0x87cefaff,LIGHTSLATEGRAY:0x778899ff,LIGHTSLATEGREY:0x778899ff,LIGHTSTEELBLUE:0xb0c4deff,LIGHTYELLOW:0xffffe0ff,LIME:0xff00ff,LIMEGREEN:0x32cd32ff,LINEN:0xfaf0e6ff,MAGENTA:0xff00ffff,MAROON:0x800000ff,MEDIUMAQUAMARINE:0x66cdaaff,MEDIUMBLUE:52735,MEDIUMORCHID:0xba55d3ff,MEDIUMPURPLE:0x9370dbff,MEDIUMSEAGREEN:0x3cb371ff,MEDIUMSLATEBLUE:0x7b68eeff,MEDIUMSPRINGGREEN:0xfa9aff,MEDIUMTURQUOISE:0x48d1ccff,MEDIUMVIOLETRED:0xc71585ff,MIDNIGHTBLUE:0x191970ff,MINTCREAM:0xf5fffaff,MISTYROSE:0xffe4e1ff,MOCCASIN:0xffe4b5ff,NAVAJOWHITE:0xffdeadff,NAVY:33023,OLDLACE:0xfdf5e6ff,OLIVE:0x808000ff,OLIVEDRAB:0x6b8e23ff,ORANGE:0xffa500ff,ORANGERED:0xff4500ff,ORCHID:0xda70d6ff,PALEGOLDENROD:0xeee8aaff,PALEGREEN:0x98fb98ff,PALETURQUOISE:0xafeeeeff,PALEVIOLETRED:0xdb7093ff,PAPAYAWHIP:0xffefd5ff,PEACHPUFF:0xffdab9ff,PERU:0xcd853fff,PINK:0xffc0cbff,PLUM:0xdda0ddff,POWDERBLUE:0xb0e0e6ff,PURPLE:0x800080ff,REBECCAPURPLE:0x663399ff,RED:0xff0000ff,ROSYBROWN:0xbc8f8fff,ROYALBLUE:0x4169e1ff,SADDLEBROWN:0x8b4513ff,SALMON:0xfa8072ff,SANDYBROWN:0xf4a460ff,SEAGREEN:0x2e8b57ff,SEASHELL:0xfff5eeff,SIENNA:0xa0522dff,SILVER:0xc0c0c0ff,SKYBLUE:0x87ceebff,SLATEBLUE:0x6a5acdff,SLATEGRAY:0x708090ff,SLATEGREY:0x708090ff,SNOW:0xfffafaff,SPRINGGREEN:0xff7fff,STEELBLUE:0x4682b4ff,TAN:0xd2b48cff,TEAL:8421631,THISTLE:0xd8bfd8ff,TOMATO:0xff6347ff,TRANSPARENT:0,TURQUOISE:0x40e0d0ff,VIOLET:0xee82eeff,WHEAT:0xf5deb3ff,WHITE:0xffffffff,WHITESMOKE:0xf5f5f5ff,YELLOW:0xffff00ff,YELLOWGREEN:0x9acd32ff};(c=$||($={}))[c.NONE=0]="NONE",c[c.ALL=1]="ALL",c[c.CLONE=2]="CLONE",c[c.PARSE=3]="PARSE",c[c.RENDER=4]="RENDER";var nD=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},nO=function(e,t){var n=nD(e);return 1===n||t===n},nR=function(e,t){return(e&t)!=0};(A=Y||(Y={}))[A.VALUE=0]="VALUE",A[A.LIST=1]="LIST",A[A.IDENT_VALUE=2]="IDENT_VALUE",A[A.TYPE_VALUE=3]="TYPE_VALUE",A[A.TOKEN_VALUE=4]="TOKEN_VALUE",(d=J||(J={}))[d.BORDER_BOX=0]="BORDER_BOX",d[d.PADDING_BOX=1]="PADDING_BOX",d[d.CONTENT_BOX=2]="CONTENT_BOX";var nF={name:"background-clip",initialValue:"border-box",prefix:!1,type:Y.LIST,parse:function(e,t){return t.map(function(e){if(nn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nL={name:"background-color",initialValue:"transparent",prefix:!1,type:Y.TYPE_VALUE,format:"color"},nU=function(e,t){var n=nw(e,t[0]),r=t[1];return r&&nl(r)?{color:n,stop:r}:{color:n,stop:null}},nP=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=nc),null===r.stop&&(r.stop=nd);for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var l=nf(s,t);l>o?i.push(l):i.push(o),o=l}else i.push(null)}for(var u=null,c=0;c<i.length;c++){var A=i[c];if(null===A)null===u&&(u=c);else if(null!==u){for(var d=c-u,h=(A-i[u-1])/(d+1),f=1;f<=d;f++)i[u+f-1]=h*f;u=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}})},nM=function(e,t,n){var r=t/2,i=n/2,o=nf(e[0],t)-r;return(Math.atan2(i-nf(e[1],n),o)+2*Math.PI)%(2*Math.PI)},nj=function(e,t,n){var r="number"==typeof e?e:nM(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,a=n/2,s=i/2,l=Math.sin(r-Math.PI/2)*s,u=Math.cos(r-Math.PI/2)*s;return[i,o-u,o+u,a-l,a+l]},nZ=function(e,t){return Math.sqrt(e*e+t*t)},nQ=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var o=(0,eT.Z)(t,2),a=nZ(n-o[0],r-o[1]);return(i?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},nH=function(e,t,n,r,i){var o=0,a=0;switch(e.size){case et.CLOSEST_SIDE:e.shape===ee.CIRCLE?o=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===ee.ELLIPSE&&(o=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case et.CLOSEST_CORNER:if(e.shape===ee.CIRCLE)o=a=Math.min(nZ(t,n),nZ(t,n-i),nZ(t-r,n),nZ(t-r,n-i));else if(e.shape===ee.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),l=(0,eT.Z)(nQ(r,i,t,n,!0),2);o=nZ(l[0]-t,(l[1]-n)/s),a=s*o}break;case et.FARTHEST_SIDE:e.shape===ee.CIRCLE?o=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===ee.ELLIPSE&&(o=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case et.FARTHEST_CORNER:if(e.shape===ee.CIRCLE)o=a=Math.max(nZ(t,n),nZ(t,n-i),nZ(t-r,n),nZ(t-r,n-i));else if(e.shape===ee.ELLIPSE){var u=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),c=(0,eT.Z)(nQ(r,i,t,n,!1),2);o=nZ(c[0]-t,(c[1]-n)/u),a=u*o}}return Array.isArray(e.size)&&(o=nf(e.size[0],r),a=2===e.size.length?nf(e.size[1],i):o),[o,a]},nV=function(e,t){var n=nb(180),r=[];return no(t).forEach(function(t,i){if(0===i){var o=t[0];if(o.type===q.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(o.value)){n=ny(t);return}if(nv(o)){n=(nm(e,o)+nb(270))%nb(360);return}}var a=nU(e,t);r.push(a)}),{angle:n,stops:r,type:X.LINEAR_GRADIENT}},nK="closest-side",nz="farthest-side",nG="closest-corner",nW="farthest-corner",nq="circle",n$="ellipse",nY="cover",nJ="contain",nX=function(e,t){var n=ee.CIRCLE,r=et.FARTHEST_CORNER,i=[],o=[];return no(t).forEach(function(t,a){var s=!0;if(0===a?s=t.reduce(function(e,t){if(nn(t))switch(t.value){case"center":return o.push(nA),!1;case"top":case"left":return o.push(nc),!1;case"right":case"bottom":return o.push(nd),!1}else if(nl(t)||ns(t))return o.push(t),!1;return e},s):1===a&&(s=t.reduce(function(e,t){if(nn(t))switch(t.value){case nq:return n=ee.CIRCLE,!1;case n$:return n=ee.ELLIPSE,!1;case nJ:case nK:return r=et.CLOSEST_SIDE,!1;case nz:return r=et.FARTHEST_SIDE,!1;case nG:return r=et.CLOSEST_CORNER,!1;case nY:case nW:return r=et.FARTHEST_CORNER,!1}else if(ns(t)||nl(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)),s){var l=nU(e,t);i.push(l)}}),{size:r,shape:n,stops:i,position:o,type:X.RADIAL_GRADIENT}};(h=X||(X={}))[h.URL=0]="URL",h[h.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",h[h.RADIAL_GRADIENT=2]="RADIAL_GRADIENT",(f=ee||(ee={}))[f.CIRCLE=0]="CIRCLE",f[f.ELLIPSE=1]="ELLIPSE",(p=et||(et={}))[p.CLOSEST_SIDE=0]="CLOSEST_SIDE",p[p.FARTHEST_SIDE=1]="FARTHEST_SIDE",p[p.CLOSEST_CORNER=2]="CLOSEST_CORNER",p[p.FARTHEST_CORNER=3]="FARTHEST_CORNER";var n0=function(e,t){if(t.type===q.URL_TOKEN){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===q.FUNCTION){var r=n1[t.name];if(void 0===r)throw Error('Attempting to parse an unsupported image function "'.concat(t.name,'"'));return r(e,t.values)}throw Error("Unsupported image type ".concat(t.type))},n1={"linear-gradient":function(e,t){var n=nb(180),r=[];return no(t).forEach(function(t,i){if(0===i){var o=t[0];if(o.type===q.IDENT_TOKEN&&"to"===o.value){n=ny(t);return}if(nv(o)){n=nm(e,o);return}}var a=nU(e,t);r.push(a)}),{angle:n,stops:r,type:X.LINEAR_GRADIENT}},"-moz-linear-gradient":nV,"-ms-linear-gradient":nV,"-o-linear-gradient":nV,"-webkit-linear-gradient":nV,"radial-gradient":function(e,t){var n=ee.CIRCLE,r=et.FARTHEST_CORNER,i=[],o=[];return no(t).forEach(function(t,a){var s=!0;if(0===a){var l=!1;s=t.reduce(function(e,t){if(l)if(nn(t))switch(t.value){case"center":o.push(nA);break;case"top":case"left":o.push(nc);break;case"right":case"bottom":o.push(nd)}else(nl(t)||ns(t))&&o.push(t);else if(nn(t))switch(t.value){case nq:return n=ee.CIRCLE,!1;case n$:return n=ee.ELLIPSE,!1;case"at":return l=!0,!1;case nK:return r=et.CLOSEST_SIDE,!1;case nY:case nz:return r=et.FARTHEST_SIDE,!1;case nJ:case nG:return r=et.CLOSEST_CORNER,!1;case nW:return r=et.FARTHEST_CORNER,!1}else if(ns(t)||nl(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)}if(s){var u=nU(e,t);i.push(u)}}),{size:r,shape:n,stops:i,position:o,type:X.RADIAL_GRADIENT}},"-moz-radial-gradient":nX,"-ms-radial-gradient":nX,"-o-radial-gradient":nX,"-webkit-radial-gradient":nX,"-webkit-gradient":function(e,t){var n=nb(180),r=[],i=X.LINEAR_GRADIENT,o=ee.CIRCLE,a=et.FARTHEST_CORNER;return no(t).forEach(function(t,n){var o=t[0];if(0===n){if(nn(o)&&"linear"===o.value){i=X.LINEAR_GRADIENT;return}else if(nn(o)&&"radial"===o.value){i=X.RADIAL_GRADIENT;return}}if(o.type===q.FUNCTION){if("from"===o.name){var a=nw(e,o.values[0]);r.push({stop:nc,color:a})}else if("to"===o.name){var s=nw(e,o.values[0]);r.push({stop:nd,color:s})}else if("color-stop"===o.name){var l=o.values.filter(ni);if(2===l.length){var u=nw(e,l[1]),c=l[0];nt(c)&&r.push({stop:{type:q.PERCENTAGE_TOKEN,number:100*c.number,flags:c.flags},color:u})}}}}),i===X.LINEAR_GRADIENT?{angle:(n+nb(180))%nb(360),stops:r,type:i}:{size:a,shape:o,stops:r,position:[],type:i}}},n2={name:"background-image",initialValue:"none",type:Y.LIST,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return n.type===q.IDENT_TOKEN&&"none"===n.value?[]:t.filter(function(e){var t;return ni(e)&&((t=e).type!==q.IDENT_TOKEN||"none"!==t.value)&&(t.type!==q.FUNCTION||!!n1[t.name])}).map(function(t){return n0(e,t)})}};(g=en||(en={}))[g.BORDER_BOX=0]="BORDER_BOX",g[g.PADDING_BOX=1]="PADDING_BOX",g[g.CONTENT_BOX=2]="CONTENT_BOX";var n4={name:"background-origin",initialValue:"border-box",prefix:!1,type:Y.LIST,parse:function(e,t){return t.map(function(e){if(nn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},n3={name:"background-position",initialValue:"0% 0%",type:Y.LIST,prefix:!1,parse:function(e,t){return no(t).map(function(e){return e.filter(nl)}).map(nu)}};(m=er||(er={}))[m.REPEAT=0]="REPEAT",m[m.NO_REPEAT=1]="NO_REPEAT",m[m.REPEAT_X=2]="REPEAT_X",m[m.REPEAT_Y=3]="REPEAT_Y";var n5={name:"background-repeat",initialValue:"repeat",prefix:!1,type:Y.LIST,parse:function(e,t){return no(t).map(function(e){return e.filter(nn).map(function(e){return e.value}).join(" ")}).map(n6)}},n6=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(v=ei||(ei={})).AUTO="auto",v.CONTAIN="contain",v.COVER="cover";var n8={name:"background-size",initialValue:"0",prefix:!1,type:Y.LIST,parse:function(e,t){return no(t).map(function(e){return e.filter(n9)})}},n9=function(e){return nn(e)||nl(e)},n7=function(e){return{name:"border-".concat(e,"-color"),initialValue:"transparent",prefix:!1,type:Y.TYPE_VALUE,format:"color"}},re=n7("top"),rt=n7("right"),rn=n7("bottom"),rr=n7("left"),ri=function(e){return{name:"border-radius-".concat(e),initialValue:"0 0",prefix:!1,type:Y.LIST,parse:function(e,t){return nu(t.filter(nl))}}},ro=ri("top-left"),ra=ri("top-right"),rs=ri("bottom-right"),rl=ri("bottom-left");(y=eo||(eo={}))[y.NONE=0]="NONE",y[y.SOLID=1]="SOLID",y[y.DASHED=2]="DASHED",y[y.DOTTED=3]="DOTTED",y[y.DOUBLE=4]="DOUBLE";var ru=function(e){return{name:"border-".concat(e,"-style"),initialValue:"solid",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rc=ru("top"),rA=ru("right"),rd=ru("bottom"),rh=ru("left"),rf=function(e){return{name:"border-".concat(e,"-width"),initialValue:"0",type:Y.VALUE,prefix:!1,parse:function(e,t){return ne(t)?t.number:0}}},rp=rf("top"),rg=rf("right"),rm=rf("bottom"),rv=rf("left"),ry={name:"box-shadow",initialValue:"none",type:Y.LIST,prefix:!1,parse:function(e,t){return 1===t.length&&nr(t[0],"none")?[]:no(t).map(function(t){for(var n={color:255,offsetX:nc,offsetY:nc,blur:nc,spread:nc,inset:!1},r=0,i=0;i<t.length;i++){var o=t[i];nr(o,"inset")?n.inset=!0:ns(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=nw(e,o)}return n})}},rb={name:"color",initialValue:"transparent",prefix:!1,type:Y.TYPE_VALUE,format:"color"};Y.LIST,Y.LIST,Y.LIST,(b=ea||(ea={}))[b.LTR=0]="LTR",b[b.RTL=1]="RTL";var rw={name:"direction",initialValue:"ltr",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){return+("rtl"===t)}};(w=es||(es={}))[w.NONE=0]="NONE",w[w.BLOCK=2]="BLOCK",w[w.INLINE=4]="INLINE",w[w.RUN_IN=8]="RUN_IN",w[w.FLOW=16]="FLOW",w[w.FLOW_ROOT=32]="FLOW_ROOT",w[w.TABLE=64]="TABLE",w[w.FLEX=128]="FLEX",w[w.GRID=256]="GRID",w[w.RUBY=512]="RUBY",w[w.SUBGRID=1024]="SUBGRID",w[w.LIST_ITEM=2048]="LIST_ITEM",w[w.TABLE_ROW_GROUP=4096]="TABLE_ROW_GROUP",w[w.TABLE_HEADER_GROUP=8192]="TABLE_HEADER_GROUP",w[w.TABLE_FOOTER_GROUP=16384]="TABLE_FOOTER_GROUP",w[w.TABLE_ROW=32768]="TABLE_ROW",w[w.TABLE_CELL=65536]="TABLE_CELL",w[w.TABLE_COLUMN_GROUP=131072]="TABLE_COLUMN_GROUP",w[w.TABLE_COLUMN=262144]="TABLE_COLUMN",w[w.TABLE_CAPTION=524288]="TABLE_CAPTION",w[w.RUBY_BASE=1048576]="RUBY_BASE",w[w.RUBY_TEXT=2097152]="RUBY_TEXT",w[w.RUBY_BASE_CONTAINER=4194304]="RUBY_BASE_CONTAINER",w[w.RUBY_TEXT_CONTAINER=8388608]="RUBY_TEXT_CONTAINER",w[w.CONTENTS=0x1000000]="CONTENTS",w[w.INLINE_BLOCK=0x2000000]="INLINE_BLOCK",w[w.INLINE_LIST_ITEM=0x4000000]="INLINE_LIST_ITEM",w[w.INLINE_TABLE=0x8000000]="INLINE_TABLE",w[w.INLINE_FLEX=0x10000000]="INLINE_FLEX",w[w.INLINE_GRID=0x20000000]="INLINE_GRID";var r_={name:"display",initialValue:"inline-block",prefix:!1,type:Y.LIST,parse:function(e,t){return t.filter(nn).reduce(function(e,t){return e|rE(t.value)},0)}},rE=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 0x1000000;case"inline-block":return 0x2000000;case"inline-list-item":return 0x4000000;case"inline-table":return 0x8000000;case"inline-flex":return 0x10000000;case"inline-grid":return 0x20000000}return 0},rC=function(e,t){if(t.type===q.DIMENSION_TOKEN)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw Error("Unsupported time type")},rB={name:"duration",initialValue:"0s",prefix:!1,type:Y.LIST,parse:function(e,t){return t.filter(ne).map(function(t){return rC(e,t)})}};(_=el||(el={}))[_.NONE=0]="NONE",_[_.LEFT=1]="LEFT",_[_.RIGHT=2]="RIGHT",_[_.INLINE_START=3]="INLINE_START",_[_.INLINE_END=4]="INLINE_END";var rx={name:"float",initialValue:"none",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},rI={name:"font-family",initialValue:"",prefix:!1,type:Y.LIST,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case q.IDENT_TOKEN:case q.STRING_TOKEN:n.push(e.value);break;case q.NUMBER_TOKEN:n.push(e.number.toString());break;case q.COMMA_TOKEN:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return -1===e.indexOf(" ")?e:"'".concat(e,"'")})}},rT={name:"font-size",initialValue:"0",prefix:!1,type:Y.TYPE_VALUE,format:"length"};(E=eu||(eu={})).NORMAL="normal",E.ITALIC="italic",E.OBLIQUE="oblique";var rS={name:"font-style",initialValue:"normal",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},rk={name:"font-variant",initialValue:"none",type:Y.LIST,prefix:!1,parse:function(e,t){return t.filter(nn).map(function(e){return e.value})}},rN={name:"font-weight",initialValue:"normal",type:Y.VALUE,prefix:!1,parse:function(e,t){return nt(t)?t.number:nn(t)&&"bold"===t.value?700:400}},rD={name:"letter-spacing",initialValue:"0",prefix:!1,type:Y.VALUE,parse:function(e,t){return t.type===q.IDENT_TOKEN&&"normal"===t.value?0:t.type===q.NUMBER_TOKEN||t.type===q.DIMENSION_TOKEN?t.number:0}};(C=ec||(ec={})).NORMAL="normal",C.STRICT="strict";var rO={name:"line-break",initialValue:"normal",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){return"strict"===t?ec.STRICT:ec.NORMAL}},rR={name:"line-height",initialValue:"normal",prefix:!1,type:Y.TOKEN_VALUE},rF=function(e,t){return nn(e)&&"normal"===e.value?1.2*t:e.type===q.NUMBER_TOKEN?t*e.number:nl(e)?nf(e,t):t},rL={name:"list-style-image",initialValue:"none",type:Y.VALUE,prefix:!1,parse:function(e,t){return t.type===q.IDENT_TOKEN&&"none"===t.value?null:n0(e,t)}};(B=eA||(eA={}))[B.INSIDE=0]="INSIDE",B[B.OUTSIDE=1]="OUTSIDE";var rU={name:"list-style-position",initialValue:"outside",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){return+("inside"!==t)}};(x=ed||(ed={}))[x.NONE=-1]="NONE",x[x.DISC=0]="DISC",x[x.CIRCLE=1]="CIRCLE",x[x.SQUARE=2]="SQUARE",x[x.DECIMAL=3]="DECIMAL",x[x.CJK_DECIMAL=4]="CJK_DECIMAL",x[x.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",x[x.LOWER_ROMAN=6]="LOWER_ROMAN",x[x.UPPER_ROMAN=7]="UPPER_ROMAN",x[x.LOWER_GREEK=8]="LOWER_GREEK",x[x.LOWER_ALPHA=9]="LOWER_ALPHA",x[x.UPPER_ALPHA=10]="UPPER_ALPHA",x[x.ARABIC_INDIC=11]="ARABIC_INDIC",x[x.ARMENIAN=12]="ARMENIAN",x[x.BENGALI=13]="BENGALI",x[x.CAMBODIAN=14]="CAMBODIAN",x[x.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",x[x.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",x[x.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",x[x.DEVANAGARI=18]="DEVANAGARI",x[x.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",x[x.GEORGIAN=20]="GEORGIAN",x[x.GUJARATI=21]="GUJARATI",x[x.GURMUKHI=22]="GURMUKHI",x[x.HEBREW=22]="HEBREW",x[x.HIRAGANA=23]="HIRAGANA",x[x.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",x[x.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",x[x.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",x[x.KANNADA=27]="KANNADA",x[x.KATAKANA=28]="KATAKANA",x[x.KATAKANA_IROHA=29]="KATAKANA_IROHA",x[x.KHMER=30]="KHMER",x[x.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",x[x.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",x[x.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",x[x.LAO=34]="LAO",x[x.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",x[x.MALAYALAM=36]="MALAYALAM",x[x.MONGOLIAN=37]="MONGOLIAN",x[x.MYANMAR=38]="MYANMAR",x[x.ORIYA=39]="ORIYA",x[x.PERSIAN=40]="PERSIAN",x[x.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",x[x.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",x[x.TAMIL=43]="TAMIL",x[x.TELUGU=44]="TELUGU",x[x.THAI=45]="THAI",x[x.TIBETAN=46]="TIBETAN",x[x.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",x[x.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",x[x.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",x[x.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",x[x.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED";var rP={name:"list-style-type",initialValue:"none",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return -1}}},rM=function(e){return{name:"margin-".concat(e),initialValue:"0",prefix:!1,type:Y.TOKEN_VALUE}},rj=rM("top"),rZ=rM("right"),rQ=rM("bottom"),rH=rM("left"),rV={name:"opacity",initialValue:"1",type:Y.VALUE,prefix:!1,parse:function(e,t){return nt(t)?t.number:1}};(I=eh||(eh={}))[I.VISIBLE=0]="VISIBLE",I[I.HIDDEN=1]="HIDDEN",I[I.SCROLL=2]="SCROLL",I[I.CLIP=3]="CLIP",I[I.AUTO=4]="AUTO";var rK={name:"overflow",initialValue:"visible",prefix:!1,type:Y.LIST,parse:function(e,t){return t.filter(nn).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}};(T=ef||(ef={})).NORMAL="normal",T.BREAK_WORD="break-word";var rz={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},rG=function(e){return{name:"padding-".concat(e),initialValue:"0",prefix:!1,type:Y.TYPE_VALUE,format:"length-percentage"}},rW=rG("top"),rq=rG("right"),r$=rG("bottom"),rY=rG("left");(S=ep||(ep={}))[S.FILL=0]="FILL",S[S.STROKE=1]="STROKE",S[S.MARKERS=2]="MARKERS";var rJ={name:"paint-order",initialValue:"normal",prefix:!1,type:Y.LIST,parse:function(e,t){var n=[];return t.filter(nn).forEach(function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}}),[0,1,2].forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n}};(k=eg||(eg={}))[k.STATIC=0]="STATIC",k[k.RELATIVE=1]="RELATIVE",k[k.ABSOLUTE=2]="ABSOLUTE",k[k.FIXED=3]="FIXED",k[k.STICKY=4]="STICKY";var rX={name:"position",initialValue:"static",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}};Y.LIST,(N=em||(em={}))[N.LEFT=0]="LEFT",N[N.CENTER=1]="CENTER",N[N.RIGHT=2]="RIGHT";var r0={name:"text-align",initialValue:"left",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},r1={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:Y.TYPE_VALUE,format:"color"};(D=ev||(ev={}))[D.NONE=0]="NONE",D[D.UNDERLINE=1]="UNDERLINE",D[D.OVERLINE=2]="OVERLINE",D[D.LINE_THROUGH=3]="LINE_THROUGH",D[D.BLINK=4]="BLINK";var r2={name:"text-decoration-line",initialValue:"none",prefix:!1,type:Y.LIST,parse:function(e,t){return t.filter(nn).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},r4={name:"text-shadow",initialValue:"none",type:Y.LIST,prefix:!1,parse:function(e,t){return 1===t.length&&nr(t[0],"none")?[]:no(t).map(function(t){for(var n={color:nN.TRANSPARENT,offsetX:nc,offsetY:nc,blur:nc},r=0,i=0;i<t.length;i++){var o=t[i];ns(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=nw(e,o)}return n})}};(O=ey||(ey={}))[O.NONE=0]="NONE",O[O.LOWERCASE=1]="LOWERCASE",O[O.UPPERCASE=2]="UPPERCASE",O[O.CAPITALIZE=3]="CAPITALIZE";var r3={name:"text-transform",initialValue:"none",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}};function r5(e){throw e}var r6={name:"transform",initialValue:"none",prefix:!0,type:Y.VALUE,parse:function(e,t){if(t.type===q.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===q.FUNCTION){var n=r8[t.name];if(void 0===n)throw Error('Attempting to parse an unsupported transform function "'.concat(t.name,'"'));return n(t.values)}return null}},r8={matrix:function(e){var t=e.filter(function(e){return e.type===q.NUMBER_TOKEN}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return e.type===q.NUMBER_TOKEN}).map(function(e){return e.number}),n=(0,eT.Z)(t,16),r=n[0],i=n[1],o=n[2],o=null!==o?o:r5(TypeError("Cannot destructure undefined")),a=n[3],a=null!==a?a:r5(TypeError("Cannot destructure undefined")),s=n[4],l=n[5],u=n[6],u=null!==u?u:r5(TypeError("Cannot destructure undefined")),c=n[7],c=null!==c?c:r5(TypeError("Cannot destructure undefined")),A=n[8],A=null!==A?A:r5(TypeError("Cannot destructure undefined")),d=n[9],d=null!==d?d:r5(TypeError("Cannot destructure undefined")),h=n[10],h=null!==h?h:r5(TypeError("Cannot destructure undefined")),f=n[11],f=null!==f?f:r5(TypeError("Cannot destructure undefined")),p=n[12],g=n[13],m=n[14],m=null!==m?m:r5(TypeError("Cannot destructure undefined")),v=n[15],v=null!==v?v:r5(TypeError("Cannot destructure undefined"));return 16===t.length?[r,i,s,l,p,g]:null}},r9={type:q.PERCENTAGE_TOKEN,number:50,flags:4},r7=[r9,r9],ie={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:Y.LIST,parse:function(e,t){var n=t.filter(nl);return 2!==n.length?r7:[n[0],n[1]]}};(R=eb||(eb={}))[R.VISIBLE=0]="VISIBLE",R[R.HIDDEN=1]="HIDDEN",R[R.COLLAPSE=2]="COLLAPSE";var it={name:"visible",initialValue:"none",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}},ir={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:Y.TYPE_VALUE,format:"color"},ii={name:"-webkit-text-stroke-width",initialValue:"0",type:Y.VALUE,prefix:!1,parse:function(e,t){return ne(t)?t.number:0}};(F=ew||(ew={})).NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all";var io={name:"word-break",initialValue:"normal",prefix:!1,type:Y.IDENT_VALUE,parse:function(e,t){switch(t){case"break-all":return ew.BREAK_ALL;case"keep-all":return ew.KEEP_ALL;default:return ew.NORMAL}}},ia={name:"z-index",initialValue:"auto",prefix:!1,type:Y.VALUE,parse:function(e,t){if(t.type===q.IDENT_TOKEN)return{auto:!0,order:0};if(nt(t))return{auto:!1,order:t.number};throw Error("Invalid z-index number parsed")}},is=function(){function e(t,n){(0,ek.Z)(this,e),this.animationDuration=il(t,rB,n.animationDuration),this.backgroundClip=il(t,nF,n.backgroundClip),this.backgroundColor=il(t,nL,n.backgroundColor),this.backgroundImage=il(t,n2,n.backgroundImage),this.backgroundOrigin=il(t,n4,n.backgroundOrigin),this.backgroundPosition=il(t,n3,n.backgroundPosition),this.backgroundRepeat=il(t,n5,n.backgroundRepeat),this.backgroundSize=il(t,n8,n.backgroundSize),this.borderTopColor=il(t,re,n.borderTopColor),this.borderRightColor=il(t,rt,n.borderRightColor),this.borderBottomColor=il(t,rn,n.borderBottomColor),this.borderLeftColor=il(t,rr,n.borderLeftColor),this.borderTopLeftRadius=il(t,ro,n.borderTopLeftRadius),this.borderTopRightRadius=il(t,ra,n.borderTopRightRadius),this.borderBottomRightRadius=il(t,rs,n.borderBottomRightRadius),this.borderBottomLeftRadius=il(t,rl,n.borderBottomLeftRadius),this.borderTopStyle=il(t,rc,n.borderTopStyle),this.borderRightStyle=il(t,rA,n.borderRightStyle),this.borderBottomStyle=il(t,rd,n.borderBottomStyle),this.borderLeftStyle=il(t,rh,n.borderLeftStyle),this.borderTopWidth=il(t,rp,n.borderTopWidth),this.borderRightWidth=il(t,rg,n.borderRightWidth),this.borderBottomWidth=il(t,rm,n.borderBottomWidth),this.borderLeftWidth=il(t,rv,n.borderLeftWidth),this.boxShadow=il(t,ry,n.boxShadow),this.color=il(t,rb,n.color),this.direction=il(t,rw,n.direction),this.display=il(t,r_,n.display),this.float=il(t,rx,n.cssFloat),this.fontFamily=il(t,rI,n.fontFamily),this.fontSize=il(t,rT,n.fontSize),this.fontStyle=il(t,rS,n.fontStyle),this.fontVariant=il(t,rk,n.fontVariant),this.fontWeight=il(t,rN,n.fontWeight),this.letterSpacing=il(t,rD,n.letterSpacing),this.lineBreak=il(t,rO,n.lineBreak),this.lineHeight=il(t,rR,n.lineHeight),this.listStyleImage=il(t,rL,n.listStyleImage),this.listStylePosition=il(t,rU,n.listStylePosition),this.listStyleType=il(t,rP,n.listStyleType),this.marginTop=il(t,rj,n.marginTop),this.marginRight=il(t,rZ,n.marginRight),this.marginBottom=il(t,rQ,n.marginBottom),this.marginLeft=il(t,rH,n.marginLeft),this.opacity=il(t,rV,n.opacity);var r,i,o=il(t,rK,n.overflow);this.overflowX=o[0],this.overflowY=o[+(o.length>1)],this.overflowWrap=il(t,rz,n.overflowWrap),this.paddingTop=il(t,rW,n.paddingTop),this.paddingRight=il(t,rq,n.paddingRight),this.paddingBottom=il(t,r$,n.paddingBottom),this.paddingLeft=il(t,rY,n.paddingLeft),this.paintOrder=il(t,rJ,n.paintOrder),this.position=il(t,rX,n.position),this.textAlign=il(t,r0,n.textAlign),this.textDecorationColor=il(t,r1,null!=(r=n.textDecorationColor)?r:n.color),this.textDecorationLine=il(t,r2,null!=(i=n.textDecorationLine)?i:n.textDecoration),this.textShadow=il(t,r4,n.textShadow),this.textTransform=il(t,r3,n.textTransform),this.transform=il(t,r6,n.transform),this.transformOrigin=il(t,ie,n.transformOrigin),this.visibility=il(t,it,n.visibility),this.webkitTextStrokeColor=il(t,ir,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=il(t,ii,n.webkitTextStrokeWidth),this.wordBreak=il(t,io,n.wordBreak),this.zIndex=il(t,ia,n.zIndex)}var t=e.prototype;return t.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===eb.VISIBLE},t.isTransparent=function(){return n_(this.backgroundColor)},t.isTransformed=function(){return null!==this.transform},t.isPositioned=function(){return this.position!==eg.STATIC},t.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.isFloating=function(){return this.float!==el.NONE},t.isInlineLevel=function(){return nR(this.display,es.INLINE)||nR(this.display,es.INLINE_BLOCK)||nR(this.display,es.INLINE_FLEX)||nR(this.display,es.INLINE_GRID)||nR(this.display,es.INLINE_LIST_ITEM)||nR(this.display,es.INLINE_TABLE)},e}(),il=function(e,t,n){var r=new t9,i=null!=n?n.toString():t.initialValue;r.write(i);var o=new t7(r.read());switch(t.type){case Y.IDENT_VALUE:var a=o.parseComponentValue();return t.parse(e,nn(a)?a.value:t.initialValue);case Y.VALUE:return t.parse(e,o.parseComponentValue());case Y.LIST:return t.parse(e,o.parseComponentValues());case Y.TOKEN_VALUE:return o.parseComponentValue();case Y.TYPE_VALUE:switch(t.format){case"angle":return nm(e,o.parseComponentValue());case"color":return nw(e,o.parseComponentValue());case"image":return n0(e,o.parseComponentValue());case"length":var s=o.parseComponentValue();return ns(s)?s:nc;case"length-percentage":var l=o.parseComponentValue();return nl(l)?l:nc;case"time":return rC(e,o.parseComponentValue())}}};(L=e_||(e_={}))[L.CREATES_STACKING_CONTEXT=2]="CREATES_STACKING_CONTEXT",L[L.CREATES_REAL_STACKING_CONTEXT=4]="CREATES_REAL_STACKING_CONTEXT",L[L.IS_LIST_OWNER=8]="IS_LIST_OWNER",L[L.DEBUG_RENDER=16]="DEBUG_RENDER";for(var iu=function e(t,n){(0,ek.Z)(this,e),this.context=t,this.textNodes=[],this.elements=[],this.flags=0,nO(n,$.PARSE),this.styles=new is(t,window.getComputedStyle(n,null)),oe(n)&&(this.styles.animationDuration.some(function(e){return e>0})&&(n.style.animationDuration="0s"),null!==this.styles.transform&&(n.style.transform="none")),this.bounds=tS(t,n),nO(n,$.RENDER)&&(this.flags|=16)},ic=n(21218),iA=n(39309),id=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,ek.Z)(this,n),(i=t.call(this,e,r)).value=r.value,i}return n}(iu),ih=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,ek.Z)(this,n),(i=t.call(this,e,r)).start=r.start,i.reversed="boolean"==typeof r.reversed&&!0===r.reversed,i}return n}(iu),ip=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){(0,ek.Z)(this,n);var i=t.call(this,e,r),o=r.options[r.selectedIndex||0];return i.value=o&&o.text||"",i}return n}(iu),ig=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,ek.Z)(this,n),(i=t.call(this,e,r)).value=r.value,i}return n}(iu),im=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,ek.Z)(this,n),(i=t.call(this,e,r)).canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return n}(iu),iv=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){(0,ek.Z)(this,n),(i=t.call(this,e,r)).src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(null==(o=r.contentWindow)||null==(a=o.document)?void 0:a.documentElement){i.tree=i5(e,r.contentWindow.document.documentElement);var i,o,a,s=r.contentWindow.document.documentElement?nk(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):nN.TRANSPARENT,l=r.contentWindow.document.body?nk(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):nN.TRANSPARENT;i.backgroundColor=n_(s)?n_(l)?i.styles.backgroundColor:l:s}}catch(e){}return i}return n}(iu),iy=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,ek.Z)(this,n),(i=t.call(this,e,r)).src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return n}(iu),ib=[{type:q.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],iw=[{type:q.PERCENTAGE_TOKEN,flags:0,number:50}],i_=function(e){var t=e.type===iB?Array(e.value.length+1).join(""):e.value;return 0===t.length?e.placeholder||"":t},iE="checkbox",iC="radio",iB="password",ix=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i,o;switch((0,ek.Z)(this,n),(i=t.call(this,e,r)).type=r.type.toLowerCase(),i.checked=r.checked,i.value=i_(r),(i.type===iE||i.type===iC)&&(i.styles.backgroundColor=0xdededeff,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=0xa5a5a5ff,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=eo.SOLID,i.styles.backgroundClip=[J.BORDER_BOX],i.styles.backgroundOrigin=[en.BORDER_BOX],i.bounds=(o=i.bounds).width>o.height?new tT(o.left+(o.width-o.height)/2,o.top,o.height,o.height):o.width<o.height?new tT(o.left,o.top+(o.height-o.width)/2,o.width,o.width):o),i.type){case iE:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ib;break;case iC:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=iw}return i}return n}(iu),iI=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){(0,ek.Z)(this,n);var i=t.call(this,e,r),o=new XMLSerializer,a=tS(e,r);return r.setAttribute("width","".concat(a.width,"px")),r.setAttribute("height","".concat(a.height,"px")),i.svg="data:image/svg+xml,".concat(encodeURIComponent(o.serializeToString(r))),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return n}(iu),iT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iS="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ik=0;ik<iT.length;ik++)iS[iT.charCodeAt(ik)]=ik;for(var iN=2112,iD=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},iO=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=iN-32+(e>>11),t=this.index[t]+(e>>5&63),t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),iR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iF="undefined"==typeof Uint8Array?[]:new Uint8Array(256),iL=0;iL<iR.length;iL++)iF[iR.charCodeAt(iL)]=iL;var iU=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},iP=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},iM=(P=Array.isArray(U=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):Array(a),c=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<s;t+=4)n=iS[e.charCodeAt(t)],r=iS[e.charCodeAt(t+1)],i=iS[e.charCodeAt(t+2)],o=iS[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|i>>2,c[l++]=(3&i)<<6|63&o;return u}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="))?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(U):new Uint32Array(U),j=iD(M=Array.isArray(U)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(U):new Uint16Array(U),12,P[4]/2),Q=2===P[5]?iD(M,(24+P[4])/2):(Z=Math.ceil((24+P[4])/4),P.slice?P.slice(Z,void 0):new Uint32Array(Array.prototype.slice.call(P,Z,void 0))),new iO(P[0],P[1],P[2],P[3],j,Q)),ij=function(e){return iM.get(e)},iZ=function(e,t,n){var r=n-2,i=t[r],o=t[n-1],a=t[n];if(2===o&&3===a)return"\xd7";if(2===o||3===o||4===o||2===a||3===a||4===a)return"\xf7";if(8===o&&-1!==[8,9,11,12].indexOf(a)||(11===o||9===o)&&(9===a||10===a)||(12===o||10===o)&&10===a||13===a||5===a||7===a||1===o)return"\xd7";if(13===o&&14===a){for(;5===i;)i=t[--r];if(14===i)return"\xd7"}if(15===o&&15===a){for(var s=0;15===i;)s++,i=t[--r];if(s%2==0)return"\xd7"}return"\xf7"},iQ=function(e){var t=iU(e),n=t.length,r=0,i=0,o=t.map(ij);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e="\xd7";r<n&&"\xd7"===(e=iZ(t,o,++r)););if("\xd7"!==e||r===n){var a=iP.apply(null,t.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},iH=function(e){for(var t,n=iQ(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},iV=function e(t,n){(0,ek.Z)(this,e),this.text=t,this.bounds=n},iK=function(e,t,n,r){var i=iq(t,n),o=[],a=0;return i.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(to.SUPPORT_RANGE_BOUNDS){var i=iG(r,a,t.length).getClientRects();if(i.length>1){var s=iW(t),l=0;s.forEach(function(t){o.push(new iV(t,tT.fromDOMRectList(e,iG(r,l+a,t.length).getClientRects()))),l+=t.length})}else o.push(new iV(t,tT.fromDOMRectList(e,i)))}else{var u=r.splitText(t.length);o.push(new iV(t,iz(e,r))),r=u}else to.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));a+=t.length}),o},iz=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var o=tS(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return tT.EMPTY},iG=function(e,t,n){var r=e.ownerDocument;if(!r)throw Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},iW=function(e){return to.SUPPORT_NATIVE_TEXT_SEGMENTATION?Array.from(new Intl.Segmenter(void 0,{granularity:"grapheme"}).segment(e)).map(function(e){return e.segment}):iH(e)},iq=function(e,t){return 0!==t.letterSpacing?iW(e):to.SUPPORT_NATIVE_TEXT_SEGMENTATION?Array.from(new Intl.Segmenter(void 0,{granularity:"word"}).segment(e)).map(function(e){return e.segment}):iY(e,t)},i$=[32,160,4961,65792,65793,4153,4241],iY=function(e,t){for(var n=e8(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===ef.BREAK_WORD?"break-word":t.wordBreak}),r=[],i=n.next();!i.done;)!function(){if(i.value){var e=eD(i.value.slice()),t="";e.forEach(function(e){-1===i$.indexOf(e)?t+=eO(e):(t.length&&r.push(t),r.push(eO(e)),t="")}),t.length&&r.push(t)}i=n.next()}();return r},iJ=function e(t,n,r){(0,ek.Z)(this,e),this.text=iX(n.data,r.textTransform),this.textBounds=iK(t,this.text,r,n)},iX=function(e,t){switch(t){case ey.LOWERCASE:return e.toLowerCase();case ey.CAPITALIZE:return e.replace(i0,i1);case ey.UPPERCASE:return e.toUpperCase();default:return e}},i0=/(^|[\s:\-()])([a-z])/g,i1=function(e,t,n){return e.length>0?t+n.toUpperCase():e},i2=["OL","UL","MENU"],i4=function(e,t,n,r){for(var i,o=t.firstChild;o;o=i)if(i=o.nextSibling,i9(o)&&o.data.trim().length>0)n.textNodes.push(new iJ(e,o,n.styles));else if(i7(o))if(od(o)&&o.assignedNodes)o.assignedNodes().forEach(function(t){return i4(e,t,n,r)});else{var a=i3(e,o);a.styles.isVisible()&&(i6(o,a,r)?a.flags|=e_.CREATES_REAL_STACKING_CONTEXT:i8(a.styles)&&(a.flags|=e_.CREATES_STACKING_CONTEXT),-1!==i2.indexOf(o.tagName)&&(a.flags|=e_.IS_LIST_OWNER),n.elements.push(a),o.slot,o.shadowRoot?i4(e,o.shadowRoot,a,r):oc(o)||oo(o)||oA(o)||i4(e,o,a,r))}},i3=function(e,t){return ol(t)?new iy(e,t):os(t)?new im(e,t):oo(t)?new iI(e,t):on(t)?new id(e,t):or(t)?new ih(e,t):oi(t)?new ix(e,t):oA(t)?new ip(e,t):oc(t)?new ig(e,t):ou(t)?new iv(e,t):new iu(e,t)},i5=function(e,t){var n=i3(e,t);return n.flags|=e_.CREATES_REAL_STACKING_CONTEXT,i4(e,t,n,n),n},i6=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||oa(e)&&n.styles.isTransparent()},i8=function(e){return e.isPositioned()||e.isFloating()},i9=function(e){return e.nodeType===Node.TEXT_NODE},i7=function(e){return e.nodeType===Node.ELEMENT_NODE},oe=function(e){return i7(e)&&void 0!==e.style&&!ot(e)},ot=function(e){return"object"==typeof e.className},on=function(e){return"LI"===e.tagName},or=function(e){return"OL"===e.tagName},oi=function(e){return"INPUT"===e.tagName},oo=function(e){return"svg"===e.tagName},oa=function(e){return"BODY"===e.tagName},os=function(e){return"CANVAS"===e.tagName},ol=function(e){return"IMG"===e.tagName},ou=function(e){return"IFRAME"===e.tagName},oc=function(e){return"TEXTAREA"===e.tagName},oA=function(e){return"SELECT"===e.tagName},od=function(e){return"SLOT"===e.tagName},oh=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},of=function(e){var t=e.styles,n=e.bounds,r=nf(t.paddingLeft,n.width),i=nf(t.paddingRight,n.width),o=nf(t.paddingTop,n.width),a=nf(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+a))};(H=eE||(eE={}))[H.VECTOR=0]="VECTOR",H[H.BEZIER_CURVE=1]="BEZIER_CURVE";var op=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},og=function(){function e(t,n){(0,ek.Z)(this,e),this.type=eE.VECTOR,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),om=function(e,t,n){var r,i,o=(r=ow(e.styles.backgroundOrigin,t),r===en.BORDER_BOX?e.bounds:r===en.CONTENT_BOX?of(e):oh(e)),a=(i=ow(e.styles.backgroundClip,t),i===J.BORDER_BOX?e.bounds:i===J.CONTENT_BOX?of(e):oh(e)),s=ob(ow(e.styles.backgroundSize,t),n,o),l=(0,eT.Z)(s,2),u=l[0],c=l[1],A=nh(ow(e.styles.backgroundPosition,t),o.width-u,o.height-c);return[o_(ow(e.styles.backgroundRepeat,t),A,s,o,a),Math.round(o.left+A[0]),Math.round(o.top+A[1]),u,c]},ov=function(e){return nn(e)&&e.value===ei.AUTO},oy=function(e){return"number"==typeof e},ob=function(e,t,n){var r=(0,eT.Z)(t,3),i=r[0],o=r[1],a=r[2],s=(0,eT.Z)(e,2),l=s[0],u=s[1];if(!l)return[0,0];if(nl(l)&&u&&nl(u))return[nf(l,n.width),nf(u,n.height)];var c=oy(a);if(nn(l)&&(l.value===ei.CONTAIN||l.value===ei.COVER))return oy(a)?n.width/n.height<a!=(l.value===ei.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var A=oy(i),d=oy(o),h=A||d;if(ov(l)&&(!u||ov(u)))return A&&d?[i,o]:c||h?h&&c?[A?i:o*a,d?o:i/a]:[A?i:n.width,d?o:n.height]:[n.width,n.height];if(c){var f=0,p=0;return nl(l)?f=nf(l,n.width):nl(u)&&(p=nf(u,n.height)),ov(l)?f=p*a:(!u||ov(u))&&(p=f/a),[f,p]}var g=null,m=null;if(nl(l)?g=nf(l,n.width):u&&nl(u)&&(m=nf(u,n.height)),null!==g&&(!u||ov(u))&&(m=A&&d?g/i*o:n.height),null!==m&&ov(l)&&(g=A&&d?m/o*i:n.width),null!==g&&null!==m)return[g,m];throw Error("Unable to calculate background-size for element")},ow=function(e,t){var n=e[t];return void 0===n?e[0]:n},o_=function(e,t,n,r,i){var o=(0,eT.Z)(t,2),a=o[0],s=o[1],l=(0,eT.Z)(n,2),u=l[0],c=l[1];switch(e){case er.REPEAT_X:return[new og(Math.round(r.left),Math.round(r.top+s)),new og(Math.round(r.left+r.width),Math.round(r.top+s)),new og(Math.round(r.left+r.width),Math.round(c+r.top+s)),new og(Math.round(r.left),Math.round(c+r.top+s))];case er.REPEAT_Y:return[new og(Math.round(r.left+a),Math.round(r.top)),new og(Math.round(r.left+a+u),Math.round(r.top)),new og(Math.round(r.left+a+u),Math.round(r.height+r.top)),new og(Math.round(r.left+a),Math.round(r.height+r.top))];case er.NO_REPEAT:return[new og(Math.round(r.left+a),Math.round(r.top+s)),new og(Math.round(r.left+a+u),Math.round(r.top+s)),new og(Math.round(r.left+a+u),Math.round(r.top+s+c)),new og(Math.round(r.left+a),Math.round(r.top+s+c))];default:return[new og(Math.round(i.left),Math.round(i.top)),new og(Math.round(i.left+i.width),Math.round(i.top)),new og(Math.round(i.left+i.width),Math.round(i.height+i.top)),new og(Math.round(i.left),Math.round(i.height+i.top))]}},oE=function(e,t,n){return new og(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},oC=function(){function e(t,n,r,i){(0,ek.Z)(this,e),this.type=eE.BEZIER_CURVE,this.start=t,this.startControl=n,this.endControl=r,this.end=i}var t=e.prototype;return t.subdivide=function(t,n){var r=oE(this.start,this.startControl,t),i=oE(this.startControl,this.endControl,t),o=oE(this.endControl,this.end,t),a=oE(r,i,t),s=oE(i,o,t),l=oE(a,s,t);return n?new e(this.start,r,a,l):new e(l,s,o,this.end)},t.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},t.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),oB=function(e){return e.type===eE.BEZIER_CURVE},ox=function(e,t){switch(t){case 0:return oN(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return oN(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return oN(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return oN(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},oI=function(e,t){switch(t){case 0:return oN(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return oN(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return oN(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return oN(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},oT=function(e,t){switch(t){case 0:return oN(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return oN(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return oN(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return oN(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},oS=function(e,t){switch(t){case 0:return ok(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ok(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ok(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return ok(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ok=function(e,t){var n=[];return oB(e)?n.push(e.subdivide(.5,!1)):n.push(e),oB(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},oN=function(e,t,n,r){var i=[];return oB(e)?i.push(e.subdivide(.5,!1)):i.push(e),oB(n)?i.push(n.subdivide(.5,!0)):i.push(n),oB(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),oB(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},oD=function e(t){(0,ek.Z)(this,e);var n,r=t.styles,i=t.bounds,o=(0,eT.Z)(nh(r.borderTopLeftRadius,i.width,i.height),2),a=o[0],s=o[1],l=(0,eT.Z)(nh(r.borderTopRightRadius,i.width,i.height),2),u=l[0],c=l[1],A=(0,eT.Z)(nh(r.borderBottomRightRadius,i.width,i.height),2),d=A[0],h=A[1],f=(0,eT.Z)(nh(r.borderBottomLeftRadius,i.width,i.height),2),p=f[0],g=f[1],m=[];m.push((a+u)/i.width),m.push((p+d)/i.width),m.push((s+g)/i.height),m.push((c+h)/i.height);var v=(n=Math).max.apply(n,(0,tB.Z)(m));v>1&&(a/=v,s/=v,u/=v,c/=v,d/=v,h/=v,p/=v,g/=v);var y=i.width-u,b=i.height-h,w=i.width-d,_=i.height-g,E=r.borderTopWidth,C=r.borderRightWidth,B=r.borderBottomWidth,x=r.borderLeftWidth,I=nf(r.paddingTop,t.bounds.width),T=nf(r.paddingRight,t.bounds.width),S=nf(r.paddingBottom,t.bounds.width),k=nf(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?oO(i.left+x/3,i.top+E/3,a-x/3,s-E/3,eC.TOP_LEFT):new og(i.left+x/3,i.top+E/3),this.topRightBorderDoubleOuterBox=a>0||s>0?oO(i.left+y,i.top+E/3,u-C/3,c-E/3,eC.TOP_RIGHT):new og(i.left+i.width-C/3,i.top+E/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?oO(i.left+w,i.top+b,d-C/3,h-B/3,eC.BOTTOM_RIGHT):new og(i.left+i.width-C/3,i.top+i.height-B/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?oO(i.left+x/3,i.top+_,p-x/3,g-B/3,eC.BOTTOM_LEFT):new og(i.left+x/3,i.top+i.height-B/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?oO(i.left+2*x/3,i.top+2*E/3,a-2*x/3,s-2*E/3,eC.TOP_LEFT):new og(i.left+2*x/3,i.top+2*E/3),this.topRightBorderDoubleInnerBox=a>0||s>0?oO(i.left+y,i.top+2*E/3,u-2*C/3,c-2*E/3,eC.TOP_RIGHT):new og(i.left+i.width-2*C/3,i.top+2*E/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?oO(i.left+w,i.top+b,d-2*C/3,h-2*B/3,eC.BOTTOM_RIGHT):new og(i.left+i.width-2*C/3,i.top+i.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?oO(i.left+2*x/3,i.top+_,p-2*x/3,g-2*B/3,eC.BOTTOM_LEFT):new og(i.left+2*x/3,i.top+i.height-2*B/3),this.topLeftBorderStroke=a>0||s>0?oO(i.left+x/2,i.top+E/2,a-x/2,s-E/2,eC.TOP_LEFT):new og(i.left+x/2,i.top+E/2),this.topRightBorderStroke=a>0||s>0?oO(i.left+y,i.top+E/2,u-C/2,c-E/2,eC.TOP_RIGHT):new og(i.left+i.width-C/2,i.top+E/2),this.bottomRightBorderStroke=d>0||h>0?oO(i.left+w,i.top+b,d-C/2,h-B/2,eC.BOTTOM_RIGHT):new og(i.left+i.width-C/2,i.top+i.height-B/2),this.bottomLeftBorderStroke=p>0||g>0?oO(i.left+x/2,i.top+_,p-x/2,g-B/2,eC.BOTTOM_LEFT):new og(i.left+x/2,i.top+i.height-B/2),this.topLeftBorderBox=a>0||s>0?oO(i.left,i.top,a,s,eC.TOP_LEFT):new og(i.left,i.top),this.topRightBorderBox=u>0||c>0?oO(i.left+y,i.top,u,c,eC.TOP_RIGHT):new og(i.left+i.width,i.top),this.bottomRightBorderBox=d>0||h>0?oO(i.left+w,i.top+b,d,h,eC.BOTTOM_RIGHT):new og(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=p>0||g>0?oO(i.left,i.top+_,p,g,eC.BOTTOM_LEFT):new og(i.left,i.top+i.height),this.topLeftPaddingBox=a>0||s>0?oO(i.left+x,i.top+E,Math.max(0,a-x),Math.max(0,s-E),eC.TOP_LEFT):new og(i.left+x,i.top+E),this.topRightPaddingBox=u>0||c>0?oO(i.left+Math.min(y,i.width-C),i.top+E,y>i.width+C?0:Math.max(0,u-C),Math.max(0,c-E),eC.TOP_RIGHT):new og(i.left+i.width-C,i.top+E),this.bottomRightPaddingBox=d>0||h>0?oO(i.left+Math.min(w,i.width-x),i.top+Math.min(b,i.height-B),Math.max(0,d-C),Math.max(0,h-B),eC.BOTTOM_RIGHT):new og(i.left+i.width-C,i.top+i.height-B),this.bottomLeftPaddingBox=p>0||g>0?oO(i.left+x,i.top+Math.min(_,i.height-B),Math.max(0,p-x),Math.max(0,g-B),eC.BOTTOM_LEFT):new og(i.left+x,i.top+i.height-B),this.topLeftContentBox=a>0||s>0?oO(i.left+x+k,i.top+E+I,Math.max(0,a-(x+k)),Math.max(0,s-(E+I)),eC.TOP_LEFT):new og(i.left+x+k,i.top+E+I),this.topRightContentBox=u>0||c>0?oO(i.left+Math.min(y,i.width+x+k),i.top+E+I,y>i.width+x+k?0:u-x+k,c-(E+I),eC.TOP_RIGHT):new og(i.left+i.width-(C+T),i.top+E+I),this.bottomRightContentBox=d>0||h>0?oO(i.left+Math.min(w,i.width-(x+k)),i.top+Math.min(b,i.height+E+I),Math.max(0,d-(C+T)),h-(B+S),eC.BOTTOM_RIGHT):new og(i.left+i.width-(C+T),i.top+i.height-(B+S)),this.bottomLeftContentBox=p>0||g>0?oO(i.left+x+k,i.top+_,Math.max(0,p-(x+k)),g-(B+S),eC.BOTTOM_LEFT):new og(i.left+x+k,i.top+i.height-(B+S))};(V=eC||(eC={}))[V.TOP_LEFT=0]="TOP_LEFT",V[V.TOP_RIGHT=1]="TOP_RIGHT",V[V.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",V[V.BOTTOM_LEFT=3]="BOTTOM_LEFT";var oO=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,l=e+n,u=t+r;switch(i){case eC.TOP_LEFT:return new oC(new og(e,u),new og(e,u-s),new og(l-a,t),new og(l,t));case eC.TOP_RIGHT:return new oC(new og(e,t),new og(e+a,t),new og(l,u-s),new og(l,u));case eC.BOTTOM_RIGHT:return new oC(new og(l,t),new og(l,t+s),new og(e+a,u),new og(e,u));case eC.BOTTOM_LEFT:default:return new oC(new og(l,u),new og(l-a,u),new og(e,t+s),new og(e,t))}},oR=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},oF=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]};(K=eB||(eB={}))[K.TRANSFORM=0]="TRANSFORM",K[K.CLIP=1]="CLIP",K[K.OPACITY=2]="OPACITY",(z=ex||(ex={}))[z.BACKGROUND_BORDERS=2]="BACKGROUND_BORDERS",z[z.CONTENT=4]="CONTENT";var oL=function e(t,n,r){(0,ek.Z)(this,e),this.type=0,this.target=6,this.offsetX=t,this.offsetY=n,this.matrix=r},oU=function e(t,n){(0,ek.Z)(this,e),this.path=t,this.target=n,this.type=1},oP=function e(t){(0,ek.Z)(this,e),this.opacity=t,this.type=2,this.target=6},oM=function(e){return 1===e.type},oj="Hidden Text",oZ=function(){function e(t){(0,ek.Z)(this,e),this._data={},this._document=t}var t=e.prototype;return t.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(oj)),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(oj)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},t.getMetrics=function(e,t){var n="".concat(e," ").concat(t);return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),oQ={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},oH={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oV={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oz=function(e,t,n,r,i,o){return e<t||e>n?o1(e,i,o.length>0):r.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t},"")+o},oG=function(e,t,n,r){var i="";do!n&&e--,i=r(e)+i,e/=t;while(e*t>=t);return i},oW=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(oG(Math.abs(e),o,r,function(e){return eO(Math.floor(e%o)+t)})+i)},oq=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return oG(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},o$=function(e,t,n,r,i,o){if(e<-9999||e>9999)return o1(e,ed.CJK_DECIMAL,i.length>0);var a=Math.abs(e),s=i;if(0===a)return t[0]+s;for(var l=0;a>0&&l<=4;l++){var u=a%10;0===u&&nR(o,1)&&""!==s?s=t[u]+s:u>1||1===u&&0===l||1===u&&1===l&&nR(o,2)||1===u&&1===l&&nR(o,4)&&e>100||1===u&&l>1&&nR(o,8)?s=t[u]+(l>0?n[l-1]:"")+s:1===u&&l>0&&(s=n[l-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},oY="",oJ="",oX="",o0="",o1=function(e,t,n){var r=n?". ":"",i=n?"":"",o=n?", ":"",a=n?" ":"";switch(t){case ed.DISC:return""+a;case ed.CIRCLE:return""+a;case ed.SQUARE:return""+a;case ed.DECIMAL_LEADING_ZERO:var s=oW(e,48,57,!0,r);return s.length<4?"0".concat(s):s;case ed.CJK_DECIMAL:return oq(e,"",i);case ed.LOWER_ROMAN:return oz(e,1,3999,oQ,ed.DECIMAL,r).toLowerCase();case ed.UPPER_ROMAN:return oz(e,1,3999,oQ,ed.DECIMAL,r);case ed.LOWER_GREEK:return oW(e,945,969,!1,r);case ed.LOWER_ALPHA:return oW(e,97,122,!1,r);case ed.UPPER_ALPHA:return oW(e,65,90,!1,r);case ed.ARABIC_INDIC:return oW(e,1632,1641,!0,r);case ed.ARMENIAN:case ed.UPPER_ARMENIAN:return oz(e,1,9999,oH,ed.DECIMAL,r);case ed.LOWER_ARMENIAN:return oz(e,1,9999,oH,ed.DECIMAL,r).toLowerCase();case ed.BENGALI:return oW(e,2534,2543,!0,r);case ed.CAMBODIAN:case ed.KHMER:return oW(e,6112,6121,!0,r);case ed.CJK_EARTHLY_BRANCH:return oq(e,"",i);case ed.CJK_HEAVENLY_STEM:return oq(e,"",i);case ed.CJK_IDEOGRAPHIC:case ed.TRAD_CHINESE_INFORMAL:return o$(e,"",oY,"",i,14);case ed.TRAD_CHINESE_FORMAL:return o$(e,"",oJ,"",i,15);case ed.SIMP_CHINESE_INFORMAL:return o$(e,"",oY,"",i,14);case ed.SIMP_CHINESE_FORMAL:return o$(e,"",oJ,"",i,15);case ed.JAPANESE_INFORMAL:return o$(e,"","",oX,i,0);case ed.JAPANESE_FORMAL:return o$(e,"","",oX,i,7);case ed.KOREAN_HANGUL_FORMAL:return o$(e,"","",o0,o,7);case ed.KOREAN_HANJA_INFORMAL:return o$(e,"","",o0,o,0);case ed.KOREAN_HANJA_FORMAL:return o$(e,"","",o0,o,7);case ed.DEVANAGARI:return oW(e,2406,2415,!0,r);case ed.GEORGIAN:return oz(e,1,19999,oK,ed.DECIMAL,r);case ed.GUJARATI:return oW(e,2790,2799,!0,r);case ed.GURMUKHI:return oW(e,2662,2671,!0,r);case ed.HEBREW:return oz(e,1,10999,oV,ed.DECIMAL,r);case ed.HIRAGANA:return oq(e,"");case ed.HIRAGANA_IROHA:return oq(e,"");case ed.KANNADA:return oW(e,3302,3311,!0,r);case ed.KATAKANA:return oq(e,"",i);case ed.KATAKANA_IROHA:return oq(e,"",i);case ed.LAO:return oW(e,3792,3801,!0,r);case ed.MONGOLIAN:return oW(e,6160,6169,!0,r);case ed.MYANMAR:return oW(e,4160,4169,!0,r);case ed.ORIYA:return oW(e,2918,2927,!0,r);case ed.PERSIAN:return oW(e,1776,1785,!0,r);case ed.TAMIL:return oW(e,3046,3055,!0,r);case ed.TELUGU:return oW(e,3174,3183,!0,r);case ed.THAI:return oW(e,3664,3673,!0,r);case ed.TIBETAN:return oW(e,3872,3881,!0,r);case ed.DECIMAL:default:return oW(e,48,57,!0,r)}},o2=function e(t){(0,ek.Z)(this,e),this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},o4=function(){function e(t,n){if((0,ek.Z)(this,e),this.container=t,this.parent=n,this.effects=[],this.container=t,this.curves=new oD(this.container),this.container.styles.opacity<1&&this.effects.push(new oP(this.container.styles.opacity)),null!==this.container.styles.transform){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new oL(r,i,o))}if(this.container.styles.overflowX!==eh.VISIBLE){var a=oR(this.curves),s=oF(this.curves);op(a,s)?this.effects.push(new oU(a,ex.BACKGROUND_BORDERS|ex.CONTENT)):(this.effects.push(new oU(a,ex.BACKGROUND_BORDERS)),this.effects.push(new oU(s,ex.CONTENT)))}}return e.prototype.getEffects=function(e){for(var t=-1===[eg.ABSOLUTE,eg.FIXED].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter(function(e){return!oM(e)});if(t||n.container.styles.position!==eg.STATIC||!n.parent){if(r.unshift.apply(r,(0,tB.Z)(i)),t=-1===[eg.ABSOLUTE,eg.FIXED].indexOf(n.container.styles.position),n.container.styles.overflowX!==eh.VISIBLE){var o=oR(n.curves),a=oF(n.curves);op(o,a)||r.unshift(new oU(a,ex.BACKGROUND_BORDERS|ex.CONTENT))}}else r.unshift.apply(r,(0,tB.Z)(i));n=n.parent}return r.filter(function(t){return nR(t.target,e)})},e}(),o3=function(e,t,n,r){e.container.elements.forEach(function(i){var o=nR(i.flags,e_.CREATES_REAL_STACKING_CONTEXT),a=nR(i.flags,e_.CREATES_STACKING_CONTEXT),s=new o4(i,e);nR(i.styles.display,es.LIST_ITEM)&&r.push(s);var l=nR(i.flags,e_.IS_LIST_OWNER)?[]:r;if(o||a){var u=o||i.styles.isPositioned()?n:t,c=new o2(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var d=0;u.negativeZIndex.some(function(e,t){if(A>e.element.container.styles.zIndex.order)d=t;else if(d>0)return!0;return!1}),u.negativeZIndex.splice(d,0,c)}else if(A>0){var h=0;u.positiveZIndex.some(function(e,t){if(A>=e.element.container.styles.zIndex.order)h=t+1;else if(h>0)return!0;return!1}),u.positiveZIndex.splice(h,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);o3(s,c,o?c:n,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),o3(s,t,n,l);nR(i.flags,e_.IS_LIST_OWNER)&&o5(i,l)})},o5=function(e,t){for(var n=(0,eN.Z)(e,ih)?e.start:1,r=!!(0,eN.Z)(e,ih)&&e.reversed,i=0;i<t.length;i++){var o=t[i];(0,eN.Z)(o.container,id)&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=o1(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},o6=function(e){var t=new o4(e,null),n=new o2(t),r=[];return o3(t,n,n,r),o5(t.container,r),n};n.g.SMOOTHING_SCALE=4;var o8=function(e){(0,ic.Z)(n,e);var t=(0,iA.Z)(n);function n(e,r){var i;return(0,ek.Z)(this,n),(i=t.call(this,e,r))._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale*window.SMOOTHING_SCALE),i.canvas.height=Math.floor(r.height*r.scale*window.SMOOTHING_SCALE),i.canvas.style.width="".concat(r.width,"px"),i.canvas.style.height="".concat(r.height,"px")),i.fontMetrics=new oZ(document),i.ctx.scale(r.scale*window.SMOOTHING_SCALE,r.scale*window.SMOOTHING_SCALE),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i}var r=n.prototype;return r.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},r.applyEffect=function(e){this.ctx.save(),2===e.type&&(this.ctx.globalAlpha=e.opacity),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),oM(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},r.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.renderStack=function(e){var t=this;return(0,eI.Z)(function(){return(0,eS.__generator)(this,function(n){switch(n.label){case 0:if(!e.element.container.styles.isVisible())return[3,2];return[4,t.renderStackContent(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})()},r.renderNode=function(e){var t=this;return(0,eI.Z)(function(){return(0,eS.__generator)(this,function(n){switch(n.label){case 0:if(nR(e.container.flags,e_.DEBUG_RENDER),!e.container.styles.isVisible())return[3,3];return[4,t.renderNodeBackgroundAndBorders(e)];case 1:return n.sent(),[4,t.renderNodeContent(e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})()},r.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):iW(e.text).reduce(function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width},e.bounds.left)},r.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=an(e.fontFamily).join(", "),r=ne(e.fontSize)?"".concat(e.fontSize.number).concat(e.fontSize.unit):"".concat(e.fontSize.number,"px");return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},r.renderTextNode=function(e,t){var n=this,r=(0,eT.Z)(this.createFontStyle(t),3),i=r[0],o=r[1],a=r[2];this.ctx.font=i,this.ctx.direction=t.direction===ea.RTL?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic";var s=this.fontMetrics.getMetrics(o,a),l=s.baseline,u=s.middle,c=t.paintOrder;e.textBounds.forEach(function(e){c.forEach(function(r){switch(r){case ep.FILL:n.ctx.fillStyle=nE(t.color),n.renderTextWithLetterSpacing(e,t.letterSpacing,l);var i=t.textShadow;i.length&&e.text.trim().length&&(i.slice(0).reverse().forEach(function(r){n.ctx.shadowColor=nE(r.color),n.ctx.shadowOffsetX=r.offsetX.number*n.options.scale,n.ctx.shadowOffsetY=r.offsetY.number*n.options.scale,n.ctx.shadowBlur=r.blur.number,n.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),n.ctx.shadowColor="",n.ctx.shadowOffsetX=0,n.ctx.shadowOffsetY=0,n.ctx.shadowBlur=0),t.textDecorationLine.length&&(n.ctx.fillStyle=nE(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case ev.UNDERLINE:n.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+1.25*l),e.bounds.width,1);break;case ev.OVERLINE:n.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case ev.LINE_THROUGH:n.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+u),e.bounds.width,1)}}));break;case ep.STROKE:t.webkitTextStrokeWidth&&e.text.trim().length&&(n.ctx.strokeStyle=nE(t.webkitTextStrokeColor),n.ctx.lineWidth=t.webkitTextStrokeWidth,n.ctx.lineJoin=window.chrome?"miter":"round",n.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),n.ctx.strokeStyle="",n.ctx.lineWidth=0,n.ctx.lineJoin="miter"}})})},r.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=of(e),i=oF(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},r.renderNodeContent=function(e){var t=this;return(0,eI.Z)(function(){var r,i,o,a,s,l,u,c,A,d,h,f,p,g,m,v,y,b,w,_,E,C,B,x,I;return(0,eS.__generator)(this,function(T){switch(T.label){case 0:t.applyEffects(e.getEffects(ex.CONTENT)),r=e.container,i=e.curves,o=r.styles,a=!0,s=!1,l=void 0;try{for(u=r.textNodes[Symbol.iterator]();!(a=(c=u.next()).done);a=!0)A=c.value,t.renderTextNode(A,o)}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}if(!(0,eN.Z)(r,iy))return[3,4];T.label=1;case 1:return T.trys.push([1,3,,4]),[4,t.context.cache.match(r.src)];case 2:return d=T.sent(),t.renderReplacedElement(r,i,d),[3,4];case 3:return T.sent(),t.context.logger.error("Error loading image ".concat(r.src)),[3,4];case 4:if((0,eN.Z)(r,im)&&t.renderReplacedElement(r,i,r.canvas),!(0,eN.Z)(r,iI))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,t.context.cache.match(r.svg)];case 6:return h=T.sent(),t.renderReplacedElement(r,i,h),[3,8];case 7:return T.sent(),t.context.logger.error("Error loading svg ".concat(r.svg.substring(0,255))),[3,8];case 8:if(!((0,eN.Z)(r,iv)&&r.tree))return[3,10];return[4,new n(t.context,{scale:t.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}).render(r.tree)];case 9:f=T.sent(),r.width&&r.height&&t.ctx.drawImage(f,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),T.label=10;case 10:if((0,eN.Z)(r,ix)&&(p=Math.min(r.bounds.width,r.bounds.height),r.type===iE?r.checked&&(t.ctx.save(),t.path([new og(r.bounds.left+.39363*p,r.bounds.top+.79*p),new og(r.bounds.left+.16*p,r.bounds.top+.5549*p),new og(r.bounds.left+.27347*p,r.bounds.top+.44071*p),new og(r.bounds.left+.39694*p,r.bounds.top+.5649*p),new og(r.bounds.left+.72983*p,r.bounds.top+.23*p),new og(r.bounds.left+.84*p,r.bounds.top+.34085*p),new og(r.bounds.left+.39363*p,r.bounds.top+.79*p)]),t.ctx.fillStyle=nE(0x2a2a2aff),t.ctx.fill(),t.ctx.restore()):r.type===iC&&r.checked&&(t.ctx.save(),t.ctx.beginPath(),t.ctx.arc(r.bounds.left+p/2,r.bounds.top+p/2,p/4,0,2*Math.PI,!0),t.ctx.fillStyle=nE(0x2a2a2aff),t.ctx.fill(),t.ctx.restore())),o9(r)&&r.value.length){switch(m=(g=(0,eT.Z)(t.createFontStyle(o),2))[0],v=g[1],y=t.fontMetrics.getMetrics(m,v).baseline,t.ctx.font=m,t.ctx.fillStyle=nE(o.color),t.ctx.textBaseline="alphabetic",t.ctx.textAlign=ae(r.styles.textAlign),b=of(r),w=0,r.styles.textAlign){case em.CENTER:w+=b.width/2;break;case em.RIGHT:w+=b.width}_=b.add(w,0,0,-b.height/2+1),t.ctx.save(),t.path([new og(b.left,b.top),new og(b.left+b.width,b.top),new og(b.left+b.width,b.top+b.height),new og(b.left,b.top+b.height)]),t.ctx.clip(),t.renderTextWithLetterSpacing(new iV(r.value,_),o.letterSpacing,y),t.ctx.restore(),t.ctx.textBaseline="alphabetic",t.ctx.textAlign="left"}if(!nR(r.styles.display,es.LIST_ITEM))return[3,16];if(null===r.styles.listStyleImage)return[3,15];if((E=r.styles.listStyleImage).type!==X.URL)return[3,14];C=E.url,T.label=11;case 11:return T.trys.push([11,13,,14]),[4,t.context.cache.match(C)];case 12:return B=T.sent(),t.ctx.drawImage(B,r.bounds.left-(B.width+10),r.bounds.top),[3,14];case 13:return T.sent(),t.context.logger.error("Error loading list-style-image ".concat(C)),[3,14];case 14:return[3,16];case 15:e.listValue&&r.styles.listStyleType!==ed.NONE&&(x=(0,eT.Z)(t.createFontStyle(o),1)[0],t.ctx.font=x,t.ctx.fillStyle=nE(o.color),t.ctx.textBaseline="middle",t.ctx.textAlign="right",I=new tT(r.bounds.left,r.bounds.top+nf(r.styles.paddingTop,r.bounds.width),r.bounds.width,rF(o.lineHeight,o.fontSize.number)/2+1),t.renderTextWithLetterSpacing(new iV(e.listValue,I),o.letterSpacing,rF(o.lineHeight,o.fontSize.number)/2+2),t.ctx.textBaseline="bottom",t.ctx.textAlign="left"),T.label=16;case 16:return[2]}})})()},r.renderStackContent=function(e){var t=this;return(0,eI.Z)(function(){var n,r,i,o,a,s,l,u,c,A,d,h,f,p,g,m,v,y,b,w,_,E,C,B,x,I,T,S,k,N,D,O,R,F,L,U,P,M,j,Z,Q,H,V;return(0,eS.__generator)(this,function(K){switch(K.label){case 0:return nR(e.element.container.flags,e_.DEBUG_RENDER),[4,t.renderNodeBackgroundAndBorders(e.element)];case 1:K.sent(),n=!0,r=!1,i=void 0,K.label=2;case 2:K.trys.push([2,7,8,9]),o=e.negativeZIndex[Symbol.iterator](),K.label=3;case 3:if(n=(a=o.next()).done)return[3,6];return s=a.value,[4,t.renderStack(s)];case 4:K.sent(),K.label=5;case 5:return n=!0,[3,3];case 6:return[3,9];case 7:return l=K.sent(),r=!0,i=l,[3,9];case 8:try{n||null==o.return||o.return()}finally{if(r)throw i}return[7];case 9:return[4,t.renderNodeContent(e.element)];case 10:K.sent(),u=!0,c=!1,A=void 0,K.label=11;case 11:K.trys.push([11,16,17,18]),d=e.nonInlineLevel[Symbol.iterator](),K.label=12;case 12:if(u=(h=d.next()).done)return[3,15];return f=h.value,[4,t.renderNode(f)];case 13:K.sent(),K.label=14;case 14:return u=!0,[3,12];case 15:return[3,18];case 16:return l=K.sent(),c=!0,A=l,[3,18];case 17:try{u||null==d.return||d.return()}finally{if(c)throw A}return[7];case 18:p=!0,g=!1,m=void 0,K.label=19;case 19:K.trys.push([19,24,25,26]),v=e.nonPositionedFloats[Symbol.iterator](),K.label=20;case 20:if(p=(y=v.next()).done)return[3,23];return b=y.value,[4,t.renderStack(b)];case 21:K.sent(),K.label=22;case 22:return p=!0,[3,20];case 23:return[3,26];case 24:return l=K.sent(),g=!0,m=l,[3,26];case 25:try{p||null==v.return||v.return()}finally{if(g)throw m}return[7];case 26:w=!0,_=!1,E=void 0,K.label=27;case 27:K.trys.push([27,32,33,34]),C=e.nonPositionedInlineLevel[Symbol.iterator](),K.label=28;case 28:if(w=(B=C.next()).done)return[3,31];return x=B.value,[4,t.renderStack(x)];case 29:K.sent(),K.label=30;case 30:return w=!0,[3,28];case 31:return[3,34];case 32:return l=K.sent(),_=!0,E=l,[3,34];case 33:try{w||null==C.return||C.return()}finally{if(_)throw E}return[7];case 34:I=!0,T=!1,S=void 0,K.label=35;case 35:K.trys.push([35,40,41,42]),k=e.inlineLevel[Symbol.iterator](),K.label=36;case 36:if(I=(N=k.next()).done)return[3,39];return D=N.value,[4,t.renderNode(D)];case 37:K.sent(),K.label=38;case 38:return I=!0,[3,36];case 39:return[3,42];case 40:return l=K.sent(),T=!0,S=l,[3,42];case 41:try{I||null==k.return||k.return()}finally{if(T)throw S}return[7];case 42:O=!0,R=!1,F=void 0,K.label=43;case 43:K.trys.push([43,48,49,50]),L=e.zeroOrAutoZIndexOrTransformedOrOpacity[Symbol.iterator](),K.label=44;case 44:if(O=(U=L.next()).done)return[3,47];return P=U.value,[4,t.renderStack(P)];case 45:K.sent(),K.label=46;case 46:return O=!0,[3,44];case 47:return[3,50];case 48:return l=K.sent(),R=!0,F=l,[3,50];case 49:try{O||null==L.return||L.return()}finally{if(R)throw F}return[7];case 50:M=!0,j=!1,Z=void 0,K.label=51;case 51:K.trys.push([51,56,57,58]),Q=e.positiveZIndex[Symbol.iterator](),K.label=52;case 52:if(M=(H=Q.next()).done)return[3,55];return V=H.value,[4,t.renderStack(V)];case 53:K.sent(),K.label=54;case 54:return M=!0,[3,52];case 55:return[3,58];case 56:return l=K.sent(),j=!0,Z=l,[3,58];case 57:try{M||null==Q.return||Q.return()}finally{if(j)throw Z}return[7];case 58:return[2]}})})()},r.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},r.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},r.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=oB(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),oB(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},r.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},r.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var r,i=(null!=(r=this.canvas.ownerDocument)?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},r.renderBackgroundImage=function(e){var t=this;return(0,eI.Z)(function(){var n,r,i,o,a,s,l,u;return(0,eS.__generator)(this,function(c){switch(c.label){case 0:n=e.styles.backgroundImage.length-1,r=!0,i=!1,o=void 0,c.label=1;case 1:c.trys.push([1,6,7,8]),a=function(){var r,i,o,a,s,u,c,A,d,h,f,p,g,m,v,y,b,w,_,E,C,B,x,I,T,S,k,N,D,O,R,F,L,U,P,M,j,Z,Q,H,V,K,z;return(0,eS.__generator)(this,function(G){switch(G.label){case 0:if((r=l.value).type!==X.URL)return[3,5];i=null,o=r.url,G.label=1;case 1:return G.trys.push([1,3,,4]),[4,t.context.cache.match(o)];case 2:return i=G.sent(),[3,4];case 3:return G.sent(),t.context.logger.error("Error loading background-image ".concat(o)),[3,4];case 4:return i&&(s=(a=(0,eT.Z)(om(e,n,[i.width,i.height,i.width/i.height]),5))[0],u=a[1],c=a[2],A=a[3],d=a[4],h=t.ctx.createPattern(t.resizeImage(i,A,d),"repeat"),t.renderRepeat(s,h,u,c)),[3,6];case 5:1===r.type?(p=(f=(0,eT.Z)(om(e,n,[null,null,null]),5))[0],g=f[1],m=f[2],v=f[3],y=f[4],w=(b=(0,eT.Z)(nj(r.angle,v,y),5))[0],_=b[1],E=b[2],C=b[3],B=b[4],(x=document.createElement("canvas")).width=v,x.height=y,T=(I=x.getContext("2d")).createLinearGradient(_,C,E,B),nP(r.stops,w).forEach(function(e){return T.addColorStop(e.stop,nE(e.color))}),I.fillStyle=T,I.fillRect(0,0,v,y),v>0&&y>0&&(S=t.ctx.createPattern(x,"repeat"),t.renderRepeat(p,S,g,m))):2===r.type&&(N=(k=(0,eT.Z)(om(e,n,[null,null,null]),5))[0],D=k[1],O=k[2],R=k[3],F=k[4],U=nf((L=0===r.position.length?[nA]:r.position)[0],R),P=nf(L[L.length-1],F),j=(M=(0,eT.Z)(nH(r,U,P,R,F),2))[0],Z=M[1],j>0&&Z>0&&(Q=t.ctx.createRadialGradient(D+U,O+P,0,D+U,O+P,j),nP(r.stops,2*j).forEach(function(e){return Q.addColorStop(e.stop,nE(e.color))}),t.path(N),t.ctx.fillStyle=Q,j!==Z?(H=e.bounds.left+.5*e.bounds.width,V=e.bounds.top+.5*e.bounds.height,z=1/(K=Z/j),t.ctx.save(),t.ctx.translate(H,V),t.ctx.transform(1,0,0,K,0,0),t.ctx.translate(-H,-V),t.ctx.fillRect(D,z*(O-V)+V,R,F*z),t.ctx.restore()):t.ctx.fill())),G.label=6;case 6:return n--,[2]}})},s=e.styles.backgroundImage.slice(0).reverse()[Symbol.iterator](),c.label=2;case 2:if(r=(l=s.next()).done)return[3,5];return[5,(0,eS.__values)(a())];case 3:c.sent(),c.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return u=c.sent(),i=!0,o=u,[3,8];case 7:try{r||null==s.return||s.return()}finally{if(i)throw o}return[7];case 8:return[2]}})})()},r.renderSolidBorder=function(e,t,n){var r=this;return(0,eI.Z)(function(){return(0,eS.__generator)(this,function(i){return r.path(ox(n,t)),r.ctx.fillStyle=nE(e),r.ctx.fill(),[2]})})()},r.renderDoubleBorder=function(e,t,n,r){var i=this;return(0,eI.Z)(function(){var o,a;return(0,eS.__generator)(this,function(s){switch(s.label){case 0:if(!(t<3))return[3,2];return[4,i.renderSolidBorder(e,n,r)];case 1:return s.sent(),[2];case 2:return o=oI(r,n),i.path(o),i.ctx.fillStyle=nE(e),i.ctx.fill(),a=oT(r,n),i.path(a),i.ctx.fill(),[2]}})})()},r.renderNodeBackgroundAndBorders=function(e){var t=this;return(0,eI.Z)(function(){var n,r,i,o,a,s,l,u,c,A,d,h;return(0,eS.__generator)(this,function(f){switch(f.label){case 0:if(t.applyEffects(e.getEffects(ex.BACKGROUND_BORDERS)),r=!n_((n=e.container.styles).backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=o7(ow(n.backgroundClip,0),e.curves),!(r||n.boxShadow.length))return[3,2];return t.ctx.save(),t.path(o),t.ctx.clip(),n_(n.backgroundColor)||(t.ctx.fillStyle=nE(n.backgroundColor),t.ctx.fill()),[4,t.renderBackgroundImage(e.container)];case 1:f.sent(),t.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(n){t.ctx.save();var r,i,o,a,s=oR(e.curves),l=1e4*!n.inset,u=(r=-l+(n.inset?1:-1)*n.spread.number,i=(n.inset?1:-1)*n.spread.number,o=n.spread.number*(n.inset?-2:2),a=n.spread.number*(n.inset?-2:2),s.map(function(e,t){switch(t){case 0:return e.add(r,i);case 1:return e.add(r+o,i);case 2:return e.add(r+o,i+a);case 3:return e.add(r,i+a)}return e}));n.inset?(t.path(s),t.ctx.clip(),t.mask(u)):(t.mask(s),t.ctx.clip(),t.path(u)),t.ctx.shadowOffsetX=n.offsetX.number+l,t.ctx.shadowOffsetY=n.offsetY.number,t.ctx.shadowColor=nE(n.color),t.ctx.shadowBlur=n.blur.number,t.ctx.fillStyle=n.inset?nE(n.color):"rgba(0,0,0,1)",t.ctx.fill(),t.ctx.restore()}),f.label=2;case 2:a=0,s=!0,l=!1,u=void 0,f.label=3;case 3:f.trys.push([3,15,16,17]),c=i[Symbol.iterator](),f.label=4;case 4:if(s=(A=c.next()).done)return[3,14];if(!((d=A.value).style!==eo.NONE&&!n_(d.color)&&d.width>0))return[3,12];if(d.style!==eo.DASHED)return[3,6];return[4,t.renderDashedDottedBorder(d.color,d.width,a,e.curves,eo.DASHED)];case 5:case 7:case 9:return f.sent(),[3,12];case 6:if(d.style!==eo.DOTTED)return[3,8];return[4,t.renderDashedDottedBorder(d.color,d.width,a,e.curves,eo.DOTTED)];case 8:if(d.style!==eo.DOUBLE)return[3,10];return[4,t.renderDoubleBorder(d.color,d.width,a,e.curves)];case 10:return[4,t.renderSolidBorder(d.color,a,e.curves)];case 11:f.sent(),f.label=12;case 12:a++,f.label=13;case 13:return s=!0,[3,4];case 14:return[3,17];case 15:return h=f.sent(),l=!0,u=h,[3,17];case 16:try{s||null==c.return||c.return()}finally{if(l)throw u}return[7];case 17:return[2]}})})()},r.renderDashedDottedBorder=function(e,t,n,r,i){var o=this;return(0,eI.Z)(function(){var a,s,l,u,c,A,d,h,f,p,g,m,v,y,b,w,_,E;return(0,eS.__generator)(this,function(C){return o.ctx.save(),a=oS(r,n),s=ox(r,n),i===eo.DASHED&&(o.path(s),o.ctx.clip()),oB(s[0])?(l=s[0].start.x,u=s[0].start.y):(l=s[0].x,u=s[0].y),oB(s[1])?(c=s[1].end.x,A=s[1].end.y):(c=s[1].x,A=s[1].y),d=0===n||2===n?Math.abs(l-c):Math.abs(u-A),o.ctx.beginPath(),i===eo.DOTTED?o.formatPath(a):o.formatPath(s.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,i===eo.DOTTED&&(h=t,f=t),p=!0,d<=2*h?p=!1:d<=2*h+f?(g=d/(2*h+f),h*=g,f*=g):(m=Math.floor((d+f)/(h+f)),v=(d-m*h)/(m-1),f=(y=(d-(m+1)*h)/m)<=0||Math.abs(f-v)<Math.abs(f-y)?v:y),p&&(i===eo.DOTTED?o.ctx.setLineDash([0,h+f]):o.ctx.setLineDash([h,f])),i===eo.DOTTED?(o.ctx.lineCap="round",o.ctx.lineWidth=t):o.ctx.lineWidth=2*t+1.1,o.ctx.strokeStyle=nE(e),o.ctx.stroke(),o.ctx.setLineDash([]),i===eo.DASHED&&(oB(s[0])&&(b=s[3],w=s[0],o.ctx.beginPath(),o.formatPath([new og(b.end.x,b.end.y),new og(w.start.x,w.start.y)]),o.ctx.stroke()),oB(s[1])&&(_=s[1],E=s[2],o.ctx.beginPath(),o.formatPath([new og(_.end.x,_.end.y),new og(E.start.x,E.start.y)]),o.ctx.stroke())),o.ctx.restore(),[2]})})()},r.render=function(e){var t=this;return(0,eI.Z)(function(){var n;return(0,eS.__generator)(this,function(r){switch(r.label){case 0:return t.options.backgroundColor&&(t.ctx.fillStyle=nE(t.options.backgroundColor),t.ctx.fillRect(t.options.x,t.options.y,t.options.width,t.options.height)),n=o6(e),[4,t.renderStack(n)];case 1:return r.sent(),t.applyEffects([]),[2,t.canvas]}})})()},n}(function e(t,n){(0,ek.Z)(this,e),this.context=t,this.options=n,this.context=t,this.options=n}),o9=function(e){return!!((0,eN.Z)(e,ig)||(0,eN.Z)(e,ip)||(0,eN.Z)(e,ix)&&e.type!==iC&&e.type!==iE)||!1},o7=function(e,t){switch(e){case J.BORDER_BOX:return oR(t);case J.CONTENT_BOX:return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox];case J.PADDING_BOX:default:return oF(t)}},ae=function(e){switch(e){case em.CENTER:return"center";case em.RIGHT:return"right";case em.LEFT:default:return"left"}},at=["-apple-system","system-ui"],an=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return -1===at.indexOf(e)}):e};tf.setContext(window);var ar=(G=(0,eI.Z)(function(e,t){var n,r,i,o,a,s,l,u,c,A,d,h,f,p,g,m,v,y,b,w,_,E,C,B,x,I,T;return(0,eS.__generator)(this,function(S){switch(S.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw Error("Element is not attached to a Document");if(!(r=n.defaultView))throw Error("Document is not attached to a Window");return s={allowTaint:null!=(i=t.allowTaint)&&i,imageTimeout:null!=(o=t.imageTimeout)?o:15e3,proxy:t.proxy,useCORS:null!=(a=t.useCORS)&&a},f=new tI((0,tC.Z)({logging:null==(l=t.logging)||l,cache:t.cache},s),new tT((h={windowWidth:null!=(u=t.windowWidth)?u:r.innerWidth,windowHeight:null!=(c=t.windowHeight)?c:r.innerHeight,scrollX:null!=(A=t.scrollX)?A:r.pageXOffset,scrollY:null!=(d=t.scrollY)?d:r.pageYOffset}).scrollX,h.scrollY,h.windowWidth,h.windowHeight)),g=(p=oa(e)||"HTML"===e.tagName?tk(n):tS(f,e)).width,m=p.height,v=p.left,y=p.top,b="number"==typeof t.backgroundColor?t.backgroundColor:ai(f,e,t.backgroundColor||"transparent"),I={canvas:t.canvas,backgroundColor:b,scale:null!=(_=null!=(w=t.scale)?w:r.devicePixelRatio)?_:1,x:(null!=(E=t.x)?E:0)+v,y:(null!=(C=t.y)?C:0)+y,width:null!=(B=t.width)?B:Math.ceil(g),height:null!=(x=t.height)?x:Math.ceil(m)},b===(T=i5(f,e)).styles.backgroundColor&&(T.styles.backgroundColor=nN.TRANSPARENT),[4,new o8(f,I).render(T)];case 1:return[2,S.sent()]}})}),function(e,t){return G.apply(this,arguments)}),ai=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?nk(e,getComputedStyle(r.documentElement).backgroundColor):nN.TRANSPARENT,o=r.body?nk(e,getComputedStyle(r.body).backgroundColor):nN.TRANSPARENT,a="string"==typeof n?nk(e,n):null===n?nN.TRANSPARENT:0xffffffff;return t===r.documentElement?n_(i)?n_(o)?a:o:i:a};tf.setContext(window);var ao=n(10017),aa=n.n(ao),as=n(56818),al=n(74410);n(84912);var au=function(e){e.querySelectorAll(".html2canvas-link-expander-caret rect, .html2canvas-default-link-icon rect").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke}),e.querySelectorAll(".html2canvas-default-link-icon > path:first-of-type, .html2canvas-wikilink-icon > path:first-of-type").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke}),e.querySelectorAll(".html2canvas-figure-link-icon path").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke})},ac=function(e){au(e)},aA=new RegExp(/ql-indent-(\d)/),ad="abcdefghijklmnopqrstuvwxyz",ah={m:1e3,cm:900,d:500,cd:400,c:100,xc:90,l:50,xl:40,x:10,ix:9,v:5,iv:4,i:1},af=function(e){if(--e<0)return"a";for(var t=ad.length,n=1,r=0;;n++){var i=(r+1)*t;if(e<i)break;r=i}e-=r;for(var o="",a=0;a<n;a++)o=ad.charAt(e%t)+o,e=Math.floor(e/t);return o},ap=function(e){if(e<=0)return"i";var t="";for(var n in ah){var r=ah[n],i=Math.floor(e/r);e-=i*r;for(var o=0;o<i;o++)t+=n}return t},ag=function(e,t){var n=document.createElement("span");return n.className="ql-bullet",n.innerHTML=(t%3==1?af(e):t%3==2?ap(e):"".concat(e))+". ",n},am=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("LI"===e.tagName&&e.parentNode&&"UL"===e.parentNode.tagName){var i=document.createElement("span"),o=e.parentNode.getAttribute("data-checked");i.className="ql-bullet",i.innerHTML=null!=o?"true"===o?"&#9745;":"&#9744;":"&#8226;",e.insertBefore(i,e.firstChild)}if("LI"===e.tagName&&e.parentNode&&"OL"===e.parentNode.tagName){var a=e.previousSibling,s=(null==a?void 0:a.className)&&aA.test(a.className)?+aA.exec(a.className)[1]:0,l=e.className&&aA.test(e.className)?+aA.exec(e.className)[1]:0;a&&r[l]&&l<=s?r[l]+=1:r[l]=1,e.insertBefore(ag(r[l],l),e.firstChild)}e.childNodes.length>0&&e.childNodes.forEach(function(e){am(e,t,!1,r)})},av=n(46317),ay=n(80003),ab=function(){var e;return null!=(e=window.__RENDER_SCALE)?e:1},aw=function(e){var t=e.width,n=e.height;return t>1e4||n>1e4?.25:t>5e3||n>5e3?.5:t>2500||n>2500?.75:1},a_=function(e){var t=al.S2.setHTML(e,e,{theme:(0,ay.l)()}),r=t.parentElement;if((0,av.EG)(e)?ac(t):(t.className+=" has-replaced-pseudoelements",n(76498),am(t,e.textAlign,!0)),(0,as.bA)(e)){var i=n.g.devicePixelRatio;t.style.paddingTop="".concat(1===i?3:i,"px")}t.style.transform="none",r.style.transform="scale(".concat(e.scale,")");var o=ab();return ar(r,{x:0,scale:aw(e)*(1+(o-1)*.5),scrollX:0,scrollY:0,width:e.width,height:e.height,removeContainer:!1,foreignObjectRendering:!1}).then(function(e){return r.remove(),e})},aE=new Map,aC=function(e,t){var n,r=e.strokeColor,i=e.fontFamily,o=e.fontSize,a=e.hasFixedBounds,s=e.html,l=e.slate,u=[i,o,a,e.scale,e.text,r,e.textAlign,e.verticalAlign,e.width,e.height,e.mode,ab()];return t&&(null==(n=e.text)?void 0:n.length)>0?u.push(t):u.push(s,l),JSON.stringify(u)},aB=function(e){var t=aa()(e.filter(as.Sf).map(function(e){return[aC(e),!0]})),n={},r=!0,i=!1,o=void 0;try{for(var a,s=aE[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=(0,eT.Z)(a.value,2),u=l[0];l[1],null==t[u]&&(n[u]=!0)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}for(var c in n)aE.delete(c)},ax=function(){aE.clear()},aI=(W=(0,eI.Z)(function(e,t){var n,r;return(0,eS.__generator)(this,function(i){switch(i.label){case 0:if(n=aC(e,t),(r=aE.get(n))||(r={},aE.set(n,r)),r.promise||(r.promise=a_(e)),r.canvas)return[3,2];return[4,r.promise];case 1:r.canvas=i.sent(),i.label=2;case 2:return[2,r.canvas]}})}),function(e,t){return W.apply(this,arguments)})},45629:function(e,t,n){"use strict";n.d(t,{CN:function(){return h},N4:function(){return u},P1:function(){return m},S2:function(){return d},UB:function(){return l},Y7:function(){return p},je:function(){return A},l:function(){return f},lI:function(){return b},pW:function(){return c},uB:function(){return y}});var r,i=n(47842),o=n(98568),a=n(93939);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return"url(data:image/svg+xml;base64,".concat(btoa(e),") ").concat(t," ").concat(n,", auto")}var l=s('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50451)">\n      <path d="M8 5L22 18H13.5L8 25V5Z" fill="black"/>\n      <path d="M8.5 23.5543V6.14661L20.7267 17.5H13.5H13.257L13.1068 17.6911L8.5 23.5543Z" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50451" x="6" y="4" width="18" height="24" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50451"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50451" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',8,5),u=s('\n  <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50467)">\n      <path d="M28.3 8.9C28.4259 8.80557 28.5 8.65738 28.5 8.5C28.5 8.34262 28.4259 8.19443 28.3 8.1L26.3 6.6C26.1485 6.48637 25.9458 6.46809 25.7764 6.55279C25.607 6.63748 25.5 6.81061 25.5 7V7.5H24.5V6.5H25C25.1894 6.5 25.3625 6.393 25.4472 6.22361C25.5319 6.05421 25.5136 5.85151 25.4 5.7L23.9 3.7C23.8056 3.5741 23.6574 3.5 23.5 3.5C23.3426 3.5 23.1944 3.5741 23.1 3.7L21.6 5.7C21.4864 5.85151 21.4681 6.05421 21.5528 6.22361C21.6375 6.393 21.8106 6.5 22 6.5H22.5V7.5H21.5V7C21.5 6.81061 21.393 6.63748 21.2236 6.55279C21.0542 6.46809 20.8515 6.48637 20.7 6.6L18.7 8.1C18.5741 8.19443 18.5 8.34262 18.5 8.5C18.5 8.65738 18.5741 8.80557 18.7 8.9L20.7 10.4C20.8515 10.5136 21.0542 10.5319 21.2236 10.4472C21.393 10.3625 21.5 10.1894 21.5 10V9.5H22.5V10.5H22C21.8106 10.5 21.6375 10.607 21.5528 10.7764C21.4681 10.9458 21.4864 11.1485 21.6 11.3L23.1 13.3C23.1944 13.4259 23.3426 13.5 23.5 13.5C23.6574 13.5 23.8056 13.4259 23.9 13.3L25.4 11.3C25.5136 11.1485 25.5319 10.9458 25.4472 10.7764C25.3625 10.607 25.1894 10.5 25 10.5H24.5V9.5H25.5V10C25.5 10.1894 25.607 10.3625 25.7764 10.4472C25.9458 10.5319 26.1485 10.5136 26.3 10.4L28.3 8.9Z" fill="black" stroke="white" stroke-linejoin="round"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="black" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50467" x="0" y="0" width="34" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50467"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50467" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),c=s('\n  <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50469)">\n      <path d="M28.3 8.9C28.4259 8.80557 28.5 8.65738 28.5 8.5C28.5 8.34262 28.4259 8.19443 28.3 8.1L26.3 6.6C26.1485 6.48637 25.9458 6.46809 25.7764 6.55279C25.607 6.63748 25.5 6.81061 25.5 7V7.5H24.5V6.5H25C25.1894 6.5 25.3625 6.393 25.4472 6.22361C25.5319 6.05421 25.5136 5.85151 25.4 5.7L23.9 3.7C23.8056 3.5741 23.6574 3.5 23.5 3.5C23.3426 3.5 23.1944 3.5741 23.1 3.7L21.6 5.7C21.4864 5.85151 21.4681 6.05421 21.5528 6.22361C21.6375 6.393 21.8106 6.5 22 6.5H22.5V7.5H21.5V7C21.5 6.81061 21.393 6.63748 21.2236 6.55279C21.0542 6.46809 20.8515 6.48637 20.7 6.6L18.7 8.1C18.5741 8.19443 18.5 8.34262 18.5 8.5C18.5 8.65738 18.5741 8.80557 18.7 8.9L20.7 10.4C20.8515 10.5136 21.0542 10.5319 21.2236 10.4472C21.393 10.3625 21.5 10.1894 21.5 10V9.5H22.5V10.5H22C21.8106 10.5 21.6375 10.607 21.5528 10.7764C21.4681 10.9458 21.4864 11.1485 21.6 11.3L23.1 13.3C23.1944 13.4259 23.3426 13.5 23.5 13.5C23.6574 13.5 23.8056 13.4259 23.9 13.3L25.4 11.3C25.5136 11.1485 25.5319 10.9458 25.4472 10.7764C25.3625 10.607 25.1894 10.5 25 10.5H24.5V9.5H25.5V10C25.5 10.1894 25.607 10.3625 25.7764 10.4472C25.9458 10.5319 26.1485 10.5136 26.3 10.4L28.3 8.9Z" fill="black" stroke="white" stroke-linejoin="round"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="white" stroke="black"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50469" x="0" y="0" width="34" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50469"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50469" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),A=s('\n  <svg width="37" height="34" viewBox="0 0 37 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50468)">\n      <path d="M13.5 24.5543V7.14661L25.7267 18.5H18.5H18.257L18.1068 18.6911L13.5 24.5543Z" fill="white" stroke="black"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="black" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50468" x="0" y="0" width="37" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50468"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50468" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),d=s('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50454)">\n      <mask id="path-1-inside-1_1168_50454" fill="white">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17 7H14V14H7V17H14V24H17V17H24V14H17V7Z"/>\n      </mask>\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M17 7H14V14H7V17H14V24H17V17H24V14H17V7Z" fill="black"/>\n      <path d="M14 7V6H13V7H14ZM17 7H18V6H17V7ZM14 14V15H15V14H14ZM7 14V13H6V14H7ZM7 17H6V18H7V17ZM14 17H15V16H14V17ZM14 24H13V25H14V24ZM17 24V25H18V24H17ZM17 17V16H16V17H17ZM24 17V18H25V17H24ZM24 14H25V13H24V14ZM17 14H16V15H17V14ZM14 8H17V6H14V8ZM15 14V7H13V14H15ZM7 15H14V13H7V15ZM8 17V14H6V17H8ZM14 16H7V18H14V16ZM15 24V17H13V24H15ZM17 23H14V25H17V23ZM16 17V24H18V17H16ZM24 16H17V18H24V16ZM23 14V17H25V14H23ZM17 15H24V13H17V15ZM16 7V14H18V7H16Z" fill="white" mask="url(#path-1-inside-1_1168_50454)"/>\n      </g>\n    <defs>\n      <filter id="filter0_d_1168_50454" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50454"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50454" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n'),h=s('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_399_42935)">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3337 18.9459V21.8012L15.1432 18.9459H20.8575C21.3842 18.9459 21.8099 18.5205 21.8099 17.9942V9.4283C21.8099 8.90198 21.3842 8.47656 20.8575 8.47656H9.42894C8.90228 8.47656 8.47656 8.90198 8.47656 9.4283V17.9942C8.47656 18.5205 8.90228 18.9459 9.42894 18.9459H11.3337Z" fill="black"/>\n      <path d="M9.42894 19.4459H10.8337V21.8012V22.8008L11.6336 22.2013L15.3098 19.4459H20.8575C21.66 19.4459 22.3099 18.7969 22.3099 17.9942V9.4283C22.3099 8.62552 21.66 7.97656 20.8575 7.97656H9.42894C8.62645 7.97656 7.97656 8.62552 7.97656 9.4283V17.9942C7.97656 18.7969 8.62645 19.4459 9.42894 19.4459Z" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_399_42935" x="5.47656" y="6.47656" width="19.3335" height="20.3242" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_399_42935"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_399_42935" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n'),f=s('\n  <svg xmlns="http://www.w3.org/2000/svg" role="img" width="14" height="14" focusable="false" aria-hidden="true" viewBox="0 0 14 14">\n    <path fill="#fff" d="M 1.181 1.261 L 12.842 1.192 L 12.853 10.285 L 6.845 10.4 L 3.818 12.406 L 3.566 10.124 L 1.009 9.987"/>\n    <path d="M3.58686 10.4074H4.33686V9.65738H3.58686V10.4074ZM3.58686 12.9657H2.83686C2.83686 13.2497 2.99731 13.5094 3.25134 13.6365C3.50537 13.7635 3.80939 13.7362 4.03667 13.5658L3.58686 12.9657ZM7.00019 10.4074V9.65738H6.75032L6.55038 9.80723L7.00019 10.4074ZM2.83686 10.4074V12.9657H4.33686V10.4074H2.83686ZM4.03667 13.5658L7.45 11.0075L6.55038 9.80723L3.13704 12.3656L4.03667 13.5658ZM7.00019 11.1574H12.1202V9.65738H7.00019V11.1574ZM12.1202 11.1574C13.0058 11.1574 13.7235 10.4409 13.7235 9.55462H12.2235C12.2235 9.61151 12.1783 9.65738 12.1202 9.65738V11.1574ZM13.7235 9.55462V1.87962H12.2235V9.55462H13.7235ZM13.7235 1.87962C13.7235 0.993337 13.0058 0.276855 12.1202 0.276855V1.77686C12.1783 1.77686 12.2235 1.82272 12.2235 1.87962H13.7235ZM12.1202 0.276855H1.88019V1.77686H12.1202V0.276855ZM1.88019 0.276855C0.994562 0.276855 0.276855 0.993336 0.276855 1.87962H1.77686C1.77686 1.82272 1.82203 1.77686 1.88019 1.77686V0.276855ZM0.276855 1.87962V9.55462H1.77686V1.87962H0.276855ZM0.276855 9.55462C0.276855 10.4409 0.994562 11.1574 1.88019 11.1574V9.65738C1.82203 9.65738 1.77686 9.61151 1.77686 9.55462H0.276855ZM1.88019 11.1574H3.58686V9.65738H1.88019V11.1574Z" fill="#fff"/>\n  </svg>\n'),p=s('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50453)">\n      <path d="M18.9657 8.36812C18.4749 7.87729 17.6791 7.87729 17.1883 8.36812L8.65806 16.8984C8.45232 17.1041 8.32433 17.3749 8.29594 17.6645L8.00615 20.6204C7.92886 21.4087 8.59127 22.0711 9.37961 21.9939L12.3355 21.7041C12.6251 21.6757 12.8959 21.5477 13.1016 21.3419L21.6319 12.8117C22.1227 12.3209 22.1227 11.5251 21.6319 11.0343L18.9657 8.36812Z" fill="white"/>\n    </g>\n    <path d="M18.9657 8.36812C18.4749 7.87729 17.6791 7.87729 17.1883 8.36812L8.65806 16.8984C8.45232 17.1041 8.32433 17.3749 8.29594 17.6645L8.00615 20.6204C7.92886 21.4087 8.59127 22.0711 9.37961 21.9939L12.3355 21.7041C12.6251 21.6757 12.8959 21.5477 13.1016 21.3419L21.6319 12.8117C22.1227 12.3209 22.1227 11.5251 21.6319 11.0343L18.9657 8.36812Z" stroke="black"/>\n    <defs>\n      <filter id="filter0_d_1168_50453" x="6" y="7" width="18" height="18" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50453"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50453" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',8,22),g=(r={},(0,i.Z)(r,o.oc.NS_RESIZE,0),(0,i.Z)(r,o.oc.EW_RESIZE,90),(0,i.Z)(r,o.oc.NESW_RESIZE,45),(0,i.Z)(r,o.oc.NWSE_RESIZE,-45),r);function m(e,t){var n=g[e]+180/Math.PI*t;return s('\n    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50481)" transform="rotate('.concat(n,' 15 15)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9791 22.381L14.3303 22.381L14.3303 8.8563L11.9795 8.8563L15.3607 4.34798L18.7419 8.8563L16.3303 8.8563L16.3303 22.381L18.7416 22.381L15.3604 26.8894L11.9791 22.381Z" fill="black"/>\n        <path d="M14.3303 22.381L14.3303 22.881L14.8303 22.881L14.8303 22.381L14.3303 22.381ZM11.9791 22.381L11.9791 21.881L10.9791 21.881L11.5791 22.681L11.9791 22.381ZM14.3303 8.8563L14.8303 8.8563L14.8303 8.3563L14.3303 8.3563L14.3303 8.8563ZM11.9795 8.8563L11.5795 8.5563L10.9795 9.3563L11.9795 9.3563L11.9795 8.8563ZM15.3607 4.34798L15.7607 4.04798L15.3607 3.51464L14.9607 4.04798L15.3607 4.34798ZM18.7419 8.8563L18.7419 9.3563L19.7419 9.3563L19.1419 8.5563L18.7419 8.8563ZM16.3303 8.8563L16.3303 8.3563L15.8303 8.3563L15.8303 8.8563L16.3303 8.8563ZM16.3303 22.381L15.8303 22.381L15.8303 22.881L16.3303 22.881L16.3303 22.381ZM18.7416 22.381L19.1416 22.681L19.7416 21.881L18.7416 21.881L18.7416 22.381ZM15.3604 26.8894L14.9604 27.1894L15.3604 27.7227L15.7604 27.1894L15.3604 26.8894ZM14.3303 21.881L11.9791 21.881L11.9791 22.881L14.3303 22.881L14.3303 21.881ZM13.8303 8.8563L13.8303 22.381L14.8303 22.381L14.8303 8.8563L13.8303 8.8563ZM14.3303 8.3563L11.9795 8.3563L11.9795 9.3563L14.3303 9.3563L14.3303 8.3563ZM12.3795 9.1563L15.7607 4.64798L14.9607 4.04798L11.5795 8.5563L12.3795 9.1563ZM14.9607 4.64798L18.3419 9.1563L19.1419 8.5563L15.7607 4.04798L14.9607 4.64798ZM18.7419 8.3563L16.3303 8.3563L16.3303 9.3563L18.7419 9.3563L18.7419 8.3563ZM16.8303 22.381L16.8303 8.8563L15.8303 8.8563L15.8303 22.381L16.8303 22.381ZM18.7416 21.881L16.3303 21.881L16.3303 22.881L18.7416 22.881L18.7416 21.881ZM15.7604 27.1894L19.1416 22.681L18.3416 22.081L14.9604 26.5894L15.7604 27.1894ZM11.5791 22.681L14.9604 27.1894L15.7604 26.5894L12.3791 22.081L11.5791 22.681Z" fill="white"/>\n      </g>\n      <defs>\n        <filter id="filter0_d_1168_50481" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50481"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50481" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '))}var v={"rotation-nw":0,"rotation-ne":90,"rotation-se":180,"rotation-sw":270};function y(e,t){var n=v[e]+180/Math.PI*t;return s('\n    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50475)" transform="rotate('.concat(n,' 15 15)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.94617 19.2539L10.6385 22.9462L14.3308 19.2539L11.8698 19.2539C11.9254 15.3273 15.0456 12.142 18.9462 11.9822L18.9462 14.0539L22.9462 10.5539L18.9462 7.05386L18.9462 9.51909C13.6859 9.68047 9.46422 13.9677 9.4081 19.2539L6.94617 19.2539Z" fill="black"/>\n        <path d="M10.6385 22.9462L10.2849 23.2997L10.6385 23.6533L10.992 23.2997L10.6385 22.9462ZM6.94617 19.2539L6.94617 18.7539L5.73906 18.7539L6.59261 19.6074L6.94617 19.2539ZM14.3308 19.2539L14.6843 19.6074L15.5379 18.7539L14.3308 18.7539L14.3308 19.2539ZM11.8698 19.2539L11.3699 19.2468L11.3627 19.7539L11.8698 19.7539L11.8698 19.2539ZM18.9462 11.9822L19.4462 11.9822L19.4462 11.4613L18.9257 11.4826L18.9462 11.9822ZM18.9462 14.0539L18.4462 14.0539L18.4462 15.1557L19.2754 14.4301L18.9462 14.0539ZM22.9462 10.5539L23.2754 10.9301L23.7055 10.5539L23.2754 10.1776L22.9462 10.5539ZM18.9462 7.05386L19.2754 6.67757L18.4462 5.95197L18.4462 7.05386L18.9462 7.05386ZM18.9462 9.51909L18.9615 10.0189L19.4462 10.004L19.4462 9.51909L18.9462 9.51909ZM9.4081 19.2539L9.4081 19.7539L9.90282 19.7539L9.90807 19.2592L9.4081 19.2539ZM10.992 22.5926L7.29972 18.9003L6.59261 19.6074L10.2849 23.2997L10.992 22.5926ZM13.9772 18.9003L10.2849 22.5926L10.992 23.2997L14.6843 19.6074L13.9772 18.9003ZM11.8698 19.7539L14.3308 19.7539L14.3308 18.7539L11.8698 18.7539L11.8698 19.7539ZM12.3698 19.2609C12.4216 15.6005 15.3306 12.6307 18.9666 12.4818L18.9257 11.4826C14.7607 11.6532 11.4292 15.0541 11.3699 19.2468L12.3698 19.2609ZM18.4462 11.9822L18.4462 14.0539L19.4462 14.0539L19.4462 11.9822L18.4462 11.9822ZM19.2754 14.4301L23.2754 10.9301L22.6169 10.1776L18.6169 13.6776L19.2754 14.4301ZM23.2754 10.1776L19.2754 6.67757L18.6169 7.43015L22.6169 10.9301L23.2754 10.1776ZM18.4462 7.05386L18.4462 9.51909L19.4462 9.51909L19.4462 7.05386L18.4462 7.05386ZM18.9308 9.01933C13.4031 9.18891 8.9671 13.6938 8.90813 19.2486L9.90807 19.2592C9.96134 14.2417 13.9687 10.172 18.9615 10.0189L18.9308 9.01933ZM6.94617 19.7539L9.4081 19.7539L9.4081 18.7539L6.94617 18.7539L6.94617 19.7539Z" fill="white"/>\n      </g>\n      <defs>\n        <filter id="filter0_d_1168_50475" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50475"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50475" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '))}function b(e){var t=(0,a.IQ)(e,o.sc.XL,o.sc.S,.5,1);return s('\n    <svg width="'.concat(e,'" height="').concat(e,'" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50470)">\n        <circle cx="13" cy="12" r="11" fill="white"/>\n      </g>\n      <circle cx="13" cy="12" r="11" stroke="black" stroke-width="').concat(t,'"/>\n      <defs>\n        <filter id="filter0_d_1168_50470" x="0" y="0" width="26" height="26" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50470"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50470" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '),13,13)}},93939:function(e,t,n){"use strict";n.d(t,{Ds:function(){return v},Fc:function(){return c},Fv:function(){return P},IH:function(){return k},IQ:function(){return U},Le:function(){return y},OF:function(){return w},Oo:function(){return A},P:function(){return p},PI:function(){return F},Uk:function(){return E},X1:function(){return m},YC:function(){return x},Zz:function(){return T},_Z:function(){return h},_i:function(){return I},cx:function(){return O},dE:function(){return B},dZ:function(){return D},eL:function(){return M},hR:function(){return u},mO:function(){return g},qr:function(){return R},s:function(){return f},tH:function(){return L},uY:function(){return C},wO:function(){return d},z8:function(){return b},zX:function(){return S}});var r,i=n(42838),o=n(50930),a=n(28316),s=n(45629);n(14935);var l=n(98568),u="http://www.w3.org/2000/svg",c=function(){var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),i="".concat(e.getHours()).padStart(2,"0"),o="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(i).concat(o)},A=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},d=function(e){return(0,i.Z)(e,HTMLElement)&&e.className.includes("ToolIcon")},h=function(e){return(0,i.Z)(e,HTMLElement)&&"wysiwyg"===e.dataset.type||(0,i.Z)(e,HTMLBRElement)||(0,i.Z)(e,HTMLInputElement)||(0,i.Z)(e,HTMLTextAreaElement)||(0,i.Z)(e,HTMLSelectElement)},f=function(e){return(0,i.Z)(e,HTMLElement)&&"wysiwyg"===e.dataset.type||(0,i.Z)(e,HTMLBRElement)||(0,i.Z)(e,HTMLTextAreaElement)||(0,i.Z)(e,HTMLInputElement)&&("text"===e.type||"number"===e.type)},p=function(e){var t=e.fontSize,n=e.fontFamily,r=e.isForwardCorrection,i=void 0===r||r?t*(l.Vh[n]||1):t/(l.Vh[n]||1);switch(n){case 1:return{fontSize:"".concat(i,"px"),fontFamily:'Virgil, "'.concat(l._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')};case 5:return{fontSize:"".concat(i,"px"),fontFamily:'JetBrainsMono, "'.concat(l._D,'", FreeMono, "Free Mono"')};case 6:return{fontSize:"".concat(i,"px"),fontFamily:'"Inter var", "'.concat(l._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')};default:return{fontSize:"".concat(i,"px"),fontFamily:'EraserNimbusSansFerrule, "'.concat(l._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')}}},g=function(e){var t=p({fontSize:e.fontSize,fontFamily:e.fontFamily}),n=t.fontSize,r=t.fontFamily;return"".concat(n," ").concat(r)},m=function(e,t){if(!r){if(null===(r=document.createElement("canvas").getContext("2d")))throw Error("Context2D is not supported");r.textBaseline="bottom"}r.font=t;var n=0,i=0,o=0,a=e.split("\n"),s=!0,l=!1,u=void 0;try{for(var c,A=a[Symbol.iterator]();!(s=(c=A.next()).done);s=!0){var d=c.value,h=r.measureText(d);if(n+=h.actualBoundingBoxAscent-h.actualBoundingBoxDescent,i<h.width&&(i=h.width),0===o){r.textBaseline="alphabetic";var f=r.measureText(d);o=1.25*f.actualBoundingBoxAscent,r.textBaseline="bottom"}}}catch(e){l=!0,u=e}finally{try{s||null==A.return||A.return()}finally{if(l)throw u}}return{width:i,height:n,baseline:o}},v=function(e,t){var n,r=0,i=function(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];n=a,clearTimeout(r),r=window.setTimeout(function(){return e.apply(void 0,(0,o.Z)(a))},t)};return i.flush=function(){clearTimeout(r),n&&e.apply(void 0,(0,o.Z)(n))},i.cancel=function(){clearTimeout(r)},i},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.getElementById(l.dJ);if(n){if(!e){n.style.cursor=s.UB;return}switch(e){case l.oc.CROSSHAIR:n.style.cursor=s.S2;break;case l.oc.PEN:n.style.cursor=s.Y7;break;case l.oc.MOVE:n.style.cursor=s.N4;break;case l.oc.SPLINE_CONTROL_MOVE:n.style.cursor=s.pW;break;case l.oc.DUPLICATE:n.style.cursor=s.je;break;case l.oc.NESW_RESIZE:case l.oc.NWSE_RESIZE:case l.oc.NS_RESIZE:case l.oc.EW_RESIZE:n.style.cursor=(0,s.P1)(e,t);break;case l.oc.ROTATION_NW:case l.oc.ROTATION_NE:case l.oc.ROTATION_SW:case l.oc.ROTATION_SE:n.style.cursor=(0,s.uB)(e,t);break;default:n.style.cursor=e}}},b=function(){return y(null)},w=function(e){y((0,s.lI)(e))},_=function(e){"dark"===e?y(s.l):y(s.CN)},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"light";switch(e){case"selection":case"bpmnPool":case"bpmnLane":b();break;case"comment":_(n);break;case"freedraw":y(l.oc.PEN);break;case"eraser":w(t||20);break;default:y(l.oc.CROSSHAIR)}},C=function(e){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?e.replace(/\bCtrlOrCmd\b/i,"").replace(/\bAlt\b/i,"Option").replace(/\bDel\b/i,"Delete").replace(/\b(?:Enter|Return)\b/i,"Enter").replace(/\bArrow\b/i,""):e.replace(/\bCtrlOrCmd\b/i,"Ctrl").replace(/\bArrow\b/i,"")},B=function(e,t,n){var r=e.clientX,i=e.clientY,o=t.offsetLeft,a=t.offsetTop,s=n.zoom,l=n.scrollX,u=n.scrollY,c=1/s.value;return{x:(r-s.translation.x-o)*c-l,y:(i-s.translation.y-a)*c-u}},x=function(e){return[e.offsetLeft+e.width/2,e.height/2]},I=function(e,t){var n=e.sceneX,r=e.sceneY,i=t.zoom,o=t.scrollX,a=t.scrollY;return{x:(n+o)*i.value+i.translation.x,y:(r+a)*i.value+i.translation.y}},T=function(e){var t=e.element,n=e.offset,r=e.scrollState,i=t.x+n.offsetLeft,o=t.y+n.offsetTop;if("textbox"===t.type){var a=S(t),s=a.widthDiff,l=a.heightDiff;i+=s,o+=l}return I({sceneX:i,sceneY:o},r)},S=function(e){var t=e.width/e.scale,n=e.height/e.scale;return{naturalWidth:t,naturalHeight:n,widthDiff:(e.width-t)/2,heightDiff:(e.height-n)/2}},k=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},N=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8------","]*[").concat("---","]")),D=function(e){return N.test(e)},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return -1},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return -1},F=function(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n},L=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(0,a.unstable_batchedUpdates)(function(){return e.apply(void 0,(0,o.Z)(n))})}},U=function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},P=function(e){return e?e.reduce(function(e,t){return e[t]=!0,e},{}):{}},M=function(e){return e?e.reduce(function(e,t){return e[t.id]=!0,e},{}):{}}},20189:function(e,t,n){"use strict";var r=n(42838),i=n(2784);t.Z=function(e,t){(0,i.useEffect)(function(){var n=function(n){!e.current||(0,r.Z)(n.target,Element)&&(e.current.contains(n.target)||!document.body.contains(n.target))||t(n)};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}},[e,t])}},89848:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(56818);function i(e){for(var t=function(e){n.push(e),i.add(e.id)},n=[],i=new Set,o={},a={},s={},l={},u={},c=new Set,A=new Set,d={},h=0;h<e.length;h++){var f=e[h];d[f.id]=h,!1===(0,r.Sf)(f)&&f.lockedGroupId&&A.add(f.lockedGroupId)}for(var p=0;p<e.length;p++){var g=e[p];if((0,r.Sf)(g)&&g.lockedGroupId&&A.has(g.lockedGroupId))c.add(g.id),o[g.lockedGroupId]=g;else if((0,r.bt)(g)&&(g.startBinding||g.endBinding)){var m=g.startBinding?d[g.startBinding.elementId]:void 0,v=g.endBinding?d[g.endBinding.elementId]:void 0;if(void 0!==m||void 0!==v){var y=Math.max(m||0,v||0);c.add(g.id);var b=e[y].id;a[b]=a[b]||[],a[b].push(g)}}else g.containerId&&g.containerId in d?(c.add(g.id),u[g.containerId]=u[g.containerId]||[],u[g.containerId].push(g)):g.diagramId&&g.diagramId in d?(c.add(g.id),l[g.diagramId]=l[g.diagramId]||[],l[g.diagramId].push(g)):g.figureId&&g.figureId in d&&(c.add(g.id),s[g.figureId]=s[g.figureId]||[],s[g.figureId].push(g))}var w=!0,_=!1,E=void 0;try{for(var C,B=e[Symbol.iterator]();!(w=(C=B.next()).done);w=!0){var x=C.value;c.has(x.id)||(t(x),function e(n){if(n.lockedGroupId&&o[n.lockedGroupId]&&t(o[n.lockedGroupId]),s[n.id]){var r=!0,c=!1,A=void 0;try{for(var d,h=s[n.id][Symbol.iterator]();!(r=(d=h.next()).done);r=!0){var f=d.value;t(f),e(f)}}catch(e){c=!0,A=e}finally{try{r||null==h.return||h.return()}finally{if(c)throw A}}}else if(l[n.id]){var p=!0,g=!1,m=void 0;try{for(var v,y=l[n.id][Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var b=v.value;t(b),e(b)}}catch(e){g=!0,m=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw m}}}else if(u[n.id]){var w=!0,_=!1,E=void 0;try{for(var C,B=u[n.id][Symbol.iterator]();!(w=(C=B.next()).done);w=!0){var x=C.value;t(x),e(x)}}catch(e){_=!0,E=e}finally{try{w||null==B.return||B.return()}finally{if(_)throw E}}}if(a[n.id]){var I=!0,T=!1,S=void 0;try{for(var k,N=a[n.id][Symbol.iterator]();!(I=(k=N.next()).done);I=!0){var D,O,R,F=k.value,L=(null==(D=F.startBinding)?void 0:D.elementId)===n.id?null==(O=F.endBinding)?void 0:O.elementId:null==(R=F.startBinding)?void 0:R.elementId;!L||i.has(L)?(t(F),e(F)):L&&(a[L]=a[L]||[],a[L].push(F))}}catch(e){T=!0,S=e}finally{try{I||null==N.return||N.return()}finally{if(T)throw S}}}}(x))}}catch(e){_=!0,E=e}finally{try{w||null==B.return||B.return()}finally{if(_)throw E}}return n}},61542:function(e,t,n){"use strict";n.d(t,{Q8:function(){return o}}),n(87622);var r=n(56818),i=n(33489);function o(e,t,n){if(!t||!(0,r.FL)(t))return[];var o=i.r9.getCache(t);if(!o)return e.getElements().filter(function(e){return e.diagramId===t.id});var a=[],s=!0,l=!1,u=void 0;try{for(var c,A=o.elements[Symbol.iterator]();!(s=(c=A.next()).done);s=!0){var d=c.value,h=e.getElement(d.id);if(h)a.push(h);else{var f=(null==n?void 0:n[d.id])?e.getElement(null==n?void 0:n[d.id]):void 0;if(!f)return console.warn("[getDiagramElementsArray] Could not find element in scene",{diagramId:t.id,id:d.id,type:d.type,diagramEntityId:d.diagramEntityId,compound:d.compound}),e.getElements().filter(function(e){return e.diagramId===t.id});a.push(f)}}}catch(e){l=!0,u=e}finally{try{s||null==A.return||A.return()}finally{if(l)throw u}}return a}},46317:function(e,t,n){"use strict";n.d(t,{EG:function(){return l},I:function(){return u},TI:function(){return h},mX:function(){return c},tI:function(){return d}});var r=n(70865),i=n(50930),o=n(12995),a=n(90332),s=n(49257),l=function(e){return e&&"slate"in e},u=function(e){return(null==e?void 0:e.querySelector("[data-slate-node]"))!==null},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bold;return Array.isArray(e)?e:[{type:"paragraph",children:[(0,r.Z)({text:e},(void 0===n?void 0:n)?{bold:!0}:{})]}]},A=function(e){var t=o.ML.above(e,{mode:"highest",at:o.ML.end(e,[]),match:function(t){return o.ML.isBlock(e,t)}});t&&(0,s.RF)(t[0])&&""===o.ML.string(e,t[1])&&o.YR.removeNodes(e,{at:t[1]})},d=function(e){var t=e.editor,n=e.textboxElement,a=n.html,l=n.text,u=n.slate;if(u&&u.length>0)c=function e(t){var n=[],o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,A=(0,r.Z)({},c);"children"in A&&(A.children=e(A.children)),"type"in A&&"section"===A.type?n.push.apply(n,(0,i.Z)(A.children)):n.push(A)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return n}(u);else if(a){var c,d,h,f=new DOMParser().parseFromString(a,"text/html").documentElement;c=null!=(h=null==(d=t.fromHtml)?void 0:d.call(t,f,void 0,{keepEmptyLines:!0}))?h:[]}else c=l?[{type:"paragraph",children:[{text:l}]}]:[];c.length>0&&((0,s.oe)(t),o.YR.insertNodes(t,c,{at:[0]}),A(t))},h=function(e){return{strokeStyle:"solid",scale:(0,a.M)(),fontSize:e.currentItemFontSize,textAlign:e.currentItemTextAlign,fillStyle:e.currentItemFillStyle,strokeColor:e.currentItemTextColor,fontFamily:e.currentItemFontFamily,strokeWidth:e.currentItemStrokeWidth,strokeSharpness:e.currentItemStrokeSharpness}}},66140:function(e,t,n){"use strict";n.d(t,{CF:function(){return d},HE:function(){return l},O9:function(){return f},OB:function(){return A},R2:function(){return v},Wc:function(){return s},bO:function(){return u},cm:function(){return m},l2:function(){return c},qD:function(){return g},wC:function(){return a},y2:function(){return h}});var r,i,o=n(34406),a={apiKey:"AIzaSyCX5UYWp-3ZAVEuQ3Ospj9Xg9e6ji16roI",authDomain:"app.eraser.io",databaseURL:"https://second-petal-295822-default-rtdb.firebaseio.com",projectId:"second-petal-295822",storageBucket:"second-petal-295822.appspot.com",appId:"1:941057276634:web:f12eed496a39ecb38283e3",logLevel:"error",emulatorEnabled:"true"===o.env.FIREBASE_EMULATOR_ENABLED,region:"us-central1"},s={version:1,name:"eraser",storeName:"database"},l={appId:"fqp3uy63"},u={apiKey:"f168e1e5bad215237a52eb94f5eb4a84",secretKey:o.env.AMPLITUDE_SECRET_KEY,projectId:"307526"},c={url:"https://app.eraser.io"},A={isDev:!1,isProd:!0,isTest:!1},d={url:o.env.WEBSITE_URL||"https://www.eraser.io",homepageURL:o.env.WEBSITE_HOMEPAGE_URL||"https://www.eraser.io/?r=0",docsURL:o.env.WEBSITE_DOCS_URL||"https://docs.eraser.io",pricingURL:o.env.WEBSITE_PRICING_URL||"https://www.eraser.io/pricing",slackURL:o.env.SLACK_URL||"https://join.slack.com/t/eraser-community/shared_invite/zt-38j42p8dg-Oa5o2Ee3M24Qmhk1RQCD5w",featureRequestURL:o.env.WEBSITE_FEATURE_REQUEST_URL||"https://feedback.eraser.io/feature-requests"},h={baseUrl:"https://eraser.imgix.net"};(r=i||(i={})).Workspaces="workspaces",r.KnownPeople="known-people";var f={appId:"LZ6W44X7AN",workspacesIndex:"workspaces"};function p(e,t){return void 0===e?t:!0===e||"true"===e}o.env.ELASTICSEARCH_NODE&&o.env.ELASTICSEARCH_API_KEY,p(o.env.IS_RENDER_SERVICE,!1),p(!0,!1);var g={google:p(o.env.ENABLE_GOOGLE_AUTH,!0),microsoft:p(o.env.ENABLE_MICROSOFT_AUTH,!0),sso:p(o.env.ENABLE_SSO_AUTH,!0)},m={isSingleTenant:p(o.env.IS_SINGLE_TENANT,!1),name:o.env.TENANT_NAME||""},v={canvasCatalog:p(o.env.ENABLE_CANVAS_CATALOG,!0)}},32472:function(e,t,n){"use strict";n.d(t,{IF:function(){return l},Ji:function(){return i},Kn:function(){return u},SF:function(){return a},Wi:function(){return r},bo:function(){return o},k1:function(){return s}});var r="live",i="4.9.17",o="Unsorted",a="Untitled File",s="Untitled Template",l="analyticsId",u="phantom-"},66842:function(e,t,n){"use strict";n.d(t,{DO:function(){return a},Gd:function(){return i},KU:function(){return o},kz:function(){return s},qo:function(){return r}});var r="ctid",i="cid",o="search",a="data-skip-discard-comment",s=function(e){var t;return!!(null==(t=document.querySelector("[".concat(a,"]")))?void 0:t.contains(e))}},33484:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(2784);function i(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)(function(){var e;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t="matchMedia"in window&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var r=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(r)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(r)}}n(e)},[]),t}},54848:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(70865),i=n(52322),o=n(2784),a=n(51992),s=n(43446),l=n(71059),u=n(27196),c=new Set,A=function(e){var t=(0,s.Z)(),n=(0,o.useState)(!e||!c.has(e)),r=n[0],i=n[1],a=(0,o.useState)(r?void 0:e),A=a[0],d=a[1],h=(0,u.ZS)(A),f=(0,o.useRef)(),p=(0,o.useCallback)(function(){if(!e)return void i(!1);if(!h.current||(null==(n=f.current)?void 0:n.src)!==e){i(!0);var n,r=new Image;f.current=r,r.src=e,r.onload=function(){c.add(e),t()&&(i(!1),d(e))},r.onerror=function(){i(!1)}}},[e]);return(0,l.Z)(function(){return p()},[p]),{isLoading:r,result:A}},d=n(86588),h=n(3635),f=n(68870),p=n.n(f),g=function(e){var t=e.size,n=void 0===t?28:t;return(0,i.jsx)(a.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:(0,i.jsx)(a.ZP,{className:p().skeleton,count:1,width:n,height:n,style:{lineHeight:"".concat(n,"px")},circle:!0})})},m=(0,o.memo)((0,o.forwardRef)(function(e,t){var n=e.size,o=e.style,a=e.color,s=e.photoURL,l=e.fallback,u=e.isLoading,c=e.className,f=e.displayName,m=e.isNoTooltip,v=e.isTransparent,y=e.tooltipSubText,b=A(s),w=b.isLoading,_=b.result;return u||w?(0,i.jsx)(g,{size:n}):f||l?(0,i.jsx)(d.Z,{disabled:m,subText:y,text:f||"No Eraser account found",contentClassName:(0,h.Z)(c,p().avatar,!!_&&p().hasImage,v&&p().isTransparent),contentStyle:(0,r.Z)({width:n,height:n,backgroundColor:a,backgroundImage:_?"url(".concat(_,")"):""},o),children:(0,i.jsx)("span",{className:p().fallback,ref:t,children:f?f.split(" ").slice(0,2).map(function(e){return e.charAt(0)}).join("").toUpperCase():l})}):null}))},2121:function(e,t,n){"use strict";var r=n(52322),i=n(3635),o=n(11163),a=n.n(o);t.Z=function(e){var t=e.variant,n=e.className,o=e.onClick,s=e.children,l=e.inverted,u=e.applyOpacity;return(0,r.jsx)("span",{onClick:o,role:o?"button":void 0,className:(0,i.Z)(a().badge,n,a()[void 0===t?"primary":t],l&&a().inverted,u&&a().opacity),style:{cursor:o?"pointer":"default"},children:s})}},79183:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(52322),a=n(2121);t.Z=function(e){return(0,o.jsx)(a.Z,(0,i.Z)((0,r.Z)({},e),{children:"beta"}))}},75280:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(52322),a=n(2121);t.Z=function(e){return(0,o.jsx)(a.Z,(0,i.Z)((0,r.Z)({variant:"secondary",applyOpacity:!0},e),{children:"upgrade"}))}},93995:function(e,t,n){"use strict";n.d(t,{Ct:function(){return r.Z},vw:function(){return i.Z},y6:function(){return o.Z}});var r=n(2121),i=n(79183),o=n(75280)},12171:function(e,t,n){"use strict";n.d(t,{c:function(){return h}});var r=n(70865),i=n(26297),o=n(52322),a=n(2784),s=n(3635),l=n(95343),u=n.n(l),c=n(36544),A=n.n(c),d=(0,a.forwardRef)(function(e,t){var n=e.value,l=e.onBlur,c=e.onEnter,d=e.classNames,h=e.placeholder,f=e.onLinkClick,p=e.mode,g=e.autoFocus,m=void 0!==g&&g,v=e.isReadOnly,y=e.isDisabled,b=void 0!==y&&y,w=e.href,_=(0,i.Z)(e,["value","onBlur","onEnter","classNames","placeholder","onLinkClick","mode","autoFocus","isReadOnly","isDisabled","href"]),E=(0,a.useRef)(!0),C=(0,a.useRef)(null);return(0,a.useImperativeHandle)(t,function(){return C.current}),(0,a.useEffect)(function(){C.current&&(C.current.textContent=n||"")},[n]),(0,a.useEffect)(function(){if(E.current&&m&&C.current){C.current.focus();var e=C.current.childNodes[0],t=window.getSelection(),r=document.createRange();n&&e&&(r.setStart(e,(null==n?void 0:n.length)||0),r.collapse(!0),null==t||t.removeAllRanges(),null==t||t.addRange(r)),E.current=!1}},[m,n]),(0,o.jsx)("div",{className:(0,s.Z)(A().breadCrumbRoot,null==d?void 0:d.root),"data-testid":"breadcrumb-".concat(n),children:"link"===(void 0===p?"edit":p)?(0,o.jsx)("a",{href:void 0===w?"/dashboard/all":w,onClick:function(e){e.preventDefault(),null==f||f(e)},className:(0,s.Z)(A().clickable,null==d?void 0:d.link,b&&A().disabled),children:n}):(0,o.jsx)("div",(0,r.Z)({ref:C,onBlur:function(e){null==l||l(e),e.currentTarget.scrollLeft=0},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=document.getSelection().getRangeAt(0);n.deleteContents();var r=document.createTextNode(t);n.insertNode(r),n.selectNodeContents(r),n.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(n)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),null==c||c(e))},"data-placeholder":h,contentEditable:!(void 0===v||v)&&!b,className:(0,s.Z)(A().breadCrumb,b&&A().disabled,u().standard)},_))})}),h=function(e){var t=e.children,n=e.className;return(0,o.jsx)("div",{className:(0,s.Z)(A().breadCrumbsRoot,n),children:t})};h.Item=d,d.displayName="BreadCrumb.Item"},95162:function(e,t,n){"use strict";n.d(t,{tr:function(){return o},u8:function(){return a},zx:function(){return v}});var r,i,o,a,s=n(70865),l=n(96670),u=n(26297),c=n(52322),A=n(2784),d=n(75426),h=n(86588),f=n(9107),p=n(3635),g=n(77322),m=n.n(g);(r=o||(o={})).REGULAR="regular",r.TRANSPARENT="transparent",r.TRANSPARENT_SUCCESS="transparent-success",r.TRANSPARENT_REGULAR="transparent-regular",r.SUBTLE="subtle",r.RELIEF_GREY="relief-grey",r.REVERSED="reversed",r.DANGER="danger",r.REVERSED_DANGER="reversed-danger",r.DARK="dark",r.LIGHT="light",r.OUTLINE="outline",r.OUTLINE_REGULAR="outline-regular",r.TOAST_BUTTON="toast-button",(i=a||(a={})).TINY="tiny",i.X_SMALL="x-small",i.SMALL="small",i.MEDIUM="medium",i.LARGE="large",i.X_LARGE="x-large";var v=function(e,t){var n=e.className,r=e.variant,i=void 0===r?o.REGULAR:r,d=e.size,g=void 0===d?a.MEDIUM:d,v=e.children,y=e.leftIcon,w=e.title,_=e.titlePlacement,E=e.titleShortcutKeys,C=e.isLoading,B=e.disabled,x=e.tooltipDisabled,I=e.tooltipClassName,T=e.isSelected,S=e.onMouseEnter,k=e.onMouseLeave,N=e.LoadingSpinner,D=e.skipDelay,O=(0,u.Z)(e,["className","variant","size","children","leftIcon","title","titlePlacement","titleShortcutKeys","isLoading","disabled","tooltipDisabled","tooltipClassName","isSelected","onMouseEnter","onMouseLeave","LoadingSpinner","skipDelay"]),R=(0,A.useRef)(null),F=(0,f.Z)(t,R),L=(0,c.jsx)("button",(0,l.Z)((0,s.Z)({},O),{onMouseEnter:S,onMouseLeave:k,ref:F,className:(0,p.Z)(m().button,m()[i],m()[g],C&&m().isLoading,T&&m().selected,n),disabled:B||C,children:(0,c.jsx)(b,{leftIcon:y,isLoading:C,variant:i,LoadingSpinner:N,children:v})}));return w?(0,c.jsx)(h.Z,{contentClassName:(0,p.Z)(m().tooltipWrapper,I),text:w,shortcutKeys:E,tooltipPopperProps:{placement:_||"bottom"},disabled:x,skipDelay:D,children:L}):L},y=function(){return(0,c.jsx)(d.Z,{})},b=function(e){var t=e.leftIcon,n=e.variant,r=e.isLoading,i=e.children,o=e.LoadingSpinner,a=t&&(0,A.cloneElement)(t,{className:(0,p.Z)(t.props.className,!i&&m().iconOnly,m().leftIcon)});return(0,c.jsxs)(c.Fragment,{children:[a,i,r&&(0,c.jsx)("span",{className:(0,p.Z)(m().spinnerWrapper,n&&m()["variant--".concat(n)]),children:(0,c.jsx)(void 0===o?y:o,{})})]})},w=(0,A.memo)((0,A.forwardRef)(v));Object.assign(w,{Variants:o,Sizes:a}),t.ZP=w},11747:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(3635),u=n(74025),c=n.n(u);t.Z=(0,s.memo)(function(e){var t=e.className,n=e.children,s=e.autoWidth,u=(0,o.Z)(e,["className","children","autoWidth"]);return(0,a.jsx)("div",(0,i.Z)((0,r.Z)({className:(0,l.Z)(c().buttonGroup,t,s&&c().autoWidth)},u),{children:n}))})},57753:function(e,t,n){"use strict";n.d(t,{X:function(){return u}});var r=n(52322),i=n(2784),o=n(37164),a=n(3635),s=n(11716),l=n.n(s),u=function(e){var t=e.label,n=e.onChange,s=e.isChecked,u=e.disabled,c=e.className,A=(0,i.useRef)((0,o.x0)());return(0,r.jsxs)("div",{className:(0,a.Z)(l().checkboxWrapper,c),children:[(0,r.jsx)("input",{type:"checkbox",id:A.current,disabled:u,checked:s,className:l().checkbox,onChange:function(){return n(!s)}}),(0,r.jsx)("label",{className:l().label,htmlFor:A.current,children:t})]})}},87230:function(e,t,n){"use strict";n.d(t,{c:function(){return h}});var r=n(70865),i=n(96670),o=n(52322),a=n(2784),s=n(3635),l=n(97420),u=n(56537),c=n.n(u),A=n(11716),d=n.n(A),h=function(e){var t=e.type,n=void 0===t?"block":t,u=e.options,A=e.className,h=e.name,f=e.label,p=e.explanation,g=e.onChange,m=e.disabled,v=e.optional,y=e.required,b=e.showSelectAll,w=e.onChangeSelected,_=e.gap,E=e.leftPadding,C=void 0===E?15:E,B=(0,a.useCallback)(function(e){var t=e.target,n=+t.value,o=u.map(function(e,o){return o===n?(0,i.Z)((0,r.Z)({},e),{checked:t.checked}):e});null==g||g(o),null==w||w(o.filter(function(e){return e.checked}).map(function(e){return e.value})),g||w||console.warn("[CheckboxGroup] No change handler provided")},[g,u,w]),x=u.every(function(e){return e.checked}),I=(0,a.useCallback)(function(){var e=u.map(function(e){return(0,i.Z)((0,r.Z)({},e),{checked:!x})});null==g||g(e),null==w||w(e.filter(function(e){return e.checked}).map(function(e){return e.value}))},[g,u,x,w]),T=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("fieldset",{className:(0,s.Z)(A,c().fieldset,c()[n]),disabled:m,style:{gap:"".concat(void 0===_?8:_,"px"),"--left-padding":"".concat(C,"px")},children:u.map(function(e,t){return(0,o.jsxs)("label",{className:(0,s.Z)(c().label,e.checked&&c().selected,"block"===n&&c().transparent),children:[(0,o.jsx)("input",{name:h,type:"checkbox",value:t,className:(0,s.Z)(d().checkbox,c().checkbox),checked:e.checked,disabled:m,onChange:B}),e.label]},e.id)})}),b?(0,o.jsxs)("div",{onClick:I,className:c().selectAll,style:{"--left-padding":"".concat(C,"px")},children:["Select ",x?"none":"all"]}):null]});return f?(0,o.jsx)(l.A,{label:f,explanation:p,optional:v,required:y,children:T}):T}},98061:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(52322),i=n(2784),o=n(11269),a=function(e){var t,n=e.fallbackIcon,a=e.size,s=void 0===a?16:a,l=e.className,u=(0,o.Rs)(),c=(0,i.useState)(!1),A=c[0],d=c[1],h=(0,i.useState)(!1),f=h[0],p=h[1],g=null==u||null==(t=u.config)?void 0:t.iconUrl;return((0,i.useEffect)(function(){g&&(d(!1),p(!1))},[g]),!g||f)?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsxs)(r.Fragment,{children:[!A&&n,(0,r.jsx)("img",{src:g,alt:"Company icon",className:l,style:{width:s,height:s,objectFit:"contain",display:A?"block":"none"},onLoad:function(){return d(!0)},onError:function(){return p(!0)}},g)]})}},46485:function(e,t,n){"use strict";n.d(t,{c:function(){return h}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(95162),u=n(2643),c=n(3635),A=n(65421),d=n.n(A),h=function(e,t){var n=e.title,s=e.isOpen,A=e.onCancel,h=e.onConfirm,f=e.description,p=e.onMouseDown,g=e.rootClassName,m=e.isDeletion,v=void 0!==m&&m,y=e.isLoading,b=e.confirmBtnText,w=(0,o.Z)(e,["title","isOpen","onCancel","onConfirm","description","onMouseDown","rootClassName","isDeletion","isLoading","confirmBtnText"]);return(0,a.jsxs)(u.Z,(0,i.Z)((0,r.Z)({},w),{ref:t,title:n,isOpen:!!s,onClose:A,onMouseDown:p,rootClassName:g,className:(0,c.Z)(d().confirmationModal),children:[(0,a.jsx)("div",{className:d().description,children:f}),(0,a.jsxs)("div",{className:d().actions,children:[(0,a.jsx)(l.ZP,{onClick:A,autoFocus:v,size:l.ZP.Sizes.LARGE,className:d().actionBtn,variant:l.ZP.Variants.OUTLINE,"data-testid":"confirmation-modal-cancel",children:"Cancel"}),(0,a.jsx)(l.ZP,{onClick:h,autoFocus:!v,size:l.ZP.Sizes.LARGE,className:d().actionBtn,"data-testid":"confirmation-modal-confirm",variant:v?l.ZP.Variants.DANGER:void 0,isLoading:y,children:void 0===b?"Confirm":b})]})]}))};t.Z=(0,s.memo)((0,s.forwardRef)(h))},85617:function(e,t,n){"use strict";t.Z=n(46485).Z},89262:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var r=n(52322),i=n(3635),o=n(35266),a=n.n(o),s=function(e){var t=e.space,n=e.isInvisible;return(0,r.jsx)("hr",{className:(0,i.Z)(a().divider,a()["size--".concat(void 0===t?"medium":t)],n&&a().transparent)})}},87705:function(e,t,n){"use strict";n.d(t,{Lt:function(){return O},Ng:function(){return R},ZP:function(){return F}});var r,i,o,a=n(70865),s=n(96670),l=n(26297),u=n(52322),c=n(2784),A=n(99283),d=n(32538),h=n(88404),f=n(62866),p=n(28563),g=n(89563),m=n(3635),v=n(19179),y=n(80498),b=n(55499),w=n(86588);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var E=function(e){return c.createElement("svg",_({width:14,height:4,viewBox:"0 0 14 4",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=c.createElement("path",{d:"M2 .333C1.083.333.333 1.083.333 2S1.083 3.667 2 3.667 3.667 2.917 3.667 2 2.917.333 2 .333zm10 0c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667S12.917.333 12 .333zm-5 0c-.917 0-1.667.75-1.667 1.667S6.083 3.667 7 3.667 8.667 2.917 8.667 2 7.917.333 7 .333z",fill:"currentColor"})))},C=n(36689),B=n.n(C),x=function(e){var t=e.isVisible,n=e.onClick,r=e.className,i=(0,l.Z)(e,["isVisible","onClick","className"]),o=(0,c.useContext)(b.c).controller;return(null==o?void 0:o.isOpen)||t?(0,u.jsx)("span",(0,s.Z)((0,a.Z)({},i),{className:(0,m.Z)(B().dots,r),onClick:n,children:(0,u.jsx)(h.J,{icon:E})})):null},I=n(35266),T=n.n(I),S=n(63630),k=n(51571);(r=o||(o={})).Grey="grey",r.LightGrey="lightGrey",r.LightGreyContrast="lightGreyContrast",r.Transparent="transparent",r.Input="input";var N={modifiers:[{name:"offset",options:{offset:function(e){switch(e.placement){case"right-end":return[8,18];case"bottom-end":case"bottom-start":return[0,18];default:return[-8,18]}}}}]},D=function(e){var t=e.hint,n=e.icon,r=e.title,i=e.isOpen,o=e.testId,a=e.variant,s=e.showCaret,l=e.isFocused,f=e.isDisabled,p=e.popupToggleRef,v=e.toggleClassNames,y=e.toggleStyle,_=(0,c.useContext)(b.c).isTopLevel;(0,k.Y)(l,null==p?void 0:p.current);var E=(0,c.useCallback)(function(){if(!_){var e;null==p||null==(e=p.current)||e.focus()}},[_,p]),C=(0,c.useCallback)(function(){var e;null==p||null==(e=p.current)||e.blur()},[p]),B=(0,u.jsxs)("span",{className:(0,m.Z)(T().toggle,null==v?void 0:v.root,l&&T().isFocused,f&&T().isDisabled,!_&&T().isSubMenu,i&&(null==v?void 0:v.open),a&&T()["variant--".concat(a)]),onMouseEnter:E,onMouseLeave:C,"data-is-dropdown-active":i,"data-testid":o,children:[!!n&&(0,u.jsx)("span",{className:(0,m.Z)(T().icon,null==v?void 0:v.icon),children:n}),(0,u.jsx)("span",{className:(0,m.Z)(T().content,null==v?void 0:v.content,s&&T().hasCaret,!_&&!s&&T().noMargin),style:y,children:r}),_?s&&(0,u.jsx)(A.Z,{className:(0,m.Z)(T().caretIcon,null==v?void 0:v.caret,i&&T().isOpen)}):(0,u.jsx)("span",{className:T().rightElement,children:(0,u.jsx)(h.J,{icon:d.Z})})]});return t?(0,u.jsx)(w.Z,{text:(0,u.jsxs)("span",{className:T().hint,children:[(0,u.jsx)("span",{children:t.label}),!!t.shortcutKeys&&(0,u.jsx)(g.P,{className:T().shortcut,keys:t.shortcutKeys})]}),popperProps:t.popperProps,tooltipPopperProps:{placement:t.placement||"top"},disabled:i,children:B}):B},O=function(e){var t,n,r,i,o,l,A,d,h,g,b,w,_,E=e.icon,C=e.hint,B=e.width,x=e.search,I=e.testId,k=e.spacing,O=e.minWidth,R=e.applyMinWidthToToggle,F=e.isHidden,L=e.asNested,U=e.maxHeight,P=e.isDisabled,M=e.classNames,j=e.onOpenChange,Z=e.toggleClassNames,Q=e.showCaret,H=e.keyboardShortcut,V=e.isMountedInPopper,K=e.takeWidthOfToggle,z=e.renderPopupInPortal,G=e.variant,W=e.toggleRef,q=e.stayOpenOnOutsideClick,$=(0,y.Z)({defaultIsOpen:!1}),Y=$.isOpen,J=$.onClose,X=$.onOpen,ee=(0,c.useRef)(null),et=null!=W?W:ee,en=(0,f.QR)(),er=(o=(i=e).title,l=i.noSelectionTitle,A=i.selected,d=i.children,h=i.selectionVariant,g=i.onSelect,b=null!=o?o:null,w=c.Children.map(d,function(e,t){if((0,c.isValidElement)(e)){if(e.type===p.Z){var n,r,i=e.props,o=(n=e.key,!!i.isSelected||null!=n&&n===A||!!i.label&&i.label===A),a={key:null!=(r=e.key)?r:t,isSelected:o,selectionVariant:h};return!b&&o&&(b=i.label),o&&(a.isSelected=!0),g&&(a.onClick=function(t){var n,r,o,a="".concat(null!=(o=null!=(r=e.key)?r:i.label)?o:"");a||console.warn("Passed onSelect but no key or label found!"),g(a),null==(n=i.onClick)||n.call(i,t)}),(0,c.cloneElement)(e,a)}return e}}),null!=b||(b=l),{title:(0,u.jsx)("span",{className:T().title,children:b}),children:w}),ei=er.title,eo=er.children;(0,c.useEffect)(function(){var e=function(e){(0,v.cK)(document.activeElement)||P||F||!H||e.metaKey||e.shiftKey||e.ctrlKey||e.altKey||e.key===H&&(e.preventDefault(),e.stopPropagation(),en.openPopup())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[H,F,P,en]);var ea=K?null==(_=et.current)?void 0:_.clientWidth:B,es=(0,c.useCallback)(function(){P||null==j||j(!0)},[P,j]);return(0,u.jsxs)(f.GI,{asNested:L,controller:en,onShow:es,onHide:function(){return null==j?void 0:j(!1)},children:[(0,u.jsx)(f.GI.Toggle,{ref:et,onBlur:J,onFocus:X,isDisabled:P,className:(0,m.Z)(null==Z?void 0:Z.button,T().popupToggle),children:(0,u.jsx)(D,{hint:C,icon:E,title:ei,testId:I,variant:G,showCaret:void 0===Q||Q,isFocused:Y,isDisabled:P,isOpen:en.isOpen,popupToggleRef:et,toggleClassNames:Z,toggleStyle:R?{minWidth:O}:void 0})}),(0,u.jsx)(f.GI.Menu,(0,s.Z)((0,a.Z)({disableArrow:!0,ignoreClicksOnTargetNode:!0,className:(0,m.Z)(T().popper,null==M?void 0:M.popupMenu),renderInPortal:z,style:{minWidth:O,width:ea}},V?{closeOnOtherPopperClick:!0}:{}),{popperProps:(n=(t=e).popperModifiers,r=t.popperPlacement,n||r?{modifiers:n,placement:r}:N),stayOpenOnOutsideClick:q,children:(0,u.jsx)(S.Z,{search:x,spacing:k,maxHeight:U,className:null==M?void 0:M.menu,children:eo})}))]})};O.Variants=o;var R=function(e){var t=e.isOpen,n=e.isHidden,r=e.toggleClassNames,i=e.testId,o=(0,l.Z)(e,["isOpen","isHidden","toggleClassNames","testId"]);return(0,u.jsx)(O,(0,s.Z)((0,a.Z)({},o),{isOpen:t,isHidden:n,applyMinWidthToToggle:!1,showCaret:!1,toggleClassNames:(0,s.Z)((0,a.Z)({},r),{button:(0,m.Z)(T().threeDotsDropdown,null==r?void 0:r.button),root:(0,m.Z)(T().threeDotsDropdownToggle,null==r?void 0:r.root)}),title:(0,u.jsx)(x,{isVisible:t||!n,onClick:function(e){return e.preventDefault()},"data-testid":i})}))},F=O},63630:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(3635),u=n(89262),c=n(35266),A=n.n(c),d=n(55929),h=(0,s.memo)(function(e){var t=e.value,n=e.placeholder,r=e.notFoundText,i=void 0===r?"No matches":r,o=e.isEnabled,l=e.isSearchEmpty,c=e.onChange,h=(0,s.useCallback)(function(e){c(e.currentTarget.value.trim())},[c]);return o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:A().search,children:(0,a.jsx)(d.Z,{autoFocus:!0,value:t,className:A().searchField,placeholder:void 0===n?"Search":n,onChange:h})}),(0,a.jsx)(u.K,{}),!!t&&l&&i&&(0,a.jsx)("span",{className:A().searchNotFound,children:i})]}):null}),f=n(51571),p=function(e){var t=e.spacing,n=e.maxHeight,c=e.children,d=e.className,p=e.search,g=e.disableKeyboardNavigation,m=(0,o.Z)(e,["spacing","maxHeight","children","className","search","disableKeyboardNavigation"]),v=(0,s.useRef)(null),y=(0,s.useState)(""),b=y[0],w=y[1];(0,f.a)(v,void 0!==g&&g);var _=b?s.Children.toArray(c).filter(function(e){if(!(0,s.isValidElement)(e)||e.type===u.K)return!1;var t=e.props,n=t.label,r=t.children;return!n&&!r||!!n&&n.toLowerCase().includes(b.toLowerCase())}):c;return(0,a.jsxs)("div",(0,i.Z)((0,r.Z)({ref:v,className:(0,l.Z)(A().wrapper,d),style:{maxHeight:(void 0===n?400:n)||"initial"}},m),{children:[(null==p?void 0:p.isEnabled)&&(0,a.jsx)(h,(0,i.Z)((0,r.Z)({},p),{value:b,isSearchEmpty:!c,onChange:w})),(0,a.jsx)("div",{className:(0,l.Z)(A().list,A()["spacing--".concat(void 0===t?"small":t)]),children:_})]}))}},52362:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var r=n(52322),i=n(87705),o=n(28563),a=n(35266),s=n.n(a),l=function(e){var t=e.unopenedText,n=e.dropdownOptions,a=e.className,l=void 0===a?s().accessBadge:a;return n.length?(0,r.jsx)(i.Lt,{title:t,isMountedInPopper:!0,asNested:!1,variant:i.Lt.Variants.LightGrey,popperModifiers:[{name:"offset",options:{offset:[0,8]}}],children:n.map(function(e){var t=e.label,n=e.asyncOnClick;return(0,r.jsx)(o.Z,{label:t,asyncOnClick:n},t)})}):(0,r.jsx)("div",{className:l,children:t})}},66804:function(e,t,n){"use strict";n.d(t,{KE:function(){return o.K},Lt:function(){return r.ZP},Ng:function(){return r.Ng},sV:function(){return i.Z}});var r=n(87705),i=n(63630),o=n(89262)},51571:function(e,t,n){"use strict";n.d(t,{Y:function(){return c},a:function(){return u}});var r=n(42838),i=n(2784),o=n(55499),a=function(e){return null==e.getAttribute("disabled")&&e.matches("a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  [tabindex],\n  [contentEditable=true]")},s=function(e){var t=null;if(!e)return t;var n=!0,i=!1,o=void 0;try{for(var l,u=Array.from(e.children)[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value;if(null==t){if(a(c)&&(0,r.Z)(c,HTMLElement)){t=c;continue}c.children.length>0&&(t=s(c))}}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return t},l=function(e,t,n){var r="prev"===n?null==e?void 0:e.previousElementSibling:null==e?void 0:e.nextElementSibling;return r?a(r)?r:l(r,t,n):s(t)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.useContext)(o.c),r=n.isTopLevel,a=n.target,u=n.parentMenu,c=(0,i.useContext)(o.c).getDescendantPopups;(0,i.useEffect)(function(){var n;if(!t&&!r&&!(null==(n=e.current)?void 0:n.contains(document.activeElement))){var i=s(e.current);null==i||i.focus()}},[e,t,r]),(0,i.useEffect)(function(){if(!t){var n=function(t){if(!(c().length>0))switch(t.key){case"ArrowUp":var n=l(document.activeElement,e.current,"prev");n&&(t.preventDefault(),n.focus());break;case"ArrowDown":var i=l(document.activeElement,e.current,"next");i&&(t.preventDefault(),i.focus());break;case"ArrowLeft":if(r)return;null==a||a.focus(),null==u||u.closeDescendentPopups()}};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}},[r,u,a,c,t,e])},c=function(e,t){var n=(0,i.useContext)(o.c),r=n.isTopLevel,a=n.target,s=n.parentMenu,l=n.controller,u=n.setTarget;(0,i.useEffect)(function(){if(!r&&e&&t){var n=function(e){("ArrowRight"===e.key||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),!a&&t&&(u(t),null==s||s.closeDescendentPopups(l)))};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}},[l,e,r,s,t,u,a])}},88404:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(70865),i=n(96670),o=n(26297),a=n(3635),s=function(e){var t=e.icon,n=e.color,s=e.className,l=(0,o.Z)(e,["icon","color","className"]);return"function"!=typeof t?null:t((0,r.Z)((0,i.Z)((0,r.Z)({},l),{className:(0,a.Z)(s)}),n?{color:"var(--".concat(n,")")}:{}))}},47829:function(e,t,n){"use strict";n.d(t,{u:function(){return m}});var r,i=n(52322),o=n(3635),a=n(2784),s=n(60131),l=n(95162);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var c=function(e){return a.createElement("svg",u({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6a6 6 0 1112 0A6 6 0 010 6zm5-1.946a.4.4 0 01.398-.001l2.8 1.6a.4.4 0 010 .694l-2.8 1.6A.4.4 0 014.8 7.6V4.4a.4.4 0 01.2-.346z",fill:"currentColor"})))},A=n(81625),d=n.n(A),h=function(e){var t=e.videoId,n=e.className,r=e.height,u=e.width,A=e.buttonText,h=e.thumbnail,p=void 0===h?"https://img.youtube.com/vi/".concat(t,"/0.jpg"):h,g=e.openExternal,m=void 0!==g&&g,v=(0,s.j)(),y=(0,a.useState)(null),b=y[0],w=y[1],_=(0,a.useState)(!1),E=_[0],C=_[1],B=(0,a.useRef)(null);(0,a.useEffect)(function(){v&&t&&(f||(f=new Promise(function(e){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.onload=e,t.src="https://www.youtube.com/iframe_api",n.parentNode.insertBefore(t,n)}))).then(function(){var e,n,r,i;return e=t,n=v,r=function(e){return w(e)},void(i=window.YT).ready(function(){var t=new i.Player(n,{videoId:e,playerVars:{modestbranding:1,playsinline:1,controls:1,showinfo:0,rel:0},events:{onReady:function(){return null==r?void 0:r(t)},onError:void 0}})})})},[t,v]);var x=(0,a.useCallback)(function(){m?window.open("https://www.youtube.com/watch?v=".concat(t),"_blank"):(null==b||b.playVideo(),C(!0))},[b,m,t]);return(0,i.jsxs)("div",{className:(0,o.Z)(d().videoContainer,n),style:{width:void 0===u?"100%":u,height:r},ref:B,children:[(0,i.jsx)("div",{id:v,className:d().player}),!E&&(0,i.jsx)("div",{className:d().overlay,style:{backgroundImage:"url(".concat(p,")")},children:(0,i.jsx)("div",{className:d().buttonContainer,children:(0,i.jsx)(l.ZP,{onClick:x,leftIcon:(0,i.jsx)(c,{height:14,width:14}),className:d().button,children:void 0===A?"Watch video":A})})})]})},f=null,p=n(85950),g=n.n(p),m=Object.assign(function(e){var t=e.children,n=e.className,r=e.style;return(0,i.jsx)("div",{className:(0,o.Z)(g().emptyStateRoot,n),style:r,children:(0,i.jsx)("div",{className:g().emptyStateContent,children:t})})},{PrimaryIcon:function(e){var t=e.children,n=e.className;return(0,i.jsx)("div",{className:(0,o.Z)(g().primaryIcon,n),children:t})},IconTray:function(e){var t=e.children,n=e.className;return(0,i.jsx)("div",{className:(0,o.Z)(g().iconTray,n),children:t})},TextSection:function(e){var t=e.children,n=e.className;return(0,i.jsx)("div",{className:(0,o.Z)(g().textSection,n),children:t})},Bottom:function(e){var t=e.children,n=e.className;return(0,i.jsx)("div",{className:(0,o.Z)(g().bottom,n),children:t})},Media:function(e){var t=e.videoId,n=e.ctaText,r=e.thumbnail,a=e.children,s=e.className;return(0,i.jsx)("div",{className:(0,o.Z)(g().media,s),children:t&&(0,i.jsx)(h,{videoId:t,buttonText:n,thumbnail:r,children:a})})}})},58869:function(e,t,n){"use strict";var r,i,o=n(70865),a=n(96670),s=n(52322),l=n(3635),u=n(28695),c=n.n(u);(r=i||(i={})).LightGrey="lightGrey",r.Primary="primary",r.Error="error",r.Warning="warning",r.Transparent="transparent",t.Z=Object.assign(function(e){var t=e.variant,n=void 0===t?i.LightGrey:t,r=e.className,u=e.width,A=e.children,d=e.style,h=u?(0,a.Z)((0,o.Z)({},d),{width:u}):d;return(0,s.jsx)("span",{style:h,className:(0,l.Z)(c().infoBlock,c()["variant--".concat(n)],r),children:A})},{Variants:i})},47519:function(e,t,n){"use strict";n.d(t,{U:function(){return r.Z}});var r=n(58869)},97420:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(86588),u=n(71946),c=n.n(u),A=n(3635),d=n(95162),h=(0,s.forwardRef)(function(e,t){var n=e.className,s=e.labelClassNames,u=void 0===s?{}:s,h=e.label,f=e.required,p=e.children,g=e.optional,m=e.tooltip,v=e.errorMessage,y=e.explanation,b=e.optionLink,w=e.onOptionClicked,_=e.optionDisabled,E=(0,o.Z)(e,["className","labelClassNames","label","required","children","optional","tooltip","errorMessage","explanation","optionLink","onOptionClicked","optionDisabled"]),C=u.labelText,B=u.root,x=!!(v||y),I=!!v;return(0,a.jsxs)("label",(0,i.Z)((0,r.Z)({className:(0,A.Z)(c().inputLabel,n,B)},E),{ref:t,children:[!!h&&(0,a.jsxs)("div",{className:(0,A.Z)(c().label,C),onClick:function(e){e.target===e.currentTarget&&e.preventDefault()},children:[h,f?(0,a.jsx)("span",{className:c().required,children:"Required"}):g?(0,a.jsx)("span",{className:c().required,children:"Optional"}):null,b&&!_&&(0,a.jsx)(d.ZP,{className:(0,A.Z)(c().option),variant:d.ZP.Variants.REVERSED,size:d.ZP.Sizes.LARGE,onClick:w,children:b})]}),(0,a.jsx)("div",{className:c().field,children:m?(0,a.jsx)(l.Z,{text:m,children:p}):p}),x&&(0,a.jsx)("div",{className:(0,A.Z)(c().explanation,I&&c().error),children:I?v:y})]}))});h.displayName="InputLabel"},95691:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(52322),i=n(2784),o=n(11269),a=n(50930),s=n(89325),l=n(96933),u=n(45403),c={keys:[{name:"email",weight:1},{name:"displayName",weight:2}],threshold:.3,includeScore:!0,ignoreLocation:!0},A=n(47842),d=n(83433),h=n(5919),f=n(66842),p=n(70865),g=n(96670),m=n(26297),v=n(2332),y=n(54848),b=n(3635),w=n(75391),_=n.n(w),E=function(e){var t=e.profile,n=e.data,i=e.shouldIncludeEmails,o=e.isActive,a=e.onMouseUp,s=e.onClick,l=e.onActivate;return(0,r.jsx)("div",{className:(0,b.Z)(_().knownPersonInfo,o&&_().isActive,i?_().knownPersonInfoMedium:_().knownPersonInfoSmall),onMouseUp:a,onClick:s,onMouseEnter:l,children:t?(0,r.jsxs)("div",{className:(0,b.Z)(_().member,i?_().memberMedium:_().memberSmall),children:[(0,r.jsx)(y.Z,(0,g.Z)((0,p.Z)({},t),{className:(0,b.Z)(i?_().avatarMedium:_().avatarSmall)})),(0,r.jsxs)("div",{className:(0,b.Z)(_().label,i?_().labelMedium:_().labelSmall),children:[t.displayName,i?(0,r.jsx)("div",{className:_().email,children:n.email}):null]})]}):(0,r.jsx)("div",{className:_().guest,children:n.email})})},C=(0,i.memo)(function(e){var t=e.data,n=(0,m.Z)(e,["data"]),o=(0,v.ZP)(t.userId),a=(0,i.useCallback)(function(e){e.stopPropagation()},[]);return t.userId&&!o?null:(0,r.jsx)(E,(0,g.Z)((0,p.Z)({data:t,profile:o},n),{onMouseUp:a}))}),B=function(e){var t,n=e.className,o=e.matchingPeople,a=e.onSelect,s=e.onCancel,l=e.shouldIncludeEmails,u=e.width,c=(0,i.useRef)(null),p=(0,d.c)({containerRef:c,items:o,onSelect:a,onCancel:s}),g=p.activeIndex,m=p.setActiveIndex,v=p.handleContainerMouseDown;return o.length?(0,r.jsx)(h.Z,(t={ref:c,style:u?{width:u}:{},className:n,onMouseDown:v,onClick:v},(0,A.Z)(t,f.DO,!0),(0,A.Z)(t,"children",o.map(function(e,t){return(0,r.jsx)(C,{data:e,isActive:g===t,onActivate:m.bind(null,t),onClick:a.bind(null,e),shouldIncludeEmails:l},e.email)})),t)):null},x=n(47330),I=n(28121),T=n.n(I),S=function(e){var t=e.targetNode,n=e.className,o=e.matchingPeople,a=e.onSelect,s=e.onCancel,l=e.shouldIncludeEmails,u=e.isPopperVisible,c=(0,i.useMemo)(function(){return null==t?void 0:t.getBoundingClientRect().width},[t]);return o.length?(0,r.jsx)(x.Z,{className:T().dropdownPopper,arrowClassName:T().hidden,targetNode:t,placement:"bottom-start",popperProps:{modifiers:[{name:"flip"}]},visible:u,shouldUseDomObserver:!0,children:(0,r.jsx)(B,{width:c,className:(0,b.Z)(n,T().popperListBox),onSelect:a,matchingPeople:o,onCancel:s,shouldIncludeEmails:l})}):null},k=(0,i.memo)(function(e){var t=e.targetNode,n=e.className,A=e.search,d=e.withProfileOnly,h=e.includeSelf,f=e.onSelect,p=e.searchOnEmptyString,g=e.onCancel,m=e.onSearchFinished,v=e.shouldIncludeEmails,y=e.isPopperVisible,b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hasProfile,r=t.includeSelf,A=void 0!==r&&r,d=t.searchOnEmptyString,h=void 0===d||d,f=t.filterPredicate,p=t.disabled,g=void 0!==p&&p,m=t.onSearchFinished,v=t.maxResults,y=void 0===v?5:v,b=(0,u.Pe)(),w=(0,o.LP)(),_=(0,l.II)(),E=(0,i.useState)([]),C=E[0],B=E[1],x=(0,i.useState)(!1),I=x[0],T=x[1],S=(0,i.useRef)(null);return(0,i.useEffect)(function(){if(!w||g){B([]),T(!1),S.current=null;return}return S.current=null,T(!1),b.knownPeople.subscribeByTeam(w,function(e,t){B(e),S.current?(t.deleted.forEach(function(e){S.current.remove(function(t){return t.id===e})}),t.created.forEach(function(e){S.current.add(e)}),t.updated.forEach(function(e){S.current.remove(function(t){return t.id===e.id}),S.current.add(e)})):(S.current=new s.Z(e,c),T(!0))})},[w,g]),{items:(0,i.useMemo)(function(){var t,r=function(e){var t=0;return e.isMember&&(t+=100),e.hasProfile&&(t+=50),e.isNameKnown&&(t+=10),t};if(!I||!S.current||"string"!=typeof e||""===e&&!h)return[];if(e.length>0)t=S.current.search(e).map(function(e){return{item:e.item,combinedScore:(1-(e.score||0))*100+r(e.item)}}).sort(function(e,t){return t.combinedScore-e.combinedScore}).map(function(e){return e.item});else{var i=(t=(0,a.Z)(C).sort(function(e,t){return r(t)-r(e)})).filter(function(e){return e.hasProfile}),o=t.filter(function(e){return!e.hasProfile});t=(0,a.Z)(i).concat((0,a.Z)(o))}var s=t;n&&(s=s.filter(function(e){return e.hasProfile})),!A&&_&&(s=s.filter(function(e){return e.memberId!==_})),f&&(s=s.filter(f));var l=s.slice(0,y);return m&&m(l.length),l},[e,I,C,n,A,_,f,h,m,y])}}(A,{hasProfile:!!d||void 0,includeSelf:h,searchOnEmptyString:p,filterPredicate:e.filterPredicate,disabled:!(0,o.Rs)(),onSearchFinished:m}).items;return(0,r.jsx)(S,{isPopperVisible:void 0===y||y,targetNode:t,className:n,onSelect:f,matchingPeople:b,onCancel:g,shouldIncludeEmails:v})})},63842:function(e,t,n){"use strict";n.d(t,{d:function(){return c}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(3635),l=n(47837),u=n.n(l),c=function(e){var t=e.className,n=e.children,l=(0,o.Z)(e,["className","children"]);return(0,a.jsx)("a",(0,i.Z)((0,r.Z)({target:"_blank",spellCheck:!1,rel:"noreferrer"},l),{className:(0,s.Z)(u().link,t),children:n}))}},48123:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(3635),l=n(47837),u=n.n(l),c=function(e){var t=e.className,n=e.children,l=(0,o.Z)(e,["className","children"]);return(0,a.jsx)("a",(0,i.Z)((0,r.Z)({spellCheck:!1},l),{className:(0,s.Z)(u().link,t),children:n}))}},26942:function(e,t,n){"use strict";n.d(t,{dL:function(){return r.d},h$:function(){return d.h},c2:function(){return A}});var r=n(63842),i=n(70865),o=n(96670),a=n(26297),s=n(52322),l=n(3635),u=n(36421),c=n.n(u),A=function(e){var t=e.className,n=e.children,r=(0,a.Z)(e,["className","children"]);return(0,s.jsx)("a",(0,o.Z)((0,i.Z)({role:r.onClick?"button":void 0},r),{className:(0,l.Z)(c().link,t),children:n}))},d=n(48123)},5919:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(3635),u=n(5021),c=n.n(u);t.Z=(0,s.memo)((0,s.forwardRef)(function(e,t){var n=e.className,u=e.children,A=(0,o.Z)(e,["className","children"]),d=(0,s.useState)(!0),h=d[0],f=d[1];(0,s.useEffect)(function(){var e=function(e){("ArrowDown"===e.code||"ArrowUp"===e.code)&&f(!1)},t=function(){f(!0)};return window.addEventListener("keydown",e),window.addEventListener("mousemove",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("mousemove",t)}},[]);var p=Array.isArray(u)?s.Children.map(u,function(e){return(0,s.isValidElement)(e)&&e.props.onActivate?(0,s.cloneElement)(e,(0,i.Z)((0,r.Z)({},e.props),{onActivate:h?e.props.onActivate:function(){return null}})):e}):u;return(0,a.jsx)("div",(0,i.Z)((0,r.Z)({ref:t,className:(0,l.Z)(c().listBox,n)},A),{children:p}))}))},83433:function(e,t,n){"use strict";n.d(t,{c:function(){return l}}),n(5919);var r=n(70865),i=n(2784),o=n(20189),a=n(22805),s=n(19179);function l(e){var t=e.containerRef,n=e.items,l=e.customScrollIntoView,u=e.scrollOptions,c=void 0===u?{block:"center"}:u,A=e.allowJumpToFirstOnLast,d=void 0===A||A,h=e.onSelect,f=e.onCancel,p=e.isListOpen,g=void 0===p||p,m=e.options,v=void 0===m?{shouldTabKeySelect:!0,additionalOnSelectShortcuts:[],whenShouldHookBeActive:"always"}:m,y=v.shouldTabKeySelect,b=v.whenShouldHookBeActive,w=v.additionalOnSelectShortcuts,_=(0,i.useState)(0),E=_[0],C=_[1],B=(0,i.useCallback)(function(e){e.stopPropagation(),e.preventDefault()},[]),x=(0,i.useMemo)(function(){return!1===g?function(){return!0}:"always"===b?function(){return!1}:"whenNoInputIsFocused"===b?function(e,t){return(null==t?void 0:t.tagName)==="INPUT"||(null==t||t.tagName,!1)}:null},[b,g]),I=(0,i.useCallback)(function(e){C(function(r){var i=r+e;if(i<0?i=d?n.length-1:0:i>=n.length&&(i=d?0:n.length-1),l)l(i,n);else{var o,a=null==t||null==(o=t.current)?void 0:o.children[i];a&&(0,s.zT)(a,c)}return i})},[d,t,l,n,c]),T=(0,i.useCallback)(function(e){return(null==x?void 0:x(e,document.activeElement))||!!document.querySelector('[data-is-dropdown-active="true"]')},[x]),S=(0,i.useCallback)(function(e){!T(e)&&n.length&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),I(-1))},[n.length,I,T]),k=(0,i.useCallback)(function(e){!T(e)&&n.length&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),I(1))},[n.length,I,T]),N=(0,i.useCallback)(function(e){!T(e)&&n.length&&-1!==E&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),h(n[E],e))},[E,n,h,T]),D=null==w?void 0:w.reduce(function(e,t){return e[t]=function(e){return N(e)},e},{});(0,a.Z)((0,r.Z)({up:S,down:k,enter:N,esc:f||function(){},"ctrl+enter":N,"command+enter":N,"shift+tab":y?void 0:S},D),{stopCallback:x}),(0,o.Z)(t||{current:null},function(){return null==f?void 0:f()});var O=(0,i.useCallback)(function(e){"Tab"!==e.key||e.shiftKey||(y?N(e):k(e))},[k,N,y]);return(0,i.useEffect)(function(){return window.addEventListener("keydown",O,!0),function(){window.removeEventListener("keydown",O,!0)}},[O]),(0,i.useEffect)(function(){C(0)},[n.length]),{activeIndex:E,setActiveIndex:C,handleContainerMouseDown:B}}},12567:function(e,t,n){"use strict";n.d(t,{v:function(){return f}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322);n(2784);var s=n(3635),l=n(88404),u=n(32538),c=n(95343),A=n.n(c),d=n(22298),h=n.n(d),f=function(e){var t=e.icon,n=e.isActive,c=e.subTitle,d=e.className,f=e.mainTitle,p=e.isBackable,g=e.endContent,m=e.mainContent,v=e.isExpandable,y=e.disableHover,b=e.secondaryTitle,w=e.classNames,_=void 0===w?{}:w,E=(0,o.Z)(e,["icon","isActive","subTitle","className","mainTitle","isBackable","endContent","mainContent","isExpandable","disableHover","secondaryTitle","classNames"]);return(0,a.jsxs)("div",(0,i.Z)((0,r.Z)({},E),{className:(0,s.Z)(d,h().root,_.root,n&&h().isActive,n&&_.rootActive,y&&h().disableHover),children:[t&&(0,a.jsx)("div",{className:(0,s.Z)(h().icon,_.icon),children:t}),p&&(0,a.jsx)("div",{className:h().backIcon,children:(0,a.jsx)(l.J,{icon:u.Z,width:12,height:12})}),(0,a.jsx)("div",{className:h().content,children:m||(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:h().title,children:[(0,a.jsx)("span",{className:(0,s.Z)(h().mainTitle,A().standard,_.mainTitle,!!b&&h().fitWidth),children:f}),b&&(0,a.jsx)("span",{className:h().secondaryTitle,children:b})]}),c&&(0,a.jsx)("div",{className:(0,s.Z)(_.subTitle,h().subTitle),children:c})]})}),v&&(0,a.jsx)("div",{className:h().forwardIcon,children:(0,a.jsx)(l.J,{icon:u.Z,width:12,height:12})}),g&&(0,a.jsx)("div",{className:_.endContent,children:g})]}))}},30678:function(e,t,n){"use strict";n.d(t,{s:function(){return h}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(2332),u=n(54848),c=n(3635),A=n(7971),d=n.n(A),h=function(e){var t=e.userId,n=e.onClick,A=e.className,h=(0,o.Z)(e,["userId","onClick","className"]),f=(0,l.ZP)(t),p=(0,s.useCallback)(function(){return null==n?void 0:n(t)},[t,n]);return(0,a.jsx)(u.Z,(0,i.Z)((0,r.Z)({},h,f),{isLoading:!f,onClick:p,className:(0,c.Z)(d().avatar,A)}))};t.Z=(0,s.memo)(h)},2643:function(e,t,n){"use strict";n.d(t,{Z:function(){return T},B:function(){return C}});var r,i,o=n(70865),a=n(96670),s=n(26297),l=n(50930),u=n(52322),c=n(2784),A=n(5632),d=n(20417),h=n(95162),f=n(88404),p=n(28316),g=(0,c.memo)(function(e){var t=e.children;return(0,p.createPortal)(t,document.body)}),m=n(89563),v=n(3635),y=n(52305),b=n.n(y),w=n(9107);(r=i||(i={})).Large="large",r.XL="xl";var _="eraser-modal-dialog",E="eraser-modal-container",C=function(){return null!=document.getElementById(_)},B=function(e){if(!e)return!1;var t=document.querySelectorAll("#".concat(E));return t[t.length-1]===e},x=function(e,t){var n=e.size,r=e.title,i=e.isOpen,p=e.onClose,y=e.children,C=e.className,x=e.rootClassName,I=e.headerClassName,T=e.bottomGradient,S=e.theme,k=void 0===S?"light":S,N=e.hideCloseButton,D=e.fireCloseOnKeys,O=void 0===D?[]:D,R=e.contentWrapperClassName,F=e.showTitleSeparator,L=e.closeButtonVariant,U=e.width,P=e.height,M=(0,s.Z)(e,["size","title","isOpen","onClose","children","className","rootClassName","headerClassName","bottomGradient","theme","hideCloseButton","fireCloseOnKeys","contentWrapperClassName","showTitleSeparator","closeButtonVariant","width","height"]),j=(0,A.useRouter)(),Z=(0,c.useRef)(null),Q=(0,c.useRef)(null),H=(0,w.Z)(t,Z),V=(0,c.useCallback)(function(e){e.stopPropagation()},[]),K=(0,c.useCallback)(function(e){e.stopPropagation()},[]),z=(0,c.useRef)(i);z.current=i,(0,c.useEffect)(function(){if(p){var e=function(){z.current&&p()};return null==j||j.events.on("routeChangeStart",e),function(){null==j||j.events.off("routeChangeStart",e)}}},[p,j]);var G=(0,c.useCallback)(function(e){var t=["Escape"].concat((0,l.Z)(O)),n=Z.current;!p||!t.includes(e.key)||i&&B(n)&&(e.preventDefault(),e.stopPropagation(),p())},[i,p,O]);(0,c.useEffect)(function(){return window.addEventListener("keydown",G),function(){window.removeEventListener("keydown",G)}},[G]);var W=(0,c.useCallback)(function(e){e.stopPropagation(),Q.current=e.target.id||null},[]),q=(0,c.useCallback)(function(e){e.stopPropagation(),Q.current===E&&p&&p(),Q.current=null},[p]);return i?(0,u.jsx)(g,{children:(0,u.jsx)("div",{ref:H,id:E,onMouseUp:q,onMouseDown:W,className:(0,v.Z)(b().modal,x,"dark"===k&&b().isDarkMode,"modal"),children:(0,u.jsxs)("div",(0,a.Z)((0,o.Z)({},M),{id:_,onClick:V,onPointerDown:K,className:(0,v.Z)(b().dialog,C,!!n&&b()[n],T&&b().hasBottomGradient,!r&&b().addTopPadding),style:{width:U,height:P},children:[!p||N?null:"cross"===(void 0===L?"cross":L)?(0,u.jsx)("button",{type:"button",onClick:p,className:(0,v.Z)(b().closeBtn,b().closeBtnCross),children:(0,u.jsx)(f.J,{icon:d.Z})}):(0,u.jsxs)(h.ZP,{onClick:p,size:h.ZP.Sizes.SMALL,variant:h.ZP.Variants.SUBTLE,className:(0,v.Z)(b().closeBtn,b().closeBtnText),children:["Close",(0,u.jsx)(m.P,{keys:["Esc"]})]}),!!r&&(0,u.jsx)("header",{className:(0,v.Z)(b().header,I),children:r}),void 0!==F&&F&&(0,u.jsx)("hr",{className:b().titleSeparator}),(0,u.jsx)("div",{className:(0,v.Z)(b().content,R),children:y}),!!T&&(0,u.jsx)("div",{className:(0,v.Z)(b().bottomGradient,"dark"===k&&b().isDarkMode)})]}))})}):null};x.Sizes=i,x.displayName="Modal";var I=(0,c.memo)((0,c.forwardRef)(x));Object.assign(I,{Sizes:i});var T=I},61929:function(e,t,n){"use strict";n.d(t,{f:function(){return A}});var r=n(52322),i=n(2784),o=n(30194),a=n(95162),s=n(55929),l=n(89563),u=n(66363),c=n.n(u),A=function(e){var t=e.onPillAdd,n=e.onPillRemove,u=e.pills,A=e.label,d=e.placeholder,h=e.addButtonText,f=e.allowDuplicates,p=void 0!==f&&f,g=e.isLoading,m=void 0!==g&&g,v=e.isDisabled,y=void 0!==v&&v,b=(0,i.useState)(""),w=b[0],_=b[1],E=function(){if(!y){var e=w.trim();if(""!==e){if(!p&&u.includes(e))return;t(e),_("")}}},C=(0,r.jsxs)(a.ZP,{onClick:E,disabled:y||""===w.trim(),isLoading:m,children:[void 0===h?"Add":h," ",(0,r.jsx)(l.P,{className:c().shortcutKeys,keys:["Enter"]})]});return(0,r.jsxs)("div",{className:c().root,children:[(0,r.jsx)("div",{children:(0,r.jsx)(s.Z,{value:w,button:C,onKeyDown:function(e){(","===e.key||"Enter"===e.key)&&(e.preventDefault(),E())},label:void 0===A?"Items":A,placeholder:void 0===d?"Add items":d,onChange:function(e){return _(e.currentTarget.value)},disabled:m||y})}),(0,r.jsx)(o.Z,{pills:u,onPillRemove:n,isDisabled:m||y})]})}},30194:function(e,t,n){"use strict";var r=n(52322),i=n(95162),o=n(88404),a=n(20417),s=n(79992),l=n.n(s);t.Z=function(e){var t=e.pills,n=e.isDisabled,s=e.onPillRemove,u=!!s&&!n;return(0,r.jsx)("div",{className:l().pills,children:t.map(function(e,t){var c="string"==typeof e?void 0:e.icon,A="string"==typeof e?e:e.label;return(0,r.jsxs)(i.ZP,{className:l().pill,variant:i.ZP.Variants.LIGHT,onClick:u?function(){return n?null:null==s?void 0:s(A,t)}:void 0,disabled:n,style:u?void 0:{cursor:"default"},children:[c,(0,r.jsx)("span",{className:l().label,children:A}),!!u&&(0,r.jsx)(o.J,{width:6,height:6,icon:a.Z})]},A)})})}},59502:function(e,t,n){"use strict";let r;n.d(t,{ZP:function(){return ak},KL:function(){return aB},uw:function(){return aS}});var i,o,a,s,l,u,c,A,d,h,f,p,g,m=n(70865),v=n(96670),y=n(52322),b=n(2784),w="bottom",_="right",E="left",C="auto",B=["top",w,_,E],x="start",I="viewport",T="popper",S=B.reduce(function(e,t){return e.concat([t+"-"+x,t+"-end"])},[]),k=[].concat(B,[C]).reduce(function(e,t){return e.concat([t,t+"-"+x,t+"-end"])},[]),N=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function D(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function O(e){var t=D(e).Element;return e instanceof t||e instanceof Element}function R(e){var t=D(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function F(e){if("undefined"==typeof ShadowRoot)return!1;var t=D(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function L(e){return((O(e)?e.ownerDocument:e.document)||window.document).documentElement}var U=Math.max,P=Math.min,M=Math.round;function j(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Z(){return!/^((?!chrome|android).)*safari/i.test(j())}function Q(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&R(e)&&(i=e.offsetWidth>0&&M(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&M(r.height)/e.offsetHeight||1);var a=(O(e)?D(e):window).visualViewport,s=!Z()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,u=(r.top+(s&&a?a.offsetTop:0))/o,c=r.width/i,A=r.height/o;return{width:c,height:A,top:u,right:l+c,bottom:u+A,left:l,x:l,y:u}}function H(e){var t=D(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function V(e){return Q(L(e)).left+H(e).scrollLeft}function K(e){return D(e).getComputedStyle(e)}function z(e){return e?(e.nodeName||"").toLowerCase():null}function G(e){return"html"===z(e)?e:e.assignedSlot||e.parentNode||(F(e)?e.host:null)||L(e)}function W(e){var t=K(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function q(e,t){void 0===t&&(t=[]);var n,r=function e(t){return["html","body","#document"].indexOf(z(t))>=0?t.ownerDocument.body:R(t)&&W(t)?t:e(G(t))}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=D(r),a=i?[o].concat(o.visualViewport||[],W(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(q(G(a)))}function $(e){return R(e)&&"fixed"!==K(e).position?e.offsetParent:null}function Y(e){for(var t=D(e),n=$(e);n&&["table","td","th"].indexOf(z(n))>=0&&"static"===K(n).position;)n=$(n);return n&&("html"===z(n)||"body"===z(n)&&"static"===K(n).position)?t:n||function(e){var t=/firefox/i.test(j());if(/Trident/i.test(j())&&R(e)&&"fixed"===K(e).position)return null;var n=G(e);for(F(n)&&(n=n.host);R(n)&&0>["html","body"].indexOf(z(n));){var r=K(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function J(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&F(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function X(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ee(e,t,n){var r,i,o,a,s,l,u,c,A,d;return t===I?X(function(e,t){var n=D(e),r=L(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=Z();(u||!u&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+V(e),y:l}}(e,n)):O(t)?((r=Q(t,!1,"fixed"===n)).top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r):X((i=L(e),a=L(i),s=H(i),l=null==(o=i.ownerDocument)?void 0:o.body,u=U(a.scrollWidth,a.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=U(a.scrollHeight,a.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),A=-s.scrollLeft+V(i),d=-s.scrollTop,"rtl"===K(l||a).direction&&(A+=U(a.clientWidth,l?l.clientWidth:0)-u),{width:u,height:c,x:A,y:d}))}function et(e){return e.split("-")[0]}function en(e){return e.split("-")[1]}function er(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ei(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?et(i):null,a=i?en(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case"top":t={x:s,y:n.y-r.height};break;case w:t={x:s,y:n.y+n.height};break;case _:t={x:n.x+n.width,y:l};break;case E:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?er(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case x:t[u]=t[u]-(n[c]/2-r[c]/2);break;case"end":t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function eo(){return{top:0,right:0,bottom:0,left:0}}function ea(e){return Object.assign({},eo(),e)}function es(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function el(e,t){void 0===t&&(t={});var n,r,i,o,a,s,l,u,c=t,A=c.placement,d=void 0===A?e.placement:A,h=c.strategy,f=void 0===h?e.strategy:h,p=c.boundary,g=c.rootBoundary,m=c.elementContext,v=void 0===m?T:m,y=c.altBoundary,b=c.padding,E=void 0===b?0:b,C=ea("number"!=typeof E?E:es(E,B)),x=e.rects.popper,S=e.elements[void 0!==y&&y?v===T?"reference":T:v],k=(n=O(S)?S:S.contextElement||L(e.elements.popper),r=void 0===p?"clippingParents":p,i=void 0===g?I:g,l=(s=[].concat("clippingParents"===r?(o=q(G(n)),!O(a=["absolute","fixed"].indexOf(K(n).position)>=0&&R(n)?Y(n):n)?[]:o.filter(function(e){return O(e)&&J(e,a)&&"body"!==z(e)})):[].concat(r),[i]))[0],(u=s.reduce(function(e,t){var r=ee(n,t,f);return e.top=U(r.top,e.top),e.right=P(r.right,e.right),e.bottom=P(r.bottom,e.bottom),e.left=U(r.left,e.left),e},ee(n,l,f))).width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u),N=Q(e.elements.reference),D=ei({reference:N,element:x,strategy:"absolute",placement:d}),F=X(Object.assign({},x,D)),M=v===T?F:N,j={top:k.top-M.top+C.top,bottom:M.bottom-k.bottom+C.bottom,left:k.left-M.left+C.left,right:M.right-k.right+C.right},Z=e.modifiersData.offset;if(v===T&&Z){var H=Z[d];Object.keys(j).forEach(function(e){var t=[_,w].indexOf(e)>=0?1:-1,n=["top",w].indexOf(e)>=0?"y":"x";j[e]+=H[n]*t})}return j}var eu=n(28316);function ec(e){var t=Q(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}var eA={placement:"bottom",modifiers:[],strategy:"absolute"};function ed(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var eh={passive:!0},ef={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ep(e){var t,n,r,i,o,a,s,l=e.popper,u=e.popperRect,c=e.placement,A=e.variation,d=e.offsets,h=e.position,f=e.gpuAcceleration,p=e.adaptive,g=e.roundOffsets,m=e.isFixed,v=d.x,y=void 0===v?0:v,b=d.y,C=void 0===b?0:b,B="function"==typeof g?g({x:y,y:C}):{x:y,y:C};y=B.x,C=B.y;var x=d.hasOwnProperty("x"),I=d.hasOwnProperty("y"),T=E,S="top",k=window;if(p){var N=Y(l),O="clientHeight",R="clientWidth";N===D(l)&&"static"!==K(N=L(l)).position&&"absolute"===h&&(O="scrollHeight",R="scrollWidth"),("top"===c||(c===E||c===_)&&"end"===A)&&(S=w,C-=(m&&N===k&&k.visualViewport?k.visualViewport.height:N[O])-u.height,C*=f?1:-1),(c===E||("top"===c||c===w)&&"end"===A)&&(T=_,y-=(m&&N===k&&k.visualViewport?k.visualViewport.width:N[R])-u.width,y*=f?1:-1)}var F=Object.assign({position:h},p&&ef),U=!0===g?(t={x:y,y:C},n=D(l),r=t.x,i=t.y,{x:M(r*(o=n.devicePixelRatio||1))/o||0,y:M(i*o)/o||0}):{x:y,y:C};return(y=U.x,C=U.y,f)?Object.assign({},F,((s={})[S]=I?"0":"",s[T]=x?"0":"",s.transform=1>=(k.devicePixelRatio||1)?"translate("+y+"px, "+C+"px)":"translate3d("+y+"px, "+C+"px, 0)",s)):Object.assign({},F,((a={})[S]=I?C+"px":"",a[T]=x?y+"px":"",a.transform="",a))}var eg={left:"right",right:"left",bottom:"top",top:"bottom"};function em(e){return e.replace(/left|right|bottom|top/g,function(e){return eg[e]})}var ev={start:"end",end:"start"};function ey(e){return e.replace(/start|end/g,function(e){return ev[e]})}function eb(e,t,n){return U(e,P(t,n))}function ew(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function e_(e){return["top",_,w,E].some(function(t){return e[t]>=0})}var eE=(a=void 0===(o=(i={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=D(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(e){e.addEventListener("scroll",n.update,eh)}),s&&l.addEventListener("resize",n.update,eh),function(){o&&u.forEach(function(e){e.removeEventListener("scroll",n.update,eh)}),s&&l.removeEventListener("resize",n.update,eh)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ei({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=n.adaptive,o=n.roundOffsets,a=void 0===o||o,s={placement:et(t.placement),variation:en(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ep(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===i||i,roundOffsets:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ep(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];R(i)&&z(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});R(r)&&z(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=k.reduce(function(e,n){var r,i,a,s,l,u;return e[n]=(r=t.rects,a=[E,"top"].indexOf(i=et(n))>=0?-1:1,l=(s="function"==typeof o?o(Object.assign({},r,{placement:n})):o)[0],u=s[1],l=l||0,u=(u||0)*a,[E,_].indexOf(i)>=0?{x:u,y:l}:{x:l,y:u}),e},{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,A=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,f=void 0===h||h,p=n.allowedAutoPlacements,g=t.options.placement,m=et(g)===g,v=l||(m||!f?[em(g)]:function(e){if(et(e)===C)return[];var t=em(e);return[ey(e),t,ey(t)]}(g)),y=[g].concat(v).reduce(function(e,n){var r,i,o,a,s,l,d,h,g,m,v,y;return e.concat(et(n)===C?(i=(r={placement:n,boundary:c,rootBoundary:A,padding:u,flipVariations:f,allowedAutoPlacements:p}).placement,o=r.boundary,a=r.rootBoundary,s=r.padding,l=r.flipVariations,h=void 0===(d=r.allowedAutoPlacements)?k:d,0===(v=(m=(g=en(i))?l?S:S.filter(function(e){return en(e)===g}):B).filter(function(e){return h.indexOf(e)>=0})).length&&(v=m),Object.keys(y=v.reduce(function(e,n){return e[n]=el(t,{placement:n,boundary:o,rootBoundary:a,padding:s})[et(n)],e},{})).sort(function(e,t){return y[e]-y[t]})):n)},[]),b=t.rects.reference,I=t.rects.popper,T=new Map,N=!0,D=y[0],O=0;O<y.length;O++){var R=y[O],F=et(R),L=en(R)===x,U=["top",w].indexOf(F)>=0,P=U?"width":"height",M=el(t,{placement:R,boundary:c,rootBoundary:A,altBoundary:d,padding:u}),j=U?L?_:E:L?w:"top";b[P]>I[P]&&(j=em(j));var Z=em(j),Q=[];if(o&&Q.push(M[F]<=0),s&&Q.push(M[j]<=0,M[Z]<=0),Q.every(function(e){return e})){D=R,N=!1;break}T.set(R,Q)}if(N)for(var H=f?3:1,V=function(e){var t=y.find(function(t){var n=T.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return D=t,"break"},K=H;K>0&&"break"!==V(K);K--);t.placement!==D&&(t.modifiersData[r]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=n.altAxis,a=n.boundary,s=n.rootBoundary,l=n.altBoundary,u=n.padding,c=n.tether,A=void 0===c||c,d=n.tetherOffset,h=void 0===d?0:d,f=el(t,{boundary:a,rootBoundary:s,padding:u,altBoundary:l}),p=et(t.placement),g=en(t.placement),m=!g,v=er(p),y="x"===v?"y":"x",b=t.modifiersData.popperOffsets,C=t.rects.reference,B=t.rects.popper,I="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,T="number"==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(b){if(void 0===i||i){var N,D="y"===v?"top":E,O="y"===v?w:_,R="y"===v?"height":"width",F=b[v],L=F+f[D],M=F-f[O],j=A?-B[R]/2:0,Z=g===x?C[R]:B[R],Q=g===x?-B[R]:-C[R],H=t.elements.arrow,V=A&&H?ec(H):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:eo(),z=K[D],G=K[O],W=eb(0,C[R],V[R]),q=m?C[R]/2-j-W-z-T.mainAxis:Z-W-z-T.mainAxis,$=m?-C[R]/2+j+W+G+T.mainAxis:Q+W+G+T.mainAxis,J=t.elements.arrow&&Y(t.elements.arrow),X=J?"y"===v?J.clientTop||0:J.clientLeft||0:0,ee=null!=(N=null==S?void 0:S[v])?N:0,ei=eb(A?P(L,F+q-ee-X):L,F,A?U(M,F+$-ee):M);b[v]=ei,k[v]=ei-F}if(void 0!==o&&o){var ea,es,eu="x"===v?"top":E,eA="x"===v?w:_,ed=b[y],eh="y"===y?"height":"width",ef=ed+f[eu],ep=ed-f[eA],eg=-1!==["top",E].indexOf(p),em=null!=(es=null==S?void 0:S[y])?es:0,ev=eg?ef:ed-C[eh]-B[eh]-em+T.altAxis,ey=eg?ed+C[eh]+B[eh]-em-T.altAxis:ep,ew=A&&eg?(ea=eb(ev,ed,ey))>ey?ey:ea:eb(A?ev:ef,ed,A?ey:ep);b[y]=ew,k[y]=ew-ed}t.modifiersData[r]=k}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=et(n.placement),l=er(s),u=[E,_].indexOf(s)>=0?"height":"width";if(o&&a){var c,A=(c=i.padding,ea("number"!=typeof(c="function"==typeof c?c(Object.assign({},n.rects,{placement:n.placement})):c)?c:es(c,B))),d=ec(o),h="y"===l?"top":E,f="y"===l?w:_,p=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],g=a[l]-n.rects.reference[l],m=Y(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=A[h],b=v-d[u]-A[f],C=v/2-d[u]/2+(p/2-g/2),x=eb(y,C,b);n.modifiersData[r]=((t={})[l]=x,t.centerOffset=x-C,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null==r||("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&J(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=el(t,{elementContext:"reference"}),s=el(t,{altBoundary:!0}),l=ew(a,r),u=ew(s,i,o),c=e_(l),A=e_(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:A},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":A})}}]}).defaultModifiers)?[]:o,l=void 0===(s=i.defaultOptions)?eA:s,function(e,t,n){void 0===n&&(n=l);var r,i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},eA,l),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],u=!1,c={state:o,setOptions:function(n){var r,i,u,d,h,f,p="function"==typeof n?n(o.options):n;A(),o.options=Object.assign({},l,o.options,p),o.scrollParents={reference:O(e)?q(e):e.contextElement?q(e.contextElement):[],popper:q(t)};var g=(i=Object.keys(r=[].concat(a,o.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return r[e]}),u=new Map,d=new Set,h=[],i.forEach(function(e){u.set(e.name,e)}),i.forEach(function(e){d.has(e.name)||function e(t){d.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!d.has(t)){var n=u.get(t);n&&e(n)}}),h.push(t)}(e)}),f=h,N.reduce(function(e,t){return e.concat(f.filter(function(e){return e.phase===t}))},[]));return o.orderedModifiers=g.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=e.effect;if("function"==typeof r){var i=r({state:o,name:t,instance:c,options:void 0===n?{}:n});s.push(i||function(){})}}),c.update()},forceUpdate:function(){if(!u){var e=o.elements,t=e.reference,n=e.popper;if(ed(t,n)){o.rects={reference:(r=Y(n),i="fixed"===o.options.strategy,a=R(r),d=R(r)&&(l=M((s=r.getBoundingClientRect()).width)/r.offsetWidth||1,A=M(s.height)/r.offsetHeight||1,1!==l||1!==A),h=L(r),f=Q(t,d,i),p={scrollLeft:0,scrollTop:0},g={x:0,y:0},(a||!a&&!i)&&(("body"!==z(r)||W(h))&&(p=function(e){return e!==D(e)&&R(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:H(e)}(r)),R(r)?(g=Q(r,!0),g.x+=r.clientLeft,g.y+=r.clientTop):h&&(g.x=V(h))),{x:f.left+p.scrollLeft-g.x,y:f.top+p.scrollTop-g.y,width:f.width,height:f.height}),popper:ec(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r,i,a,s,l,A,d,h,f,p,g,m=0;m<o.orderedModifiers.length;m++){if(!0===o.reset){o.reset=!1,m=-1;continue}var v=o.orderedModifiers[m],y=v.fn,b=v.options,w=void 0===b?{}:b,_=v.name;"function"==typeof y&&(o=y({state:o,options:w,name:_,instance:c})||o)}}}},update:(r=function(){return new Promise(function(e){c.forceUpdate(),e(o)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(r())})})),i}),destroy:function(){A(),u=!0}};if(!ed(e,t))return c;function A(){s.forEach(function(e){return e()}),s=[]}return c.setOptions(n).then(function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)}),c}),eC=n(78435),eB=n.n(eC),ex=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},eI="undefined"!=typeof window&&window.document&&window.document.createElement?b.useLayoutEffect:b.useEffect,eT=[],eS=function(e,t,n){void 0===n&&(n={});var r=b.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||eT},o=b.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],s=o[1],l=b.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);eu.flushSync(function(){s({styles:ex(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:ex(n.map(function(e){return[e,t.attributes[e]]}))})})},requires:["computeStyles"]}},[]),u=b.useMemo(function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[l,{name:"applyStyles",enabled:!1}])};return eB()(r.current,e)?r.current||e:(r.current=e,e)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,l]),c=b.useRef();return eI(function(){c.current&&c.current.setOptions(u)},[u]),eI(function(){if(null!=e&&null!=t){var r=(n.createPopper||eE)(e,t,u);return c.current=r,function(){r.destroy(),c.current=null}}},[e,t,n.createPopper]),{state:c.current?c.current.state:null,styles:a.styles,attributes:a.attributes,update:c.current?c.current.update:null,forceUpdate:c.current?c.current.forceUpdate:null}},ek=n(26297),eN=n(22970),eD=n(34406),eO=(void 0===eD||eD.env,"production");let eR=1/60*1e3,eF="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),eL="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(eF()),eR),eU=!0,eP=!1,eM=!1,ej={delta:0,timestamp:0},eZ=["read","update","preRender","render","postRender"],eQ=eZ.reduce((e,t)=>{var n;let r,i,o,a,s,l,u;return e[t]=(n=()=>eP=!0,r=[],i=[],o=0,a=!1,s=!1,l=new WeakSet,u={schedule:(e,t=!1,n=!1)=>{let s=n&&a,u=s?r:i;return t&&l.add(e),-1===u.indexOf(e)&&(u.push(e),s&&a&&(o=r.length)),e},cancel:e=>{let t=i.indexOf(e);-1!==t&&i.splice(t,1),l.delete(e)},process:e=>{if(a){s=!0;return}if(a=!0,[r,i]=[i,r],i.length=0,o=r.length)for(let t=0;t<o;t++){let i=r[t];i(e),l.has(i)&&(u.schedule(i),n())}a=!1,s&&(s=!1,u.process(e))}}),e},{}),eH=eZ.reduce((e,t)=>{let n=eQ[t];return e[t]=(e,t=!1,r=!1)=>(eP||eW(),n.schedule(e,t,r)),e},{}),eV=eZ.reduce((e,t)=>(e[t]=eQ[t].cancel,e),{}),eK=eZ.reduce((e,t)=>(e[t]=()=>eQ[t].process(ej),e),{}),ez=e=>eQ[e].process(ej),eG=e=>{eP=!1,ej.delta=eU?eR:Math.max(Math.min(e-ej.timestamp,40),1),ej.timestamp=e,eM=!0,eZ.forEach(ez),eM=!1,eP&&(eU=!1,eL(eG))},eW=()=>{eP=!0,eU=!0,eM||eL(eG)};var eq="undefined"!=typeof document,e$=eq?b.useLayoutEffect:b.useEffect;function eY(){var e=(0,b.useRef)(!1);return e$(function(){return e.current=!0,function(){e.current=!1}},[]),e}var eJ=(0,b.createContext)(null);function eX(e){var t=(0,b.useRef)(null);return null===t.current&&(t.current=e()),t.current}var e0=0,e1=function(){return e0++},e2=function(){return eX(e1)},e4=function(e){var t=e.children,n=e.initial,r=e.isPresent,i=e.onExitComplete,o=e.custom,a=e.presenceAffectsLayout,s=eX(e3),l=e2(),u=(0,b.useMemo)(function(){return{id:l,initial:n,isPresent:r,custom:o,onExitComplete:function(e){var t,n;s.set(e,!0);try{for(var r=(0,eN.__values)(s.values()),o=r.next();!o.done;o=r.next())if(!o.value)return}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null==i||i()},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}},a?void 0:[r]);return(0,b.useMemo)(function(){s.forEach(function(e,t){return s.set(t,!1)})},[r]),b.useEffect(function(){r||s.size||null==i||i()},[r]),b.createElement(eJ.Provider,{value:u},t)};function e3(){return new Map}var e5=(0,b.createContext)({});function e6(e){return(0,b.useEffect)(function(){return function(){return e()}},[])}var e8=function(e){return e.key||""},e9=function(e){var t,n,r,i,o,a,s=e.children,l=e.custom,u=e.initial,c=void 0===u||u,A=e.onExitComplete,d=e.exitBeforeEnter,h=e.presenceAffectsLayout,f=void 0===h||h,p=(0,eN.__read)((t=eY(),r=(n=(0,eN.__read)((0,b.useState)(0),2))[0],i=n[1],o=(0,b.useCallback)(function(){t.current&&i(r+1)},[r]),[(0,b.useCallback)(function(){return eH.postRender(o)},[o]),r]),1)[0],g=(0,b.useContext)(e5).forceRender;g&&(p=g);var m=eY(),v=(a=[],b.Children.forEach(s,function(e){(0,b.isValidElement)(e)&&a.push(e)}),a),y=v,w=new Set,_=(0,b.useRef)(y),E=(0,b.useRef)(new Map).current,C=(0,b.useRef)(!0);if(e$(function(){C.current=!1,v.forEach(function(e){var t=e8(e);E.set(t,e)}),_.current=y}),e6(function(){C.current=!0,E.clear(),w.clear()}),C.current)return b.createElement(b.Fragment,null,y.map(function(e){return b.createElement(e4,{key:e8(e),isPresent:!0,initial:!!c&&void 0,presenceAffectsLayout:f},e)}));y=(0,eN.__spreadArray)([],(0,eN.__read)(y),!1);for(var B=_.current.map(e8),x=v.map(e8),I=B.length,T=0;T<I;T++){var S=B[T];-1===x.indexOf(S)&&w.add(S)}return d&&w.size&&(y=[]),w.forEach(function(e){if(-1===x.indexOf(e)){var t=E.get(e);if(t){var n=B.indexOf(e);y.splice(n,0,b.createElement(e4,{key:e8(t),isPresent:!1,onExitComplete:function(){E.delete(e),w.delete(e);var t=_.current.findIndex(function(t){return t.key===e});if(_.current.splice(t,1),!w.size){if(_.current=v,!1===m.current)return;p(),A&&A()}},custom:l,presenceAffectsLayout:f},t))}}}),y=y.map(function(e){var t=e.key;return w.has(t)?e:b.createElement(e4,{key:e8(e),isPresent:!0,presenceAffectsLayout:f},e)}),"production"!==eO&&d&&y.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),b.createElement(b.Fragment,null,w.size?y:y.map(function(e){return(0,b.cloneElement)(e)}))},e7=function(e){return{isEnabled:function(t){return e.some(function(e){return!!t[e]})}}},te={measureLayout:e7(["layout","layoutId","drag"]),animation:e7(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:e7(["exit"]),drag:e7(["drag","dragControls"]),focus:e7(["whileFocus"]),hover:e7(["whileHover","onHoverStart","onHoverEnd"]),tap:e7(["whileTap","onTap","onTapStart","onTapCancel"]),pan:e7(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:e7(["whileInView","onViewportEnter","onViewportLeave"])},tt=function(){},tn=function(){},tr=(0,b.createContext)({strict:!1}),ti=Object.keys(te),to=ti.length,ta=(0,b.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),ts=(0,b.createContext)({}),tl={current:null},tu=!1;function tc(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function tA(e){return Array.isArray(e)}function td(e){return"string"==typeof e||tA(e)}function th(e,t,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),"string"==typeof t&&(t=null==(o=e.variants)?void 0:o[t]),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),t}function tf(e,t,n){var r,i,o=e.getProps();return th(o,t,null!=n?n:o.custom,(r={},e.forEachValue(function(e,t){return r[t]=e.get()}),r),(i={},e.forEachValue(function(e,t){return i[t]=e.getVelocity()}),i))}function tp(e){var t;return"function"==typeof(null==(t=e.animate)?void 0:t.start)||td(e.initial)||td(e.animate)||td(e.whileHover)||td(e.whileDrag)||td(e.whileTap)||td(e.whileFocus)||td(e.exit)}function tg(e){return!!(tp(e)||e.variants)}function tm(e){return Array.isArray(e)?e.join(" "):e}var tv={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ty=1,tb=(0,b.createContext)({}),tw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,eN.__extends)(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(b.Component),t_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function tE(e){if("string"!=typeof e||e.includes("-"));else if(t_.indexOf(e)>-1||/[A-Z]/.test(e))return!0;return!1}var tC={},tB=["","X","Y","Z"],tx=["transformPerspective","x","y","z"];function tI(e,t){return tx.indexOf(e)-tx.indexOf(t)}["translate","scale","rotate","skew"].forEach(function(e){return tB.forEach(function(t){return tx.push(e+t)})});var tT=new Set(tx);function tS(e){return tT.has(e)}var tk=new Set(["originX","originY","originZ"]);function tN(e,t){var n=t.layout,r=t.layoutId;return tS(e)||tk.has(e)||(n||void 0!==r)&&(!!tC[e]||"opacity"===e)}var tD=function(e){return!!(null!==e&&"object"==typeof e&&e.getVelocity)},tO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function tR(e){return e.startsWith("--")}let tF=(e,t)=>n=>Math.max(Math.min(n,t),e),tL=e=>e%1?Number(e.toFixed(5)):e,tU=/(-)?([\d]*\.?[\d])+/g,tP=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,tM=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function tj(e){return"string"==typeof e}let tZ=e=>({test:t=>tj(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),tQ=tZ("deg"),tH=tZ("%"),tV=tZ("px"),tK=tZ("vh"),tz=tZ("vw"),tG=Object.assign(Object.assign({},tH),{parse:e=>tH.parse(e)/100,transform:e=>tH.transform(100*e)}),tW={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},tq=Object.assign(Object.assign({},tW),{transform:tF(0,1)}),t$=Object.assign(Object.assign({},tW),{default:1});var tY=(0,eN.__assign)((0,eN.__assign)({},tW),{transform:Math.round}),tJ={borderWidth:tV,borderTopWidth:tV,borderRightWidth:tV,borderBottomWidth:tV,borderLeftWidth:tV,borderRadius:tV,radius:tV,borderTopLeftRadius:tV,borderTopRightRadius:tV,borderBottomRightRadius:tV,borderBottomLeftRadius:tV,width:tV,maxWidth:tV,height:tV,maxHeight:tV,size:tV,top:tV,right:tV,bottom:tV,left:tV,padding:tV,paddingTop:tV,paddingRight:tV,paddingBottom:tV,paddingLeft:tV,margin:tV,marginTop:tV,marginRight:tV,marginBottom:tV,marginLeft:tV,rotate:tQ,rotateX:tQ,rotateY:tQ,rotateZ:tQ,scale:t$,scaleX:t$,scaleY:t$,scaleZ:t$,skew:tQ,skewX:tQ,skewY:tQ,distance:tV,translateX:tV,translateY:tV,translateZ:tV,x:tV,y:tV,z:tV,perspective:tV,transformPerspective:tV,opacity:tq,originX:tG,originY:tG,originZ:tV,zIndex:tY,fillOpacity:tq,strokeOpacity:tq,numOctaves:tY};function tX(e,t,n,r){var i,o,a,s,l=e.style,u=e.vars,c=e.transform,A=e.transformKeys,d=e.transformOrigin;A.length=0;var h=!1,f=!1,p=!0;for(var g in t){var m=t[g];if(tR(g)){u[g]=m;continue}var v=tJ[g],y=v&&"number"==typeof m?v.transform(m):m;if(tS(g)){if(h=!0,c[g]=y,A.push(g),!p)continue;m!==(null!=(s=v.default)?s:0)&&(p=!1)}else tk.has(g)?(d[g]=y,f=!0):l[g]=y}h?l.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=t.allowTransformNone,l="";o.sort(tI);for(var u=!1,c=o.length,A=0;A<c;A++){var d=o[A];l+="".concat(tO[d]||d,"(").concat(i[d],") "),"z"===d&&(u=!0)}return!u&&(void 0===a||a)?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):(void 0===s||s)&&n&&(l="none"),l}(e,n,p,r):r?l.transform=r({},""):!t.transform&&l.transform&&(l.transform="none"),f&&(i=d.originX,o=d.originY,a=d.originZ,l.transformOrigin="".concat(void 0===i?"50%":i," ").concat(void 0===o?"50%":o," ").concat(void 0===a?0:a))}var t0=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function t1(e,t,n){for(var r in t)tD(t[r])||tN(r,n)||(e[r]=t[r])}var t2=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function t4(e){return t2.has(e)}var t3=function(e){return!t4(e)};try{(u=require("@emotion/is-prop-valid").default)&&(t3=function(e){return e.startsWith("on")?!t4(e):u(e)})}catch(e){}function t5(e,t,n){return"string"==typeof e?e:tV.transform(t+n*e)}var t6={offset:"stroke-dashoffset",array:"stroke-dasharray"},t8={offset:"strokeDashoffset",array:"strokeDasharray"};function t9(e,t,n,r){var i,o,a,s,l,u,c,A,d=t.attrX,h=t.attrY,f=t.originX,p=t.originY,g=t.pathLength,m=t.pathSpacing,v=t.pathOffset;tX(e,(0,eN.__rest)(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var y=e.attrs,b=e.style,w=e.dimensions;y.transform&&(w&&(b.transform=y.transform),delete y.transform),w&&(void 0!==f||void 0!==p||b.transform)&&(i=t5(void 0!==f?f:.5,w.x,w.width),o=t5(void 0!==p?p:.5,w.y,w.height),b.transformOrigin="".concat(i," ").concat(o)),void 0!==d&&(y.x=d),void 0!==h&&(y.y=h),void 0!==g&&(l=!1,void 0===(a=void 0===m?1:m)&&(a=1),void 0===(s=void 0===v?0:v)&&(s=0),void 0===l&&(l=!0),y.pathLength=1,y[(u=l?t6:t8).offset]=tV.transform(-s),c=tV.transform(g),A=tV.transform(a),y[u.array]="".concat(c," ").concat(A))}var t7=function(){return(0,eN.__assign)((0,eN.__assign)({},t0()),{attrs:{}})},ne=/([a-z])([A-Z])/g,nt=function(e){return e.replace(ne,"$1-$2").toLowerCase()};function nn(e,t,n,r){var i=t.style,o=t.vars;for(var a in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(a,o[a])}var nr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function ni(e,t,n,r){for(var i in nn(e,t,void 0,r),t.attrs)e.setAttribute(nr.has(i)?i:nt(i),t.attrs[i])}function no(e){var t=e.style,n={};for(var r in t)(tD(t[r])||tN(r,e))&&(n[r]=t[r]);return n}function na(e){var t=no(e);for(var n in e)tD(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function ns(e){return"object"==typeof e&&"function"==typeof e.start}var nl=function(e){return Array.isArray(e)},nu=function(e){return nl(e)?e[e.length-1]||0:e};function nc(e){var t=tD(e)?e.get():e;return t&&"object"==typeof t&&t.mix&&t.toValue?t.toValue():t}function nA(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:function(e,t,n,r){var i={},o=(null==n?void 0:n.initial)===!1,a=r(e);for(var s in a)i[s]=nc(a[s]);var l=e.initial,u=e.animate,c=tp(e),A=tg(e);t&&A&&!c&&!1!==e.inherit&&(null!=l||(l=t.initial),null!=u||(u=t.animate));var d=o||!1===l,h=d?u:l;return h&&"boolean"!=typeof h&&!ns(h)&&(Array.isArray(h)?h:[h]).forEach(function(t){var n=th(e,t);if(n){var r=n.transitionEnd;n.transition;var o=(0,eN.__rest)(n,["transitionEnd","transition"]);for(var a in o){var s=o[a];if(Array.isArray(s)){var l=d?s.length-1:0;s=s[l]}null!==s&&(i[a]=s)}for(var a in r)i[a]=r[a]}}),i}(t,n,r,i),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var nd=function(e){return function(t,n){var r=(0,b.useContext)(ts),i=(0,b.useContext)(eJ);return n?nA(e,t,r,i):eX(function(){return nA(e,t,r,i)})}},nh={useVisualState:nd({scrapeMotionValuesFromProps:na,createRenderState:t7,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}t9(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),ni(t,r)}})},nf={useVisualState:nd({scrapeMotionValuesFromProps:no,createRenderState:t0})};function np(e,t,n,r){return void 0===r&&(r={passive:!0}),e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function ng(e,t,n,r){(0,b.useEffect)(function(){var i=e.current;if(n&&i)return np(i,t,n,r)},[e,t,n,r])}function nm(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?"mouse"===e.pointerType:e instanceof MouseEvent}(c=d||(d={})).Animate="animate",c.Hover="whileHover",c.Tap="whileTap",c.Drag="whileDrag",c.Focus="whileFocus",c.InView="whileInView",c.Exit="exit";var nv={pageX:0,pageY:0};function ny(e,t){var n,r,i;return void 0===t&&(t="page"),{point:e.touches?(void 0===(n=t)&&(n="page"),{x:(r=e.touches[0]||e.changedTouches[0]||nv)[n+"X"],y:r[n+"Y"]}):(void 0===(i=t)&&(i="page"),{x:e[i+"X"],y:e[i+"Y"]})}}var nb=function(e,t){void 0===t&&(t=!1);var n=function(t){return e(t,ny(t))};return t?function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}:n},nw={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},n_={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function nE(e){if(eq&&null===window.onpointerdown);else if(eq&&null===window.ontouchstart)return n_[e];else if(eq&&null===window.onmousedown)return nw[e];return e}function nC(e,t,n,r){return np(e,nE(t),nb(n,"pointerdown"===t),r)}function nB(e,t,n,r){return ng(e,nE(t),n&&nb(n,"pointerdown"===t),r)}function nx(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var nI=nx("dragHorizontal"),nT=nx("dragVertical");function nS(e){var t=!1;if("y"===e)t=nT();else if("x"===e)t=nI();else{var n=nI(),r=nT();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function nk(){var e=nS(!0);return!e||(e(),!1)}function nN(e,t,n){return function(r,i){var o;!nm(r)||nk()||(null==(o=e.animationState)||o.setActive(d.Hover,t),null==n||n(r,i))}}var nD=function(e,t){return!!t&&(e===t||nD(e,t.parentElement))};let nO=(e,t)=>n=>t(e(n)),nR=(...e)=>e.reduce(nO);var nF=new Set,nL=new WeakMap,nU=new WeakMap,nP=function(e){var t;null==(t=nL.get(e.target))||t(e)},nM=function(e){e.forEach(nP)},nj={some:0,all:1},nZ=function(e){return function(t){return e(t),null}},nQ={inView:nZ(function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,i=e.onViewportLeave,o=e.viewport,a=void 0===o?{}:o,s=(0,b.useRef)({hasEnteredView:!1,isInView:!1}),l=!!(n||r||i);a.once&&s.current.hasEnteredView&&(l=!1),("undefined"==typeof IntersectionObserver?function(e,t,n,r){var i=r.fallback,o=void 0===i||i;(0,b.useEffect)(function(){if(e&&o){var r;"production"!==eO&&(r="IntersectionObserver not available on this device. whileInView animations will trigger on mount.",nF.has(r)||(console.warn(r),nF.add(r))),requestAnimationFrame(function(){t.hasEnteredView=!0;var e,r=n.getProps().onViewportEnter;null==r||r(null),null==(e=n.animationState)||e.setActive(d.InView,!0)})}},[e])}:function(e,t,n,r){var i=r.root,o=r.margin,a=r.amount,s=void 0===a?"some":a,l=r.once;(0,b.useEffect)(function(){if(e){var r,a,u,c,A,h,f,p,g={root:null==i?void 0:i.current,rootMargin:o,threshold:"number"==typeof s?s:nj[s]};return r=n.getInstance(),a=function(e){var r,i=e.isIntersecting;if(t.isInView!==i){if(t.isInView=i,l&&!i&&t.hasEnteredView)return;i&&(t.hasEnteredView=!0),null==(r=n.animationState)||r.setActive(d.InView,i);var o=n.getProps(),a=i?o.onViewportEnter:o.onViewportLeave;null==a||a(e)}},u=g.root,c=(0,eN.__rest)(g,["root"]),A=u||document,nU.has(A)||nU.set(A,{}),(h=nU.get(A))[f=JSON.stringify(c)]||(h[f]=new IntersectionObserver(nM,(0,eN.__assign)({root:u},c))),p=h[f],nL.set(r,a),p.observe(r),function(){nL.delete(r),p.unobserve(r)}}},[e,i,o,s])})(l,s.current,t,a)}),tap:nZ(function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,i=e.whileTap,o=e.visualElement,a=t||n||r||i,s=(0,b.useRef)(!1),l=(0,b.useRef)(null),u={passive:!(n||t||r||p)};function c(){var e;null==(e=l.current)||e.call(l),l.current=null}function A(){var e;return c(),s.current=!1,null==(e=o.animationState)||e.setActive(d.Tap,!1),!nk()}function h(e,n){A()&&(nD(o.getInstance(),e.target)?null==t||t(e,n):null==r||r(e,n))}function f(e,t){A()&&(null==r||r(e,t))}function p(e,t){var r;c(),s.current||(s.current=!0,l.current=nR(nC(window,"pointerup",h,u),nC(window,"pointercancel",f,u)),null==(r=o.animationState)||r.setActive(d.Tap,!0),null==n||n(e,t))}nB(o,"pointerdown",a?p:void 0,u),e6(c)}),focus:nZ(function(e){var t=e.whileFocus,n=e.visualElement;ng(n,"focus",t?function(){var e;null==(e=n.animationState)||e.setActive(d.Focus,!0)}:void 0),ng(n,"blur",t?function(){var e;null==(e=n.animationState)||e.setActive(d.Focus,!1)}:void 0)}),hover:nZ(function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;nB(i,"pointerenter",t||r?nN(i,!0,t):void 0,{passive:!t}),nB(i,"pointerleave",n||r?nN(i,!1,n):void 0,{passive:!n})})};function nH(){var e=(0,b.useContext)(eJ);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,i=e2();return(0,b.useEffect)(function(){return r(i)},[]),!t&&n?[!1,function(){return null==n?void 0:n(i)}]:[!0]}function nV(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}let nK=(e,t,n)=>Math.min(Math.max(n,e),t);function nz(e,t){return e*Math.sqrt(1-t*t)}let nG=["duration","bounce"],nW=["stiffness","damping","mass"];function nq(e,t){return t.some(t=>void 0!==e[t])}function n$(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:i}=e,o=(0,eN.__rest)(e,["from","to","restSpeed","restDelta"]);let a={done:!1,value:t},{stiffness:s,damping:l,mass:u,velocity:c,duration:A,isResolvedFromDuration:d}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!nq(e,nW)&&nq(e,nG)){let n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;tt(e<=1e4,"Spring duration must be 10 seconds or less");let a=1-t;a=nK(.05,1,a),e=nK(.01,10,e/1e3),a<1?(i=t=>{let r=t*a,i=r*e;return .001-(r-n)/nz(t,a)*Math.exp(-i)},o=t=>{let r=t*a*e,o=Math.pow(a,2)*Math.pow(t,2)*e,s=Math.exp(-r),l=nz(Math.pow(t,2),a);return(r*n+n-o)*s*(-i(t)+.001>0?-1:1)/l}):(i=t=>-.001+Math.exp(-t*e)*((t-n)*e+1),o=t=>e*e*(n-t)*Math.exp(-t*e));let s=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,o,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(o),h=nY,f=nY;function p(){let e=c?-(c/1e3):0,r=n-t,o=l/(2*Math.sqrt(s*u)),a=Math.sqrt(s/u)/1e3;if(void 0===i&&(i=Math.min(Math.abs(n-t)/100,.4)),o<1){let t=nz(a,o);h=i=>n-Math.exp(-o*a*i)*((e+o*a*r)/t*Math.sin(t*i)+r*Math.cos(t*i)),f=n=>{let i=Math.exp(-o*a*n);return o*a*i*(Math.sin(t*n)*(e+o*a*r)/t+r*Math.cos(t*n))-i*(Math.cos(t*n)*(e+o*a*r)-t*r*Math.sin(t*n))}}else if(1===o)h=t=>n-Math.exp(-a*t)*(r+(e+a*r)*t);else{let t=a*Math.sqrt(o*o-1);h=i=>{let s=Math.exp(-o*a*i),l=Math.min(t*i,300);return n-s*((e+o*a*r)*Math.sinh(l)+t*r*Math.cosh(l))/t}}}return p(),{next:e=>{let t=h(e);if(d)a.done=e>=A;else{let o=Math.abs(1e3*f(e))<=r,s=Math.abs(n-t)<=i;a.done=o&&s}return a.value=a.done?n:t,a},flipTarget:()=>{c=-c,[t,n]=[n,t],p()}}}n$.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;let nY=e=>0,nJ=(e,t,n)=>{let r=t-e;return 0===r?1:(n-e)/r},nX=(e,t,n)=>-n*e+n*t+e,n0=(e,t)=>n=>!!(tj(n)&&tM.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),n1=(e,t,n)=>r=>{if(!tj(r))return r;let[i,o,a,s]=r.match(tU);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},n2=tF(0,255),n4=Object.assign(Object.assign({},tW),{transform:e=>Math.round(n2(e))}),n3={test:n0("rgb","red"),parse:n1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+n4.transform(e)+", "+n4.transform(t)+", "+n4.transform(n)+", "+tL(tq.transform(r))+")"},n5={test:n0("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:n3.transform},n6={test:n0("hsl","hue"),parse:n1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tH.transform(tL(t))+", "+tH.transform(tL(n))+", "+tL(tq.transform(r))+")"};function n8(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n9({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;if(t/=100){let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=n8(s,r,e+1/3),o=n8(s,r,e),a=n8(s,r,e-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}let n7=(e,t,n)=>{let r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},re=[n5,n3,n6],rt=e=>re.find(t=>t.test(e)),rn=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,rr=(e,t)=>{let n=rt(e),r=rt(t);tn(!!n,rn(e)),tn(!!r,rn(t));let i=n.parse(e),o=r.parse(t);n===n6&&(i=n9(i),n=n3),r===n6&&(o=n9(o),r=n3);let a=Object.assign({},i);return e=>{for(let t in a)"alpha"!==t&&(a[t]=n7(i[t],o[t],e));return a.alpha=nX(i.alpha,o.alpha,e),n.transform(a)}},ri={test:e=>n3.test(e)||n5.test(e)||n6.test(e),parse:e=>n3.test(e)?n3.parse(e):n6.test(e)?n6.parse(e):n5.parse(e),transform:e=>tj(e)?e:e.hasOwnProperty("red")?n3.transform(e):n6.transform(e)},ro="${c}",ra="${n}";function rs(e){"number"==typeof e&&(e=`${e}`);let t=[],n=0,r=e.match(tP);r&&(n=r.length,e=e.replace(tP,ro),t.push(...r.map(ri.parse)));let i=e.match(tU);return i&&(e=e.replace(tU,ra),t.push(...i.map(tW.parse))),{values:t,numColors:n,tokenised:e}}function rl(e){return rs(e).values}function ru(e){let{values:t,numColors:n,tokenised:r}=rs(e),i=t.length;return e=>{let t=r;for(let r=0;r<i;r++)t=t.replace(r<n?ro:ra,r<n?ri.transform(e[r]):tL(e[r]));return t}}let rc=e=>"number"==typeof e?0:e,rA={test:function(e){var t,n,r,i;return isNaN(e)&&tj(e)&&(null!=(n=null==(t=e.match(tU))?void 0:t.length)?n:0)+(null!=(i=null==(r=e.match(tP))?void 0:r.length)?i:0)>0},parse:rl,createTransformer:ru,getAnimatableNone:function(e){let t=rl(e);return ru(e)(t.map(rc))}};function rd(e,t){return"number"==typeof e?n=>nX(e,t,n):ri.test(e)?rr(e,t):rg(e,t)}let rh=(e,t)=>{let n=[...e],r=n.length,i=e.map((e,n)=>rd(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},rf=(e,t)=>{let n=Object.assign(Object.assign({},e),t),r={};for(let i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=rd(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}};function rp(e){let t=rA.parse(e),n=t.length,r=0,i=0,o=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}let rg=(e,t)=>{let n=rA.createTransformer(t),r=rp(e),i=rp(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?nR(rh(r.parsed,i.parsed),n):(tt(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),n=>`${n>0?t:e}`)},rm=(e,t)=>n=>nX(e,t,n);function rv(e,t,{clamp:n=!0,ease:r,mixer:i}={}){var o;let a,s,l=e.length;tn(l===t.length,"Both input and output ranges must be the same length"),tn(!r||!Array.isArray(r)||r.length===l-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());let u=function(e,t,n){let r=[],i=n||function(e){if("number"==typeof e)return rm;if("string"==typeof e)if(ri.test(e))return rr;else return rg;return Array.isArray(e)?rh:"object"==typeof e?rf:void 0}(e[0]),o=e.length-1;for(let n=0;n<o;n++){let o=i(e[n],e[n+1]);t&&(o=nR(Array.isArray(t)?t[n]:t,o)),r.push(o)}return r}(t,r,i),c=2===l?function([e,t],[n]){return r=>n(nJ(e,t,r))}(e,u):(s=(a=(o=e).length)-1,e=>{let t=0,n=!1;if(e<=o[0]?n=!0:e>=o[s]&&(t=s-1,n=!0),!n){let n=1;for(;n<a&&!(o[n]>e)&&n!==s;n++);t=n-1}let r=nJ(o[t],o[t+1],e);return u[t](r)});return n?t=>c(nK(e[0],e[l-1],t)):c}let ry=e=>t=>1-e(1-t),rb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rw=e=>t=>t*t*((e+1)*t-e),r_=4/11,rE=8/11,rC=e=>e,rB=e=>Math.pow(e,2),rx=ry(rB),rI=rb(rB),rT=e=>1-Math.sin(Math.acos(e)),rS=ry(rT),rk=rb(rS),rN=rw(1.525),rD=ry(rN),rO=rb(rN),rR=(r=rw(1.525),e=>(e*=2)<1?.5*r(e):.5*(2-Math.pow(2,-10*(e-1)))),rF=4356/361,rL=35442/1805,rU=16061/1805,rP=e=>{if(1===e||0===e)return e;let t=e*e;return e<r_?7.5625*t:e<rE?9.075*t-9.9*e+3.4:e<.9?rF*t-rL*e+rU:10.8*e*e-20.52*e+10.72},rM=ry(rP);function rj({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){var o;let a,s={done:!1,value:e},l=Array.isArray(t)?t:[e,t],u=(o=r&&r.length===l.length?r:(a=l.length,l.map((e,t)=>0!==t?t/(a-1):0)),o.map(e=>e*i));function c(){return rv(u,l,{ease:Array.isArray(n)?n:l.map(()=>n||rI).splice(0,l.length-1)})}let A=c();return{next:e=>(s.value=A(e),s.done=e>=i,s),flipTarget:()=>{l.reverse(),A=c()}}}let rZ={keyframes:rj,spring:n$,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){let a={done:!1,value:t},s=n*e,l=t+s,u=void 0===o?l:o(l);return u!==l&&(s=u-t),{next:e=>{let t=-s*Math.exp(-e/r);return a.done=!(t>i||t<-i),a.value=a.done?u:u+t,a},flipTarget:()=>{}}}};function rQ(e,t,n=0){return e-t-n}let rH=e=>{let t=({delta:t})=>e(t);return{start:()=>eH.update(t,!0),stop:()=>eV.update(t)}};function rV(e){let t,n,r;var i,{from:o,autoplay:a=!0,driver:s=rH,elapsed:l=0,repeat:u=0,repeatType:c="loop",repeatDelay:A=0,onPlay:d,onStop:h,onComplete:f,onRepeat:p,onUpdate:g}=e,m=(0,eN.__rest)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:v}=m,y=0,b=m.duration,w=!1,_=!0,E=function(e){if(Array.isArray(e.to))return rj;if(rZ[e.type])return rZ[e.type];let t=new Set(Object.keys(e));if(t.has("ease")||t.has("duration")&&!t.has("dampingRatio"));else if(t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta"))return n$;return rj}(m);(null==(i=E.needsInterpolation)?void 0:i.call(E,o,v))&&(r=rv([0,100],[o,v],{clamp:!1}),o=0,v=100);let C=E(Object.assign(Object.assign({},m),{from:o,to:v}));return a&&(null==d||d(),(t=s(function(e){if(_||(e=-e),l+=e,!w){let e=C.next(Math.max(0,l));n=e.value,r&&(n=r(n)),w=_?e.done:l<=0}if(null==g||g(n),w)if(0===y&&(null!=b||(b=l)),y<u){var i,o;i=l,o=b,(_?i>=o+A:i<=-A)&&(y++,"reverse"===c?l=function(e,t,n=0,r=!0){return r?rQ(t+-e,t,n):t-(e-t)+n}(l,b,A,_=y%2==0):(l=rQ(l,b,A),"mirror"===c&&C.flipTarget()),w=!1,p&&p())}else t.stop(),f&&f()})).start()),{stop:()=>{null==h||h(),t.stop()}}}var rK=function(e){return 1e3*e};let rz=(e,t)=>1-3*t+3*e,rG=(e,t)=>3*t-6*e,rW=(e,t,n)=>((rz(t,n)*e+rG(t,n))*e+3*t)*e,rq=(e,t,n)=>3*rz(t,n)*e*e+2*rG(t,n)*e+3*t;var r$={linear:rC,easeIn:rB,easeInOut:rI,easeOut:rx,circIn:rT,circInOut:rk,circOut:rS,backIn:rN,backInOut:rO,backOut:rD,anticipate:rR,bounceIn:rM,bounceInOut:e=>e<.5?.5*(1-rP(1-2*e)):.5*rP(2*e-1)+.5,bounceOut:rP},rY=function(e){if(Array.isArray(e)){tn(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=(0,eN.__read)(e,4),n=t[0],r=t[1],i=t[2],o=t[3];if(n===r&&i===o)return rC;let a=new Float32Array(11);for(let e=0;e<11;++e)a[e]=rW(.1*e,n,i);return e=>0===e||1===e?e:rW(function(e){let t=0,r=1;for(;10!==r&&a[r]<=e;++r)t+=.1;let o=t+(e-a[--r])/(a[r+1]-a[r])*.1,s=rq(o,n,i);if(s>=.001){var l=o;for(let t=0;t<8;++t){let t=rq(l,n,i);if(0===t)break;let r=rW(l,n,i)-e;l-=r/t}return l}return 0===s?o:function(e,t,n,r,i){let o,a,s=0;do(o=rW(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a;while(Math.abs(o)>1e-7&&++s<10);return a}(e,t,t+.1,n,i)}(e),r,o)}return"string"==typeof e?(tn(void 0!==r$[e],"Invalid easing type '".concat(e,"'")),r$[e]):e},rJ=function(e,t){return"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&rA.test(t)&&!t.startsWith("url("))},rX=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},r0=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},r1=function(){return{type:"keyframes",ease:"linear",duration:.3}},r2=function(e){return{type:"keyframes",duration:.8,values:e}},r4={x:rX,y:rX,z:rX,rotate:rX,rotateX:rX,rotateY:rX,rotateZ:rX,scaleX:r0,scaleY:r0,scale:r0,opacity:r1,backgroundColor:r1,color:r1,default:r0},r3=function(e,t){var n;return n=nl(t)?r2:r4[e]||r4.default,(0,eN.__assign)({to:t},n(t))};let r5=new Set(["brightness","contrast","saturate","opacity"]);function r6(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=n.match(tU)||[];if(!r)return e;let i=n.replace(r,""),o=+!!r5.has(t);return r!==n&&(o*=100),t+"("+o+i+")"}let r8=/([a-z-]*)\(.*?\)/g,r9=Object.assign(Object.assign({},rA),{getAnimatableNone:e=>{let t=e.match(r8);return t?t.map(r6).join(" "):e}});var r7=(0,eN.__assign)((0,eN.__assign)({},tJ),{color:ri,backgroundColor:ri,outlineColor:ri,fill:ri,stroke:ri,borderColor:ri,borderTopColor:ri,borderRightColor:ri,borderBottomColor:ri,borderLeftColor:ri,filter:r9,WebkitFilter:r9}),ie=function(e){return r7[e]};function it(e,t){var n,r=ie(e);return r!==r9&&(r=rA),null==(n=r.getAnimatableNone)?void 0:n.call(r,t)}var ir=!1;function ii(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function io(e){return"number"==typeof e?0:it("",e)}function ia(e,t){return e[t]||e.default||e}function is(e,t,n,r){return void 0===r&&(r={}),t.start(function(i){var o,a,s,l,u,c,A,d,h,f,p,g=(l=n,A=null!=(u=(c=ia(r,e)).from)?u:t.get(),d=rJ(e,l),"none"===A&&d&&"string"==typeof l?A=it(e,l):ii(A)&&"string"==typeof l?A=io(l):!Array.isArray(l)&&ii(l)&&"string"==typeof A&&(l=io(A)),tt((h=rJ(e,A))===d,"You are trying to animate ".concat(e,' from "').concat(A,'" to "').concat(l,'". ').concat(A," is not an animatable value - to enable this animation set ").concat(A," to a value animatable to ").concat(l," via the `style` property.")),h&&d&&!1!==c.type?function(){var n,r,o,a,s,u,d,h,f,p,g={from:A,to:l,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===c.type||"decay"===c.type?function({from:e=0,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:A,onComplete:d,onStop:h}){let f;function p(e){return void 0!==n&&e<n||void 0!==r&&e>r}function g(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function m(e){null==f||f.stop(),f=rV(Object.assign(Object.assign({},e),{driver:c,onUpdate:t=>{var n;null==A||A(t),null==(n=e.onUpdate)||n.call(e,t)},onComplete:d,onStop:h}))}function v(e){m(Object.assign({type:"spring",stiffness:a,damping:s,restDelta:l},e))}if(p(e))v({from:e,velocity:t,to:g(e)});else{let r,a,s=i*t+e;void 0!==u&&(s=u(s));let c=g(s),A=c===n?-1:1;m({type:"decay",from:e,velocity:t,timeConstant:o,power:i,restDelta:l,modifyTarget:u,onUpdate:p(s)?e=>{var n,i;r=a,a=e,n=e-r,t=(i=ej.delta)?1e3/i*n:0,(1===A&&e>c||-1===A&&e<c)&&v({from:e,to:c,velocity:t})}:void 0})}return{stop:()=>null==f?void 0:f.stop()}}((0,eN.__assign)((0,eN.__assign)({},g),c)):rV((0,eN.__assign)((0,eN.__assign)({},(n=c,Array.isArray(g.to)&&(null!=n.duration||(n.duration=.8)),Array.isArray(g.to)&&null===g.to[0]&&(g.to=(0,eN.__spreadArray)([],(0,eN.__read)(g.to),!1),g.to[0]=g.from),(r=n).when,r.delay,r.delayChildren,r.staggerChildren,r.staggerDirection,r.repeat,r.repeatType,r.repeatDelay,r.from,Object.keys((0,eN.__rest)(r,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"])).length||(n=(0,eN.__assign)((0,eN.__assign)({},n),r3(e,g.to))),(0,eN.__assign)((0,eN.__assign)({},g),(a=(o=n).ease,s=o.times,u=o.yoyo,d=o.flip,h=o.loop,f=(0,eN.__rest)(o,["ease","times","yoyo","flip","loop"]),p=(0,eN.__assign)({},f),s&&(p.offset=s),f.duration&&(p.duration=rK(f.duration)),f.repeatDelay&&(p.repeatDelay=rK(f.repeatDelay)),a&&(p.ease=Array.isArray(a)&&"number"!=typeof a[0]?a.map(rY):rY(a)),"tween"===f.type&&(p.type="keyframes"),(u||h||d)&&(tt(!ir,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),ir=!0,u?p.repeatType="reverse":h?p.repeatType="loop":d&&(p.repeatType="mirror"),p.repeat=h||u||d||f.repeat),"spring"!==f.type&&(p.type="keyframes"),p)))),{onUpdate:function(e){var t;g.onUpdate(e),null==(t=c.onUpdate)||t.call(c,e)},onComplete:function(){var e;g.onComplete(),null==(e=c.onComplete)||e.call(c)}}))}:function(){var e,n,r=nu(l);return t.set(r),i(),null==(e=null==c?void 0:c.onUpdate)||e.call(c,r),null==(n=null==c?void 0:c.onComplete)||n.call(c),{stop:function(){}}}),m=null!=(s=null!=(a=(ia(o=r,e)||{}).delay)?a:o.delay)?s:0,v=function(){return p=g()};return m?f=window.setTimeout(v,rK(m)):v(),function(){clearTimeout(f),null==p||p.stop()}})}function il(e,t){-1===e.indexOf(t)&&e.push(t)}function iu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var ic=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return il(this.subscriptions,e),function(){return iu(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),iA=function(){function e(e){var t=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ic,this.velocityUpdateSubscribers=new ic,this.renderSubscribers=new ic,this.canTrackVelocity=!1,this.updateAndNotify=function(e,n){void 0===n&&(n=!0),t.prev=t.current,t.current=e;var r=ej.delta,i=ej.timestamp;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,eH.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),n&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return eH.postRender(t.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=!isNaN(parseFloat(this.current))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){var e,t;return this.canTrackVelocity?(e=parseFloat(this.current)-parseFloat(this.prev),(t=this.timeDelta)?1e3/t*e:0):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(n){t.hasAnimated=!0,t.stopAnimation=e(n)}).then(function(){return t.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function id(e){return new iA(e)}var ih=function(e){return function(t){return t.test(e)}},ip=[tW,tV,tH,tQ,tz,tK,{test:function(e){return"auto"===e},parse:function(e){return e}}],ig=function(e){return ip.find(ih(e))},im=(0,eN.__spreadArray)((0,eN.__spreadArray)([],(0,eN.__read)(ip),!1),[ri,rA],!1);function iv(e,t,n){void 0===n&&(n={});var r,i=tf(e,t,n.custom),o=(i||{}).transition,a=void 0===o?e.getDefaultTransition()||{}:o;n.transitionOverride&&(a=n.transitionOverride);var s=i?function(){return iy(e,i,n)}:function(){return Promise.resolve()},l=(null==(r=e.variantChildren)?void 0:r.size)?function(r){void 0===r&&(r=0);var i,o,s,l,u,c,A,d,h,f=a.delayChildren;return i=e,o=t,s=(void 0===f?0:f)+r,l=a.staggerChildren,u=a.staggerDirection,c=n,void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=1),A=[],d=(i.variantChildren.size-1)*l,h=1===u?function(e){return void 0===e&&(e=0),e*l}:function(e){return void 0===e&&(e=0),d-e*l},Array.from(i.variantChildren).sort(ib).forEach(function(e,t){A.push(iv(e,o,(0,eN.__assign)((0,eN.__assign)({},c),{delay:s+h(t)})).then(function(){return e.notifyAnimationComplete(o)}))}),Promise.all(A)}:function(){return Promise.resolve()},u=a.when;if(!u)return Promise.all([s(),l(n.delay)]);var c=(0,eN.__read)("beforeChildren"===u?[s,l]:[l,s],2),A=c[0],d=c[1];return A().then(d)}function iy(e,t,n){var r,i=void 0===n?{}:n,o=i.delay,a=void 0===o?0:o,s=i.transitionOverride,l=i.type,u=e.makeTargetAnimatable(t),c=u.transition,A=void 0===c?e.getDefaultTransition():c,d=u.transitionEnd,h=(0,eN.__rest)(u,["transition","transitionEnd"]);s&&(A=s);var f=[],p=l&&(null==(r=e.animationState)?void 0:r.getState()[l]);for(var g in h){var m=e.getValue(g),v=h[g];if(!(!m||void 0===v||p&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(p,g))){var y=(0,eN.__assign)({delay:a},A);e.shouldReduceMotion&&tS(g)&&(y=(0,eN.__assign)((0,eN.__assign)({},y),{type:!1,delay:0}));var b=is(g,m,v,y);f.push(b)}}return Promise.all(f).then(function(){d&&function(e,t){var n=tf(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd;r.transition;var o=(0,eN.__rest)(r,["transitionEnd","transition"]);for(var a in o=(0,eN.__assign)((0,eN.__assign)({},o),void 0===i?{}:i)){var s=nu(o[a]);e.hasValue(a)?e.getValue(a).set(s):e.addValue(a,id(s))}}(e,d)})}function ib(e,t){return e.sortNodePosition(t)}var iw=[d.Animate,d.InView,d.Focus,d.Hover,d.Tap,d.Drag,d.Exit],i_=(0,eN.__spreadArray)([],(0,eN.__read)(iw),!1).reverse(),iE=iw.length;function iC(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var iB={animation:nZ(function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=function(e){var t,n=function(t){return Promise.all(t.map(function(t){var n,r=t.animation,i=t.options;if(void 0===i&&(i={}),e.notifyAnimationStart(r),Array.isArray(r))n=Promise.all(r.map(function(t){return iv(e,t,i)}));else if("string"==typeof r)n=iv(e,r,i);else{var o="function"==typeof r?tf(e,r,i.custom):r;n=iy(e,o,i)}return n.then(function(){return e.notifyAnimationComplete(r)})}))},r=((t={})[d.Animate]=iC(!0),t[d.InView]=iC(),t[d.Hover]=iC(),t[d.Tap]=iC(),t[d.Drag]=iC(),t[d.Focus]=iC(),t[d.Exit]=iC(),t),i={},o=!0,a=function(t,n){var r=tf(e,n);if(r){r.transition;var i=r.transitionEnd,o=(0,eN.__rest)(r,["transition","transitionEnd"]);t=(0,eN.__assign)((0,eN.__assign)((0,eN.__assign)({},t),o),i)}return t};function s(t,s){for(var l,u=e.getProps(),c=e.getVariantContext(!0)||{},A=[],d=new Set,h={},f=1/0,p=0;p<iE;p++)!function(n){var i,p,g=i_[n],m=r[g],v=null!=(l=u[g])?l:c[g],y=td(v),b=g===s?m.isActive:null;!1===b&&(f=n);var w=v===c[g]&&v!==u[g]&&y;if(w&&o&&e.manuallyAnimateOnMount&&(w=!1),m.protectedKeys=(0,eN.__assign)({},h),!(!m.isActive&&null===b||!v&&!m.prevProp||ns(v))&&"boolean"!=typeof v){var _=(i=m.prevProp,"string"==typeof(p=v)?p!==i:!!tA(p)&&!nV(p,i)),E=_||g===s&&m.isActive&&!w&&y||n>f&&y,C=Array.isArray(v)?v:[v],B=C.reduce(a,{});!1===b&&(B={});var x=m.prevResolvedValues,I=void 0===x?{}:x,T=(0,eN.__assign)((0,eN.__assign)({},I),B),S=function(e){E=!0,d.delete(e),m.needsAnimating[e]=!0};for(var k in T){var N=B[k],D=I[k];h.hasOwnProperty(k)||(N!==D?nl(N)&&nl(D)?!nV(N,D)||_?S(k):m.protectedKeys[k]=!0:void 0!==N?S(k):d.add(k):void 0!==N&&d.has(k)?S(k):m.protectedKeys[k]=!0)}m.prevProp=v,m.prevResolvedValues=B,m.isActive&&(h=(0,eN.__assign)((0,eN.__assign)({},h),B)),o&&e.blockInitialAnimation&&(E=!1),E&&!w&&A.push.apply(A,(0,eN.__spreadArray)([],(0,eN.__read)(C.map(function(e){return{animation:e,options:(0,eN.__assign)({type:g},t)}})),!1))}}(p);if(i=(0,eN.__assign)({},h),d.size){var g={};d.forEach(function(t){var n=e.getBaseTarget(t);void 0!==n&&(g[t]=n)}),A.push({animation:g})}var m=!!A.length;return o&&!1===u.initial&&!e.manuallyAnimateOnMount&&(m=!1),o=!1,m?n(A):Promise.resolve()}return{isAnimated:function(e){return void 0!==i[e]},animateChanges:s,setActive:function(t,n,i){if(r[t].isActive===n)return Promise.resolve();null==(o=e.variantChildren)||o.forEach(function(e){var r;return null==(r=e.animationState)?void 0:r.setActive(t,n)}),r[t].isActive=n;var o,a=s(i,t);for(var l in r)r[l].protectedKeys={};return a},setAnimateFunction:function(t){n=t(e)},getState:function(){return r}}}(t)),ns(n)&&(0,b.useEffect)(function(){return n.subscribe(t)},[n])}),exit:nZ(function(e){var t=e.custom,n=e.visualElement,r=(0,eN.__read)(nH(),2),i=r[0],o=r[1],a=(0,b.useContext)(eJ);(0,b.useEffect)(function(){n.isPresent=i;var e,r,s=null==(e=n.animationState)?void 0:e.setActive(d.Exit,!i,{custom:null!=(r=null==a?void 0:a.custom)?r:t});i||null==s||s.then(o)},[i])})};let ix=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),iI=e=>ix(e)&&e.hasOwnProperty("z"),iT=(e,t)=>Math.abs(e-t);function iS(e,t){return"number"==typeof e&&"number"==typeof t?iT(e,t):ix(e)&&ix(t)?Math.sqrt(Math.pow(iT(e.x,t.x),2)+Math.pow(iT(e.y,t.y),2)+Math.pow(iI(e)&&iI(t)?iT(e.z,t.z):0,2)):void 0}var ik=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=iO(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=iS(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=ej.timestamp;r.history.push((0,eN.__assign)((0,eN.__assign)({},i),{timestamp:o}));var a=r.handlers,s=a.onStart,l=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),l&&l(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){(r.lastMoveEvent=e,r.lastMoveEventInfo=iN(t,r.transformPagePoint),nm(e)&&0===e.buttons)?r.handlePointerUp(e,t):eH.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,a=iO(iN(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,a),o&&o(e,a)},!e.touches||!(e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var o=iN(ny(e),this.transformPagePoint),a=o.point,s=ej.timestamp;this.history=[(0,eN.__assign)((0,eN.__assign)({},a),{timestamp:s})];var l=t.onSessionStart;l&&l(e,iO(o,this.history)),this.removeListeners=nR(nC(window,"pointermove",this.handlePointerMove),nC(window,"pointerup",this.handlePointerUp),nC(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),eV.update(this.updatePoint)},e}();function iN(e,t){return t?{point:t(e.point)}:e}function iD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iO(e,t){var n=e.point;return{point:n,delta:iD(n,iR(t)),offset:iD(n,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=iR(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>rK(.1)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function iR(e){return e[e.length-1]}function iF(e){return e.max-e.min}function iL(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),iS(e,t)<n}function iU(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=nX(t.min,t.max,e.origin),e.scale=iF(n)/iF(t),(iL(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=nX(n.min,n.max,e.origin)-e.originPoint,(iL(e.translate)||isNaN(e.translate))&&(e.translate=0)}function iP(e,t,n,r){iU(e.x,t.x,n.x,null==r?void 0:r.originX),iU(e.y,t.y,n.y,null==r?void 0:r.originY)}function iM(e,t,n){e.min=n.min+t.min,e.max=e.min+iF(t)}function ij(e,t,n){e.min=t.min-n.min,e.max=e.min+iF(t)}function iZ(e,t,n){ij(e.x,t.x,n.x),ij(e.y,t.y,n.y)}function iQ(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function iH(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=(0,eN.__read)([i,r],2))[0],i=n[1]),{min:r,max:i}}function iV(e,t,n){return{min:iK(e,t),max:iK(e,n)}}function iK(e,t){var n;return"number"==typeof e?e:null!=(n=e[t])?n:0}var iz=function(){return{translate:0,scale:1,origin:0,originPoint:0}},iG=function(){return{x:iz(),y:iz()}},iW=function(){return{min:0,max:0}},iq=function(){return{x:iW(),y:iW()}};function i$(e){return[e("x"),e("y")]}function iY(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function iJ(e){return void 0===e||1===e}function iX(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!iJ(t)||!iJ(n)||!iJ(r)}function i0(e){var t,n;return iX(e)||(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n||e.z||e.rotate||e.rotateX||e.rotateY}function i1(e,t,n,r,i){return void 0!==i&&(e=r+i*(e-r)),r+n*(e-r)+t}function i2(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=i1(e.min,t,n,r,i),e.max=i1(e.max,t,n,r,i)}function i4(e,t){var n=t.x,r=t.y;i2(e.x,n.translate,n.scale,n.originPoint),i2(e.y,r.translate,r.scale,r.originPoint)}function i3(e,t){e.min=e.min+t,e.max=e.max+t}function i5(e,t,n){var r=(0,eN.__read)(n,3),i=r[0],o=r[1],a=r[2],s=void 0!==t[a]?t[a]:.5,l=nX(e.min,e.max,s);i2(e,t[i],t[o],l,t.scale)}var i6=["x","scaleX","originX"],i8=["y","scaleY","originY"];function i9(e,t){i5(e.x,t,i6),i5(e.y,t,i8)}function i7(e,t){return iY(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var oe=new WeakMap,ot=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iq(),this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;!1!==this.visualElement.isPresent&&(this.panSession=new ik(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(ny(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),o=i.drag,a=i.dragPropagation,s=i.onDragStart;(!o||a||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=nS(o),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),i$(function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(tH.test(i)){var o=null==(r=null==(t=n.visualElement.projection)?void 0:t.layout)?void 0:r.actual[e];o&&(i=iF(o)*(parseFloat(i)/100))}n.originPoint[e]=i}),null==s||s(e,t),null==(r=n.visualElement.animationState)||r.setActive(d.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,a=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var l,u,c,A=t.offset;if(o&&null===n.currentDirection){void 0===u&&(u=10),c=null,Math.abs((l=A).y)>u?c="y":Math.abs(l.x)>u&&(c="x"),n.currentDirection=c,null!==n.currentDirection&&(null==a||a(n.currentDirection));return}n.updateAxis("x",t.point,A),n.updateAxis("y",t.point,A),n.visualElement.syncRender(),null==s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null==i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null==(e=this.panSession)||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null==(t=this.visualElement.animationState)||t.setActive(d.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&on(e,r,this.currentDirection)){var i,o,a,s,l,u=this.getAxisMotionValue(e),c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=c,o=this.constraints[e],a=this.elastic[e],s=o.min,l=o.max,void 0!==s&&i<s?i=a?nX(s,i,a.min):Math.max(i,s):void 0!==l&&i>l&&(i=a?nX(l,i,a.max):Math.min(i,l)),c=i),u.set(c)}},e.prototype.resolveConstraints=function(){var e,t,n,r,i,o,a=this,s=this.getProps(),l=s.dragConstraints,u=s.dragElastic,c=(this.visualElement.projection||{}).layout,A=this.constraints;l&&tc(l)?this.constraints||(this.constraints=this.resolveRefConstraints()):l&&c?this.constraints=(e=c.actual,t=l.top,n=l.left,r=l.bottom,i=l.right,{x:iQ(e.x,n,i),y:iQ(e.y,t,r)}):this.constraints=!1,this.elastic=(void 0===(o=u)&&(o=.35),!1===o?o=0:!0===o&&(o=.35),{x:iV(o,"left","right"),y:iV(o,"top","bottom")}),A!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&i$(function(e){var t,n,r;a.getAxisMotionValue(e)&&(a.constraints[e]=(t=c.actual[e],n=a.constraints[e],r={},void 0!==n.min&&(r.min=n.min-t.min),void 0!==n.max&&(r.max=n.max-t.min),r))})},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!tc(t))return!1;var r=t.current;tn(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=(s=i.root,l=i7(r,this.visualElement.getTransformPagePoint()),(u=s.scroll)&&(i3(l.x,u.x),i3(l.y,u.y)),l),a=(c=i.layout.actual,{x:iH(c.x,o.x),y:iH(c.y,o.y)});if(n){var s,l,u,c,A,d,h,f=n((d=(A=a).x,{top:(h=A.y).min,right:d.max,bottom:h.max,left:d.min}));this.hasMutatedConstraints=!!f,f&&(a=iY(f))}return a},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,s=n.dragSnapToOrigin,l=n.onDragTransitionEnd,u=this.constraints||{};return Promise.all(i$(function(n){if(on(n,r,t.currentDirection)){var l,c=null!=(l=null==u?void 0:u[n])?l:{};s&&(c={min:0,max:0});var A=(0,eN.__assign)((0,eN.__assign)({type:"inertia",velocity:i?e[n]:0,bounceStiffness:o?200:1e6,bounceDamping:o?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},a),c);return t.startAxisValueAnimation(n,A)}})).then(l)},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);return is(e,n,0,t)},e.prototype.stopAnimation=function(){var e=this;i$(function(t){return e.getAxisMotionValue(t).stop()})},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase();return this.visualElement.getProps()[r]||this.visualElement.getValue(e,null!=(n=null==(t=this.visualElement.getProps().initial)?void 0:t[e])?n:0)},e.prototype.snapToCursor=function(e){var t=this;i$(function(n){if(on(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.actual[n],a=o.min,s=o.max;i.set(e[n]-nX(a,s,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(tc(i)&&o&&this.constraints){this.stopAnimation();var a={x:0,y:0};i$(function(e){var n=t.getAxisMotionValue(e);if(n){var r,i,o,s,l,u=n.get();a[e]=(r={min:u,max:u},i=t.constraints[e],o=.5,s=iF(r),(l=iF(i))>s?o=nJ(i.min,i.max-s,r.min):s>l&&(o=nJ(r.min,r.max-l,i.min)),nK(0,1,o))}});var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null==(e=o.root)||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),i$(function(e){if(on(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,s=i.max;n.set(nX(o,s,a[e]))}})}},e.prototype.addListeners=function(){var e,t=this;oe.set(this.visualElement,this);var n=nC(this.visualElement.getInstance(),"pointerdown",function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)}),r=function(){tc(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null==(e=i.root)||e.updateScroll(),i.updateLayout()),r();var a=np(window,"resize",function(){return t.scalePositionWithinConstraints()});return i.addEventListener("didUpdate",function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(i$(function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))}),t.visualElement.syncRender())}),function(){a(),n(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=e.dragDirectionLock,r=e.dragPropagation,i=e.dragConstraints,o=e.dragElastic,a=e.dragMomentum;return(0,eN.__assign)((0,eN.__assign)({},e),{drag:void 0!==t&&t,dragDirectionLock:void 0!==n&&n,dragPropagation:void 0!==r&&r,dragConstraints:void 0!==i&&i,dragElastic:void 0===o?.35:o,dragMomentum:void 0===a||a})},e}();function on(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var or={pan:nZ(function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,i=e.onPanSessionStart,o=e.visualElement,a=(0,b.useRef)(null),s=(0,b.useContext)(ta).transformPagePoint,l={onSessionStart:i,onStart:n,onMove:t,onEnd:function(e,t){a.current=null,r&&r(e,t)}};(0,b.useEffect)(function(){null!==a.current&&a.current.updateHandlers(l)}),nB(o,"pointerdown",(t||n||r||i)&&function(e){a.current=new ik(e,l,{transformPagePoint:s})}),e6(function(){return a.current&&a.current.end()})}),drag:nZ(function(e){var t=e.dragControls,n=e.visualElement,r=eX(function(){return new ot(n)});(0,b.useEffect)(function(){return t&&t.subscribe(r)},[r,t]),(0,b.useEffect)(function(){return r.addListeners()},[r])})},oi=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"],oo=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,o=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,l=e.readValueFromInstance,u=e.removeValueFromRenderState,c=e.sortNodePosition,A=e.scrapeMotionValuesFromProps;return function(e,t){var d,h,f,p,g,m=e.parent,v=e.props,y=e.presenceId,b=e.blockInitialAnimation,w=e.visualState,_=e.shouldReduceMotion;void 0===t&&(t={});var E=!1,C=w.latestValues,B=w.renderState,x=(d=oi.map(function(){return new ic}),h={},f={clearAllListeners:function(){return d.forEach(function(e){return e.clear()})},updatePropListeners:function(e){oi.forEach(function(t){var n,r="on"+t,i=e[r];null==(n=h[t])||n.call(h),i&&(h[t]=f[r](i))})}},d.forEach(function(e,t){f["on"+oi[t]]=function(t){return e.add(t)},f["notify"+oi[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,(0,eN.__spreadArray)([],(0,eN.__read)(t),!1))}}),f),I=new Map,T=new Map,S={},k=(0,eN.__assign)({},C);function N(){p&&E&&(D(),s(p,B,v.style,j.projection))}function D(){r(j,B,C,t,v)}function O(){x.notifyUpdate(C)}function R(e,t){var n=t.onChange(function(t){C[e]=t,v.onUpdate&&eH.update(O,!1,!0)}),r=t.onRenderRequest(j.scheduleRender);T.set(e,function(){n(),r()})}var F=A(v);for(var L in F){var U=F[L];void 0!==C[L]&&tD(U)&&U.set(C[L],!1)}var P=tp(v),M=tg(v),j=(0,eN.__assign)((0,eN.__assign)({treeType:n,current:null,depth:m?m.depth+1:0,parent:m,children:new Set,presenceId:y,shouldReduceMotion:_,variantChildren:M?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(null==m?void 0:m.isMounted()),blockInitialAnimation:b,isMounted:function(){return!!p},mount:function(e){E=!0,p=j.current=e,j.projection&&j.projection.mount(e),M&&m&&!P&&(g=null==m?void 0:m.addVariantChild(j)),I.forEach(function(e,t){return R(t,e)}),null==m||m.children.add(j),j.setProps(v)},unmount:function(){var e;null==(e=j.projection)||e.unmount(),eV.update(O),eV.render(N),T.forEach(function(e){return e()}),null==g||g(),null==m||m.children.delete(j),x.clearAllListeners(),p=void 0,E=!1},addVariantChild:function(e){var t,n=j.getClosestVariantNode();if(n)return null==(t=n.variantChildren)||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return c&&n===e.treeType?c(j.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return M?j:null==m?void 0:m.getClosestVariantNode()},getLayoutId:function(){return v.layoutId},getInstance:function(){return p},getStaticValue:function(e){return C[e]},setStaticValue:function(e,t){return C[e]=t},getLatestValues:function(){return C},setVisibility:function(e){j.isVisible!==e&&(j.isVisible=e,j.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),o(j,e,v,t)},measureViewportBox:function(){return a(p,v)},addValue:function(e,t){j.hasValue(e)&&j.removeValue(e),I.set(e,t),C[e]=t.get(),R(e,t)},removeValue:function(e){var t;I.delete(e),null==(t=T.get(e))||t(),T.delete(e),delete C[e],u(e,B)},hasValue:function(e){return I.has(e)},getValue:function(e,t){var n=I.get(e);return void 0===n&&void 0!==t&&(n=id(t),j.addValue(e,n)),n},forEachValue:function(e){return I.forEach(e)},readValue:function(e){var n;return null!=(n=C[e])?n:l(p,e,t)},setBaseTarget:function(e,t){k[e]=t},getBaseTarget:function(e){if(i){var t=i(v,e);if(void 0!==t&&!tD(t))return t}return k[e]}},x),{build:function(){return D(),B},scheduleRender:function(){eH.render(N,!1,!0)},syncRender:N,setProps:function(e){(e.transformTemplate||v.transformTemplate)&&j.scheduleRender(),v=e,x.updatePropListeners(e),S=function(e,t,n){var r;for(var i in t){var o=t[i],a=n[i];if(tD(o))e.addValue(i,o);else if(tD(a))e.addValue(i,id(o));else if(a!==o)if(e.hasValue(i)){var s=e.getValue(i);s.hasAnimated||s.set(o)}else e.addValue(i,id(null!=(r=e.getStaticValue(i))?r:o))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(j,A(v),S)},getProps:function(){return v},getVariant:function(e){var t;return null==(t=v.variants)?void 0:t[e]},getDefaultTransition:function(){return v.transition},getTransformPagePoint:function(){return v.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==m?void 0:m.getVariantContext();if(!P){var t=(null==m?void 0:m.getVariantContext())||{};return void 0!==v.initial&&(t.initial=v.initial),t}for(var n={},r=0;r<os;r++){var i=oa[r],o=v[i];(td(o)||!1===o)&&(n[i]=o)}return n}});return j}},oa=(0,eN.__spreadArray)(["initial"],(0,eN.__read)(iw),!1),os=oa.length;function ol(e){return"string"==typeof e&&e.startsWith("var(--")}var ou=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oc(e,t,n){void 0===n&&(n=1),tn(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=(0,eN.__read)(function(e){var t=ou.exec(e);if(!t)return[,];var n=(0,eN.__read)(t,3);return[n[1],n[2]]}(e),2),i=r[0],o=r[1];if(i){var a=window.getComputedStyle(t).getPropertyValue(i);return a?a.trim():ol(o)?oc(o,t,n+1):o}}var oA=new Set(["width","height","top","left","right","bottom","x","y"]),od=function(e){return oA.has(e)},oh=function(e,t){e.set(t,!1),e.set(t)},of=function(e){return e===tW||e===tV};(A=h||(h={})).width="width",A.height="height",A.left="left",A.right="right",A.top="top",A.bottom="bottom";var op=function(e,t){return parseFloat(e.split(", ")[t])},og=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return op(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?op(a[1],e):0}},om=new Set(["x","y","z"]),ov=tx.filter(function(e){return!om.has(e)}),oy={width:function(e,t){var n=e.x,r=t.paddingLeft,i=t.paddingRight;return n.max-n.min-parseFloat(void 0===r?"0":r)-parseFloat(void 0===i?"0":i)},height:function(e,t){var n=e.y,r=t.paddingTop,i=t.paddingBottom;return n.max-n.min-parseFloat(void 0===r?"0":r)-parseFloat(void 0===i?"0":i)},top:function(e,t){return parseFloat(t.top)},left:function(e,t){return parseFloat(t.left)},bottom:function(e,t){var n=e.y;return parseFloat(t.top)+(n.max-n.min)},right:function(e,t){var n=e.x;return parseFloat(t.left)+(n.max-n.min)},x:og(4,13),y:og(5,14)},ob=function(e,t,n){var r=t.measureViewportBox(),i=getComputedStyle(t.getInstance()),o=i.display,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach(function(e){a[e]=oy[e](r,i)}),t.syncRender();var s=t.measureViewportBox();return n.forEach(function(n){oh(t.getValue(n),a[n]),e[n]=oy[n](s,i)}),e},ow=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=(0,eN.__assign)({},t),r=(0,eN.__assign)({},r);var i=Object.keys(t).filter(od),o=[],a=!1,s=[];if(i.forEach(function(i){var l,u=e.getValue(i);if(e.hasValue(i)){var c,A=n[i],d=ig(A),h=t[i];if(nl(h)){var f=h.length,p=+(null===h[0]);d=ig(A=h[p]);for(var g=p;g<f;g++)l?tn(ig(h[g])===l,"All keyframes must be of the same type"):tn((l=ig(h[g]))===d||of(d)&&of(l),"Keyframes must be of the same dimension as the current value")}else l=ig(h);if(d!==l)if(of(d)&&of(l)){var m=u.get();"string"==typeof m&&u.set(parseFloat(m)),"string"==typeof h?t[i]=parseFloat(h):Array.isArray(h)&&l===tV&&(t[i]=h.map(parseFloat))}else(null==d?void 0:d.transform)&&(null==l?void 0:l.transform)&&(0===A||0===h)?0===A?u.set(l.transform(A)):t[i]=d.transform(h):(a||(c=[],ov.forEach(function(t){var n=e.getValue(t);void 0!==n&&(c.push([t,n.get()]),n.set(+!!t.startsWith("scale")))}),c.length&&e.syncRender(),o=c,a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],oh(u,h))}}),!s.length)return{target:t,transitionEnd:r};var l=s.indexOf("height")>=0?window.pageYOffset:null,u=ob(t,e,s);return o.length&&o.forEach(function(t){var n=(0,eN.__read)(t,2),r=n[0],i=n[1];e.getValue(r).set(i)}),e.syncRender(),null!==l&&window.scrollTo({top:l}),{target:u,transitionEnd:r}},o_=function(e,t,n,r){var i=function(e,t,n){var r=(0,eN.__rest)(t,[]),i=e.getInstance();if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var o in n&&(n=(0,eN.__assign)({},n)),e.forEachValue(function(e){var t=e.get();if(ol(t)){var n=oc(t,i);n&&e.set(n)}}),r){var a=r[o];if(ol(a)){var s=oc(a,i);s&&(r[o]=s,n&&(null!=n[o]||(n[o]=a)))}}return{target:r,transitionEnd:n}}(e,t,r);t=i.target,r=i.transitionEnd;var o=t,a=r;return Object.keys(o).some(od)?ow(e,o,n,a):{target:o,transitionEnd:a}},oE={treeType:"dom",readValueFromInstance:function(e,t){if(tS(t)){var n=ie(t);return n&&n.default||0}var r=window.getComputedStyle(e);return(tR(t)?r.getPropertyValue(t):r[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null==(n=e.style)?void 0:n[t]},measureViewportBox:function(e,t){return i7(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var o=t.transition,a=t.transitionEnd,s=(0,eN.__rest)(t,["transition","transitionEnd"]),l=function(e,t,n){var r,i,o={};for(var a in e)o[a]=null!=(r=function(e,t){if(t)return(t[e]||t.default||t).from}(a,t))?r:null==(i=n.getValue(a))?void 0:i.get();return o}(s,o||{},e);if(i&&(a&&(a=i(a)),s&&(s=i(s)),l&&(l=i(l))),r){!function(e,t,n){var r,i,o=Object.keys(t).filter(function(t){return!e.hasValue(t)}),a=o.length;if(a)for(var s=0;s<a;s++){var l,u,c,A=o[s],d=t[A],h=null;Array.isArray(d)&&(h=d[0]),null===h&&(h=null!=(i=null!=(r=n[A])?r:e.readValue(A))?i:t[A]),null!=h&&("string"==typeof h&&(l=h,/^\-?\d*\.?\d+$/.test(l)||(u=h,/^0[^.\s]+$/.test(u)))?h=parseFloat(h):(c=h,!im.find(ih(c))&&rA.test(d)&&(h=it(A,d))),e.addValue(A,id(h)),null!=n[A]||(n[A]=h),e.setBaseTarget(A,h))}}(e,s,l);var u=o_(e,s,l,a);a=u.transitionEnd,s=u.target}return(0,eN.__assign)({transition:o,transitionEnd:a},s)},scrapeMotionValuesFromProps:no,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),tX(t,n,r,i.transformTemplate)},render:nn},oC=oo(oE),oB=oo((0,eN.__assign)((0,eN.__assign)({},oE),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return tS(t)?(null==(n=ie(t))?void 0:n.default)||0:(t=nr.has(t)?t:nt(t),e.getAttribute(t))},scrapeMotionValuesFromProps:na,build:function(e,t,n,r,i){t9(t,n,r,i.transformTemplate)},render:ni})),ox=function(e,t){return tE(e)?oB(t,{enableHardwareAcceleration:!1}):oC(t,{enableHardwareAcceleration:!0})};function oI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var oT={correct:function(e,t){if(!t.target)return e;if("string"==typeof e)if(!tV.test(e))return e;else e=parseFloat(e);var n=oI(e,t.target.x),r=oI(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},oS="_$css",ok=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,eN.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.visualElement,r=t.layoutGroup,i=t.switchLayoutGroup,o=t.layoutId,a=n.projection;Object.assign(tC,oN),a&&((null==r?void 0:r.group)&&r.group.add(a),(null==i?void 0:i.register)&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",function(){e.safeToRemove()}),a.setOptions((0,eN.__assign)((0,eN.__assign)({},a.options),{onExitComplete:function(){return e.safeToRemove()}}))),tv.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,a=n.isPresent,s=i.projection;return s&&(s.isPresent=a,o||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||eH.postRender(function(){var e;(null==(e=s.getStack())?void 0:e.members.length)||t.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null==n?void 0:n.group)&&n.group.remove(i),(null==r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null==e||e()},t.prototype.render=function(){return null},t}(b.Component),oN={borderRadius:(0,eN.__assign)((0,eN.__assign)({},oT),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:oT,borderTopRightRadius:oT,borderBottomLeftRadius:oT,borderBottomRightRadius:oT,boxShadow:{correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=e.includes("var("),a=[];o&&(e=e.replace(ou,function(e){return a.push(e),oS}));var s=rA.parse(e);if(s.length>5)return i;var l=rA.createTransformer(e),u=+("number"!=typeof s[0]),c=r.x.scale*n.x,A=r.y.scale*n.y;s[0+u]/=c,s[1+u]/=A;var d=nX(c,A,.5);"number"==typeof s[2+u]&&(s[2+u]/=d),"number"==typeof s[3+u]&&(s[3+u]/=d);var h=l(s);if(o){var f=0;h=h.replace(oS,function(){var e=a[f];return f++,e})}return h}}},oD=["TopLeft","TopRight","BottomLeft","BottomRight"],oO=oD.length,oR=function(e){return"string"==typeof e?parseFloat(e):e},oF=function(e){return"number"==typeof e||tV.test(e)};function oL(e,t){var n;return null!=(n=e[t])?n:e.borderRadius}var oU=oM(0,.5,rS),oP=oM(.5,.95,rC);function oM(e,t,n){return function(r){return r<e?0:r>t?1:n(nJ(e,t,r))}}function oj(e,t){e.min=t.min,e.max=t.max}function oZ(e,t){oj(e.x,t.x),oj(e.y,t.y)}function oQ(e,t,n,r,i){return e-=t,e=r+1/n*(e-r),void 0!==i&&(e=r+1/i*(e-r)),e}function oH(e,t,n,r,i){var o=(0,eN.__read)(n,3),a=o[0],s=o[1],l=o[2];!function(e,t,n,r,i,o,a){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===o&&(o=e),void 0===a&&(a=e),tH.test(t)&&(t=parseFloat(t),t=nX(a.min,a.max,t/100)-a.min),"number"==typeof t){var s=nX(o.min,o.max,r);e===o&&(s-=t),e.min=oQ(e.min,t,n,s,i),e.max=oQ(e.max,t,n,s,i)}}(e,t[a],t[s],t[l],t.scale,r,i)}var oV=["x","scaleX","originX"],oK=["y","scaleY","originY"];function oz(e,t,n,r){oH(e.x,t,oV,null==n?void 0:n.x,null==r?void 0:r.x),oH(e.y,t,oK,null==n?void 0:n.y,null==r?void 0:r.y)}function oG(e){return 0===e.translate&&1===e.scale}function oW(e){return oG(e.x)&&oG(e.y)}function oq(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var o$=function(){function e(){this.members=[]}return e.prototype.add=function(e){il(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(iu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex(function(t){return e===t});if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null==(n=e.root)?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,n,r,i,o;null==(n=(t=e.options).onExitComplete)||n.call(t),null==(o=null==(r=e.resumingFrom)?void 0:(i=r.options).onExitComplete)||o.call(i)})},e.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}();function oY(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(o+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var a=n.rotate,s=n.rotateX,l=n.rotateY;a&&(o+="rotate(".concat(a,"deg) ")),s&&(o+="rotateX(".concat(s,"deg) ")),l&&(o+="rotateY(".concat(l,"deg) "))}var u=e.x.scale*t.x,c=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(o+="scale(".concat(u,", ").concat(c,")"))?"none":o}var oJ=function(e,t){return e.depth-t.depth},oX=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){il(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){iu(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(oJ),this.isDirty=!1,this.children.forEach(e)},e}();function o0(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,o=e.resetTransform;function a(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null==n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(o8),i.nodes.forEach(o9)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?(0,eN.__spreadArray)((0,eN.__spreadArray)([],(0,eN.__read)(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new oX)}return a.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ic),this.eventHandlers.get(e).add(t)},a.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null==r||r.notify.apply(r,(0,eN.__spreadArray)([],(0,eN.__read)(t),!1))},a.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},a.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},a.prototype.mount=function(e,n){var r=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var i=this.options,o=i.layoutId,a=i.layout,s=i.visualElement;if(s&&!s.getInstance()&&s.mount(e),this.root.nodes.add(this),null==(l=this.parent)||l.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(a||o)&&(this.isLayoutDirty=!0),t){var l,u,c=function(){return r.root.updateBlockedByResize=!1};t(e,function(){r.root.updateBlockedByResize=!0,clearTimeout(u),u=window.setTimeout(c,250),tv.hasAnimatedSinceResize&&(tv.hasAnimatedSinceResize=!1,r.nodes.forEach(o6))})}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&s&&(o||a)&&this.addEventListener("didUpdate",function(e){var t,n,i,o,a,l=e.delta,u=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,A=e.layout;if(r.isTreeAnimationBlocked()){r.target=void 0,r.relativeTarget=void 0;return}var d=null!=(n=null!=(t=r.options.transition)?t:s.getDefaultTransition())?n:ai,h=s.getProps(),f=h.onLayoutAnimationStart,p=h.onLayoutAnimationComplete,g=!r.targetLayout||!oq(r.targetLayout,A)||c,m=!u&&c;if((null==(i=r.resumeFrom)?void 0:i.instance)||m||u&&(g||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(l,m);var v=(0,eN.__assign)((0,eN.__assign)({},ia(d,"layout")),{onPlay:f,onComplete:p});s.shouldReduceMotion&&(v.delay=0,v.type=!1),r.startAnimation(v)}else u||0!==r.animationProgress||r.finishAnimation(),r.isLead()&&(null==(a=(o=r.options).onExitComplete)||a.call(o));r.targetLayout=A})}},a.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null==(e=this.getStack())||e.remove(this),null==(t=this.parent)||t.children.delete(this),this.instance=void 0,eV.preRender(this.updateProjection)},a.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},a.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},a.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},a.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null==(e=this.parent)?void 0:e.isTreeAnimationBlocked())||!1},a.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null==(e=this.nodes)||e.forEach(o7))},a.prototype.willUpdate=function(e){if(void 0===e&&(e=!0),this.root.isUpdateBlocked()){null==(n=(t=this.options).onExitComplete)||n.call(t);return}if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t,n,r,i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var a=this.options,s=a.layoutId,l=a.layout;if(void 0!==s||l){var u=null==(r=this.options.visualElement)?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==u?void 0:u(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},a.prototype.didUpdate=function(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o3);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ao),this.potentialNodes.clear()),this.nodes.forEach(o5),this.nodes.forEach(o1),this.nodes.forEach(o2),this.clearAllSnapshots(),eK.update(),eK.preRender(),eK.render())},a.prototype.clearAllSnapshots=function(){this.nodes.forEach(o4),this.sharedNodes.forEach(ae)},a.prototype.scheduleUpdateProjection=function(){eH.preRender(this.updateProjection,!1,!0)},a.prototype.scheduleCheckAfterUnmount=function(){var e=this;eH.postRender(function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()})},a.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));as(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},a.prototype.updateLayout=function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e,t=0;t<this.path.length;t++)this.path[t].updateScroll();var n=this.measure();as(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected=iq(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null==(e=this.options.visualElement)||e.notifyLayoutMeasure(this.layout.actual,null==r?void 0:r.actual)}},a.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))},a.prototype.resetTransform=function(){if(o){var e,t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!oW(this.projectionDelta),r=null==(e=this.options.visualElement)?void 0:e.getProps().transformTemplate,i=null==r?void 0:r(this.latestValues,""),a=i!==this.prevTransformTemplateValue;t&&(n||i0(this.latestValues)||a)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},a.prototype.measure=function(){var e=this.options.visualElement;if(!e)return iq();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(i3(t.x,n.x),i3(t.y,n.y)),t},a.prototype.removeElementScroll=function(e){var t=iq();oZ(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options,a=r.isScrollRoot;if(r!==this.root&&i&&o.layoutScroll){if(a){oZ(t,e);var s=this.root.scroll;s&&(i3(t.x,-s.x),i3(t.y,-s.y))}i3(t.x,i.x),i3(t.y,i.y)}}return t},a.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n=iq();oZ(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&i9(n,{x:-i.scroll.x,y:-i.scroll.y}),i0(i.latestValues)&&i9(n,i.latestValues)}return i0(this.latestValues)&&i9(n,this.latestValues),n},a.prototype.removeTransform=function(e){var t,n=iq();oZ(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&i0(i.latestValues)){iX(i.latestValues)&&i.updateSnapshot();var o=iq();oZ(o,i.measure()),oz(n,i.latestValues,null==(t=i.snapshot)?void 0:t.layout,o)}}return i0(this.latestValues)&&oz(n,this.latestValues),n},a.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},a.prototype.setOptions=function(e){var t;this.options=(0,eN.__assign)((0,eN.__assign)((0,eN.__assign)({},this.options),e),{crossfade:null==(t=e.crossfade)||t})},a.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},a.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,o=i.layout,a=i.layoutId;this.layout&&(o||a)&&(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=iq(),this.relativeTargetOrigin=iq(),iZ(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),oZ(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&((this.target||(this.target=iq(),this.targetWithTransforms=iq()),this.relativeTarget&&this.relativeTargetOrigin&&(null==(r=this.relativeParent)?void 0:r.target))?(e=this.target,t=this.relativeTarget,n=this.relativeParent.target,iM(e.x,t.x,n.x),iM(e.y,t.y,n.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):oZ(this.target,this.layout.actual),i4(this.target,this.targetDelta)):oZ(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=iq(),this.relativeTargetOrigin=iq(),iZ(this.relativeTargetOrigin,this.target,this.relativeParent.target),oZ(this.relativeTarget,this.relativeTargetOrigin)))))},a.prototype.getClosestProjectingParent=function(){if(!(!this.parent||i0(this.parent.latestValues)))if((this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout)return this.parent;else return this.parent.getClosestProjectingParent()},a.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=!!((null==(e=this.parent)?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();oZ(this.layoutCorrected,this.layout.actual),function(e,t,n,r){void 0===r&&(r=!1);var i,o,a,s,l=n.length;if(l){t.x=t.y=1;for(var u=0;u<l;u++)s=(a=n[u]).projectionDelta,(null==(o=null==(i=a.instance)?void 0:i.style)?void 0:o.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&i9(e,{x:-a.scroll.x,y:-a.scroll.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,i4(e,s)),r&&i0(a.latestValues)&&i9(e,a.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta=iG(),this.projectionDeltaWithTransform=iG());var a=this.treeScale.x,s=this.treeScale.y,l=this.projectionTransform;iP(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=oY(this.projectionDelta,this.treeScale),(this.projectionTransform!==l||this.treeScale.x!==a||this.treeScale.y!==s)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},a.prototype.hide=function(){this.isVisible=!1},a.prototype.show=function(){this.isVisible=!0},a.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null==(n=(t=this.options).scheduleRender)||n.call(t),e&&(null==(r=this.getStack())||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},a.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,o=(null==i?void 0:i.latestValues)||{},a=(0,eN.__assign)({},this.latestValues),s=iG();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var l=iq(),u=null==i?void 0:i.isShared,c=1>=((null==(n=this.getStack())?void 0:n.members.length)||0),A=!!(u&&!c&&!0===this.options.crossfade&&!this.path.some(ar));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i,d,h,f,p=t/1e3;at(s.x,e.x,p),at(s.y,e.y,p),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null==(f=r.relativeParent)?void 0:f.layout)&&(iZ(l,r.layout.actual,r.relativeParent.layout.actual),n=r.relativeTarget,i=r.relativeTargetOrigin,d=l,h=p,an(n.x,i.x,d.x,h),an(n.y,i.y,d.y,h)),u&&(r.animationValues=a,function(e,t,n,r,i,o){var a,s,l,u;i?(e.opacity=nX(0,null!=(a=n.opacity)?a:1,oU(r)),e.opacityExit=nX(null!=(s=t.opacity)?s:1,0,oP(r))):o&&(e.opacity=nX(null!=(l=t.opacity)?l:1,null!=(u=n.opacity)?u:1,r));for(var c=0;c<oO;c++){var A="border".concat(oD[c],"Radius"),d=oL(t,A),h=oL(n,A);(void 0!==d||void 0!==h)&&(d||(d=0),h||(h=0),0===d||0===h||oF(d)===oF(h)?(e[A]=Math.max(nX(oR(d),oR(h),r),0),(tH.test(h)||tH.test(d))&&(e[A]+="%")):e[A]=h)}(t.rotate||n.rotate)&&(e.rotate=nX(t.rotate||0,n.rotate||0,r))}(a,o,r.latestValues,p,A,c)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=p},this.mixTargetDelta(0)},a.prototype.startAnimation=function(e){var t,n,r=this;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),this.resumingFrom&&(null==(n=this.resumingFrom.currentAnimation)||n.stop()),this.pendingAnimation&&(eV.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eH.update(function(){var t,n;tv.hasAnimatedSinceResize=!0,void 0===(t=(0,eN.__assign)((0,eN.__assign)({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null==(n=e.onUpdate)||n.call(e,t)},onComplete:function(){var t;null==(t=e.onComplete)||t.call(e),r.completeAnimation()}}))&&(t={}),is("",n=tD(0)?0:id(0),1e3,t),r.currentAnimation={stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}},r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0})},a.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null==(e=this.getStack())||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},a.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null==(e=this.mixTargetDelta)||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},a.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(oZ(t,n),i9(t,i),iP(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},a.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new o$),this.sharedNodes.get(e).add(t),t.promote({transition:null==(n=t.options.initialPromotionConfig)?void 0:n.transition,preserveFollowOpacity:null==(i=null==(r=t.options.initialPromotionConfig)?void 0:r.shouldPreserveFollowOpacity)?void 0:i.call(r,t)})},a.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},a.prototype.getLead=function(){var e;return this.options.layoutId&&(null==(e=this.getStack())?void 0:e.lead)||this},a.prototype.getPrevLead=function(){var e;return this.options.layoutId?null==(e=this.getStack())?void 0:e.prevLead:void 0},a.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},a.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},a.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},a.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<tB.length;r++){var i="rotate"+tB[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null==e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},a.prototype.getProjectionStyles=function(e){void 0===e&&(e={});var t,n,r,i,o,a,s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var l=null==(t=this.options.visualElement)?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=nc(e.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none",s;var u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){var c={};return this.options.layoutId&&(c.opacity=null!=(n=this.latestValues.opacity)?n:1,c.pointerEvents=nc(e.pointerEvents)||""),this.hasProjected&&!i0(this.latestValues)&&(c.transform=l?l({},""):"none",this.hasProjected=!1),c}var A=u.animationValues||u.latestValues;this.applyTransformsToTarget(),s.transform=oY(this.projectionDeltaWithTransform,this.treeScale,A),l&&(s.transform=l(A,s.transform));var d=this.projectionDelta,h=d.x,f=d.y;for(var p in s.transformOrigin="".concat(100*h.origin,"% ").concat(100*f.origin,"% 0"),u.animationValues?s.opacity=u===this?null!=(i=null!=(r=A.opacity)?r:this.latestValues.opacity)?i:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:s.opacity=u===this?null!=(o=A.opacity)?o:"":null!=(a=A.opacityExit)?a:0,tC)if(void 0!==A[p]){var g=tC[p],m=g.correct,v=g.applyTo,y=m(A[p],u);if(v)for(var b=v.length,w=0;w<b;w++)s[v[w]]=y;else s[p]=y}return this.options.layoutId&&(s.pointerEvents=u===this?nc(e.pointerEvents)||"":"none"),s},a.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},a.prototype.resetTree=function(){this.root.nodes.forEach(function(e){var t;return null==(t=e.currentAnimation)?void 0:t.stop()}),this.root.nodes.forEach(o3),this.root.sharedNodes.clear()},a}function o1(e){e.updateLayout()}function o2(e){var t,n,r,i,o=null!=(n=null==(t=e.resumeFrom)?void 0:t.snapshot)?n:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,l=a.measured;"size"===e.options.animationType?i$(function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=iF(t);t.min=s[e].min,t.max=t.min+n}):"position"===e.options.animationType&&i$(function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=iF(s[e]);t.max=t.min+n});var u=iG();iP(u,s,o.layout);var c=iG();o.isShared?iP(c,e.applyTransform(l,!0),o.measured):iP(c,s,o.layout);var A=!oW(u),d=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var h=e.relativeParent,f=h.snapshot,p=h.layout;if(f&&p){var g=iq();iZ(g,o.layout,f.layout);var m=iq();iZ(m,s,p.actual),oq(g,m)||(d=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:o,delta:c,layoutDelta:u,hasLayoutChanged:A,hasRelativeTargetChanged:d})}else e.isLead()&&(null==(i=(r=e.options).onExitComplete)||i.call(r));e.options.transition=void 0}function o4(e){e.clearSnapshot()}function o3(e){e.clearMeasurements()}function o5(e){var t=e.options.visualElement;(null==t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function o6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function o8(e){e.resolveTargetDelta()}function o9(e){e.calcProjection()}function o7(e){e.resetRotation()}function ae(e){e.removeLeadSnapshot()}function at(e,t,n){e.translate=nX(t.translate,0,n),e.scale=nX(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function an(e,t,n,r){e.min=nX(t.min,n.min,r),e.max=nX(t.max,n.max,r)}function ar(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var ai={duration:.45,ease:[.4,0,.1,1]};function ao(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(e.path[r].instance){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function aa(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function as(e){aa(e.x),aa(e.y)}var al=o0({attachResizeListener:function(e,t){return np(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),au={current:void 0},ac=o0({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!au.current){var e=new al(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),au.current=e}return au.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"},checkIsScrollRoot:function(e){return"fixed"===window.getComputedStyle(e).position}}),aA=(0,eN.__assign)((0,eN.__assign)((0,eN.__assign)((0,eN.__assign)({},iB),nQ),or),{measureLayout:function(e){var t=(0,eN.__read)(nH(),2),n=t[0],r=t[1],i=(0,b.useContext)(e5);return b.createElement(ok,(0,eN.__assign)({},e,{layoutGroup:i,switchLayoutGroup:(0,b.useContext)(tb),isPresent:n,safeToRemove:r}))}}),ad=function(e){function t(t,n){var r,i,o,a,s,l,u;return void 0===n&&(n={}),i=(r=e(t,n)).preloadedFeatures,o=r.createVisualElement,a=r.projectionNodeConstructor,s=r.useRender,l=r.useVisualState,u=r.Component,i&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?te.projectionNodeConstructor=e[t]:te[t].Component=e[t])}(i),(0,b.forwardRef)(function(e,t){var n,r,c,A,d,h,f,p,g,m,v,y,w,_,E,C,B,x,I,T,S,k,N,D,O,R,F,L=(r=e.layoutId,(c=null==(n=(0,b.useContext)(e5))?void 0:n.id)&&void 0!==r?c+"-"+r:r);e=(0,eN.__assign)((0,eN.__assign)({},e),{layoutId:L});var U=(0,b.useContext)(ta),P=null,M=(d=(A=function(e,t){if(tp(e)){var n=e.initial,r=e.animate;return{initial:!1===n||td(n)?n:void 0,animate:td(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,b.useContext)(ts))).initial,h=A.animate,(0,b.useMemo)(function(){return{initial:d,animate:h}},[tm(d),tm(h)])),j=U.isStatic?void 0:eX(function(){if(tv.hasEverUpdated)return ty++}),Z=l(e,U.isStatic);return!U.isStatic&&eq&&(f=(0,eN.__assign)((0,eN.__assign)({},U),e),p=o,g=(0,b.useContext)(tr),m=(0,b.useContext)(ts).visualElement,v=(0,b.useContext)(eJ),tu||function(){if(tu=!0,eq)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return tl.current=e.matches};e.addListener(t),t()}else tl.current=!1}(),y=(0,eN.__read)((0,b.useState)(tl.current),1)[0],_="never"!==(w=(0,b.useContext)(ta).reducedMotion)&&("always"===w||y),E=(0,b.useRef)(void 0),p||(p=g.renderer),!E.current&&p&&(E.current=p(u,{visualState:Z,parent:m,props:f,presenceId:null==v?void 0:v.id,blockInitialAnimation:(null==v?void 0:v.initial)===!1,shouldReduceMotion:_})),C=E.current,e$(function(){null==C||C.syncRender()}),(0,b.useEffect)(function(){var e;null==(e=null==C?void 0:C.animationState)||e.animateChanges()}),e$(function(){return function(){return null==C?void 0:C.notifyUnmount()}},[]),M.visualElement=C,B=e,x=M.visualElement,I=a||te.projectionNodeConstructor,S=B.layoutId,k=B.layout,N=B.drag,D=B.dragConstraints,O=B.layoutScroll,R=(0,b.useContext)(tb),I&&x&&(null==x||!x.projection)&&(x.projection=new I(j,x.getLatestValues(),null==(T=x.parent)?void 0:T.projection),x.projection.setOptions({layoutId:S,layout:k,alwaysMeasureLayout:!!N||D&&tc(D),visualElement:x,scheduleRender:function(){return x.scheduleRender()},animationType:"string"==typeof k?k:"both",initialPromotionConfig:R,layoutScroll:O})),P=function(e,t,n){var r=[],i=(0,b.useContext)(tr);if(!t)return null;"production"!==eO&&n&&i.strict&&tn(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var o=0;o<to;o++){var a=ti[o],s=te[a],l=s.isEnabled,u=s.Component;l(e)&&u&&r.push(b.createElement(u,(0,eN.__assign)({key:a},e,{visualElement:t})))}return r}(e,M.visualElement,i)),b.createElement(tw,{visualElement:M.visualElement,props:(0,eN.__assign)((0,eN.__assign)({},U),e)},P,b.createElement(ts.Provider,{value:M},s(u,e,j,(F=M.visualElement,(0,b.useCallback)(function(e){var n;e&&(null==(n=Z.mount)||n.call(Z,e)),F&&(e?F.mount(e):F.unmount()),t&&("function"==typeof t?t(e):tc(t)&&(t.current=e))},[F])),Z,U.isStatic,M.visualElement)))})}if("undefined"==typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}(function(e,t){var n,r,i;return n=t.forwardMotionProps,r=tE(e)?nh:nf,(0,eN.__assign)((0,eN.__assign)({},r),{preloadedFeatures:aA,useRender:(void 0===(i=void 0!==n&&n)&&(i=!1),function(e,t,n,r,o,a){var s=o.latestValues,l=(tE(e)?function(e,t){var n=(0,b.useMemo)(function(){var n=t7();return t9(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),(0,eN.__assign)((0,eN.__assign)({},n.attrs),{style:(0,eN.__assign)({},n.style)})},[t]);if(e.style){var r={};t1(r,e.style,e),n.style=(0,eN.__assign)((0,eN.__assign)({},r),n.style)}return n}:function(e,t,n){var r,i,o={},a=(t1(r={},e.style||{},e),Object.assign(r,(i=e.transformTemplate,(0,b.useMemo)(function(){var e=t0();tX(e,t,{enableHardwareAcceleration:!n},i);var r=e.vars,o=e.style;return(0,eN.__assign)((0,eN.__assign)({},r),o)},[t]))),e.transformValues&&(r=e.transformValues(r)),r);return e.drag&&!1!==e.dragListener&&(o.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),o.style=a,o})(t,s,a),u=function(e,t,n){var r={};for(var i in e)(t3(i)||!0===n&&t4(i)||!t&&!t4(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"==typeof e,i),c=(0,eN.__assign)((0,eN.__assign)((0,eN.__assign)({},u),l),{ref:r});return n&&(c["data-projection-id"]=n),(0,b.createElement)(e,c)}),createVisualElement:ox,projectionNodeConstructor:ac,Component:e})}),ah=n(98537),af=n.n(ah),ap=[.4,0,1,1],ag=[0,0,.2,1],am={initial:"exit",animate:"enter",exit:"exit",variants:{exit:function(e){return{opacity:0,transition:{duration:null!=(f=null==e?void 0:e.exitDuration)?f:.1,ease:ag}}},enter:function(e){return{opacity:1,transition:{delay:null!=(p=null==e?void 0:e.enterDelay)?p:0,duration:null!=(g=null==e?void 0:e.enterDuration)?g:.1,ease:ap}}}}},av=(0,b.forwardRef)(function(e,t){var n=e.unmountOnExit,r=e.in,i=e.className,o=e.enterDelay,a=e.enterDuration,s=e.exitDuration,l=e.variants,u=e.onExitComplete,c=(0,ek.Z)(e,["unmountOnExit","in","className","enterDelay","enterDuration","exitDuration","variants","onExitComplete"]),A={enterDuration:a,exitDuration:s,enterDelay:void 0===o?0:o},d=(0,v.Z)((0,m.Z)({},am),{custom:af()(am.custom,A)});return(0,y.jsx)(e9,{custom:A,onExitComplete:u,children:(!n||r&&n)&&(0,y.jsx)(ad.div,(0,m.Z)((0,v.Z)((0,m.Z)({ref:t,className:"".concat(i||""," po1"),variants:l},d),{animate:r||n?"enter":"exit"}),c))})});av.displayName="Fade";var ay=n(27196),ab=function(e){var t=e.ref,n=e.handler,r=e.isEnabled,i=(0,ay.W6)(n),o=(0,b.useRef)({isEnabled:void 0===r||r}),a=o.current;return(0,b.useEffect)(function(){var r=function(r){!n||!t.current||a.isEnabled&&function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!t.current)return!1;var r=e.target;if(n&&e.button>0)return!1;if(r){var i=r.ownerDocument;if(!i||!i.body.contains(r))return!1}return!t.current.contains(r)}(r,t,e.ignoreContextMenu)&&i(r)};return document.addEventListener("mousedown",r,!0),document.addEventListener("touchstart",r,!0),function(){document.removeEventListener("mousedown",r,!0),document.removeEventListener("touchstart",r,!0)}},[n,e.ignoreContextMenu,t,a]),o},aw=n(3635),a_=n(16593),aE=n.n(a_),aC=n(46453),aB={strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,10]}}]},ax=[],aI=function(e){ax.push(e)},aT=function(e){var t=ax.indexOf(e);-1!==t&&ax.splice(t,1)},aS=function(){return ax},ak=function(e){var t,n=e.zIndex,r=e.onHide,i=e.onClick,o=e.children,a=e.className,s=e.targetNode,l=e.onOverflow,u=e.enterDelay,c=e.disableArrow,A=e.enterDuration,d=e.arrowClassName,h=e.onExitComplete,f=e.visible,p=e.animationClassName,g=e.shouldUseDomObserver,w=e.renderInPortal,_=e.stayOpenOnOutsideClick,E=e.closeOnOtherPopperClick,C=e.style,B=e.ignoreClicksOnTargetNode,x=e.popperDataAttributes,I=e.placement,T=void 0===I?"bottom-start":I,S=e.shouldUseDomObserverOnTarget,k=e.popperProps,N=void 0===k?aB:k,D=(0,b.useState)(null),O=D[0],R=D[1],F=eS(s,O,(0,m.Z)({placement:T},N)),L=F.styles,U=F.attributes,P=F.state,M=F.forceUpdate;if((0,b.useEffect)(function(){if(M&&(g&&O||S&&s)){var e=new MutationObserver(M);return g&&e.observe(O,{childList:!0,subtree:!0}),S&&e.observe(s,{attributes:!0}),function(){return e.disconnect()}}},[O,s,M,g,S]),(0,b.useEffect)(function(){if(s&&null!==P&&l){var e=el(P,(0,m.Z)({placement:T},N));(e.bottom>0||e.top>0||e.left>0||e.right>0)&&l(e)}},[s,P]),(0,b.useEffect)(function(){if(O)return aI(O),function(){aT(O)}},[O]),ab({ref:{current:O},handler:(0,b.useCallback)(function(e){if(f){var t=null==s?void 0:s.contains(e.target);B&&t||(!_||t)&&(E||ax.every(function(t){return!t.contains(e.target)}))&&(null==r||r(e))}},[f,B,s,E,r,_]),isEnabled:!0,ignoreContextMenu:!1}),(0,b.useEffect)(function(){O&&M&&setTimeout(function(){return null==M?void 0:M()},0)},[O,M]),!s)return null;var j=!c&&!!(null==(t=N.modifiers)?void 0:t.length),Z=(0,y.jsx)(av,{in:f,unmountOnExit:!0,style:{zIndex:n},enterDelay:u,enterDuration:A,onExitComplete:h,className:(0,aw.Z)(aE().fade,p),children:(0,y.jsxs)("div",(0,v.Z)((0,m.Z)((0,v.Z)((0,m.Z)({onClick:i,ref:R},void 0===x?{}:x),{className:(0,aw.Z)(aE().popper,a),style:(0,m.Z)({},L.popper,void 0===C?{}:C)}),U.popper),{children:[j&&(0,y.jsx)("div",{"data-popper-arrow":!0,style:L.arrow,className:(0,aw.Z)(aE().arrow,d)}),o]}))});return void 0===w||w?(0,y.jsx)(aC.k,{children:Z}):Z}},46453:function(e,t,n){"use strict";n.d(t,{k:function(){return a}}),n(52322);var r=n(2784),i=n(28316),o=n(71059),a=function(e){var t=e.children,n=(0,r.useRef)(null),a=(0,r.useState)(!1),s=a[0],l=a[1];return(0,o.Z)(function(){n.current=document.getElementById("popper-root"),n.current&&l(!0)},[]),s?(0,i.createPortal)(t,n.current):null}},47330:function(e,t,n){"use strict";n.d(t,{K:function(){return r.KL}});var r=n(59502);t.Z=r.ZP},28563:function(e,t,n){"use strict";n.d(t,{_:function(){return o},Z:function(){return B}});var r,i,o,a=n(70865),s=n(96670),l=n(26297),u=n(52322),c=n(2784);function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var d=function(e){return c.createElement("svg",A({width:12,height:9,viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=c.createElement("path",{d:"M.8 4.6l3.6 3.6 6.8-6.8",fill:"none",stroke:"currentColor",strokeLinecap:"square"})))},h=n(88404),f=n(75426),p=n(3635),g=n(59211),m=n.n(g),v=n(4742),y=n.n(v),b=n(51992),w=n(95114),_=function(){var e=(0,w.Z)(function(){return y()([100,125,150])});return(0,u.jsx)(b.yB,{color:"var(--grey-500) !important",highlightColor:"var(--grey-400) !important",children:(0,u.jsx)(b.ZP,{count:1,width:e,height:14})})},E=n(55499);(r=o||(o={})).Primary="primary",r.Grey="grey";var C=(0,c.forwardRef)(function(e,t){var n=e.href,r=e.icon,i=e.label,A=e.onClick,g=e.asyncOnClick,v=e.children,y=e.className,b=e.explanation,w=e.asCheckbox,C=e.isSelected,B=e.selectionVariant,x=void 0===B?o.Primary:B,I=e.rightElement,T=e.activeClassName,S=e.isLoading,k=void 0!==S&&S,N=e.isDisabled,D=void 0!==N&&N,O=e.preventDefault,R=void 0===O||O,F=e.focusOnMouseEnter,L=void 0===F||F,U=e.focusSelectedOnMount,P=void 0===U||U,M=e.stayOpenOnClick,j=void 0!==M&&M,Z=(0,l.Z)(e,["href","icon","label","onClick","asyncOnClick","children","className","explanation","asCheckbox","isSelected","selectionVariant","rightElement","activeClassName","isLoading","isDisabled","preventDefault","focusOnMouseEnter","focusSelectedOnMount","stayOpenOnClick"]),Q=(0,c.useRef)(null);(0,c.useImperativeHandle)(t,function(){return Q.current});var H=(0,c.useContext)(E.c),V=H.setTarget,K=H.parentMenu,z=H.closeThisMenu,G=H.isTopLevel,W=(0,c.useState)(!1),q=W[0],$=W[1];(0,c.useEffect)(function(){P&&Q.current&&C&&Q.current.focus()},[P,C]);var Y=(0,c.useCallback)(function(e){if((R||w||j)&&(e.preventDefault(),e.stopPropagation()),!D){n&&window.open(n,"_blank","noreferrer noopener");var t=function(){w||j||(null==V||V(void 0),null==z||z(),K&&!G&&K.closeThisMenu())};null==A||A(e),"function"==typeof g?($(!0),g(e).finally(function(){$(!1),t()})):t()}},[R,D,n,A,w,V,K,g,z,G,j]),J=(0,c.useCallback)(function(){var e;L&&(null==(e=Q.current)||e.focus())},[L]),X=(0,c.useCallback)(function(){var e;L&&(null==(e=Q.current)||e.blur())},[L]),ee=!!(r||w);return k?(0,u.jsx)("span",{className:(0,p.Z)(m().option,k&&m().isLoading,y),children:(0,u.jsx)(_,{})}):(0,u.jsxs)("button",(0,s.Z)((0,a.Z)({type:"button",ref:Q,className:(0,p.Z)(m().option,w&&m().checkbox,D&&m().disabled,C&&m().selected,C&&(null!=T?T:m()["selected-".concat(x)]),!!b&&m().paddingLarge,y),onMouseEnter:J,onMouseLeave:X,onClick:Y,tabIndex:-1,disabled:D||q},Z),{children:[(0,u.jsxs)("span",{className:m().row,children:[ee?(0,u.jsx)("span",{className:m().icon,children:w?(0,u.jsx)(h.J,{icon:d}):r}):null,(0,u.jsx)("span",{className:m().content,children:v||i}),I&&!q?(0,u.jsx)("span",{className:(0,p.Z)(m().right,"rowCentered"),children:I}):null,q?(0,u.jsx)(f.Z,{className:m().right}):null]}),b?(0,u.jsx)("span",{className:(0,p.Z)(m().explanation,ee&&m().marginLeft),children:b}):null]}))});C.displayName="Option";var B=Object.assign(C,{SelectionVariants:o})},55499:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r=(0,n(2784).createContext)({setTarget:function(){return!1},closeThisMenu:function(){},closeWithTimeout:function(){},closeDescendentPopups:function(){},getDescendantPopups:function(){return[]},showModal:function(){}})},62866:function(e,t,n){"use strict";n.d(t,{Wx:function(){return y.Z},GI:function(){return I},QR:function(){return x}});var r=n(52322),i=n(2784),o=n(80498),a=n(70865),s=n(96670),l=n(26297),u=n(50930),c=n(47330),A=n(3635),d=n(87042),h=n.n(d),f=n(55499),p={modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return t.endsWith("end")?[10,10]:t.endsWith("start")?[-10,10]:[0,10]}}},{name:"arrow",options:{padding:0}}]},g={modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return t.endsWith("end")||t.endsWith("start"),[0,10]}}},{name:"arrow",options:{padding:0}}]},m={modifiers:[{name:"offset",options:{offset:[-5,10]}},{name:"arrow",options:{padding:0}}]},v=function(e){var t=e.children,n=e.disableArrow,o=e.className,d=e.popperProps,v=(0,l.Z)(e,["children","disableArrow","className","popperProps"]),y=(0,i.useContext)(f.c),b=y.target,w=y.closeWithTimeout,_=y.isTopLevel,E=y.onOverflow,C=(0,i.useMemo)(function(){var e,t=_?n?g:p:m,r=_?"bottom-start":"right-start";return(0,s.Z)((0,a.Z)({},t),{strategy:null==d?void 0:d.strategy,placement:null!=(e=null==d?void 0:d.placement)?e:r,modifiers:(0,u.Z)((null==t?void 0:t.modifiers)||[]).concat((0,u.Z)((null==d?void 0:d.modifiers)||[]))})},[_,n,null==d?void 0:d.strategy,null==d?void 0:d.modifiers,null==d?void 0:d.placement]);return(0,r.jsx)(c.Z,(0,s.Z)((0,a.Z)({className:(0,A.Z)(h().menu,o,_&&h().isSubmenu),popperProps:C,onOverflow:E,closeOnOtherPopperClick:!_},v),{targetNode:b||null,visible:!!b,onHide:w,disableArrow:n,children:t}))};v.displayName="Popup.Menu";var y=n(28563),b=n(42838),w=n(33484),_=n(59502),E=n(9107),C=(0,i.forwardRef)(function(e,t){var n=e.className,o=e.onClick,u=e.isDisabled,c=e.openOnClick,d=(0,l.Z)(e,["className","onClick","isDisabled","openOnClick"]),p=(0,i.useRef)(!0),g=(0,i.useRef)(null),m=(0,E.Z)(g,t),v=(0,i.useContext)(f.c),y=v.setTarget,C=v.target,B=v.isTopLevel,x=v.closeThisMenu,I=v.parentMenu,T=v.controller,S=(0,w.f)();(0,i.useEffect)(function(){if(!B){var e,t=(0,_.uw)(),n=g.current&&t.find(function(e){return e.contains(g.current)}),r=function(r){clearTimeout(e);var i,o=r.target;if((0,b.Z)(o,HTMLElement)){var a=t.find(function(e){return e.contains(o)}),s=C===g.current;if(n===a||s){var l=T&&t.some(function(e){return e.contains(o)&&e!==n});if((null==(i=g.current)?void 0:i.contains(o))||l){clearTimeout(e),s||k();return}s&&(clearTimeout(e),e=setTimeout(function(){x(),null==I||I.closeDescendentPopups()},50))}}};return window.addEventListener("mousemove",r),function(){window.removeEventListener("mousemove",r)}}},[x,B,I,C,g,T]),(0,i.useEffect)(function(){if(p.current){p.current=!1;return}(null==T?void 0:T.openPopup)&&g.current&&y(g.current)},[null==T?void 0:T.openPopup]);var k=(0,i.useCallback)(function(){g.current!==C&&(null==I||I.closeDescendentPopups(T),setTimeout(function(){y(g.current)},0))},[T,I,y,C,g]),N=(0,i.useCallback)(function(e){e.preventDefault(),u||(B||c||S)&&(o?o(e):(C?x():k(),e.stopPropagation()))},[B,S,u,o,C,x,c,k]),D=(0,i.useCallback)(function(){var e;null==g||null==(e=g.current)||e.blur()},[]),O=(0,i.useCallback)(function(e){u||("Enter"===e.key||" "===e.key)&&N(e)},[u,N]);return(0,r.jsx)("span",(0,s.Z)((0,a.Z)({},d),{ref:m,role:"button",tabIndex:0,onClick:N,onMouseLeave:D,onKeyPress:O,className:(0,A.Z)(h().toggler,C&&"popupOpen",u&&h().disabled,n)}))});function B(e){var t=(0,i.useState)(1),n=t[0],r=t[1];return(0,i.useCallback)(function(t){!0!==t&&r(function(e){return e+1}),e()},[n])}C.displayName="Popup.Toggle";var x=function(){var e=(0,o.Z)(),t=e.onOpen,n=e.isOpen,r=B(e.onClose),a=B(t);return(0,i.useMemo)(function(){return{isOpen:n,closePopup:r,openPopup:a}},[n,r,a])},I=function(e){var t=e.children,n=e.displayRefOverride,o=e.onShow,a=e.onHide,s=e.controller,l=e.onOverflow,u=e.asNested,c=(0,i.useState)(),A=c[0],d=c[1],h=(0,i.useContext)(f.c),p=(0,i.useState)(),g=p[0],m=p[1],v=(0,i.useRef)([]),y=(0,i.useRef)(!0),b=(0,i.useRef)(),w=(0,i.useCallback)(function(e){b.current||d(e)},[]),_=(0,i.useCallback)(function(){w(void 0),clearTimeout(b.current),b.current=setTimeout(function(){b.current=void 0},250)},[w]);(0,i.useEffect)(function(){!y.current&&(null==s?void 0:s.closePopup)&&w(void 0)},[null==s?void 0:s.closePopup,w]),(0,i.useEffect)(function(){if(y.current){y.current=!1;return}void 0===A?(v.current=[],a&&a(),s&&s.closePopup(!0)):(o&&o(),s&&s.openPopup(!0))},[A]);var E=(0,i.useCallback)(function(){return v.current},[]);(0,i.useLayoutEffect)(function(){(null==n?void 0:n.current)&&w(n.current)},[n,w]),(0,i.useEffect)(function(){if(A){var e=function(e){"Escape"===e.key&&(E().length>0||(e.stopPropagation(),w(void 0)))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}},[A,w,E]);var C=null!=u?!u:void 0===h.isTopLevel;return(0,r.jsxs)(f.c.Provider,{value:{target:A,setTarget:w,closeThisMenu:function(){return w(void 0)},closeWithTimeout:_,getDescendantPopups:E,closeDescendentPopups:function(e){var t=[];v.current.forEach(function(e){e.closePopup()}),e&&t.push(e),v.current=t},parentMenu:h,isTopLevel:C,controller:s,onOverflow:l,showModal:C?h.showModal:m},children:[t,g||null]})};I.Toggle=C,I.Menu=v,I.Option=y.Z,I.context=f.c},44498:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});var r=n(70865),i=n(52322),o=n(3635),a=n(88859),s=n(6956),l=n.n(s),u=function(e){var t=e.limit,n=e.current,s=e.useColor,u=e.className,c=e.fullColor,A=null!=c?c:"var(--red-primary)";if(t===a.fY)return null;var d=0,h={};return 0===t?(d=100*(n>0),h=n>0?{backgroundColor:A}:{}):(d=n>=t?100:Math.round(n/t*100),h=n>=t?{backgroundColor:A}:{}),(0,i.jsx)("div",{className:(0,o.Z)(l().progressBar,u),children:(0,i.jsx)("div",{className:(0,o.Z)(l().progress,s&&l().withColor),style:(0,r.Z)({width:"".concat(d,"%")},h)})})}},83485:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(3635),a=n(97420),s=n(57372),l=n.n(s);t.Z=function(e){var t=e.options,n=e.className,s=e.name,u=e.value,c=e.label,A=e.explanation,d=e.onChange,h=e.disabled,f=e.optional,p=e.required,g=(0,i.useCallback)(function(e){var n,r=null==(n=e.target)?void 0:n.value,i=t.find(function(e){return e.value===r||"number"==typeof e.value&&e.value===parseInt(r)});i&&d(i.value)},[d,t]),m=(0,r.jsx)("fieldset",{className:(0,o.Z)(n,l().radioList),onChange:g,disabled:h,children:t.map(function(e){return(0,r.jsxs)("label",{className:(0,o.Z)(l().item,e.value===u&&l().selected),children:[(0,r.jsx)("input",{name:s,type:"radio",value:e.value,checked:e.value===u,onChange:function(){}}),e.label]},e.id)})});return c?(0,r.jsx)(a.A,{label:c,explanation:A,optional:f,required:p,children:m}):m}},35637:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(97848),a=n(88404),s=n(3635),l=n(96296),u=n.n(l),c=n(89563),A=n(22805);t.Z=function(e){var t=e.className,n=e.setSearchTerm,l=e.role,d=e.searchTerm,h=void 0===d?"":d,f=e.autoFocus,p=void 0!==f&&f,g=e.showShortcut,m=void 0!==g&&g,v=e.placeholder,y=(0,i.useRef)(null),b=(0,i.useCallback)(function(e){if("Escape"===e.key){var t,n;null==(t=y.current)||t.blur(),((null==(n=y.current)?void 0:n.value)||!p)&&e.stopPropagation()}},[p]);return(0,A.Z)({"/":m?function(e){var t;e.preventDefault(),e.stopPropagation(),null==(t=y.current)||t.focus()}:void 0}),(0,r.jsxs)("div",{className:(0,s.Z)(u().searchContainer,t),children:[(0,r.jsx)(a.J,{icon:o.Z}),(0,r.jsx)("input",{type:"text",role:void 0===l?"Search":l,ref:y,value:h,autoFocus:p,placeholder:void 0===v?"Search":v,onKeyDown:b,onChange:function(e){return n(e.target.value)}}),m&&!h&&(0,r.jsx)("div",{className:u().shortcut,children:(0,r.jsx)(c.P,{keys:["/"]})})]})}},62451:function(e,t,n){"use strict";n.d(t,{$:function(){return A}});var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(3635),u=n(43664),c=n.n(u),A=(0,s.forwardRef)(function(e,t){var n=e.thickness,s=e.speed,u=e.emptyColor,A=e.color,d=e.className,h=e.inline,f=e.fancy,p=(0,o.Z)(e,["thickness","speed","emptyColor","color","className","inline","fancy"]);return(0,a.jsx)("div",(0,i.Z)((0,r.Z)({},p),{ref:t,style:{borderWidth:n,borderBottomColor:u,borderLeftColor:u,animationDuration:s,color:A},className:(0,l.Z)(c().spinner,d,h&&c().inline,f&&c().fancySpinner)}))});A.displayName="Spinner",t.Z=A},75426:function(e,t,n){"use strict";t.Z=n(62451).Z},79170:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(86588),u=n(3635),c=n(56706),A=n.n(c);t.Z=(0,s.memo)((0,s.forwardRef)(function(e,t){var n=e.className,s=e.disabled,c=e.disabledTooltip,d=void 0===c?"":c,h=e.enabledTooltip,f=e.label,p=e.labelSide,g=(0,o.Z)(e,["className","disabled","disabledTooltip","enabledTooltip","label","labelSide"]),m=(0,a.jsxs)("label",{className:(0,u.Z)(A().switch,n,s&&A().disabled),children:[f&&"left"===p&&(0,a.jsx)("span",{className:(0,u.Z)(A().label,A().labelLeft),children:f}),(0,a.jsx)("input",(0,i.Z)((0,r.Z)({},g),{className:A().input,type:"checkbox",ref:t,disabled:s})),(0,a.jsx)("div",{className:A().presentation,children:(0,a.jsx)("span",{className:(0,u.Z)(A().slider,s&&A().disabled),children:(0,a.jsx)("span",{className:(0,u.Z)(A().sliderDot,s&&A().disabled)})})}),"left"!==p&&(0,a.jsx)("span",{className:A().label,children:f})]});return d||h?(0,a.jsx)(l.Z,{disabled:!s&&!h,text:s?d:null!=h?h:d,children:m}):m}))},50952:function(e,t,n){"use strict";var r=n(70865),i=n(96670),o=n(26297),a=n(52322),s=n(2784),l=n(3635),u=n(44784),c=n(97420),A=n(71059),d=n(9717),h=n.n(d);t.Z=(0,s.memo)((0,s.forwardRef)(function(e,t){var n=e.name,d=e.label,f=e.explanation,p=e.autoGrow,g=e.error,m=e.width,v=e.touched,y=e.tooltip,b=e.required,w=e.disabled,_=e.className,E=e.fadeRightSide,C=e.labelClassNames,B=e.optional,x=e.height,I=e.optionLink,T=e.onChangeValue,S=e.onCmdEnter,k=e.onKeyDown,N=e.onSlashCommand,D=e.onOptionClicked,O=e.children,R=(0,o.Z)(e,["name","label","explanation","autoGrow","error","width","touched","tooltip","required","disabled","className","fadeRightSide","labelClassNames","optional","height","optionLink","onChangeValue","onCmdEnter","onKeyDown","onSlashCommand","onOptionClicked","children"]),F=(0,s.useRef)(null),L=(0,s.useRef)(null),U=!!g&&!1!==v,P=U?(0,u.lv)(g,n||"Field"):"",M=(0,s.useState)(!1),j=M[0],Z=M[1],Q=F.current;(0,A.Z)(function(){if(null!=R.onDrop&&Q){var e=function(e){Z(!0)},t=function(e){Z(!1)};return Q.addEventListener("dragover",e),Q.addEventListener("dragleave",t),function(){Q.removeEventListener("dragover",e),Q.removeEventListener("dragleave",t)}}},[R.onDrop,Q]);var H=function(){var e=L.current;if(p&&e){e.style.height="auto";var t=e.scrollHeight,n=Math.max(p.minHeight,Math.min(t,p.maxHeight));e.style.height=n+"px"}};return(0,A.Z)(function(){R.value&&p&&H()},[R.value,p]),(0,a.jsxs)(c.A,{label:d,style:{width:m},tooltip:y,ref:F,required:b,optional:B,labelClassNames:(0,i.Z)((0,r.Z)({},C),{root:(0,l.Z)(h().label,null==C?void 0:C.root,w&&h().disabled,E&&h().fadeRightSideOfInput)}),errorMessage:P,explanation:f,optionLink:I,onOptionClicked:D,optionDisabled:w,children:[(0,a.jsx)("textarea",(0,i.Z)((0,r.Z)({required:b,tabIndex:0,name:n},R),{onChange:function(e){var t,n=e.target.value,r=R.value||"";N&&n.length>r.length&&"/"===n.trim()&&N(),null==T||T(n),null==(t=R.onChange)||t.call(R,e)},className:(0,l.Z)(h().textarea,_,!1!==U&&"hasError",j&&"dragOver"),ref:function(e){L.current=e,"function"==typeof t?t(e):t&&(t.current=e)},disabled:w,style:(0,r.Z)({height:x},R.style),onKeyDown:function(e){if(S&&"Enter"===e.key&&(e.metaKey||e.ctrlKey)){var t;e.preventDefault(),e.stopPropagation(),S(e),null==(t=L.current)||t.blur()}else k&&k(e)},onInput:H})),O]})}))},7956:function(e,t,n){"use strict";t.Z=n(50952).Z},89038:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r,i,o=n(98788),a=n(70865),s=n(96670),l=n(26297),u=n(22970),c=n(52322),A=n(2784),d=n(97420),h=n(3635),f=n(75203),p=n(29340),g=n(20954),m=n(51716),v=n(51390),y=n(89813),b=n(73149),w=n.n(b),_=n(44784);(r=i||(i={})).SMALL="small",r.MEDIUM="medium",r.LARGE="large";var E=(0,A.memo)((0,A.forwardRef)(function(e,t){var n=e.label,r=e.error,b=e.explanation,E=e.width,C=e.button,B=e.onFocus,x=e.touched,I=e.tooltip,T=e.required,S=e.optional,k=e.disabled,N=e.autoFocus,D=e.className,O=e.fadeRightSide,R=e.labelClassNames,F=e.selectAllOnFocus,L=e.size,U=void 0===L?i.MEDIUM:L,P=e.onChangeValue,M=(0,l.Z)(e,["label","error","explanation","width","button","onFocus","touched","tooltip","required","optional","disabled","autoFocus","className","fadeRightSide","labelClassNames","selectAllOnFocus","size","onChangeValue"]),j=(0,A.useRef)(null);(0,A.useEffect)(function(){N&&setTimeout(function(){var e,t;null==(t=null==(e=j.current)?void 0:e.querySelector("input"))||t.focus()},50)},[N]);var Z=(0,A.useCallback)(function(e){F&&e.currentTarget.select(),null==B||B(e)},[F,B]),Q=!!r&&!1!==x,H=Q?(0,_.lv)(r,M.name||"Field"):"",V=(0,A.useRef)(null),K=(0,g.H)(V.current),z=(0,m.Z)();return(0,v.Z)(function(){requestAnimationFrame((0,o.Z)(function(){var e;return(0,u.__generator)(this,function(t){switch(t.label){case 0:e=1,t.label=1;case 1:if(K)return z(),[3,3];return[4,(0,y.Z)(e)];case 2:return t.sent(),e*=2,[3,1];case 3:return[2]}})}))},[!!V.current]),(0,c.jsx)(d.A,{label:n,style:{width:E},tooltip:I,ref:j,required:T,optional:S,labelClassNames:(0,s.Z)((0,a.Z)({},R),{root:(0,h.Z)(null==R?void 0:R.root,k&&w().disabled,O&&w().fadeRightSideOfInput,M.readOnly&&w().readOnly)}),errorMessage:H,explanation:b,children:(0,c.jsxs)("div",{style:{position:"relative"},children:[(0,c.jsx)("input",(0,s.Z)((0,a.Z)({type:"text",required:T,tabIndex:0},M),{onChange:function(e){var t;null==P||P(e.target.value),null==(t=M.onChange)||t.call(M,e)},className:(0,h.Z)(w().textInput,U&&w()[U],D,Q&&"hasError"),style:(0,s.Z)((0,a.Z)({},M.style),{paddingRight:C?((null==K?void 0:K.width)||30)+10:void 0}),onFocus:Z,ref:t,disabled:k})),M.readOnly&&(0,c.jsx)(p.Z,{className:w().lockIcon,width:16,height:16}),!!C&&(0,A.cloneElement)(C,{className:(0,h.Z)(w().button,C.props.className),ref:V}),Q&&(0,c.jsx)(f.Z,{className:w().errorIcon})]})})}));Object.assign(E,{Sizes:i}),t.Z=E},55929:function(e,t,n){"use strict";t.Z=n(89038).Z},98420:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=[{unit:"year",seconds:31536e3},{unit:"month",seconds:2592e3},{unit:"week",seconds:604800},{unit:"day",seconds:86400},{unit:"hour",seconds:3600},{unit:"minute",seconds:60},{unit:"second",seconds:1}],a=function(e){var t=Math.abs(Math.floor((Date.now()-e)/1e3)),n=!0,r=!1,i=void 0;try{for(var a,s=o[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value,u=l.unit,c=l.seconds;if(t>=c)return{value:Math.floor(t/c),unit:u}}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return{value:0,unit:"second"}},s=function(e){var t=e.value,n=e.unit;if("second"===n)return"Recently";var r={minute:"min",hour:"hrs"};return r[n]?"".concat(t," ").concat(r[n]," ago"):"".concat(t," ").concat(n).concat(1!==t?"s":""," ago")},l=function(e){var t=e.value,n=e.unit;return"second"===n?"1m":"".concat(t).concat(n[0])};t.Z=(0,i.memo)(function(e){var t=e.type,n=e.time,o=(0,i.useState)(function(){return a(n)}),u=o[0],c=o[1];(0,i.useEffect)(function(){c(a(n));var e=setInterval(function(){c(a(n))},9e5);return function(){return clearInterval(e)}},[n]);var A=(0,i.useMemo)(function(){try{return new Date(n).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}catch(e){return console.error("Error formatting time",{time:n,error:e}),"Invalid date"}},[n]),d=(0,i.useMemo)(function(){try{return new Date(n).toISOString()}catch(e){return console.error("Error formatting time",{time:n,error:e}),"Invalid date"}},[n]),h="duration"===(void 0===t?"past":t)?l(u):s(u);return(0,r.jsx)("time",{dateTime:d,title:A,children:h})})},71921:function(e,t,n){"use strict";t.Z=n(98420).Z},88232:function(e,t,n){"use strict";var r=n(90581),i=n(70865),o=n(96670),a=n(52322),s=n(2784),l=n(12436),u=n.n(l),c=n(47330),A=n(89563),d=n(3635),h=n(43446),f=n(26772),p=n.n(f),g=function e(){(0,r.Z)(this,e)};g.DELAY=650,g.isVisible=!1,g.hide=u()(function(){g.isVisible=!1},g.DELAY,{leading:!1,trailing:!0}),g.show=u()(function(e){g.hide.cancel(),g.isVisible=!0,e()},g.DELAY,{leading:!1,trailing:!0}),t.Z=(0,s.memo)(function(e){var t=e.text,n=e.subText,r=e.disabled,l=e.children,u=e.popperProps,f=e.shortcutKeys,m=e.contentStyle,v=e.textClassName,y=e.contentClassName,b=e.placement,w=e.tooltipPopperProps,_=e.skipDelay,E=void 0!==_&&_,C=(0,s.useRef)(null),B=(0,s.useState)(!1),x=B[0],I=B[1],T=(0,h.Z)(),S=(0,s.useCallback)(function(e){T()&&I(e)},[]),k=(0,s.useCallback)(function(){g.show(function(){return S(!0)}),g.isVisible?g.show.flush():E&&requestAnimationFrame(function(){g.show.flush()})},[E,S]),N=(0,s.useCallback)(function(){S(!1),g.show.cancel(),g.hide()},[S]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Z,(0,o.Z)((0,i.Z)({disableArrow:!0,enterDuration:.05,placement:void 0===b?"bottom":b,popperProps:u,visible:!r&&x&&!!t,targetNode:C.current,className:(0,d.Z)(p().tooltip,v)},void 0===w?{}:w),{enterDelay:0,onExitComplete:function(){return I(!1)},children:[(0,a.jsxs)("span",{className:p().mainText,children:[t,f?(0,a.jsx)(A.P,{className:p().shortcut,keys:f}):null]}),n?(0,a.jsx)("span",{className:p().subText,children:n}):null]})),(0,a.jsx)("span",{ref:C,onMouseEnter:k,onMouseLeave:N,style:m,className:y,children:l})]})})},86588:function(e,t,n){"use strict";t.Z=n(88232).Z},27198:function(e,t,n){"use strict";n.d(t,{a:function(){return u},Z:function(){return c}});var r=n(52322),i=n(54848),o=n(146),a=n.n(o),s=function(e){var t=e.user,n=e.style,o=e.displayNameSuffix,s=e.avatarSize;return t?(0,r.jsxs)("div",{className:a().user,style:n,onClick:function(e){return e.stopPropagation()},children:[(0,r.jsx)(i.Z,{size:void 0===s?30:s,fallback:"\xa0",color:t.color,photoURL:t.photoURL,className:a().avatar,displayName:t.displayName}),(0,r.jsxs)("div",{className:a().content,children:[(0,r.jsx)("h4",{children:t.displayName+(void 0===o?"":o)}),(0,r.jsx)("h5",{children:t.email})]})]}):null};n(2784);var l=n(2332),u=function(e){var t,n,i,o=e.userId,a=e.displayName,u=e.email,c=e.profile,A=e.avatarSize,d=e.displayNameSuffix,h=(0,l.ZP)(o),f=null!=c?c:h,p={email:u,id:null!=o?o:"",photoURL:null==f?void 0:f.photoURL,color:null!=(t=null==f?void 0:f.color)?t:"var(--grey-900)",displayName:null!=(i=null!=(n=null==f?void 0:f.displayName)?n:a)?i:""};return(0,r.jsx)(s,{user:p,avatarSize:A,displayNameSuffix:void 0===d?"":d})},c=s},75956:function(e,t,n){"use strict";n.d(t,{K:function(){return p}});var r=n(98788),i=n(22970),o=n(52322),a=n(2784),s=n(21987),l=n(11269),u=n(65633),c=n(88386),A=n(45403),d=n(48005),h=n(2595),f=(0,s.kr)({icons:[],isLoaded:!1,handleDelete:function(){},handleUpdateName:function(){},handleUpdateIcon:function(){}}),p=function(){return(0,s.qp)(f)};t.Z=function(e){var t,n,s,p=e.children,g=(0,l.LP)(),m=(0,a.useState)([]),v=m[0],y=m[1],b=(0,a.useState)(!1),w=b[0],_=b[1],E=(0,A.Pe)(),C=(0,a.useRef)(new Set),B=(0,h.Z)();(0,a.useEffect)(function(){return function(){C.current.clear()}},[g]),(0,a.useEffect)(function(){var e;return g?(y([]),E.customIcons.subscribeByTeam(g,(e=(0,r.Z)(function(e){var t,n,o,a,s,l,A;return(0,i.__generator)(this,function(h){!w&&e&&_(!0),t=[],n=!0,o=!1,a=void 0;try{for(s=function(){var e,n=A.value,o=void 0;if(C.current.has(n.label))return"continue";var a=new Promise((e=(0,r.Z)(function(e,t){var r;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(C.current.add(n.label),!u.LD.has(n.label))return[3,1];return o=u.LD.get(n.label),[3,4];case 1:return[4,fetch(n.url)];case 2:return r=i.sent(),[4,r.text()];case 3:o=i.sent(),o=d.t.sanitizeString(o,window),u.LD.set(n.label,o),i.label=4;case 4:if(!o)return t(),[2];return[4,(0,c.w)(o)];case 5:return i.sent(),e(o),C.current.delete(n.label),[2]}})}),function(t,n){return e.apply(this,arguments)}));t.push(a)},l=e[Symbol.iterator]();!(n=(A=l.next()).done);n=!0)s()}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return Promise.allSettled(t),y(e),[2]})}),function(t){return e.apply(this,arguments)}))):void y([])},[w,g]);var x=(0,a.useCallback)((t=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:return[4,B.promise(E.customIcons.deleteById(e),{success:"Icon deleted",error:"Error deleting icon",loading:null})];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)}),[]),I=(0,a.useCallback)((n=(0,r.Z)(function(e,t,n){var r;return(0,i.__generator)(this,function(i){switch(i.label){case 0:return(r=n?u.LD.get(null!=n?n:""):void 0)&&u.LD.set(t,r),[4,B.promise(E.customIcons.updateById(e,{label:t}),{success:"Icon updated",error:"Error updating icon name",loading:null})];case 1:return i.sent(),[2]}})}),function(e,t,r){return n.apply(this,arguments)}),[]),T=(0,a.useCallback)((s=(0,r.Z)(function(e,t){return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,B.promise(E.customIcons.updateIconFile(e,t),{success:"Icon updated",error:"Error updating icon",loading:null})];case 1:return n.sent(),[2]}})}),function(e,t){return s.apply(this,arguments)}),[]);return(0,o.jsx)(f.Provider,{value:{icons:v,isLoaded:w,handleDelete:x,handleUpdateName:I,handleUpdateIcon:T},children:p})}},68608:function(e,t,n){"use strict";n.d(t,{dq:function(){return d},h7:function(){return i}});var r,i,o=n(52322),a=n(2784),s=n(21987),l=n(71059);(r=i||(i={})).Server="server",r.Mobile="mobile",r.Tablet="tablet",r.Desktop="desktop";var u={device:i.Server},c=(0,s.kr)(u),A=function(){var e=(0,a.useState)(i.Server),t=e[0],n=e[1];return(0,l.Z)(function(){var e=function(){window.innerWidth<500?n(i.Mobile):window.innerWidth>=500&&window.innerWidth<=1024?n(i.Tablet):n(i.Desktop)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[1024,500]),t},d=function(e){var t=e.children,n=A(),r=(0,a.useMemo)(function(){return{device:n}},[n]);return(0,o.jsx)(c.Provider,{value:r,children:t})};t.ZP=c},85591:function(e,t,n){"use strict";t.Z=(0,n(21987).kr)({isKeyboardShortcutsOpen:!1,openKeyboardShortcuts:function(){return null},closeKeyboardShortcuts:function(){return null}})},37479:function(e,t,n){"use strict";n.d(t,{M:function(){return s}});var r=n(90581),i=n(21218),o=n(20624),a=n(39309),s=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,o,a){var s;return(0,r.Z)(this,n),(s=t.call(this,e)).status=i,s.statusCode=i,s.code=o,s.cause&&(s.cause=a),s.name="ApiError",s}return n}((0,o.Z)(Error))},97001:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var r=n(90581),i=n(21218),o=n(42838),a=n(70865),s=n(20624),l=n(39309),u=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,n);var l=s.cause,u=s.data,c=void 0===u?{}:u,A=s.statusCode;return(0,o.Z)(l,n)&&(c=(0,a.Z)({},l.data,c),A=null!=A?A:l.statusCode),(i=t.call(this,e,{cause:l})).isCaptured=!1,i.data={},i.statusCode=500,i.isEraserError=!0,i.name="EraserError",i.data=c,i.hint=s.hint,i.statusCode=null!=A?A:500,i.cause=l,i}return n.prototype.toJSON=function(){return{name:this.name,message:this.message,data:this.data,statusCode:this.statusCode,hint:this.hint,stack:this.stack,isEraserError:!0}},n}((0,s.Z)(Error));u.Name="EraserError"},24066:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(90581),i=n(21218),o=n(39309),a=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)(this,n),(i=t.call(this,e,o)).name="PaywallError",i.statusCode=402,i}return n}(n(97001).t);a.Name="PaywallError"},85983:function(e,t,n){"use strict";n.d(t,{X:function(){return u},e:function(){return a}});var r=n(42838),i=n(97001),o=n(37479);function a(e){if((0,r.Z)(e,Error))return e.message;if("string"==typeof e)return e;if(e&&"object"==typeof e){var t;return null!=(t=null==e?void 0:e.message)?t:""}return""}var s={"invalid-argument":400,"failed-precondition":400,unauthenticated:401,"permission-denied":403,"not-found":404,aborted:409,"resource-exhausted":429,cancelled:499,unimplemented:501,"already-exists":409,internal:500,unavailable:503,"deadline-exceeded":504},l={"auth/user-not-found":"Invalid Credentials","auth/wrong-password":"Invalid Credentials","auth/email-already-in-use":"Email already in use","auth/credential-already-in-use":"Email already in use"};function u(e){if("string"==typeof e)return{message:e,status:500};if((0,r.Z)(e,o.M))return{message:e.message,status:e.status};if((0,r.Z)(e,i.t))return{message:e.message,name:e.name,status:e.statusCode,statusCode:e.statusCode,data:e.data,isEraserError:!0};if(e&&"object"==typeof e&&"string"==typeof e.code&&"string"==typeof e.message){var t,n,a,u,c=s[e.code];if(null!=c)return{message:null!=(u=l[e.code])?u:e.message,status:c}}return(0,r.Z)(e,Error)?{message:e.message,status:500}:e&&"object"==typeof e?{message:null!=(t=null==e?void 0:e.message)?t:"Unknown error",status:null!=(a=null!=(n=null==e?void 0:e.status)?n:null==e?void 0:e.statusCode)?a:500}:{message:"Unknown error",status:500}}},69211:function(e,t,n){"use strict";n.d(t,{MS:function(){return i.M},tk:function(){return o.t},QW:function(){return p},dR:function(){return d},WH:function(){return a.W},T0:function(){return w},Lr:function(){return y}});var r=n(42838),i=n(37479),o=n(97001),a=n(24066),s=n(90581),l=n(21218),u=n(70865),c=n(96670),A=n(39309),d=function(e){(0,l.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not Found",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,c.Z)((0,u.Z)({},i),{statusCode:404}))).name="NotFoundError",e}return n}(o.t),h=function(e){(0,l.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Internal error",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,c.Z)((0,u.Z)({},i),{statusCode:500}))).name="InternalError",e}return n}(o.t),f=function(e){(0,l.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Already exists",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,c.Z)((0,u.Z)({},i),{statusCode:409}))).name="AlreadyExistsError",e}return n}(o.t),p=function(e){(0,l.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid request",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,c.Z)((0,u.Z)({},i),{statusCode:400}))).name="InvalidRequestError",e}return n}(o.t),g=function(e){(0,l.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Log in required",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,c.Z)((0,u.Z)({},i),{statusCode:401}))).name="UnauthenticatedError",e}return n}(o.t),m=function(e){(0,l.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Permission denied",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,c.Z)((0,u.Z)({},i),{statusCode:403}))).name="PermissionDeniedError",e}return n}(o.t),v=function(e){(0,l.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Method not allowed",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,c.Z)((0,u.Z)({},i),{statusCode:405}))).name="MethodNotAllowedError",e}return n}(o.t);n(85983);var y=function(e){if("string"==typeof e)return new i.M(e,500);var t=b(e);if(t)return t;if((0,r.Z)(e,i.M))return e;var n=null!=e?e:{},o=n.message,a=void 0===o?"Unknown error":o,s=n.statusCode,l=n.code;return new i.M(null!=a?a:"Unknown error",null!=s?s:500,l)},b=function(e){if(e&&"object"==typeof e){if((0,r.Z)(e,o.t))return e;var t=null!=e?e:{},n=t.name,i=void 0===n?"":n,s=t.data,l=t.message,u=void 0===l?"Unknown error":l,c=t.statusCode,A=t.hint,y=t.isEraserError;if(i===o.t.Name)return new o.t(u,{data:s,hint:A,statusCode:c});if(i===a.W.Name)return new a.W(u,{data:s,hint:A,statusCode:c});if(y)switch(i){case"NotFoundError":return new d(u,{data:s,hint:A});case"InternalError":return new h(u,{data:s,hint:A});case"AlreadyExistsError":return new f(u,{data:s,hint:A});case"InvalidRequestError":return new p(u,{data:s,hint:A});case"UnauthenticatedError":return new g(u,{data:s,hint:A});case"PermissionDeniedError":return new m(u,{data:s,hint:A});case"MethodNotAllowedError":return new v(u,{data:s,hint:A})}}},w=function(e){if(e){if((0,r.Z)(e,o.t))return{statusCode:e.statusCode,message:e.message,cause:e.cause};if((0,r.Z)(e,Error))return{statusCode:500,message:e.message,cause:e.cause};if("object"==typeof e&&e){var t,n,i,a;return{statusCode:null!=(n=null!=(t=e.statusCode)?t:e.status)?n:500,message:null!=(i=e.message)?i:"Unknown error",cause:null!=(a=e.cause)?a:void 0}}if("string"==typeof e)return{statusCode:500,message:e,cause:void 0}}}},44784:function(e,t,n){"use strict";n.d(t,{Le:function(){return l.Le},lv:function(){return s},ym:function(){return l.ym}});var r=n(42838),i=n(82108),o=n.n(i),a=n(2784);function s(e,t){if(!e)return"";if("string"==typeof e||(0,a.isValidElement)(e))return e;if(e.message&&"string"==typeof e.message)return e.message;if("required"===e.type)return"".concat(o()(t)," is required.");if("minLength"===e.type){var n=function(e,t){if((0,r.Z)(null==e?void 0:e.ref,HTMLElement))return e.ref.getAttribute(t)}(e,"minLength");if(n)return"".concat(o()(t)," must be at least ").concat(n," characters.")}return"".concat(o()(t)," is invalid.")}var l=n(18858)},18858:function(e,t,n){"use strict";n.d(t,{Le:function(){return i},po:function(){return o},ym:function(){return a}});var r=n(98559),i=function(e){if(!(0,r.J)(e))return"Enter a valid e-mail"};function o(e){if(!e)return"Required";try{var t=new URL(e);if("https:"!==t.protocol&&"http:"!==t.protocol)return"Protocol must be https or http"}catch(e){return"Invalid URL"}}var a=function(e){if(e.length<12||!e.match(/[a-z]/)||!e.match(/[A-Z]/)||!e.match(/\d/)||!e.match(/[~`!@#$%^&*(){}\[\]\-_=\+|,<.>\/\?\\;:'"]/))return"Password must contain at least 12 characters, including at least one uppercase letter, one lowercase letter, one number, and one special character"}},27196:function(e,t,n){"use strict";n.d(t,{D9:function(){return s},W6:function(){return a},ZS:function(){return o}});var r=n(50930),i=n(2784);function o(e){var t=(0,i.useRef)(e);return t.current=e,t}function a(e){var t=(0,i.useRef)(e);return t.current=e,(0,i.useCallback)(function(){for(var e,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return null==(e=t.current)?void 0:e.call.apply(e,[t].concat((0,r.Z)(i)))},[])}function s(e){var t=(0,i.useRef)();return(0,i.useEffect)(function(){t.current=e},[e]),t.current}},75194:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(21987),i=n(68608),o=function(){return(0,r.Sz)(i.ZP,function(e){return(null==e?void 0:e.device)===i.h7.Mobile})}},80498:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87394),i=n(2784);n(27196);var o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClose,o=t.onOpen,a=t.isOpen,s=(0,i.useState)(t.defaultIsOpen||!1),l=s[0],u=s[1],c=(0,r.Z)([e=void 0!==a,e&&void 0!==a?a:l],2),A=c[0],d=c[1],h=(0,i.useCallback)(function(){A||u(!1),null==n||n()},[A,n]),f=(0,i.useCallback)(function(){A||u(!0),null==o||o()},[A,o]),p=(0,i.useCallback)(function(){(d?h:f)()},[d,f,h]);return{isOpen:d,onOpen:f,onClose:h,onToggle:p,isControlled:A}}},51716:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2784);function i(){var e=(0,r.useState)(0),t=(e[0],e[1]);return(0,r.useCallback)(function(){return t(function(e){return 1^e})},[])}},43446:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2784);function i(){var e=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),(0,r.useCallback)(function(){return e.current},[])}},24089:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(21987),i=n(85591),o=function(){return(0,r.Sz)(i.Z,function(e){return{isOpen:e.isKeyboardShortcutsOpen,onOpen:e.openKeyboardShortcuts,onClose:e.closeKeyboardShortcuts}})}},71059:function(e,t,n){"use strict";var r=n(2784);t.Z=n(19179).jU?r.useLayoutEffect:r.useEffect},69474:function(e,t,n){"use strict";function r(){return window.self!==window.top}n.d(t,{$:function(){return r}})},65424:function(e,t,n){"use strict";let r;n.d(t,{V:function(){return eu}});var i,o,a=n(48834).lW;let s="function"==typeof a,l="function"==typeof TextDecoder?new TextDecoder:void 0,u="function"==typeof TextEncoder?new TextEncoder:void 0,c=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),A=(r={},c.forEach((e,t)=>r[e]=t),r),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),f="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),p=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),g="function"==typeof btoa?e=>btoa(e):s?e=>a.from(e,"binary").toString("base64"):e=>{let t,n,r,i,o="",a=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw TypeError("invalid character found");o+=c[(t=n<<16|r<<8|i)>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},m=s?e=>a.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(h.apply(null,e.subarray(n,n+4096)));return g(t.join(""))},v=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?h(192|t>>>6)+h(128|63&t):h(224|t>>>12&15)+h(128|t>>>6&63)+h(128|63&t)}var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return h(240|t>>>18&7)+h(128|t>>>12&63)+h(128|t>>>6&63)+h(128|63&t)},y=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,b=s?e=>a.from(e,"utf8").toString("base64"):u?e=>m(u.encode(e)):e=>g(e.replace(y,v)),w=(e,t=!1)=>t?p(b(e)):b(e),_=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,E=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return h((t>>>10)+55296)+h((1023&t)+56320);case 3:return h((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return h((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},C="function"==typeof atob?e=>atob(e.replace(/[^A-Za-z0-9\+\/]/g,"")):s?e=>a.from(e,"base64").toString("binary"):e=>{let t,n,r;if(e=e.replace(/\s+/g,""),!d.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let i=[];for(let o=0;o<e.length;)t=A[e.charAt(o++)]<<18|A[e.charAt(o++)]<<12|(n=A[e.charAt(o++)])<<6|(r=A[e.charAt(o++)]),64===n?i.push(h(t>>16&255)):64===r?i.push(h(t>>16&255,t>>8&255)):i.push(h(t>>16&255,t>>8&255,255&t));return i.join("")},B=s?e=>f(a.from(e,"base64")):e=>f(C(e).split("").map(e=>e.charCodeAt(0))),x=s?e=>a.from(e,"base64").toString("utf8"):l?e=>l.decode(B(e)):e=>C(e).replace(_,E);var I=n(68762),T=n.n(I);let S=/\+/g;function k(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}let N=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,D=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,O=/^([/\\]\s*){2,}[^/\\]/;function R(e,t={}){return("boolean"==typeof t&&(t={acceptRelative:t}),t.strict)?N.test(e):D.test(e)||!!t.acceptRelative&&O.test(e)}function F(e){return function(e=""){let t=Object.create(null);for(let n of("?"===e[0]&&(e=e.slice(1)),e.split("&"))){let e=n.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;let r=k(e[1].replace(S," "));if("__proto__"===r||"constructor"===r)continue;let i=k((e[2]||"").replace(S," "));void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]}return t}(U(e).search)}let L=Symbol.for("ufo:protocolRelative");function U(e="",t){let n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){let[,e,t=""]=n;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!R(e,{acceptRelative:!0}))return t?U(t+e):P(e);let[,r="",i,o=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,a="",s=""]=o.match(/([^#/?]*)(.*)?/)||[];"file:"===r&&(s=s.replace(/\/(?=[A-Za-z]:)/,""));let{pathname:l,search:u,hash:c}=P(s);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:l,search:u,hash:c,[L]:!r}}function P(e=""){let[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],(i=G(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||K(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var W=/^(?:[a-z\d\-_]{1,62}\.){0,125}(?:[a-z\d](?:\-(?=\-*[a-z\d])|[a-z]|\d){0,62}\.)[a-z\d]{1,63}$/i,q={1:75,2:50,3:35,4:23,5:20},$=[1,2,3,4,5],Y={domain:null,useHTTPS:!0,includeLibraryParam:!0,urlPrefix:"https://",secureURLToken:null};function J(e){var t=e.url,n=void 0===t?"":t,r=e.useHttps;return R(n,!0)?U(n):J({url:(void 0!==r&&r?"https://":"http://")+n})}function X(e,t){if(!(Number.isInteger(e)&&Number.isInteger(t))||e<=0||t<=0||e>t)throw Error("The min and max srcset widths can only be passed positive Number values, and min must be less than max. Found min: ".concat(e," and max: ").concat(t,"."))}function ee(e){if("number"!=typeof e||e<.01)throw Error("The srcset widthTolerance must be a number greater than or equal to 0.01")}var et=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof n))throw TypeError("Cannot call a class as a function");if(this.settings=j(j({},Y),e),this.targetWidthsCache={},"string"!=typeof this.settings.domain)throw Error("ImgixClient must be passed a valid string domain");if(null==W.exec(this.settings.domain))throw Error('Domain must be passed in as fully-qualified domain name and should not include a protocol or any path element, i.e. "example.imgix.net".');this.settings.includeLibraryParam&&(this.settings.libraryParam="js-"+n.version()),this.settings.urlPrefix=this.settings.useHTTPS?"https://":"http://"}return e=[{key:"buildURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._sanitizePath(e,n),i=this._buildParams(t,n);return this.settings.secureURLToken&&(i=this._signParams(r,i)),this.settings.urlPrefix+this.settings.domain+r+i}},{key:"_buildParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!!t.encoder,r=t.encoder,i=[].concat(V(this.settings.libraryParam?["ixlib=".concat(this.settings.libraryParam)]:[]),V(Object.entries(e).reduce(function(e,t){var i=H(t,2),o=i[0],a=i[1];if(null==a)return e;var s=n?r(o,a):encodeURIComponent(o),l="64"===o.substr(-2)?n?r(a,o):w(a,!0):n?r(a,o):encodeURIComponent(a);return e.push("".concat(s,"=").concat(l)),e},[])));return"".concat(i.length>0?"?":"").concat(i.join("&"))}},{key:"_signParams",value:function(e,t){var n=this.settings.secureURLToken+e+t,r=T()(n);return t.length>0?t+"&s="+r:"?s="+r}},{key:"_sanitizePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replace(/^\//,"");return t.disablePathEncoding?"/"+n:"/"+(n=t.encoder?t.encoder(n):/^https?:\/\//.test(n)?encodeURIComponent(n):encodeURI(n).replace(/[#?:+]/g,encodeURIComponent))}},{key:"buildSrcSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.w,i=t.h;return r||i?this._buildDPRSrcSet(e,t,n):this._buildSrcSetPairs(e,t,n)}},{key:"_buildSrcSetPairs",value:function(e){var t,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=H((void 0!==l.widthTolerance?(ee(l.widthTolerance),t=l.widthTolerance):t=.08,r=void 0===l.minWidth?100:l.minWidth,i=void 0===l.maxWidth?8192:l.maxWidth,(100!=r||8192!=i)&&X(r,i),[t,r,i]),3),c=u[0],A=u[1],d=u[2];if(l.widths){var h=l.widths;if(Array.isArray(h)&&h.length){if(!h.every(function(e){return Number.isInteger(e)&&e>0}))throw Error("A custom widths argument can only contain positive integer values")}else throw Error("The widths argument can only be passed a valid non-empty array of integers");o=V(l.widths)}else o=n.targetWidths(A,d,c,this.targetWidthsCache);return o.map(function(t){return"".concat(a.buildURL(e,j(j({},s),{},{w:t}),l)," ").concat(t,"w")}).join(",\n")}},{key:"_buildDPRSrcSet",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.devicePixelRatios&&function(e){if(Array.isArray(e)&&e.length){if(!e.every(function(e){return"number"==typeof e&&e>=1&&e<=5}))throw Error("The devicePixelRatios argument can only contain positive integer values between 1 and 5")}else throw Error("The devicePixelRatios argument can only be passed a valid non-empty array of integers")}(r.devicePixelRatios);var i=r.devicePixelRatios||$,o=r.disableVariableQuality||!1;o||function(e){if("boolean"!=typeof e)throw Error("The disableVariableQuality argument can only be passed a Boolean value")}(o),r.variableQualities&&function(e){if("object"!==Z(e))throw Error("The variableQualities argument can only be an object")}(r.variableQualities);var a=j(j({},q),r.variableQualities);return(o?i.map(function(i){return"".concat(t.buildURL(e,j(j({},n),{},{dpr:i}),r)," ").concat(i,"x")}):i.map(function(i){return"".concat(t.buildURL(e,j(j({},n),{},{dpr:i,q:n.q||a[i]||a[Math.floor(i)]}),r)," ").concat(i,"x")})).join(",\n")}}],t=[{key:"version",value:function(){return"3.8.0"}},{key:"_buildURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)return"";var i=J({url:e,useHTTPS:r.useHTTPS}),o=i.host,a=i.pathname,s=j(j({},F(i.search)),t);if(!o.length||!a.length)throw Error("_buildURL: URL must match {host}/{pathname}?{query}");return new n(j({domain:o},r)).buildURL(a,s)}},{key:"_buildSrcSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null==e)return"";var o=J({url:e,useHTTPS:i.useHTTPS}),a=o.host,s=o.pathname,l=j(j({},F(o.search)),t);if(!a.length||!s.length)throw Error("_buildOneStepURL: URL must match {host}/{pathname}?{query}");return new n(j({domain:a},i)).buildSrcSet(s,l,r)}},{key:"targetWidths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8192,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.08,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Math.floor(e),o=Math.floor(t);X(e,t),ee(n);var a=n+"/"+i+"/"+o;if(a in r)return r[a];if(i===o)return[i];for(var s=[],l=i;l<o;)s.push(Math.round(l)),l*=1+2*n;return s[s.length-1]<o&&s.push(o),r[a]=s,s}}],e&&Q(n.prototype,e),t&&Q(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),en=n(66140),er=n(47842),ei=n(70865),eo=n(96670),ea=n(87394);n(19198),(i=o||(o={})).Profile="profile",i.WorkspaceImage="workspace-image",i.AiAttachment="ai-attachment",i.CompanyLogo="company-logo",(0,eo.Z)((0,ei.Z)({},Object.fromEntries(Object.entries({gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",pdf:"application/pdf"}).map(function(e){var t=(0,ea.Z)(e,2),n=t[0];return[t[1],n]}))),(0,er.Z)({},"image/jpeg","jpeg"));var es="/api/storage/",el=new et({domain:en.y2.baseUrl.replace(/^https?:\/\//,"")}),eu=function(e,t){return e.startsWith("blob:")||e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:")||-1!==function(e){if(e.startsWith(es))return es.length;var t="/api/storage/",n=e.indexOf(t);return -1!==n?n+t.length:-1}(e)?e:el.buildURL(e,t)}},98559:function(e,t,n){"use strict";n.d(t,{J:function(){return d},R:function(){return u}});var r=n(87394),i=/\./g,o={"gmail.com":{removeDots:!0,splitBy:"+"},"googlemail.com":{removeDots:!0,splitBy:"+",aliasOf:"gmail.com"},"google.com":{removeDots:!0,splitBy:"+"},"hotmail.com":{splitBy:"+"},"live.com":{splitBy:"+"},"outlook.com":{splitBy:"+"},"yahoo.com":{splitBy:"-"},"ymail.com":{splitBy:"-"}},a={"fastmail.*":{matchRegExp:/(fastmail|messagingengine)\.(com|fm)$/i,splitBy:"+"}};function s(e,t){var n,r;return l((n=t.user,r=t.domain,e.removeDots&&(n=n.replace(i,"")),e.splitBy&&(n=n.split(e.splitBy,2)[0]),e.aliasOf&&(r=e.aliasOf),{user:n,domain:r}))}function l(e){var t=e.user,n=e.domain;return"".concat(t,"@").concat(n)}function u(e){e=e.trim().toLowerCase();var t=(0,r.Z)(e.split("@"),2),n=t[0],i=t[1],u={user:n,domain:i};if(Object.prototype.hasOwnProperty.call(o,i))return s(o[i],u);for(var c in a){var A=a[c];if(A.matchRegExp.test(i))return s(A,u)}return l(u)}var c=/^[\w!#$%&'*+\-/=?^`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/,A=/^([\s\x01-\x08\v\f\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\v\f\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/;function d(e){var t,n,r=e.split("@"),i=r.pop(),o=r.join("@");if(!h(o,{max:64})||!h(i,{max:254})||(n=(t=i.split("."))[t.length-1],!(!(t.length<2||/\s/.test(n)||/^\d+$/.test(n))&&t.every(function(e){return!(e.length>63||!/^[\w\u00a1-\uffff-]+$/.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||/_/.test(e))}))))return!1;if('"'===o[0])return o=o.slice(1,o.length-1),A.test(o);for(var a=o.split("."),s=0;s<a.length;s++)if(!c.test(a[s]))return!1;return!0}function h(e,t){var n=t.min,r=t.max,i=encodeURI(e).split(/%..|./).length-1;return i>=(void 0===n?0:n)&&i<=(void 0===r?1/0:r)}},90731:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(90581),i=n(21218),o=n(39309),a=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e.Events={},e}return n.prototype.clean=function(){},n}(n(30686).v)},8042:function(e,t,n){"use strict";n.d(t,{E:function(){return r},h:function(){return i}});var r={workspaceById:{},canvasElementsByWorkspaceId:{},teamsById:{}};function i(e){Object.assign(r,e)}},28055:function(e,t,n){"use strict";var r,i;n.d(t,{S:function(){return r}}),(i=r||(r={})).AuthUserChanged="auth-user-changed",i.UserChanged="user-changed",i.UserLoaded="user-loaded",i.UserSignedUp="user-signed-up"},48223:function(e,t,n){"use strict";var r,i;n.d(t,{C:function(){return r}}),(i=r||(r={})).CONNECTION_CHANGED="connection-change",i.OPS_ADDED="ops-added",i.BAD_DATA="bad-data"},85242:function(e,t,n){"use strict";var r,i;n.d(t,{I:function(){return r}}),(i=r||(r={})).READY="ready",i.CHANGE="change",i.ELEMENT_ADDED="element:added",i.ELEMENT_CHANGED="element:changed",i.ELEMENT_REMOVED="element:removed"},61534:function(e,t,n){"use strict";var r,i;n.d(t,{X:function(){return r}}),(i=r||(r={})).Both="both",i.Canvas="canvas",i.Document="document"},51390:function(e,t,n){"use strict";var r=n(50930),i=n(2784);t.Z=function(e,t){var n=(0,i.useRef)(!0);(0,i.useEffect)(function(){t.every(function(e){return e})&&n.current&&(e(),n.current=!1)},(0,r.Z)(t))}},45612:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(70865),i=n(96670),o=n(50930),a=n(2784),s=n(89325),l=n(11269),u=n(96933),c=n(45403),A={keys:[{name:"title",weight:2},{name:"name",weight:2},{name:"folderName",weight:1}],threshold:.3,includeScore:!0,distance:100,minMatchCharLength:1,ignoreLocation:!0},d=function(e,t){return!e.isTemplate&&!e.isArchived&&!!e.title&&(!e.isPrivate||e.ownerId===t)};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(0,c.Pe)(),h=(0,l.LP)(),f=(0,u.II)(),p=(0,a.useState)(!0),g=p[0],m=p[1],v=(0,a.useState)([]),y=v[0],b=v[1],w=(0,a.useState)([]),_=w[0],E=w[1],C=(0,a.useState)([]),B=C[0],x=C[1],I=(0,a.useState)(void 0),T=I[0],S=I[1],k=(0,a.useRef)(null),N=(0,a.useRef)(new Map);return(0,a.useEffect)(function(){N.current=new Map(_.map(function(e){return[e.id,e.name]}))},[_]),(0,a.useEffect)(function(){if(S(void 0),f&&h)return n.visitedWorkspaces.subscribeByUserAndTeam({userId:f,teamId:h},S)},[f,h]),(0,a.useEffect)(function(){if(!h){E([]),k.current=null;return}return k.current=null,m(!0),n.folders.subscribeByTeam(h,function(e,t){if(E(e),k.current){var n=function(e){return(0,i.Z)((0,r.Z)({},e),{type:"folder"})};t.deleted.forEach(function(e){k.current.remove(function(t){return t.id===e&&"folder"===t.type})}),t.created.forEach(function(e){k.current.add(n(e))}),t.updated.forEach(function(e){k.current.remove(function(t){return t.id===e.id&&"folder"===t.type}),k.current.add(n(e))})}})},[h]),(0,a.useEffect)(function(){return h?(m(!0),n.workspaces.subscribeByTeam(h,function(e,t){if(x(e),k.current){var n=function(e){return(0,i.Z)((0,r.Z)({},e),{type:"file",folderName:e.folderId&&N.current.get(e.folderId)||""})};t.deleted.forEach(function(e){k.current.remove(function(t){return t.id===e&&"file"===t.type})}),t.created.filter(function(e){return d(e,f)}).forEach(function(e){k.current.add(n(e))}),t.updated.forEach(function(e){k.current.remove(function(t){return t.id===e.id&&"file"===t.type}),d(e,f)&&k.current.add(n(e))})}})):void x([])},[h,f]),(0,a.useEffect)(function(){var e=B.filter(function(e){return d(e,f)}).map(function(e){return(0,i.Z)((0,r.Z)({},e),{type:"file",folderName:e.folderId&&N.current.get(e.folderId)||""})}),t=_.map(function(e){return(0,i.Z)((0,r.Z)({},e),{type:"folder"})}),n=(0,o.Z)(e).concat((0,o.Z)(t));b(n),!k.current&&n.length>0&&(k.current=new s.Z(n,A),m(!1))},[B,_,f]),{results:(0,a.useMemo)(function(){if(k.current&&"string"==typeof e&&!g){if(e.length>0){var n;n=k.current.search(e,{limit:t}).map(function(e){return e.item})}else{var r=new Set((null==T?void 0:T.map(function(e){return e.workspaceId}))||[]),i=(null==T?void 0:T.map(function(e){return y.find(function(t){return"file"===t.type&&t.id===e.workspaceId})}).filter(function(e){return void 0!==e}).slice(0,t))||[],a=t-i.length;if(a>0){var s=function(e){return e?"number"==typeof e?e:"function"==typeof e.toMillis?e.toMillis():0:0},l=y.filter(function(e){return!("file"===e.type&&r.has(e.id))}).sort(function(e,t){return s(t.updatedAt)-s(e.updatedAt)}).slice(0,a);n=(0,o.Z)(i).concat((0,o.Z)(l))}else n=i}return n.map(function(e){return"folder"===e.type?{id:e.id,type:"folder",title:e.name}:{id:e.id,type:"file",title:e.title||"",folderName:e.folderName||"",isPrivate:e.isPrivate,gitHubRepository:e.gitHubRepository}})}},[e,y,g,t,T]),isLoading:g}}},17423:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(98788),i=n(22970),o=n(2784),a=n(45403);function s(e,t){var n,s=(0,o.useState)(void 0),l=s[0],u=s[1],c=(0,o.useState)(!1),A=c[0],d=c[1],h=(0,a.Pe)(),f=(0,o.useCallback)((n=(0,r.Z)(function(e){return(0,i.__generator)(this,function(n){switch(n.label){case 0:if(u(void 0),!e||!t)return[2];d(!0),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,h.folders.fetchById(e,{teamId:t})];case 2:return u(n.sent()),[3,4];case 3:return d(!1),[7];case 4:return[2]}})}),function(e){return n.apply(this,arguments)}),[t]);return(0,o.useEffect)(function(){f(e)},[f,e]),{data:l,isLoading:A}}},22805:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(50930),i=n(2784),o=n(27495),a=n.n(o),s=n(6901);function l(e,t){var n=(0,i.useMemo)(function(){var e;try{e=new(a())}catch(t){e=a()}return void 0===(null==t?void 0:t.stopCallback)||("function"!=typeof t.stopCallback?e.stopCallback=function(){return!1}:e.stopCallback=t.stopCallback),e},[null==t?void 0:t.stopCallback]),o=(0,r.Z)(Object.keys(e)).concat((0,r.Z)(Object.values(e)));(0,i.useEffect)(function(){return Object.keys(e).forEach(function(t){var r=e[t];if(r){var i="/"===t?"keydown":void 0;if("function"==typeof r)n.bind(t,r,i);else{var o=r.macOS,a=r.windows,l=r.callback;(void 0===o||o)&&s.Um&&n.bind(t,l,i),(void 0===a||a)&&!s.Um&&n.bind(t,l,i)}}}),function(){n.reset()}},(0,r.Z)(o).concat([n]))}},9107:function(e,t,n){"use strict";var r=n(2784);t.Z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(function(){return t.every(function(e){return null==e})?null:function(e){t.forEach(function(t){t&&function(e,t){if(null!=e){if("function"==typeof e)return e(t);if(!Object.isFrozen(e))try{e.current=t}catch(n){throw Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}}}(t,e)})}},t)}},60131:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(2784),i=n(37164),o=n(71059);function a(){var e=(0,r.useState)(void 0),t=e[0],n=e[1];return(0,o.Z)(function(){n((0,i.x0)())},[]),t}},74026:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2784);function i(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=(0,r.useRef)(e);i.current=e;var o=(0,r.useRef)(n);o.current=n;var a=(0,r.useRef)(t);a.current=t,(0,r.useEffect)(function(){if("undefined"!=typeof document){var e=function(e){var t;!a.current||"Enter"!==e.key||(!o.current||e.metaKey||e.ctrlKey)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),null==(t=i.current)||t.call(i))};return document.addEventListener("keydown",e,!0),function(){document.removeEventListener("keydown",e,!0)}}})}},62915:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(98788),i=n(22970),o=n(2784),a=n(45403);function s(e){var t,n=(0,a.Pe)(),s=(0,o.useState)(void 0),l=s[0],u=s[1],c=(0,o.useState)(!1),A=c[0],d=c[1],h=(0,o.useCallback)((t=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:if(u(void 0),!e)return[2];d(!0),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,n.workspaces.fetchById(e)];case 2:return u(t.sent()),[3,4];case 3:return d(!1),[7];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}),[]);return(0,o.useEffect)(function(){h(e)},[h,e]),{data:l,isLoading:A}}},56060:function(e,t,n){"use strict";var r,i;n.d(t,{c:function(){return r}}),(i=r||(r={})).AddIcon="add-icon",i.CreateFile="create-file",i.AddNoteContent="add-note-content",i.AddFigure="add-figure",i.AddFigureEmbed="add-figure-embed",i.AddComment="add-comment",i.OpenInsertMenu="open-insert-menu",i.UseInsertMenu="use-insert-menu",i.GenerateAiDiagram="generate-ai-diagram",i.GenerateDiagramWithCode="generate-diagram-with-code",i.InviteTeamMember="invite-team-member",i.GitHubSync="github-sync",i.VsCodeExtensionDownload="vscode-extension-download",i.GetStartedNotionIntegrationClicked="get-started-notion-integration-clicked",i.GetStartedConfluenceIntegrationClicked="get-started-confluence-integration-clicked"},60869:function(e,t,n){"use strict";var r,i,o,a;function s(e){return Object.values(i).includes(e)}n.d(t,{Iq:function(){return s},P_:function(){return i},k1:function(){return r}}),(o=r||(r={})).OpenAI="openai",o.AzureOpenAI="azure-openai",o.Cerebras="cerebras",o.Together="together",o.OpenRouter="openrouter",o.Anthropic="anthropic",o.Google="google",(a=i||(i={})).TokenLengthExceeded="token-length-exceeded",a.UnknownAiError="unknown-ai-error",a.UnknownDiagramType="unknown-diagram-type",a.UnsupportedDiagramType="unsupported-diagram-type",a.UnclearDiagramType="unclear-diagram-type",a.RateLimitExceeded="rate-limit-exceeded",a.ServiceUnavailable="service-unavailable",a.UnsupportedRequest="unsupported-request",a.NotEnoughInformation="not-enough-information",a.FileTooLarge="file-too-large",a.PolicyViolation="policy-violation"},44953:function(e,t,n){"use strict";var r,i;n.d(t,{F:function(){return r}}),(i=r||(r={})).Pending="pending",i.InProgress="in-progress",i.Completed="completed",i.Error="error"},95164:function(e,t,n){"use strict";var r,i;n.d(t,{z:function(){return r}}),(i=r||(r={})).Outline="outline",i.OutlineQuestions="outline-questions",i.Diagram="diagram",i.DiagramQuestions="diagram-questions"},59590:function(e,t,n){"use strict";n.d(t,{Tw:function(){return g},Yi:function(){return h},aS:function(){return m},s1:function(){return c}}),(l=u||(u={})).InfrastructureAsCode="infrastructure-as-code",l.SchemaDefinition="schema-definition",l.ApplicationCode="application-code",l.DiagramAsCode="diagram-as-code",l.Other="other",l.PlainLanguage="plain-language";var r,i,o,a,s,l,u,c,A,d,h,f,p=[u.Other,u.PlainLanguage];function g(e){return!!e&&!p.includes(e)}function m(e){return e===h.Pending||e===h.InProgress}(r=c||(c={})).Infer="infer",r.Generate="generate",r.PostProcess="post-process",r.Complete="complete",r.Error="error",r.Unimplemented="unimplemented",(i=A||(A={})).Initiated="initiated",i.Completed="completed",i.Failed="failed",(o=d||(d={})).RequestRejected="request_rejected",o.ActivelyApplied="actively_applied",o.NotRelevant="not_relevant",(a=h||(h={})).Pending="pending",a.InProgress="in-progress",a.Completed="completed",a.Error="error",(s=f||(f={})).UPDATE="update",s.DELETE="delete"},70599:function(e,t,n){"use strict";var r,i,o,a,s,l,u,c,A;n.d(t,{AC:function(){return i},M$:function(){return o},h8:function(){return a},k9:function(){return r},yh:function(){return s}}),(l=r||(r={})).Pro="pro",l.Free="free",l.Business="business",l.Enterprise="enterprise",Object.values(r),(u=i||(i={})).ApiAccess="api-access",u.ExportPDF="export-pdf",u.NoLinkAccess="no-link-access",u.AnonymousCollaboration="anonymous-collaboration",u.PrivateWorkspaces="private-workspaces",u.SSO="sso",u.CustomAiContext="custom-ai-context",u.AiImport="ai-import",u.ExportQualityControls="export-quality-controls",u.ExportWatermarkToggle="export-watermark-toggle",u.PubliclyViewable="publicly-viewable",(c=o||(o={})).Workspaces="workspaces",c.CustomIcons="custom-icons",c.AiDiagramAndOutlineCredits="ai-credits",c.PremiumCredits="premium-credits",c.MonthlyAiDiagramApiCalls="monthly-ai-diagram-api-calls",c.PremiumApiCalls="premium-api-calls",(a||(a={})).VersionHistory="version-history",(A=s||(s={})).active="active",A.paused="paused",A.canceled="canceled"},95550:function(e,t,n){"use strict";var r,i,o,a,s,l;n.d(t,{FU:function(){return r},PA:function(){return o},aj:function(){return i}}),(a=r||(r={})).Team="team",a.Workspace="workspace",(s=i||(i={})).Pending="pending",s.Accepted="accepted",s.Cancelled="cancelled",(l=o||(o={})).Link="link",l.Email="email"},94130:function(e,t,n){"use strict";var r,i;n.d(t,{w:function(){return r}}),(i=r||(r={})).DiagramCreate="ai-diagram-create",i.DiagramEdit="ai-diagram-edit",i.OutlineCreate="ai-outline-create",i.DiagramDescription="ai-diagram-description",i.Api="ai-api",i.DiagramGPT="diagram-gpt",i.DiagramUnknownAction="ai-diagram-unknown-action"},23143:function(e,t,n){"use strict";n.d(t,{Pq:function(){return r},SF:function(){return a},ff:function(){return i}});var r="ERASER",i={id:r,displayName:"Eraser",photoURL:"/_next/static/canvas-icons/eraser-io.svg",color:"var(--grey-100)"},o=["SERVER","GITHUB","ERASER"];function a(e){return o.includes(e)}},46572:function(e,t,n){"use strict";n.d(t,{i:function(){return r.i}});var r=n(20097)},20097:function(e,t,n){"use strict";var r,i;n.d(t,{i:function(){return r}}),(i=r||(r={})).OrgAdmin="org-admin",i.Admin="admin",i.Member="member",i.Guest="guest"},45932:function(e,t,n){"use strict";var r,i,o,a,s,l,u,c,A,d;n.d(t,{Ib:function(){return o},c:function(){return i},hT:function(){return a},lp:function(){return s}}),(l=r||(r={})).ARCHITECTURE="Architecture",l.DESIGN_DOCS="Design Docs",l.WIREFRAMES="Wireframes",l.INTERVIEWS="Interviews",l.BRAINSTORMING="Brainstorming",l.DOCUMENTATION="Documentation",(u=i||(i={})).ARCHITECT="Architect",u.ENGINEER="Engineer",u.INFRASTRUCTURE="Infrastructure",u.CONSULTANT="Consultant",u.PRODUCT="Product & Design",u.OTHER="Other",(c=o||(o={})).GITHUB="GitHub",c.GITLAB="GitLab",c.NOTION="Notion",c.CONFLUENCE="Confluence",c.AWS="AWS",c.AZURE="Azure",c.GCLOUD="GCloud",c.TRRAFORM="Terraform",c.PULUMI="Pulumi",c.CIRCLECI="Circle CI",c.JENKINS="Jenkins",c.KUBERNETES="Kubernetes",c.VS_CODE="VS Code",(A=a||(a={})).CREATE_SURVEY_INCOMPLETE="CREATE_SURVEY_INCOMPLETE",A.CREATE_SURVEY_COMPLETE="CREATE_SURVEY_COMPLETE",A.JOIN_EXISTING_TEAM="JOIN_EXISTING_TEAM",(d=s||(s={})).CREATE_TEAM="CREATE_TEAM",d.INVITE_MEMBERS="INVITE_MEMBERS",d.PREFERENCES="PREFERENCES",d.USE_CASES="USE_CASES",d.ROLE="ROLE",d.TOOLS="TOOLS"},59711:function(e,t,n){"use strict";n.d(t,{C4:function(){return u},bR:function(){return l},lL:function(){return a},tL:function(){return c}}),(r=a||(a={})).Write="write",r.Read="read",(i=s||(s={})).userDataModel="userDataModel",i.technicalDesign="technicalDesign",i.dataFlowDiagram="dataFlowDiagram",i.systemArhcitecture="systemArhcitecture",i.productRequirements="productRequirements",(o=l||(l={})).NONE="none",o.READ="read",o.WRITE="write",o.ANONYMOUS_WRITE="anonymous-write",o.SSO_READ="sso-read",o.SSO_WRITE="sso-write",l.NONE,l.WRITE,l.READ,l.ANONYMOUS_WRITE;var r,i,o,a,s,l,u="updatedAt",c="desc"},50852:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var r=n(6901).Um?"metaKey":"ctrlKey"},40052:function(e,t,n){"use strict";n.d(t,{i:function(){return o},q:function(){return s}});var r=n(98788),i=n(22970);function o(e){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:switch(e.contextId){case"aws":return[3,1];case"azure":return[3,3];case"gcp":return[3,5]}return[3,7];case 1:return[4,n.e(8994).then(n.bind(n,88994))];case 2:return[2,t.sent().AWS_CONTEXT];case 3:return[4,n.e(7597).then(n.bind(n,97597))];case 4:return[2,t.sent().AZURE_CONTEXT];case 5:return[4,n.e(5226).then(n.bind(n,5226))];case 6:return[2,t.sent().GCP_CONTEXT];case 7:return[2]}})})).apply(this,arguments)}function s(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:return e.teamId,[4,Promise.all(["aws","azure","gcp"].map(function(e){return o({contextId:e})}))];case 1:return[2,t.sent().filter(Boolean)]}})})).apply(this,arguments)}},53788:function(e,t,n){"use strict";n.d(t,{Uy:function(){return u},fo:function(){return l},r2:function(){return a},wL:function(){return c}});var r,i,o,a,s=["gcp","aws","azure"];function l(e){return s.includes(e)}function u(e){return(null==e?void 0:e.type)===a.DiagramLibrary}function c(e){return(null==e?void 0:e.type)===a.Git}(r=o||(o={})).ReferenceDiagram="referenceDiagrams",r.ExampleDiagram="exampleDiagrams",(i=a||(a={})).DiagramLibrary="diagramLibrary",i.Git="git"},19198:function(e,t,n){"use strict";n.d(t,{Io:function(){return i},Jb:function(){return o}});var r=n(31632);function i(e){return e.filter(function(e){if("freeResponse"===e.type){var t;return!!(null==(t=e.freeResponseValue)?void 0:t.trim())}var n,r=e.answers.filter(function(e){return e.selected});return 0!==r.length&&(!r.some(function(e){return"other"===e.text.toLowerCase().trim()})||!!(null==(n=e.otherValue)?void 0:n.trim()))}).reduce(function(e,t){if(e+="Q: "+t.question,"freeResponse"===t.type){var n;(null==(n=t.freeResponseValue)?void 0:n.trim())&&(e+="\n",e+="A: "+t.freeResponseValue.trim())}else t.answers.forEach(function(n){var r;n.selected&&(e+="\n","other"===n.text.toLowerCase().trim()&&(null==(r=t.otherValue)?void 0:r.trim())?e+="A: "+t.otherValue.trim():e+="A: "+n.text)});return e+="\n\n"},"")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case r.pj.CAD:return"Cloud Architecture Diagram";case r.pj.FLOW:return t?"Flow Chart":"Flowchart";case r.pj.SD:return"Sequence Diagram";case r.pj.ERD:return"Entity Relationship Diagram";case r.pj.BPMN:return t?"Business Process Model":"BPMN";default:return"Diagram"}}},21732:function(e,t,n){"use strict";n.d(t,{Y:function(){return h}});var r=n(70865),i=n(96670),o=n(87394),a=n(2784),s=n(2732),l=n(54073),u=n.n(l),c=n(42541),A=(0,s.cn)({key:"commandKModalState",default:{isModalOpen:!1,screen:"commands",inputValue:""}}),d=u()(function(e,t){c.Z.trackEvent("command_k","search",{screen:t,query:e})},500),h=function(){var e=(0,o.Z)((0,s.FV)(A),2),t=e[0],n=e[1],l=(0,a.useCallback)(function(){n({isModalOpen:!1,screen:"commands",inputValue:""})},[n]),u=(0,a.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inputValue;n({isModalOpen:!0,screen:e.screen||"commands",inputValue:t||""})},[n]);return{switchScreen:(0,a.useCallback)(function(e){n(function(t){return(0,r.Z)({},t,e)})},[n]),setInputValue:(0,a.useCallback)(function(e){n(function(t){return(0,i.Z)((0,r.Z)({},t),{inputValue:e})}),e.trim()&&d(e,t.screen)},[n,t.screen]),openCommandKModal:u,closeCommandKModal:l,screen:t.screen,inputValue:t.inputValue,query:t.inputValue.trim(),isModalOpen:t.isModalOpen}}},64442:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(2784),i=n(21732),o={},a=function(){var e=(0,i.Y)().closeCommandKModal,t=(0,r.useCallback)(function(t,n){var r=function(t){return function(){!1!==t()&&e()}};if("function"==typeof n)a=void 0,i=r(n);else{var i,a,s,l,u=n.action,c=n.isHidden;a=null!=c?c:null==(s=o[t])?void 0:s.isHidden,i=u?r(u):null==(l=o[t])?void 0:l.execute}o[t]={execute:i,isHidden:a}},[e]);return{registrar:o,register:t}}},69545:function(e,t,n){"use strict";n.d(t,{A:function(){return o},D:function(){return i}});var r=n(42668);function i(e){switch(null==e?void 0:e.code){case r.nL.UnclearInstructions:return"The instructions are not clear enough to proceed.";case r.nL.NoRelevantFiles:return"No relevant files found";case r.nL.RelevantFilesConfusion:return"EraserBot needs guidance on which files to use";case r.nL.NotEnoughInformation:return"Not enough information to generate a diagram";case r.nL.FailedToNarrow:return"Failed to narrow down the tree. Please provided more specific instructions."}return"An unknown error occured"}function o(e){if(e)return{status:500,message:i(e),code:null==e?void 0:e.code}}},42668:function(e,t,n){"use strict";var r,i,o,a;function s(e){return Object.values(r).includes(e)}function l(e){return!!e&&![i.Complete,i.Error,i.AwaitingFollowUp].includes(e)}n.d(t,{LB:function(){return l},PJ:function(){return s},nL:function(){return r},zC:function(){return i}}),n(60869),(o=r||(r={})).RelevantFilesConfusion="relevant-files-confusion",o.NoRelevantFiles="no-relevant-files",o.FailedToNarrow="failed-to-narrow",o.NotEnoughInformation="not-enough-information",o.UnclearInstructions="unclear-instructions",o.InternalError="internal-error",(a=i||(i={})).GenericLoading="generic-loading",a.AnalyzeRepo="analyze-repo",a.Generate="generate",a.PostProcess="post-process",a.Complete="complete",a.Error="error",a.AwaitingFollowUp="awaiting-follow-up",a.Unimplemented="unimplemented"},50986:function(e,t,n){"use strict";n.d(t,{Hq:function(){return a},Kj:function(){return c},Kl:function(){return l},Se:function(){return s},kc:function(){return u}});var r,i=n(47842),o=n(31632),a=[{secondary:"#242424",color:"#ffffff",title:"White",darkModeTitle:"Black"},{secondary:"#d3d61e",color:"#f7f8c0",title:"Yellow"},{secondary:"#30a050",color:"#c0f8d0",title:"Green"},{secondary:"#2866c4",color:"#c7dcfc",title:"Blue"},{secondary:"#c43dcf",color:"#f4c0f8",title:"Purple"},{secondary:"#bd413a",color:"#f8c0c0",title:"Red"},{secondary:"#c38424",color:"#f8d8c0",title:"Orange"},{secondary:"#3a3a3a",color:"#e4e4e4",title:"Black",darkModeTitle:"Grey"}],s=[{secondary:"#242424",color:"#ffffff",title:"White",darkModeTitle:"Black"},{secondary:"#4f510a",color:"#eef144",title:"Yellow"},{secondary:"#12471E",color:"#30a050",title:"Green"},{secondary:"#1a286c",color:"#2866c4",title:"Blue"},{secondary:"#2f0671",color:"#c43dcf",title:"Purple"},{secondary:"#550810",color:"#bd413a",title:"Red"},{secondary:"#895c19",color:"#c38424",title:"Orange"},{secondary:"#000000",color:"#000000",title:"Black",darkModeTitle:"Grey"}],l=[{secondary:"#ffffff",color:"#242424",title:"Black",darkModeTitle:"Grey"},{secondary:"#ffffff",color:"#d3d61e",title:"Yellow"},{secondary:"#ffffff",color:"#30a050",title:"Green"},{secondary:"#ffffff",color:"#2866c4",title:"Blue"},{secondary:"#ffffff",color:"#c43dcf",title:"Purple"},{secondary:"#ffffff",color:"#bd413a",title:"Red"},{secondary:"#ffffff",color:"#c38424",title:"Orange"},{secondary:"#ffffff",color:"#c0c0c0",title:"White",darkModeTitle:"Black"}],u=[{secondary:"#1c1c1c",color:"#242424",title:"Black",darkModeTitle:"Grey"},{secondary:"#4f510a",color:"#eef144",title:"Yellow"},{secondary:"#12471E",color:"#30a050",title:"Green"},{secondary:"#1a286c",color:"#2866c4",title:"Blue"},{secondary:"#2f0671",color:"#c43dcf",title:"Purple"},{secondary:"#550810",color:"#bd413a",title:"Red"},{secondary:"#895c19",color:"#c38424",title:"Orange"},{secondary:"#242424",color:"#ffffff",title:"White",darkModeTitle:"Black"}],c=(r={},(0,i.Z)(r,o.UX.Pastel,a),(0,i.Z)(r,o.UX.Bold,s),(0,i.Z)(r,o.UX.Outline,l),r)},92106:function(e,t,n){"use strict";n.d(t,{Ld:function(){return o},Li:function(){return l},M4:function(){return u},Pe:function(){return A},Xy:function(){return d},hl:function(){return a},r8:function(){return c},w7:function(){return s}});var r=n(18014),i=n(31632),o=(0,r.J)("cardinalElbow").defaultZeroGapValueForIntersections,a=.875,s={STROKE_MULTIPLIER:1.75,ROUGHNESS_MULTIPLIER:.8,ARROWHEAD_SIZE:12,ARROWHEAD_ANGLE:30,SELECTION_LINE_WIDTH:1.5},l={LEFT:100,TOP:60,RIGHT:15,BOTTOM:15},u=30,c={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard"},A={FIGURE_PADDING:34,DISTANCE_BETWEEN_FIGURES:300},d=Object.values(i.pj).filter(function(e){return e!==i.pj.CUSTOM})},94251:function(e,t,n){"use strict";n.d(t,{Cz:function(){return h},_D:function(){return f},g0:function(){return A}});var r=n(87394),i=n(50930),o=n(13383),a=n.n(o),s=new Set(["modifiedAt","modifiedBy","userId","zIndex","version"]),l=new Set((0,i.Z)(s).concat(["seed","slate","lastCheckedAt"])),u=new Set((0,i.Z)(l).concat(["isBeingGenerated","forceAiMode"])),c=new Set((0,i.Z)(s).concat(["lastCheckedAt","forceAiMode","x","y","figureId","diagramId","groupIds"]));function A(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!0;var i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(!c.has(u)&&e[u]!==t[u])return!0}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return!1}function d(e){return function(t,n){if(!n)return!0;if(t===n)return!1;var i=new Set(Object.keys(n)),o=!0,s=!1,l=void 0;try{for(var u,c=Object.entries(t)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var A,d=(0,r.Z)(u.value,2),h=d[0],f=d[1];if((i.delete(h),!e.has(h))&&(A=n[h],!a()(f,A,function(e,t){if("number"==typeof e&&"number"==typeof t)return null!=e&&null!=t&&(e===t||1e-4>Math.abs(e-t))})))return!0}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}var p=!0,g=!1,m=void 0;try{for(var v,y=i[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var b=v.value;if(null!=n[b]&&!e.has(b))return!0}}catch(e){g=!0,m=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw m}}return!1}}var h=d(l),f=d(u)},54367:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(e){return e&&e.length?e.sort(function(e,t){var n,r;return"number"==typeof e.zIndex&&"number"==typeof t.zIndex&&e.zIndex!==t.zIndex?e.zIndex-t.zIndex:(null!=(n=e.zIndex)?n:0)-(null!=(r=t.zIndex)?r:0)}):[]}},65633:function(e,t,n){"use strict";n.d(t,{E0:function(){return A},LD:function(){return s},dq:function(){return l}});var r,i=n(98788),o=n(22970),a=n(88386),s=new Map,l=function(e){return s.get(e)},u=function(e,t){s.set(e,t)};function c(){return(c=(0,i.Z)(function(e){var t,n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,fetch(e.url)];case 1:return[4,r.sent().text()];case 2:return t=r.sent(),u(e.label,t),[4,(0,a.w)(t)];case 3:return r.sent(),[3,5];case 4:return n=r.sent(),console.error("[loadIcon] error for ".concat(e.label," - ").concat(e.url),n),[3,5];case 5:return[2]}})})).apply(this,arguments)}var A=(r=(0,i.Z)(function(e){var t,n,r,i,a,s,l;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(!e.length)return[2];t=[],n=!0,r=!1,i=void 0;try{for(a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)l=s.value,t.push(function(e){return c.apply(this,arguments)}(l))}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return[4,Promise.all(t)];case 1:return o.sent(),[2]}})}),function(e){return r.apply(this,arguments)})},88386:function(e,t,n){"use strict";n.d(t,{U:function(){return s},w:function(){return l}});var r,i=n(98788),o=n(22970),a=n(48005),s=new Map,l=(r=(0,i.Z)(function(e){var t,n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:if(!e)return[2,null];if(s.has(e))return[2,s.get(e)];if(t=a.t.sanitizeString(e,window),(n=new Image).src="data:image/svg+xml;utf8,"+encodeURIComponent(t),"function"!=typeof n.decode)return[3,2];return[4,n.decode()];case 1:r.sent(),r.label=2;case 2:return s.set(e,n),[2,n]}})}),function(e){return r.apply(this,arguments)})},6041:function(e,t,n){"use strict";n.d(t,{N:function(){return i},O:function(){return o}}),(r=i||(i={})).UP="up",r.DOWN="down",r.LEFT="left",r.RIGHT="right";var r,i,o=[i.DOWN,i.UP,i.LEFT,i.RIGHT]},31632:function(e,t,n){"use strict";n.d(t,{G4:function(){return A},Nm:function(){return h.N},OD:function(){return h.O},QN:function(){return f},UX:function(){return u},ck:function(){return l},pj:function(){return d},wi:function(){return c}});var r,i,o,a,s,l,u,c,A,d,h=n(6041);(r=l||(l={})).Normal="normal",r.CodeBlock="code-block",(i=u||(u={}))[i.Pastel=0]="Pastel",i[i.Bold=1]="Bold",i[i.Outline=2]="Outline",(o=c||(c={}))[o.Plain=0]="Plain",o[o.Shadow=1]="Shadow",o[o.Watercolor=2]="Watercolor",(a=A||(A={})).x="x",a.y="y",a.HORIZONTAL="x",a.VERTICAL="y",(s=d||(d={})).SD="sequence-diagram",s.ERD="entity-relationship-diagram",s.CAD="cloud-architecture-diagram",s.FLOW="flowchart-diagram",s.BPMN="bpmn-diagram",s.CUSTOM="custom-diagram";var f=function(e){return"rectangle"===e.type&&"sharp"!==e.strokeSharpness?"rounded-rect":e.type}},99618:function(e,t,n){"use strict";n.d(t,{Q:function(){return i},qf:function(){return r}});var r="gitHubAppInstalled",i="https://gitlab.com"},34803:function(e,t,n){"use strict";n.d(t,{HN:function(){return l},Id:function(){return a},bj:function(){return o},sF:function(){return s},tK:function(){return u}});var r=n(87394),i=n(99618),o=function(e){var t=e.commitSha,n=e.repositoryName,r=e.organizationName;return"https://github.com/".concat(r,"/").concat(n,"/commit/").concat(t)},a=function(e){if(!e)return"";var t=e.split("/");return(t.pop(),t.length)?"/".concat(t.join("/")):""},s=function(e){var t=e.filePath,n=e.branchName,r=e.repositoryName,i=e.organizationName;return"https://github.com/".concat(i,"/").concat(r,"/blob/").concat(n,"/").concat(t)},l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;var i=n.mustBeMd,o=void 0===i||i,a=n.requireBlobFormatUrl,s=(null==(t=e)?void 0:t.includes("github.com"))?"github":(null==t?void 0:t.includes("gitlab.com"))?"gitlab":null;if(!s)return null;var l=new URL(e).pathname,u=(0,r.Z)(l.split("/"),3),c=(u[0],u[1]),A=u[2],d="",h="",f="",p=l.toLocaleLowerCase().endsWith(".md");if(o&&p||!o){var g=l.split("/");"blob"===g[3]||"tree"===g[3]?(h=g[4],d=g.slice(5).join("/"),f=g.slice(4).join("/")):g[3]&&!(void 0===a||a)&&(h=g[3],d=g.slice(4).join("/"),f=g.slice(3).join("/"))}return{owner:c,repo:A,branchNameAndFilePath:f,branchName:h,filePath:d,provider:s}};function u(e){var t=e.orgName,n=e.repoName,r=e.provider,o=e.hostUrl;switch(r){case"github":return"https://api.github.com/repos/".concat(t,"/").concat(n);case"gitlab":var a=o||i.Q;return"".concat(a,"/api/v4/projects/").concat(encodeURIComponent("".concat(t,"/").concat(n)))}}},28065:function(e,t,n){"use strict";function r(e,t){if(null!=t)switch(e){case"integration_allowed_service_ids":case"skip_file_auth_team_ids":case"team_create_domain_exceptions":return Array.isArray(t)?t.filter(function(e){return"string"==typeof e}):void 0}}n.d(t,{E:function(){return o},g:function(){return r}});var i={integration_allowed_service_ids:[],skip_file_auth_team_ids:[],team_create_domain_exceptions:[]};function o(e){return r(e,i[e])}},89563:function(e,t,n){"use strict";n.d(t,{P:function(){return l}});var r=n(52322),i=n(67058),o=n(3635),a=n(16216),s=n.n(a),l=function(e){var t=e.keys,n=e.shortcutStyle,a=void 0===n?"text":n,l=e.darkBackground,u=e.className,c=e.style,A=e.inline,d=t.map(function(e){return(0,i.K8)(e,!0)});return(0,r.jsx)("span",{className:(0,o.Z)(s().shortcut,l&&s().darkBackground,u,A&&s().inline),style:c,children:d.map(function(e){return(0,r.jsx)("kbd",{className:(0,o.Z)(s().shortcutKey,"text"===a&&s().text,"pills"===a&&s().pill),children:e},e)})})}},67058:function(e,t,n){"use strict";n.d(t,{K8:function(){return s},PF:function(){return i}});var r=n(6901),i=r.Um?"metaKey":"ctrlKey",o={CtrlOrCmd:"Command","Control|Alt":"Control"},a={Shift:"",Enter:"",ArrowUp:"",ArrowDown:"",ArrowLeft:"",ArrowRight:"",Del:"",Control:"Ctrl",CtrlOrCmd:"Ctrl",Esc:"Esc",Alt:"Alt",Option:"Alt",AltOrOption:"Alt","Control|Alt":"Alt"};r.Um&&Object.assign(a,{Control:"^",CtrlOrCmd:"",Alt:"",Option:"",AltOrOption:"","Control|Alt":"^"});var s=function(e,t){return r.Um&&!t?o[e]||e:a[e]||e};r.Um&&Object.assign({CtrlOrCmd:"ctrl",AltOrOption:"alt","Control|Alt":"alt",Tab:"tab",Enter:"enter",Esc:"escape",Shift:"shift",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"},{CtrlOrCmd:"command",AltOrOption:"option","Control|Alt":"ctrl"})},39274:function(e,t,n){"use strict";n.d(t,{Eu:function(){return h},H$:function(){return f},fH:function(){return v},kI:function(){return g},tM:function(){return A},wL:function(){return d}});var r=n(42838),i=n(87394),o=n(2784),a=n(12995),s=n(60770),l=n(51716),u=n(20954),c=n(89960),A="left-side-menu-container",d="right-side-menu-container",h={top:function(e){return{top:e.top}},center:function(e){return{top:e.top+e.height/2}},bottom:function(e){return{top:e.bottom}}};function f(e){var t=d;return"left"===e&&(t=A),document.getElementById(t)}var p=new WeakMap;function g(e){var t=(0,l.Z)(),n=(0,o.useRef)(p.get(e));return(0,o.useLayoutEffect)(function(){if(!n.current)try{var r=s.F3.toDOMNode(e,e);r&&(p.set(e,r),n.current=r)}catch(e){t()}},[e,t]),n.current}var m=function(e,t,n){try{if(!t)return null;if((0,r.Z)(t,HTMLElement)||(0,r.Z)(t,Range))return t;if(a.xv.isText(t)||a.W_.isElement(t))return s.F3.toDOMNode(e,t);if(a.e6.isRange(t)){var i=s.F3.toDOMRange(e,t),o="bottom"===n?i.endContainer:i.startContainer;return(0,r.Z)(o,HTMLElement)?o:o.parentElement}}catch(e){(0,c.Tb)(Error("Error finding target position",{cause:e}))}return null};function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",r=(0,i.Z)(t,1)[0],o=g(e);return(0,u.H)(m(e,r,n),{scrollTargetId:"note-container",resizeTarget:o})}},28378:function(e,t,n){"use strict";n.d(t,{W:function(){return v}});var r=n(98788),i=n(90581),o=n(70865),a=n(96670),s=n(87394),l=n(22970),u=n(60417),c=n.n(u),A=n(96795),d=n.n(A),h=n(89960),f=n(32021),p=n(12995),g=function(){function e(t,n,r,o){(0,i.Z)(this,e),this.userId=t,this.lastOpId=n,this.selection=r,this.collab=o,this.isFading=!1,this.initFadeTimer(),this.decoration=this.makeDecoration(),this.isFading=!1}var t=e.prototype;return t.update=function(e,t){this.selection=e,t&&(this.lastOpId=t),this.initFadeTimer()},t.initFadeTimer=function(){var e=this;this._timer&&clearTimeout(this._timer),this.isFading=!1,this.setDecoration(),this._timer=setTimeout(function(){e.destroy()},3e4)},t.destroy=function(){var e=this;this.isFading=!0,this.setDecoration(),this._timer=setTimeout(function(){e.selection=null,e.setDecoration()},800)},t.setDecoration=function(){var e,t;this.decoration=this.makeDecoration(),null==(t=(e=this.collab).triggerUpdate)||t.call(e)},t.makeDecoration=function(){if(null!=this.selection)return(0,a.Z)((0,o.Z)({},this.selection),{lastOpId:this.lastOpId,userId:this.userId,remoteSelection:this.selection,isFading:this.isFading})},e}(),m=function(){function e(t){(0,i.Z)(this,e),this._collab=t,this._selections={},this._selections={}}var t=e.prototype;return t.setUserSelection=function(e,t,n){this._selections[e]||(this._selections[e]=new g(e,n,t,this._collab));try{this._selections[e].update(t,n)}catch(t){(0,h.Tb)(Error("Error setting selection",{cause:t})),this._selections[e].update(null,n)}},t.getSelections=function(){return this._selections},t.updateSelections=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;e.length&&Object.keys(this._selections).forEach(function(r){try{if(t.exclude&&t.exclude===r)return;var i=n._selections[r].selection;if(i){var o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,A=p.e6.transform(i,c);if(!A)break;i=A}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}n.setUserSelection(r,i)}catch(e){(0,h.Tb)(Error("Error updating selection",{cause:e})),n.setUserSelection(r,null)}})},e}(),v=function(){function e(t){var n,u=this;(0,i.Z)(this,e),this.onConnectionChange=function(){},this.isReady=!1,this._hasDisconnected=!1,this._pendingQueue=[],this.getRemoteSelections=function(){var e=u.selectionManager.getSelections();return c()(Object.keys(e).map(function(t){return e[t].decoration}))};var A=this;this._onBadDataDetected=(n=(0,r.Z)(function(e){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return A.onError(e),A.isReady=!1,[4,A._adapter.fetchValue()];case 1:return t=n.sent(),A.isReady=!0,A.editor&&t&&(A.editor.children=t.children,A.editor.onChange()),[2]}})}),function(e){return n.apply(this,arguments)}),this._onReceive=function(e){if(u.clientId!==e.clientId){if("function"!=typeof u._onRemoteOpsReceived)return void u._pendingQueue.push(e);var t=(0,s.Z)(d()(e.ops,function(e){return"set_selection"===e.type}),2),n=t[0],r=t[1];if(n.length&&e.userId!==u.userId){var i=!0,l=!1,c=void 0;try{for(var A,p=n[Symbol.iterator]();!(i=(A=p.next()).done);i=!0){var g=A.value;u.selectionManager.setUserSelection(e.userId,g.newProperties,e.id)}}catch(e){l=!0,c=e}finally{try{i||null==p.return||p.return()}finally{if(l)throw c}}}u.selectionManager.updateSelections(r,{exclude:e.userId});try{u._onRemoteOpsReceived((0,a.Z)((0,o.Z)({},e),{ops:r}))}catch(t){var m=new f.bS(t,f.bS.Codes.ApplyOp);m.isSevere=u._adapter.hasPendingOps(),m.handled=!0,m.cause=t,(0,h.Tb)(m,{msg:JSON.stringify(e)}),u._onBadDataDetected({error:m,area:"ApplyOpServer"})}}},this.clientId=t.clientId,this.userId=t.userId,this._adapter=t.adapter,this.onError=t.onError,this.makeOnConnectionChange(t.onConnectionChange),this.selectionManager=new m(this),this._adapter.on(this._adapter.Events.OPS_ADDED,this._onReceive),this._adapter.on(this._adapter.Events.BAD_DATA,this._onBadDataDetected),this._adapter.on(this._adapter.Events.CONNECTION_CHANGED,this.onConnectionChange)}var t=e.prototype;return t.destroy=function(){this.isReady=!1,this.sendOps([],null),this._adapter.off(this._adapter.Events.CONNECTION_CHANGED,this.onConnectionChange),this._adapter.off(this._adapter.Events.OPS_ADDED,this._onReceive),this._adapter.off(this._adapter.Events.BAD_DATA,this._onBadDataDetected),this._adapter.destroy(),this._onRemoteOpsReceived=void 0,this.editor=void 0},t.isConnected=function(){return this._adapter.isConnected},t.makeOnConnectionChange=function(e){var t=this;this.onConnectionChange=function(n){!1===n&&(t._hasDisconnected=!0,null==e||e(!1)),!0===n&&t._hasDisconnected&&(null==e||e(!0))}},t.getInitialData=function(){var e=this;return(0,r.Z)(function(){var t,n,r;return(0,l.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,e._adapter.fetchValue()];case 1:return t=i.sent(),[4,e._adapter.initialize()];case 2:return i.sent(),e.initialValue=null==t?void 0:t.children,e.isReady=!0,[2,t];case 3:if("status"in(n=i.sent())&&403===n.status)return[2,void 0];return r=new f.bS(n,f.BA.LoadValue),e.onError(r),[2,void 0];case 4:return[2]}})})()},t.setEditor=function(e){this.editor=e},t.sendOps=function(e,t){var n=e.filter(function(e){return"set_selection"!==e.type});this.selectionManager.updateSelections(n),n.push({type:"set_selection",newProperties:null!=t?t:null,properties:null}),this._adapter.sendOps(n)},t.onRemoteOpsReceived=function(e){var t;this._onRemoteOpsReceived=e,(null==(t=this._pendingQueue)?void 0:t.length)&&(this._pendingQueue.forEach(function(t){e(t)}),this._pendingQueue=[])},e}()},69992:function(e,t,n){"use strict";n.d(t,{YV:function(){return g}});var r=n(70865),i=n(96670),o=n(87394),a=n(50930),s=n(12995);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";if("move_node"===e.type&&s.y$.equals(e.path,e.newPath))return[];if("move_node"===t.type&&s.y$.equals(t.path,t.newPath))return[e];var o="left"===n?"backward":"forward";if("offset"in e){var a=s.E9.transform({path:e.path,offset:e.offset},t,{affinity:o});return a?[(0,r.Z)({},e,a)]:[]}if("position"in e){var l=s.E9.transform({path:e.path,offset:e.position},t,{affinity:o});return l?[(0,i.Z)((0,r.Z)({},e),{path:l.path,position:l.offset})]:[]}var u="path"in e?s.y$.transform(e.path,t,{affinity:o}):void 0;return u?[(0,i.Z)((0,r.Z)({},e),{path:u})]:[]}function u(e){return[{type:"remove_node",path:e.path.slice(),node:{text:""}},{type:"insert_node",path:s.y$.transform(e.path,e),node:{text:""}}]}function c(e,t){var n=e.path,o=s.y$.transform(t.path,(0,i.Z)((0,r.Z)({},e),{type:"insert_node"}));return s.y$.isSibling(n,o)&&s.y$.endsBefore(n,o)&&(o=s.y$.previous(o)),{type:"move_node",path:n,newPath:o}}function A(e,t){var n=t.path,r=s.y$.transform(e.path,t);return s.y$.isSibling(n,r)&&s.y$.endsBefore(n,r)&&(r=s.y$.previous(r)),{type:"move_node",path:n,newPath:r}}function d(e){return function(t,n,r,i){return t.path===t.newPath?[]:e(t,n,r,i)}}function h(e,t,n){var o=e.path.concat(e.position),a=s.y$.transform(o,t,{affinity:"left"===n?"forward":"backward"});return(null==a?void 0:a.length)?(0,i.Z)((0,r.Z)({},e),{position:a.at(-1)}):e}var f={remove_text:{insert_text:function(e,t,n){if(s.y$.equals(e.path,t.path)&&e.offset<t.offset&&e.offset+e.text.length>t.offset){var o=t.offset-e.offset,a=e.text.slice(0,o),u=e.text.slice(o);return[(0,i.Z)((0,r.Z)({},e),{text:a+t.text+u})]}return l(e,t,n)},remove_text:function(e,t,n){if(s.y$.equals(e.path,t.path)&&e.offset+e.text.length>t.offset&&t.offset+t.text.length>e.offset){var o=Math.max(t.offset-e.offset,0),a=e.text.slice(0,o),u=Math.min(e.text.length,t.offset+t.text.length-e.offset),c=e.text.slice(u);return[(0,i.Z)((0,r.Z)({},e),{offset:Math.min(e.offset,t.offset),text:a+c})]}return l(e,t,n)},split_node:function(e,t,n){return s.y$.equals(e.path,t.path)&&e.offset<t.position&&e.offset+e.text.length>t.position?[(0,i.Z)((0,r.Z)({},e),{text:e.text.slice(0,t.position-e.offset)}),(0,i.Z)((0,r.Z)({},e),{path:s.y$.next(t.path),offset:0,text:e.text.slice(t.position-e.offset)})]:l(e,t,n)}},insert_node:{insert_node:function(e,t,n){return s.y$.equals(e.path,t.path)&&"left"===n?[e]:l(e,t,n)},remove_node:function(e,t,n){return s.y$.equals(e.path,t.path)?[e]:l(e,t,n)},merge_node:function(e,t,n){if(s.y$.equals(e.path,t.path)){var o=s.xv.isText(e.node)?e.node.text.length:e.node.children.length;return[(0,i.Z)((0,r.Z)({},t),{type:"split_node",path:s.y$.previous(t.path)}),e,t,(0,i.Z)((0,r.Z)({},t),{position:t.position+o})]}return l(e,t,n)},move_node:function(e,t,n){if(s.y$.equals(e.path,t.path)){var o=s.y$.transform(s.y$.next(e.path),t);return[(0,i.Z)((0,r.Z)({},e),{path:o})]}return l(e,t,n)}},remove_node:{split_node:function(e,t,n){return s.y$.equals(e.path,t.path)?[e,e]:l(e,t,n)},merge_node:function(e,t,n){return s.y$.equals(e.path,t.path)||s.y$.equals(e.path,s.y$.previous(t.path))?[s.OX.inverse(t),e]:l(e,t,n)},move_node:function(e,t,n,l){if(s.y$.equals(t.path,t.newPath))return[e];var c=(0,o.Z)(u(t),2),A=c[0],d=c[1],h=(0,o.Z)(l([e],[A,d],n),2),f=h[0],p=h[1];return 0===f.length?[(0,i.Z)((0,r.Z)({},e),{path:d.path.concat(e.path.slice(A.path.length))})]:1===p.length&&"insert_node"===p[0].type?(0,a.Z)(f).concat([{type:"remove_node",path:p[0].path,node:{text:""}}]):f}},merge_node:{insert_text:function(e,t){return s.y$.equals(e.path,s.y$.next(t.path))?[(0,i.Z)((0,r.Z)({},e),{position:e.position+t.text.length})]:[e]},remove_text:function(e,t){return s.y$.equals(e.path,s.y$.next(t.path))?[(0,i.Z)((0,r.Z)({},e),{position:e.position-t.text.length})]:[e]},insert_node:function(e,t,n){if(s.y$.equals(e.path,t.path)){var o=s.xv.isText(t.node)?t.node.text.length:t.node.children.length;return[e,(0,i.Z)((0,r.Z)({},e),{position:e.position+o})]}return s.y$.isParent(s.y$.previous(e.path),t.path)?[(0,i.Z)((0,r.Z)({},e),{position:e.position+1})]:l(e,t,n)},remove_node:function(e,t){if(s.y$.isParent(s.y$.previous(e.path),t.path))return[(0,i.Z)((0,r.Z)({},e),{position:e.position-1})];var n=s.y$.transform(e.path,t),o=s.y$.transform(s.y$.previous(e.path),t);return n&&o?[(0,i.Z)((0,r.Z)({},e),{path:n})]:!n&&o?[(0,i.Z)((0,r.Z)({},t),{path:o})]:n&&!o?[(0,i.Z)((0,r.Z)({},t),{path:n})]:[]},split_node:function(e,t,n){if(s.y$.equals(s.y$.previous(e.path),t.path))return[(0,i.Z)((0,r.Z)({},e),{path:s.y$.next(e.path),position:e.position-t.position})];if(s.y$.isParent(s.y$.previous(e.path),t.path))return[(0,i.Z)((0,r.Z)({},e),{position:e.position+1})];var o=s.y$.transform(e.path,t,{affinity:"left"===n?"backward":"forward"});return 0===o[o.length-1]?[]:l(e,t,n)},merge_node:function(e,t,n){return s.y$.equals(e.path,t.path)?[]:s.y$.equals(s.y$.previous(e.path),t.path)?[(0,i.Z)((0,r.Z)({},e),{path:s.y$.previous(e.path),position:e.position+t.position})]:s.y$.isParent(s.y$.previous(e.path),t.path)?[(0,i.Z)((0,r.Z)({},e),{position:e.position-1})]:l(e,t,n)},move_node:function(e,t){if(s.y$.equals(t.path,t.newPath))return[e];var n=e.path,o=s.y$.previous(n),a=s.y$.transform(n,t),l=s.y$.transform(o,t);if(!s.y$.equals(a,s.y$.next(l)))return[{type:"remove_node",path:a,node:{text:""}}];var u=e.position;return s.y$.isParent(o,t.path)&&u--,s.y$.isParent(o,t.newPath)&&u++,[(0,i.Z)((0,r.Z)({},e),{path:a,position:u})]}},move_node:{insert_node:d(function(e,t,n,r){var i=u(e),a=(0,o.Z)(r(i,[t],n),1),s=(0,o.Z)(a[0],2),l=s[0],A=s[1];return(null==l?void 0:l.type)!=="remove_node"||(null==A?void 0:A.type)!=="insert_node"?[]:[c(l,A)]}),remove_node:d(function(e,t,n,i){var a=u(e),s=(0,o.Z)(i(a,[t],n),1)[0];if(1===s.length){if("remove_node"===s[0].type)return[s[0]];if("insert_node"===s[0].type)return[]}return 2===s.length&&"remove_node"===s[0].type&&"insert_node"===s[1].type?[(0,r.Z)({},e,c(s[0],s[1]))]:[]}),split_node:d(function(e,t){var n=s.y$.isSibling(e.path,e.newPath)&&s.y$.endsBefore(e.path,e.newPath);if(s.y$.equals(e.path,t.path)){var o=s.y$.transform(e.newPath,t);if(n)return[(0,i.Z)((0,r.Z)({},e),{newPath:o}),(0,i.Z)((0,r.Z)({},e),{newPath:o})];var a=(0,i.Z)((0,r.Z)({},e),{path:s.y$.next(e.path),newPath:o}),l=(0,i.Z)((0,r.Z)({},e),{path:s.y$.transform(e.path,a),newPath:s.y$.previous(s.y$.transform(o,a))});return[a,l]}var u=s.y$.transform(e.newPath,t);return s.y$.equals(u,s.y$.next(t.path))&&!n?u=t.path:n&&!s.y$.isSibling(e.path,u)&&(u=s.y$.next(u)),[(0,i.Z)((0,r.Z)({},e),{path:s.y$.transform(e.path,t),newPath:u})]}),merge_node:d(function(e,t){var n=t.path,o=s.y$.previous(n);return(n=s.y$.transform(n,e),s.y$.equals(n,s.y$.next(o)))?s.y$.isParent(s.y$.previous(t.path),e.path)&&s.y$.isParent(t.path,e.newPath)?[(0,i.Z)((0,r.Z)({},e),{path:s.y$.transform(e.path,t),newPath:s.y$.previous(s.y$.transform(e.newPath,t))})]:[(0,i.Z)((0,r.Z)({},e),{path:s.y$.transform(e.path,t),newPath:s.y$.transform(e.newPath,t)})]:[(0,i.Z)((0,r.Z)({},t),{type:"split_node",path:o}),e,{type:"remove_node",path:n,node:{text:""}}]}),move_node:d(function(e,t,n,r){if(s.y$.equals(t.path,t.newPath))return[e];var i=u(e),l=u(t),d="left"===n?[A.apply(void 0,(0,a.Z)(l)),e]:[],h=(0,o.Z)(r(i,l,n),2),f=h[0],p=h[1];if(2===f.length)return"remove_node"!==f[0].type||"insert_node"!==f[1].type?d:[c(f[0],f[1])];if(1===p.length)return d;if("remove_node"!==p[0].type||"insert_node"!==p[1].type)return[];if(0===f.length)f[0]={type:"remove_node",path:l[1].path.concat(i[1].path.slice(l[0].path.length)),node:{text:""}},f[1]={type:"insert_node",path:l[1].path.concat(i[1].path.slice(l[0].path.length)),node:{text:""}};else if("remove_node"===f[0].type)f[1]={type:"insert_node",path:p[1].path.concat(i[1].path.slice(p[0].path.length)),node:{text:""}};else{if("insert_node"!==f[0].type)return d;f[1]=f[0],f[0]={type:"remove_node",path:l[1].path.concat(i[1].path.slice(l[0].path.length)),node:{text:""}}}return[c(f[0],f[1])]}),set_node:d(function(e){return[e]}),insert_text:d(function(e){return[e]}),remove_text:d(function(e){return[e]})},set_node:{split_node:function(e,t){return s.y$.equals(e.path,t.path)?[e,(0,i.Z)((0,r.Z)({},e),{path:s.y$.next(e.path)})]:l(e,t)},merge_node:function(e,t){return s.y$.equals(e.path,t.path)?[]:l(e,t)},set_node:function(e,t,n){if(s.y$.equals(e.path,t.path)){var o="left"===n?(0,r.Z)({},t.newProperties,e.newProperties):(0,r.Z)({},e.newProperties,t.newProperties);return[(0,i.Z)((0,r.Z)({},e),{newProperties:o})]}return[e]}},split_node:{merge_node:function(e,t,n){return s.y$.isParent(e.path,t.path)?[h(e,t,n)]:l(e,t,n)},remove_node:function(e,t,n){return s.y$.isParent(e.path,t.path)?[h(e,t,n)]:l(e,t,n)},insert_node:function(e,t,n){return s.y$.isParent(e.path,t.path)?[h(e,t,n)]:l(e,t,n)},move_node:function(e,t,n){return s.y$.isParent(e.path,t.path)||s.y$.isParent(e.path,t.newPath)?[h(e,t,n)]:l(e,t,n)},split_node:function(e,t,n){return s.y$.isParent(e.path,t.path)?[h(e,t,n)]:l(e,t,n)}}};function p(e,t,n){var r,i;if("set_selection"===t.type)return[e];return(null!=(i=null==(r=f[e.type])?void 0:r[t.type])?i:l)(e,t,n,g)}function g(e,t,n){for(var l,u,c=function(e){var t=[],n=!0,o=!1,a=void 0;try{for(var l,u,c=e[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var A=u.value;if(!l){l=A,t.push(A);continue}if("insert_text"===A.type&&"insert_text"===l.type&&A.offset===l.offset+l.text.length&&s.y$.equals(A.path,l.path)){l.isComposed||(l=(0,i.Z)((0,r.Z)({},l),{isComposed:!0}),t[t.length-1]=l),l.text+=A.text;continue}if("remove_text"===A.type&&"remove_text"===l.type&&A.offset===l.offset-l.text.length&&s.y$.equals(A.path,l.path)){l.isComposed||(l=(0,i.Z)((0,r.Z)({},l),{isComposed:!0}),t[t.length-1]=l),l.text+=A.text,l.offset=A.offset;continue}l=A,t.push(A)}}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return t}(e),A=c.length,d=-1,h=[],f=t;A>0;)A--,d++,l=(u=(0,o.Z)(function(e,t,n){for(var r=[],i=t.length,s=-1;i>0;){i--;var l,u=t[++s],c=(0,o.Z)([p(l=e,u,n),p(u,l,"left"===n?"right":"left")],2),A=c[0],d=c[1];if(r.push.apply(r,(0,a.Z)(d)),0===A.length)return[[],r.concat(t.slice(s+1))];if(1===A.length){e=A[0];continue}var h=(0,o.Z)(g(A,t.slice(s+1),n),2),f=h[0],m=h[1];return[f,r.concat(m)]}return[[e],r]}(c[d],f,n),2))[0],f=u[1],h.push.apply(h,(0,a.Z)(l));return[function(e){var t=[],n=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done);n=!0)!function(){var e=l.value;if(e.isComposed&&("insert_text"===e.type||"remove_text"===e.type)){e.isComposed=void 0;var n=e.offset,o=Array.from(e.text).map(function(t){var o=(0,i.Z)((0,r.Z)({},e),{text:t,offset:n});return n+=t.length,o});return"remove_text"===e.type&&o.reverse(),t.push.apply(t,(0,a.Z)(o))}t.push(e)}()}catch(e){o=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw s}}return t}(h),f]}},46807:function(e,t,n){"use strict";n.d(t,{H4:function(){return u},Kc:function(){return c},R1:function(){return l}});var r=n(70865),i=n(96670),o=n(26297),a=n(12995),s=function(e){var t={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)!function(){var e=a.value;if(void 0!==e){if(void 0!==e.byElementType){var r=e.byElementType;Object.keys(r).forEach(function(e){return t[e]=r[e]})}if(void 0!==e.byFormat){var i=e.byFormat;Object.keys(i).forEach(function(e){return n[e]=i[e]})}}}()}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return{tagRegistrar:t,formatRegistrar:n}},l=function(e){var t=e.element,n=e.markdown,r=e.childrenMarkdownPosition,i=t.text;switch(r){case"before":return i+n;case"after":return n+i;case"between":return n[0]+i+n[1];default:return""}},u=function(e){var t,n,r=e.editor,i=e.element,o=e.markdown,a=e.serializeChildren,s=e.isInTable,l=e.childrenMarkdownPosition,u=null!=(n=null==(t=i.children)?void 0:t.map(function(e){return a({editor:r,element:e,serializeChildren:a,isInTable:s})}).join(""))?n:"";switch(l){case"before":return u+o;case"after":return o+u;case"between":return o[0]+u+o[1];default:return""}},c=function(e,t){var n=s(t.map(function(e){return e.toMarkdown})),l=n.tagRegistrar,c=n.formatRegistrar,A=function(e){var t=e.editor,n=e.element,i=e.serializeChildren,o=Object.keys(n).map(function(e){return c[e]}).filter(function(e){return void 0!==e});if(!o.length)return n.text;var a=(0,r.Z)({},n),s=!0,l=!1,u=void 0;try{for(var A,d=o[Symbol.iterator]();!(s=(A=d.next()).done);s=!0){var h=(0,A.value)({editor:t,element:a,serializeChildren:i});a.text=h}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return a.text},d=function(e){var t,n=e.element,s=(0,o.Z)(e,["element"]);return a.xv.isText(n)?A((0,i.Z)((0,r.Z)({},s),{element:n})):(null!=(t=l[n.type])?t:function(e){return u((0,i.Z)((0,r.Z)({},e),{markdown:"",childrenMarkdownPosition:"after"}))})((0,i.Z)((0,r.Z)({},s),{element:n}))};return{toMarkdown:function(t,n){var i=n||e.children;if(t){var o=s(t),a=o.tagRegistrar,u=o.formatRegistrar;l=(0,r.Z)({},l,a),c=(0,r.Z)({},c,u)}return i.map(function(t){return d({editor:e,element:t,serializeChildren:d})}).join("")}}}},3220:function(e,t,n){"use strict";n.d(t,{UT:function(){return C},Yl:function(){return v},Z3:function(){return S},a8:function(){return _},dV:function(){return function e(t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(c()(l,n))return l;if("children"in l){var u=e(l.children,n);if(u)return u}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},iL:function(){return b},m_:function(){return E},nv:function(){return x},oe:function(){return T},pq:function(){return g},q2:function(){return m},s6:function(){return w},uk:function(){return B},um:function(){return I}});var r=n(70865),i=n(96670),o=n(26297),a=n(87394),s=n(18149),l=n.n(s),u=n(61726),c=n.n(u),A=n(17620),d=n.n(A),h=n(12995),f=n(53942),p=n(72572);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"string"==typeof e?{type:e}:("function"==typeof e&&(e=e(t)),e)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,i=void 0===r?e.selection:r;return!(!i||(0,f.wu)(e,{at:i,type:t.type}))&&v(e,t,n)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.at,s=void 0===o?e.selection:o,l=t.type;if(!s)return!1;var u=h.ML.unhangRange(e,s),c=(0,a.Z)(h.e6.edges(u),2),A=c[0],d=c[1];if(h.e6.isCollapsed(u)){if((0,f.wu)(e,{at:s,type:l}))return h.YR.unwrapNodes(e,{at:s,match:function(e){return"type"in e&&e.type===l}}),!0;var g=0===s.focus.offset||s.focus.offset===h.ML.node(e,s.focus.path)[0].text.length;return h.YR.insertNodes(e,[(0,i.Z)((0,r.Z)({},t),{children:[{text:p.$}]})],{at:s}),g&&h.YR.move(e,{unit:"character",distance:1}),!0}if(h.y$.equals(A.path,d.path))return y(e,t,{range:u,selectNode:!0});var m=(0,f.Qs)(e,u,{type:l});return h.ML.withoutNormalizing(e,function(){var n=[],r=!0,i=!0,o=!1,s=void 0;try{for(var c,p=h.NB.texts(e,{from:d.path,to:A.path,reverse:!0})[Symbol.iterator]();!(i=(c=p.next()).done);i=!0){var g=(0,a.Z)(c.value,2),v=(g[0],g[1]),b=h.e6.intersection(u,h.ML.range(e,v));if(b){var w=h.ML.rangeRef(e,b,{affinity:"backward"});n.push(w),y(e,t,{range:b,selectNode:r,forceCreate:m}),r=!1}}}catch(e){o=!0,s=e}finally{try{i||null==p.return||p.return()}finally{if(o)throw s}}!function(e,t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=l.unref();if(u&&l!==t.at(-1)){var c=(0,f.wu)(e,{at:u,type:n});if(c){var A=h.y$.previous(c[1]),d=h.NB.get(e,A);"type"in d&&d.type===n&&h.YR.mergeNodes(e,{at:u.anchor.path,match:function(e){return"type"in e&&e.type===n}})}}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}(e,n,l)}),!0}function y(e,t,n){var r=n.range,i=n.selectNode,o=n.forceCreate,s=t.type,l=(0,a.Z)(h.e6.edges(r),2),u=l[0],c=l[1],A=Object.assign({children:[]},t),d=(0,f.wu)(e,{at:r,type:s}),p=h.ML.pointRef(e,u),g=h.ML.pointRef(e,c,{affinity:"backward"});return h.ML.withoutNormalizing(e,function(){var t=d?function(e){return"type"in e&&e.type===s}:function(e){return h.xv.isText(e)};c.offset!==h.ML.end(e,c.path).offset&&h.YR.splitNodes(e,{at:c,match:t}),0!==u.offset&&h.YR.splitNodes(e,{at:u,match:t}),d?(h.YR.unwrapNodes(e,{match:function(e){return"type"in e&&e.type===s},at:{focus:g.current,anchor:p.current}}),o&&h.YR.wrapNodes(e,A,{match:function(e){return h.xv.isText(e)},at:{focus:g.current,anchor:p.current}})):h.YR.wrapNodes(e,A,{match:function(e){return h.xv.isText(e)},at:{focus:g.current,anchor:p.current}}),i?h.YR.select(e,{focus:p.current,anchor:g.current}):h.YR.setSelection(e,{focus:p.current})}),p.unref(),g.unref(),!0}function b(e,t){var n=t.at,r=void 0===n?e.selection:n,i=t.type;if(!r)return!1;var o=(0,f.yi)(e,{at:r}),a=(0,f.FU)(e,{at:r,includeOffset:!0});if(o||a){var s,l=null==(s=h.ML.above(e,{at:r,match:function(t){return h.ML.isBlock(e,t)}}))?void 0:s[1];if(l){var u=a?l:h.y$.next(l);return h.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:u,select:!a}),!0}}return h.ML.withoutNormalizing(e,function(){var t=h.ML.rangeRef(e,r);h.YR.splitNodes(e,{at:r,always:!0});var n=t.unref();n&&h.YR.setNodes(e,{type:"paragraph"},{at:h.e6.end(n),match:function(e){return"type"in e&&e.type===i}})}),!0}function w(e,t,n){var r,i=n.levels,o=n.abovePath,a=h.ML.pathRef(e,t);if(null!=i)r=i;else{if(null==o)return void console.warn("Invalid liftElement!");r=t.length-o.length}h.ML.withoutNormalizing(e,function(){for(var t,n;r>0&&(null!=(n=null==(t=a.current)?void 0:t.length)?n:0)>=2;)h.YR.liftNodes(e,{at:a.current}),r--}),a.unref()}function _(e,t){h.ML.withoutNormalizing(e,function(){h.YR.splitNodes(e,{always:!0}),h.YR.splitNodes(e,{at:h.y$.next(t),always:!0})})}function E(e,t,n){var r=n.target,i=n.retainParentType,s=n.retainLevel,l=(0,o.Z)(n,["target","retainParentType","retainLevel"]),u=(0,f.wu)(e,l);if(!u)return!1;var c=(0,a.Z)(u,2),A=(c[0],c[1]),d=r;if((void 0===i||i)&&!r){var p=h.NB.get(e,h.y$.parent(A));d=p&&"type"in p?{type:p.type}:void 0}var g=(0,f._p)(e,A,t,{matchArgs:d,retainLevel:s});return!!g&&!!h.NB.has(e,g)&&("down"===t&&0===g[g.length-1]&&(g[g.length-1]=1),h.YR.moveNodes(e,{at:A,to:g}),!0)}function C(e,t){return e&&t&&"type"in e&&"type"in t&&e.type===t.type&&l()(d()(e,"children"),d()(t,"children"))}function B(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];if(0===r.children.length||1===r.children.length&&h.xv.isText(r.children[0])&&""===r.children[0].text)return h.YR.removeNodes(e,{at:i}),!0}var x=function(e,t){var n,r=h.NB.nodes(e);do n=r.next();while(function(e){var n;return(null==(n=e.value)?void 0:n[0].id)!==t&&!e.done}(n));return n.value?n.value:null},I=function(e,t){if(0===e.children.length)return!0;if(!(null==t?void 0:t.requireText)&&e.children.length>1)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(function e(n){return!!h.xv.isText(n)&&""!==n.text||("children"in n?n.children.length>1&&(null==t||!t.requireText)||n.children.some(e):void 0)}(s))return!1}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0},T=function(e){h.YR.delete(e,{at:{anchor:h.ML.start(e,[]),focus:h.ML.end(e,[])}})};function S(e,t,n){if(h.NB.has(e,t)){if(!h.NB.has(e,t.concat(0)))return void h.YR.removeNodes(e,{at:t});h.YR.unwrapNodes(e,null!=n?n:{at:t})}}},76592:function(e,t,n){"use strict";n.d(t,{E:function(){return A},K:function(){return h}});var r=n(42838),i=n(70865),o=n(96670),a=n(26297),s=n(87394),l=n(12995),u=n(32021),c=l.ML.normalize;function A(e,t,n){if(e&&"object"==typeof e&&"error"in e&&"area"in e)return e;var a=(0,r.Z)(e,u.bS),s=a?e:new u.bS(e,t);return(0,o.Z)((0,i.Z)({},n),{error:s,area:a?e.code:t})}function d(e){if((0,r.Z)(e,u.bS))return void console.error(e);var t=e.error,n=(0,a.Z)(e,["error"]);console.error(t),console.warn(n)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=e.normalizeNode,i=function(n){e.operations=[];var i=(0,r.Z)(n,u.bS)?n:n.error;i.handled||(t(n),i.handled=!0)};return e.handleError=i,e.normalizeNode=function(t){try{n(t)}catch(n){var r=(0,s.Z)(t,1)[0],o=A(n,"Normalize",{nodeType:"type"in r?r.type:"text"in r?"Text":"Editor"});if(i(o),e.__skipNormalizationError)return;throw o.error}},e}l.ML.normalize=function(e,t){try{c(e,t)}catch(t){var n=A(t,"Normalize",{});if("function"==typeof e.handleError&&e.handleError(n),e.__skipNormalizationError)return;throw n.error}}},20660:function(e,t,n){"use strict";n.d(t,{HI:function(){return o},h4:function(){return i},oy:function(){return a}});var r=n(12995);function i(e,t){var n;(n=r.ML.marks(e))&&!0===n[t]?r.ML.removeMark(e,t):r.ML.addMark(e,t,!0)}var o=function(e,t,n){n?r.ML.addMark(e,t,!0):r.ML.removeMark(e,t)},a=function(e,t){var n=Array.from(r.NB.texts(e,{from:t,to:t})).map(function(t){return r.ML.pathRef(e,t[1])}),i=["bold","italic","strike","underline"].reduce(function(e,t){return e[t]=void 0,e},{});n.forEach(function(t){var n=t.unref();n&&r.YR.setNodes(e,i,{at:n})})}},87739:function(e,t,n){"use strict";n.d(t,{AA:function(){return p},R4:function(){return f},UN:function(){return g},km:function(){return d},yy:function(){return h}});var r=n(87394),i=n(50930),o=n(12995),a=n(2012),s=n(95181),l=n(41955),u=n(58490),c=n(31632),A=n(31639),d=function(e){if(e.selection)return o.ML.unhangRange(e,e.selection,{voids:!0})},h=function(e,t){return!t.includes(e.type)},f=function(e,t){var n=(0,u.ZA)(e,{withPaths:!0,match:function(e,n){return h(e,t)}}).map(function(t){return o.ML.pathRef(e,t[1])});o.ML.withoutNormalizing(e,function(){n.forEach(function(t){if(t.current){o.YR.setNodes(e,{type:"paragraph"},{at:t.current});var n=!0,a=!1,s=void 0;try{for(var l,u=o.ML.nodes(e,{at:t.current,match:o.xv.isText,reverse:!0})[Symbol.iterator]();!(n=(l=u.next()).done);n=!0)for(var c=(0,r.Z)(l.value,2),A=c[0],d=c[1],h=A.text.lastIndexOf("\n");-1!==h;)o.YR.splitNodes(e,{at:{path:d,offset:h},match:function(){return!0}}),o.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:o.y$.next(t.current)}),o.YR.moveNodes(e,{at:o.y$.next(d),to:(0,i.Z)(o.y$.next(t.current)).concat([0])}),o.YR.delete(e,{at:{path:(0,i.Z)(o.y$.next(t.current)).concat([0]),offset:0},distance:1,unit:"character"}),h=A.text.lastIndexOf("\n",h-1)}catch(e){a=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw s}}t.unref()}})})},p=function(e,t,n,r){var a=(0,u.ZA)(e,{withPaths:!0,match:function(e){return h(e,n)}});(0,l.U)(e,a,t);var s=(a=(0,u.ZA)(e,{withPaths:!0})).reduce(function(e,t){var i=t[0];return i.type!==r&&h(i,n)?e[e.length-1].push(t):e.push([]),e},[[]]).filter(function(e){return 0!==e.length}),c=s.map(function(t){return t.map(function(t){return o.ML.pathRef(e,t[1])})});s.forEach(function(t,n){var a=c[n].reverse(),s=a[a.length-1].current,l={type:r,children:[]};s&&(o.YR.insertNodes(e,l,{at:s}),a.filter(function(e){return e.current}).forEach(function(t,n){0!==n&&o.YR.insertNodes(e,[{text:"\n"}],{at:(0,i.Z)(s).concat([l.children.length])}),o.YR.moveNodes(e,{at:t.unref(),to:(0,i.Z)(s).concat([l.children.length])})}))})},g=function(e,t,n){var r,i,l,u=t.find(function(e){return"code"===e.name}),h=null!=(l=null==u||null==(r=u.conversionRules)||null==(i=r["code-block"])?void 0:i.disallowedTypes)?l:[];if(n!==(0,A.r)(e))if(n===c.ck.Normal)f(e,h);else{var g=o.ML.rangeRef(e,d(e));Array.from(o.ML.nodes(e,{at:g.current,match:s.mY})).map(function(t){return o.ML.pathRef(e,t[1])}).forEach(function(t){return o.YR.unwrapNodes(e,{at:t.unref()})});for(var m=Array.from(o.ML.nodes(e,{at:g.current,match:a.SQ})).map(function(t){return{node:t[0],pathRef:o.ML.pathRef(e,t[1])}}),v=0;v<m.length;v++){var y=m[v],b=y.node,w=y.pathRef,_=b.mentionData;if(_){var E=_.email;o.YR.insertText(e,null!=E?E:"",{voids:!0,at:w.current}),o.YR.unwrapNodes(e,{at:w.unref(),voids:!0})}}o.YR.setSelection(e,g.unref()),p(e,t,h,"code-block")}}},93707:function(e,t,n){"use strict";n.d(t,{O2:function(){return g},bO:function(){return p},dC:function(){return h},pM:function(){return m},Kj:function(){return f}});var r=n(70865),i=n(96670),o=n(87394),a=n(12995),s=/[.*+?^${}()|[\]\\]/g;function l(e){return e.replace(s,"\\$&")}var u=n(3037),c=n(3220),A=n(20660),d=n(53942);function h(e){var t,n=e.matchMode,r=e.customTest,i=e.isDisabledInTable,s="inline"in e&&e.inline,A="void"in e&&e.void,h="element"in e&&!s;if("customRegExp"in e)t=e.customRegExp;else{var f=e.str,p=l(f),g=l(f[0]);t=new RegExp("surround"===n?"(\\b|\\s|\\(|^)".concat(p,"([^").concat(g,"]+)").concat(p,"(\\b|\\s|\\)|\\.|\\,|\\!|\\?|$)"):"^".concat(p,"(?:\\b|\\s|$)"))}var m=function(s,l){var A=l.leafNode,f=l.insertedText;if(i&&(0,d.wu)(s,{type:"table"})||"str"in e&&!e.str.includes(f)&&!f.includes(e.str))return!1;var p=a.ML.above(s,{match:function(e){return a.ML.isBlock(s,e)}});if(!p)return t.test(A.text);var g=(0,o.Z)(p,1)[0];return(!h||!!(0,u.RF)(g)||g.type===(0,c.pq)(e.element).type)&&("start"!==n||!!(0,d.FU)(s))&&!!t.test(A.text)&&(!r||!!r(s,A,f))};return function(r,i){var l=i.leafNode;if(!1===m(r,{leafNode:l,insertedText:i.insertedText}))return!1;var u=r.selection.focus,d=u.path,h=u.offset,f=l.text.match(t),p=(0,o.Z)(f,4),g=p[0],v=p[1],y=p[2],b=p[3];if(r.sealHistoryEntry(),"surround"===n?(a.YR.delete(r,{at:{path:d,offset:f.index+v.length},distance:g.length-v.length-b.length}),a.YR.insertText(r,y,{at:{path:d,offset:f.index+v.length}}),a.YR.setSelection(r,{anchor:{path:d,offset:f.index+v.length},focus:{path:d,offset:f.index+y.length+v.length}})):"start"===n&&"str"in e&&a.YR.delete(r,{distance:e.str.length,at:{path:d,offset:0}}),"format"in e)a.ML.addMark(r,e.format,!0),a.YR.setSelection(r,{anchor:r.selection.focus,focus:r.selection.focus}),a.ML.removeMark(r,e.format),null==(w=r.eventLogger)||w.call(r,"auto_format",{type:e.format});else if("element"in e){var w,_,E=(0,c.pq)(e.element,y);if(s){var C=r.selection;0===b.length&&(a.YR.setSelection(r,{focus:C.focus,anchor:C.focus}),a.YR.insertText(r," "),a.YR.setSelection(r,C)),(0,c.q2)(r,E,{at:C})||(h===l.text.length?a.YR.setSelection(r,{focus:{path:d,offset:l.text.length}}):a.YR.setSelection(r,{focus:{path:d,offset:h-1}}));var B=a.e6.end(r.selection);a.YR.setSelection(r,{focus:B,anchor:B}),a.YR.move(r,{unit:"character",distance:b.length||1})}else a.YR.setNodes(r,E,{match:function(e){return a.ML.isBlock(r,e)}});null==(_=r.eventLogger)||_.call(r,"auto_format",{type:E.type})}return A&&a.YR.move(r,{distance:1}),!0}}function f(e,t){var n=e.insertText;return e.insertText=function(r){if(n(r),e.selection){var i=e.selection.focus.path,o=a.NB.leaf(e,i),s=!0,l=!1,u=void 0;try{for(var c,A=t[Symbol.iterator]();!(s=(c=A.next()).done)&&!(0,c.value)(e,{leafNode:o,insertedText:r});s=!0);}catch(e){l=!0,u=e}finally{try{s||null==A.return||A.return()}finally{if(l)throw u}}}},e}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shortKey:!0};return(0,i.Z)((0,r.Z)({name:t},n),{key:e,handler:function(e){var n;return(0,A.h4)(e,t),null==(n=e.eventLogger)||n.call(e,"keyboard_format",{type:t}),!0}})}function g(e){var t=e.key,n=e.code,o=e.elementArg,s=e.opts,l=e.params,u=void 0===l?{}:l,A=(0,c.pq)(o),h=(0,i.Z)((0,r.Z)({name:A.type},void 0===s?{shortKey:!0}:s),{handler:function(e){u.disableInTable&&(0,d.wu)(e,{type:"table"})||((0,d.wu)(e,A)?a.YR.setNodes(e,{type:"paragraph"}):a.YR.setNodes(e,A))}});return t?(0,i.Z)((0,r.Z)({key:t},h),{logEvent:!0}):(0,i.Z)((0,r.Z)({code:n},h),{logEvent:!0})}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shortKey:!0},o=(0,c.pq)(t);return(0,i.Z)((0,r.Z)({name:o.type},n),{key:e,handler:function(e){return(0,c.Yl)(e,o)},logEvent:!0})}},49257:function(e,t,n){"use strict";n.d(t,{ON:function(){return b.ON},RH:function(){return b.RH},hE:function(){return y},WB:function(){return v},Uk:function(){return m},$m:function(){return b.$m},r5:function(){return b.r5},oe:function(){return _.oe},j0:function(){return b.j0},e6:function(){return b.e6},Yy:function(){return b.Yy},wu:function(){return w.wu},Ec:function(){return b.Ec},T8:function(){return b.T8},yi:function(){return w.yi},FU:function(){return w.FU},t9:function(){return b.t9},zm:function(){return b.zm},um:function(){return _.um},if:function(){return b.if},RF:function(){return b.RF},Xf:function(){return b.Xf},hZ:function(){return b.hZ},O6:function(){return b.O6},eD:function(){return b.eD},lw:function(){return b.lw},RX:function(){return b.RX},QT:function(){return b.QT},IL:function(){return b.W4},b9:function(){return b.b9},O4:function(){return b.O4},eM:function(){return B.e},EG:function(){return x.E},$c:function(){return b.$c},DA:function(){return b.DA},Zp:function(){return C},As:function(){return b.As},Ft:function(){return b.Ft},qi:function(){return b.qi},Hi:function(){return b.Hi},Wn:function(){return b.Wn},Eo:function(){return b.Eo},YV:function(){return E.YV},Ke:function(){return b.Ke},jE:function(){return B.j},$h:function(){return b.$h}});var r=n(70865),i=n(52322),o=n(2784),a=n(28316),s=n(17620),l=n.n(s),u=n(3635),c=n(20954),A=n(39274),d=n(87394),h=function(e,t,n){var r=Object.entries(n).sort(function(e,t){var n=(0,d.Z)(e,2)[1],r=(0,d.Z)(t,2)[1];return n.position.top-r.position.top}),i=t;n[e]||(n[e]={position:i});var o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=(0,d.Z)(l.value,2),A=c[0],f=c[1];if(A!==e){var p=f.position,g=f.originalPosition;if(30>Math.abs(p.top-i.top)){var m,v,y,b,w,_,E=null!=(y=null==g?void 0:g.top)?y:p.top,C=null!=(b=null==(m=n[e])||null==(v=m.originalPosition)?void 0:v.top)?b:i.top;if(E<=C)i={top:p.top+30},n[e]={position:i,originalPosition:null!=(_=null==(w=n[e])?void 0:w.originalPosition)?_:t};else{n[A]={position:{top:i.top+30},originalPosition:null!=g?g:p},h(A,n[A].position,n);break}}}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return n},f=n(83030),p=n.n(f),g=(0,o.createContext)(void 0),m=function(e){var t=e.children,n=(0,o.useState)(null),a=n[0],s=n[1],u=(0,o.useState)(null),c=u[0],d=u[1],f=(0,o.useState)({}),p=f[0],m=f[1],v=(0,o.useState)(0),y=v[0],b=v[1];(0,o.useEffect)(function(){var e=(0,A.H$)("left"),t=(0,A.H$)("right");s(e),d(t),e&&t||requestAnimationFrame(function(){return b(y+1)})},[y]);var w=(0,o.useCallback)(function(e,t){m(function(n){return h(e,t,(0,r.Z)({},n))})},[]),_=(0,o.useCallback)(function(e){m(function(t){return l()(t,[e])})},[]),E=(0,o.useMemo)(function(){var e=new Set;return{add:function(t){return e.add(t),!0},delete:function(t){return e.delete(t),!0},has:function(t){return e.has(t)},registerPosition:w,deregisterPosition:_,positionsById:p,leftContainer:a,rightContainer:c}},[w,_,p,a,c]);return(0,i.jsx)(g.Provider,{value:E,children:t})},v=function(e){var t,n=e.side,r=e.id,s=e.target,l=e.alignment,c=void 0===l?"top":l,d=e.editor,h=e.children,f=(0,A.fH)(d,[s],c),m=(0,o.useContext)(g),v=(0,o.useRef)(!1),y=(0,o.useMemo)(function(){var e;return f?null==(e=A.Eu[c])?void 0:e.call(A.Eu,f):null},[f,c]);(0,o.useEffect)(function(){if(y&&(null==m?void 0:m.registerPosition)&&r&&v.current)return m.registerPosition(r,y),function(){m.deregisterPosition(r)}},[y,null==m?void 0:m.registerPosition,null==m?void 0:m.deregisterPosition,r]),(0,o.useEffect)(function(){if(!r||!m){v.current=!0;return}if(v.current=!m.has(r),v.current)return m.add(r),function(){m.delete(r)}},[r,m]);var b="left"===n?null==m?void 0:m.leftContainer:null==m?void 0:m.rightContainer,w=r&&m?null==(t=m.positionsById[r])?void 0:t.position:null;return v.current&&m&&b&&w?a.createPortal((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{id:r,style:w,className:(0,u.Z)(p().sideMenuChild,r?p()[r]:void 0),children:h})}),b):null},y=function(e){var t=e.editor,n=(0,A.kI)(t),r=(0,c.H)(n);return r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{id:A.tM,className:p().sideMenuContainer,style:{left:r.left,transform:"translateX(-100%)"}}),(0,i.jsx)("div",{id:A.wL,className:p().sideMenuContainer,style:{left:r.right}})]}):null},b=n(70492);n(32021);var w=n(53942),_=n(3220);n(93707),n(28378);var E=n(69992);function C(e){return{name:"remote-render",formats:{remoteSelection:{component:e.component}}}}var B=n(27688),x=n(76592)},97725:function(e,t,n){"use strict";n.d(t,{N:function(){return m},O:function(){return v}});var r=n(50930),i=n(1899),o=n(2784),a=n(12995),s=n(60770),l=n(90581),u=n(6901),c=["shortKey","ctrlKey","shiftKey","altKey"],A=function(e){!0===e.shortKey&&(u.Um?e.metaKey=!0:e.ctrlKey=!0)},d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,l.Z)(this,e),this._bindings=[],t.forEach(A),this._bindings=t}var t=e.prototype;return t.registerBindings=function(e){var t;e.forEach(A),(t=this._bindings).push.apply(t,(0,r.Z)(e))},t.unRegisterBinding=function(e){this._bindings=this._bindings.filter(function(t){return t!==e})},t.registerKeyDown=function(e){this._lastKeyDown=e},t.getMatchingBindings=function(){var e=this._lastKeyDown;return e?(this._lastKeyDown=void 0,this._bindings.filter(function(t){var n,r,i;return n=e,r=t,i={shortKey:u.Um?"metaKey":"ctrlKey",altKey:"altKey",ctrlKey:"ctrlKey",shiftKey:"shiftKey"},!!c.every(function(e){var t=r[e],o=i[e];return null===t||!!t===n[o]})&&("key"in t?String(t.key).toLowerCase()===e.key.toLowerCase():String(t.code).toLowerCase()===e.code.toLowerCase())})):[]},e}(),h=n(76592),f="true"===n(34406).env.STORYBOOK,p=new WeakMap,g=[{name:"inline-void-arrow-down",key:"ArrowDown",handler:function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=a.NB.parent(e,e.selection.anchor.path);t&&a.ML.isInline(e,t)&&a.ML.isVoid(e,t)&&a.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-arrow-up",key:"ArrowUp",handler:function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=a.NB.parent(e,e.selection.anchor.path);t&&a.ML.isInline(e,t)&&a.ML.isVoid(e,t)&&a.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-ctrl-arrow-left",key:"ArrowLeft",shortKey:!0,handler:function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=a.NB.parent(e,e.selection.anchor.path);t&&a.ML.isInline(e,t)&&a.ML.isVoid(e,t)&&a.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-ctrl-arrow-right",key:"ArrowRight",shortKey:!0,handler:function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=a.NB.parent(e,e.selection.anchor.path);t&&a.ML.isInline(e,t)&&a.ML.isVoid(e,t)&&a.YR.move(e,{unit:"character"})}}}];function m(e,t){var n,o,a=(n=t.flatMap(function(e){return null!=(o=e.keyBindings)?o:[]})).concat.apply(n,(0,r.Z)(g)),s=new d;return p.set(e,s),s.registerBindings(a),function(n){s.registerKeyDown(n);var r=s.getMatchingBindings(),o=!0,a=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var A=function(){var r=u.value;try{var i,o=r.handler(e,t,n);if(!0===o)return n.stopPropagation(),n.preventDefault(),r.logEvent&&(null==(i=e.eventLogger)||i.call(e,"keyboard_shortcut",{shortcut:r.name})),{v:!0}}catch(n){if("function"==typeof e.handleError){var a,s=t.find(function(e){var t;return null==(t=e.keyBindings)?void 0:t.includes(r)});e.handleError((0,h.E)(n,"UserAction",{method:r.name,plugin:null!=(a=null==s?void 0:s.name)?a:"Unknown"}))}}}();if("object"===(0,i.Z)(A))return A.v}}catch(e){a=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}}}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(f?function(){return null}:s._7)();(0,o.useEffect)(function(){if(n&&e){var t=p.get(n);if(t)return t.registerBindings([e]),function(){return t.unRegisterBinding(e)}}},[n].concat((0,r.Z)(t)))}},53942:function(e,t,n){"use strict";n.d(t,{$C:function(){return x},FU:function(){return f},MO:function(){return y},Qs:function(){return I},XU:function(){return p},YI:function(){return T},_p:function(){return C},bX:function(){return g},gb:function(){return B},iF:function(){return E},kA:function(){return S},nc:function(){return w},qQ:function(){return _},ss:function(){return m},wu:function(){return b},yi:function(){return v}});var r,i=n(70865),o=n(96670),a=n(26297),s=n(87394),l=n(50930),u=n(9850),c=n.n(u),A=n(61726),d=n.n(A),h=n(12995);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.at,i=void 0===n?e.selection:n;if(!i||h.e6.isRange(i)&&!h.e6.isCollapsed(i))return!1;var o=h.ML.path(e,i),a=t.blockPath;if(!a){var u=h.ML.above(e,{match:function(t){return h.ML.isBlock(e,t)},mode:"lowest",at:o});if(!u)return!1;a=u[1]}if(!h.y$.isAncestor(a,o))return!1;var c=h.y$.relative(o,a),A=(0,l.Z)(a),d=h.NB.get(e,a),f=!0,p=!1,g=void 0;try{for(var m,v=c[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var y=m.value;if(d=d.children[y],A.push(y),0!==y){if(1===y&&h.ML.isInline(e,d)){var b=h.NB.get(e,h.y$.previous(A));if(""===h.NB.string(b))continue}return!1}}}catch(e){p=!0,g=e}finally{try{f||null==v.return||v.return()}finally{if(p)throw g}}return!t.includeOffset||0===function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==(r=e.selection)?void 0:r.anchor;if(!n)throw Error("No point provided and editor has no selection");if(!h.y$.isAncestor(t,n.path))throw Error("Point is not inside of container path");var i=0,o=!0,a=!1,l=void 0;try{for(var u,c=h.NB.texts(e,{from:t,to:n.path})[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var A=(0,s.Z)(u.value,2),d=A[0],f=A[1];if(h.y$.equals(f,n.path)){i+=n.offset;break}i+=d.text.length}}catch(e){a=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return i}(e,a,h.e6.isRange(i)?h.e6.start(i):i)}function p(e,t){var n=h.ML.above(e,{mode:"lowest",at:t,match:function(t,n){return e.isContainerBlock(t)||0===n.length}});return h.y$.isParent(n[1],t)}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,i=void 0===r?e.selection:r;if(!i||h.e6.isRange(i)&&!h.e6.isCollapsed(i))return!1;var o=h.E9.isPoint(i)?i:h.e6.end(i),a=h.ML.above(e,{at:o,match:t});return!!a&&h.E9.equals(o,h.ML.end(e,a[1]))}function m(e,t){return g(e,function(t){return"type"in t&&e.isInline(t)},t)}function v(e,t){return g(e,function(t){return"type"in t&&!e.isInline(t)},t)}function y(e,t,n){var r=(null==n?void 0:n.path)||(null==(u=e.selection)?void 0:u.anchor.path);if(r){var i=Array.isArray(t),o=!0,a=!1,l=void 0;try{for(var u,c,A=h.NB.levels(e,r,{reverse:!0})[Symbol.iterator]();!(o=(c=A.next()).done);o=!0){var d=(0,s.Z)(c.value,2),f=d[0],p=d[1];if("type"in f&&(f.type===t||i&&t.includes(f.type)))return[f,p]}}catch(e){a=!0,l=e}finally{try{o||null==A.return||A.return()}finally{if(a)throw l}}}}function b(e,t){var n=t.at,r=void 0===n?e.selection:n,i=t.mode,o=(0,a.Z)(t,["at","mode"]);if(r)return h.ML.above(e,{at:r,match:function(e){return d()(e,o)},mode:void 0===i?"lowest":i})}function w(e,t,n){var r=!0,i=!1,o=void 0;try{for(var a,l=h.NB.ancestors(e,n)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,c=(0,s.Z)(u,1)[0];if("type"in c&&t===c.type)return u}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}function _(e,t,n){if(1===t.children.length)return n;var r=[],i=0,o=!0,a=!1,u=void 0;try{for(var A,d=h.NB.descendants(t)[Symbol.iterator]();!(o=(A=d.next()).done);o=!0){var f=(0,s.Z)(A.value,2),p=f[0],g=f[1];h.xv.isText(p)&&(r.push({start:i,end:i+p.text.length,path:(0,l.Z)(e).concat((0,l.Z)(g))}),i+=p.text.length)}}catch(e){a=!0,u=e}finally{try{o||null==d.return||d.return()}finally{if(a)throw u}}var m=[],v=!0,y=!1,b=void 0;try{for(var w,_=n[Symbol.iterator]();!(v=(w=_.next()).done);v=!0){var E=w.value,C=!0,B=!1,x=void 0;try{for(var I,T=r[Symbol.iterator]();!(C=(I=T.next()).done);C=!0){var S=I.value;if(!(E.anchor.offset>S.end)){var k=c()(E);if(m.push(k),k.anchor.path=S.path,k.focus.path=S.path,E.anchor.offset<S.end&&(k.anchor.offset=Math.max(0,k.anchor.offset-S.start)),E.focus.offset<S.end){k.focus.offset=E.focus.offset-S.start;break}k.focus.offset=S.end-S.start}}}catch(e){B=!0,x=e}finally{try{C||null==T.return||T.return()}finally{if(B)throw x}}}}catch(e){y=!0,b=e}finally{try{v||null==_.return||_.return()}finally{if(y)throw b}}return m}function E(e,t){for(var n=0;n<Math.min(e.length,t.length);n++){var r=e[n],i=t[n];if(r!==i)return{level:n,distance:i-r}}}function C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.matchArgs,s=r.retainLevel,l="up"===n?h.ML.before(e,t,{unit:"block"}):h.ML.after(e,t,{unit:"block"});if(l){var u=l.path,c=function(){if(u&&a){var t=b(e,(0,o.Z)((0,i.Z)({},a),{at:u}));if(!t){u=void 0;return}u=u.slice(0,t[1].length+1)}};if(c(),s){for(;u&&u.length>t.length;)u=u.slice(0,u.length-1),c();if(!u||u.length!==t.length)return}return u}}function B(e,t,n){var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i="down"===n?h.y$.next(t):h.y$.hasPrevious(t)?h.y$.previous(t):void 0;return r?i&&h.NB.has(e,i)?i:void 0:i}function x(e,t,n){if("down"===n){var r=h.y$.next(t);if(h.NB.has(e,r))return r;var i=h.ML.after(e,t,{unit:"block"});return i?i.path.slice(0,t.length):void 0}if("up"===n){var o=h.y$.hasPrevious(t)&&h.y$.previous(t);if(o)return o;var a=h.ML.before(e,t,{unit:"block"});return a?a.path.slice(0,t.length):void 0}}function I(e,t,n){var r=(0,s.Z)(h.e6.edges(t),2),o=r[0],a=r[1],l=!1,u=!1,c=!0,A=!1,d=void 0;try{for(var f,p=h.NB.texts(e,{from:o.path,to:a.path})[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var g=(0,s.Z)(f.value,2),m=g[0],v=g[1],y=b(e,(0,i.Z)({at:v},n));if(y&&u)return!0;if(y){l=!0;continue}if(0!==m.text.trim().length){if(!y&&l)return!0;else if(!y){u=!0;continue}}}}catch(e){A=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(A)throw d}}return!1}function T(e){return h.ML.above(e,{match:function(t){return h.ML.isBlock(e,t)},mode:"lowest"})}function S(e,t){if(!(t.length>1)){var n=!0,r=!1,i=void 0;try{for(var o,a,l=h.NB.nodes(t[0])[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=(0,s.Z)(a.value,1)[0];if(!e.isContainerBlock(u)&&h.ML.isBlock(e,u)){if(o)return;o=u}}}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return o}}},56704:function(e,t,n){"use strict";n.d(t,{B9:function(){return i},lC:function(){return o},oT:function(){return s},x0:function(){return a}});var r=n(87394);function i(e,t){var n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.elements){var u=!0,c=!1,A=void 0;try{for(var d,h=Object.entries(l.elements)[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var f=(0,r.Z)(d.value,2),p=f[0],g=f[1];g&&t(p,g)}}catch(e){c=!0,A=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw A}}}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}function o(e,t){var n=[],r={};return i(e,function(e,i){var o=t(i);"string"==typeof o?(null==r[o]&&(r[o]=[]),r[o].push(e)):!0===o&&n.push(e)}),Object.keys(r).length?r:n}function a(e,t){var n={};return i(e,function(e,r){var i=null==r?void 0:r[t];null!=i&&(n[e]=i)}),n}var s=function(e){var t=["application/x-slate-fragment"];return void 0!==e.types.find(function(e){return t.includes(e)})}},78382:function(e,t,n){"use strict";n.d(t,{BI:function(){return f},IP:function(){return p},VS:function(){return h},ZB:function(){return m},gm:function(){return v},lM:function(){return g}});var r=n(70865),i=n(96670),o=n(87394),a=n(37164),s=n(20672),l=n(12995),u=n(37578),c=n(58490),A=n(87739),d=n(3220),h=function(e,t){if(!e.selection)return null;var n,r,i,o=t.find(function(e){return"aiOutline"===e.name}),s=null!=(i=null==o||null==(n=o.conversionRules)||null==(r=n.aiOutline)?void 0:r.disallowedTypes)?i:[];if(!(0,c.ZA)(e,{match:function(e){return(0,A.yy)(e,s)}}).length)return null;var u=l.ML.above(e,{match:function(t){return e.isContainerBlock(t)}}),d=u?u[1]:[],h=l.ML.path(e,l.e6.end(e.selection)).slice(0,d.length+1),f=l.y$.next(h),p={type:"aiOutline",id:(0,a.x0)(),children:[{text:""}]},g=""===l.NB.string(l.NB.get(e,h));return l.ML.withoutNormalizing(e,function(){l.YR.insertNodes(e,p,{at:f}),g&&l.YR.removeNodes(e,{at:h})}),p},f=function(e,t){var n=(0,d.nv)(e,t);n&&l.YR.removeNodes(e,{at:n[1]})},p=function(e,t){var n=(0,d.nv)(e,t);if(n){var r=(0,o.Z)(n,2),i=r[0],a=r[1],s=l.y$.next(a),c=e.fromHtml((0,u.e)(i.outline||""));l.YR.insertNodes(e,c,{at:s}),f(e,t)}},g=function(e,t,n){var a=(0,d.nv)(e,t);if(a){var u=(0,o.Z)(a,2),c=u[0],A=u[1];s.MO.withoutSaving(e,function(){return l.YR.setNodes(e,(0,i.Z)((0,r.Z)({},n.outline?{outline:n.outline}:{},n.questions?{questions:n.questions}:{}),{documentData:(0,r.Z)({},c.documentData,n.documentData)}),{at:A})})}},m=function(e,t,n){var r=(0,d.nv)(e,t);if(r){var i=(0,o.Z)(r,2),a=i[0],u=i[1];s.MO.withoutSaving(e,function(){return l.YR.setNodes(e,{outline:"".concat(a.outline||"").concat(n)},{at:u})})}},v=function(e,t){var n=(0,d.nv)(e,t);if(n){var r=(0,o.Z)(n,2)[1];s.MO.withoutSaving(e,function(){return l.YR.setNodes(e,{outline:""},{at:r})})}}},32265:function(e,t,n){"use strict";n.d(t,{Bh:function(){return p},Dl:function(){return g},On:function(){return d},Vj:function(){return m},_F:function(){return h},ew:function(){return f}});var r=n(47842),i=n(70865),o=n(96670),a=n(18149),s=n.n(a),l=n(37164),u=n(12995),c=n(53942),A={};function d(){var e=[];return Object.keys(A).forEach(function(t){var n=A[t],a=n.range,s=n.type;e.push((0,o.Z)((0,i.Z)({},a),(0,r.Z)({id:t},"annotationPending.".concat(s),!0)))}),e}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,i=void 0===r?e.selection:r,o=n.collapse;if(!i)return!1;if(A[(0,l.x0)()]={range:i,type:t},o){var a=u.e6.start(i);u.YR.setSelection(e,{anchor:a,focus:a})}else e.forceRerender();return!0}function f(e,t){delete A[t],e.forceRerender()}function p(e,t,n){if(!A[t])return!1;var r=A[t],i=r.range,o=r.type;delete A[t],u.YR.wrapNodes(e,{type:o,annotation:!0,data:n,children:[]},{at:i,match:u.xv.isText,split:!0,mode:"lowest"})}function g(e,t){u.YR.unwrapNodes(e,{at:[],match:function(e,n){return u.W_.isElement(e)&&"annotation"in e&&e.annotation&&t(e,n)}})}function m(e){var t=e.operations;(null==t?void 0:t.length)&&Object.keys(A).forEach(function(e){var n=function(e,t){var n=e.anchor,r=e.focus,i=(0,c.iF)(n.path,r.path),o=!0,a=!1,l=void 0;try{for(var A,d=t[Symbol.iterator]();!(o=(A=d.next()).done);o=!0){var h=A.value;if("set_selection"!==h.type){var f=u.E9.transform(n,h),p=u.E9.transform(r,h);if(!f||!p)return;var g=(0,c.iF)(f.path,p.path);if(!s()(i,g))return;n=f,r=p}}}catch(e){a=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(a)throw l}}return{anchor:n,focus:r}}(A[e].range,t);n?A[e].range=n:delete A[e]})}},46130:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(2784),i=n(12995),o=n(60770),a=n(51716),s=n(27196),l=n(8875),u=function(e,t,n){i.ML.withoutNormalizing(e,function(){i.YR.setNodes(e,t,{at:n,mode:"highest"}),i.YR.removeNodes(e,{at:n,match:function(e){return i.xv.isText(e)}}),i.YR.move(e,{distance:2,unit:"character"}),i.YR.collapse(e,{edge:"end"})})};function c(e){var t=(0,o._7)(),n=(0,o.vt)(),c=(0,a.Z)(),A=(0,r.useCallback)(function(n){var r,i=o.F3.findPath(t,e);u(t,n,i),null==(r=t.eventLogger)||r.call(t,"mention_create",n)},[t,e]),d=i.NB.string(e),h=(0,r.useCallback)(function(){var n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1==!!(null==(n=e.mentionData)?void 0:n.userId)){var a=function(){var n=o.F3.findPath(t,e);i.NB.has(t,n)&&i.YR.unwrapNodes(t,{at:n})};r?(l.$.withMerging(t,a),t.sealHistoryEntry()):a()}},[t,e]),f=(0,r.useCallback)(function(e){0===e&&" "===d[d.length-1]&&h(!0)},[h,d]),p=(0,s.D9)(n);(0,r.useEffect)(function(){!1===n&&!0===p&&h()},[n,p,h]);var g=(0,r.useCallback)(function(){try{return o.F3.toDOMNode(t,e).getBoundingClientRect()}catch(e){}},[t,e]);return(0,r.useLayoutEffect)(function(){n&&c()},[c,n]),{isSelected:n,updateMention:A,unwrapMention:h,text:d,getBounds:g,checkIfMentionDone:f}}},2012:function(e,t,n){"use strict";n.d(t,{SQ:function(){return o},lw:function(){return d}});var r=n(12995),i=n(3220);function o(e){return!!e&&"mention"===e.type}var a=/(?:\s|\(|^)@(?:\s|\)|\.|\,|\!|\?|$)/,s=["paragraph","div","blockquote","header"],l=function(e,t){var n=t.leafNode,l=t.insertedText;if(!e.selection)return!1;if(" "===l){var u=r.ML.above(e,{match:function(e){return o(e)}});u&&"@ "===n.text&&r.YR.unwrapNodes(e,{at:u[1]})}if("@"===l){if(!a.exec(n.text))return!1;var c,A=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)}});if(A&&"type"in A[0]&&!s.includes(A[0].type))return!1;var d=e.selection,h=d.anchor,f=d.focus;return e.sealHistoryEntry(),r.YR.select(e,{focus:r.ML.before(e,f),anchor:h}),(0,i.Yl)(e,{type:"mention"}),r.YR.setSelection(e,{focus:e.selection.anchor}),e.sealHistoryEntry(),null==(c=e.eventLogger)||c.call(e,"auto_format",{type:"mention"}),!0}return!1},u=n(70865),c=n(96670),A=n(46807);function d(e){return{name:"at-mention",elements:{mention:{inline:!0,isVoid:function(e,t){return!!t.mentionType},component:e.mentionComponent,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph"}},textInputHandlers:[l],toMarkdown:{byElementType:{mention:function(e){var t,n=null==(t=e.element.mentionData)?void 0:t.email;return(0,A.H4)((0,c.Z)((0,u.Z)({},e),{childrenMarkdownPosition:"before",markdown:n||""}))}}}}}},26141:function(e,t,n){"use strict";n.d(t,{S:function(){return u},R:function(){return c}});var r=n(12995),i=n(70865),o=n(96670),a=n(46807),s=n(3220),l=n(93707);function u(e){return r.W_.isElement(e)&&"blockquote"===e.type}var c=function(e){return{name:"block-quote",elements:{blockquote:{component:e.blockquoteComponent,enterBehavior:"create-paragraph",softBreakBehavior:"soft-break"}},textInputHandlers:[(0,l.dC)({str:"> ",matchMode:"start",element:"blockquote"})],keyBindings:[{altKey:!0,key:"ArrowDown",name:"move-blockquote-down",handler:function(e){return(0,s.m_)(e,"down",{type:"blockquote"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-blockquote-up",handler:function(e){return(0,s.m_)(e,"up",{type:"blockquote"})},logEvent:!0}],fromHtml:{byTag:{BLOCKQUOTE:"blockquote"}},toMarkdown:{byElementType:{blockquote:function(e){return(0,a.H4)((0,o.Z)((0,i.Z)({},e),{markdown:["> ","\n\n"],childrenMarkdownPosition:"between"}))}}},conversionRules:{blockquote:{disallowedTypes:["image","youTubePlayer","block-link"]}}}}},69803:function(e,t,n){"use strict";n.d(t,{Dj:function(){return R},AO:function(){return U},Qw:function(){return L},ZP:function(){return V}});var r=n(2947),i="[0-9](_*[0-9])*",o=`\\.(${i})`,a="[0-9a-fA-F](_*[0-9a-fA-F])*",s={className:"number",variants:[{begin:`(\\b(${i})((${o})|\\.)?|(${o}))[eE][+-]?(${i})[fFdD]?\\b`},{begin:`\\b(${i})((${o})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${o})[fFdD]?\\b`},{begin:`\\b(${i})[fFdD]\\b`},{begin:`\\b0[xX]((${a})\\.?|(${a})?\\.(${a}))[pP][+-]?(${i})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${a})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};let l="[A-Za-z$_][0-9A-Za-z$_]*",u=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],c=["true","false","null","undefined","NaN","Infinity"],A=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],d=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],h=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],f=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],p=[].concat(h,A,d);var g="[0-9](_*[0-9])*",m=`\\.(${g})`,v="[0-9a-fA-F](_*[0-9a-fA-F])*",y={className:"number",variants:[{begin:`(\\b(${g})((${m})|\\.)?|(${m}))[eE][+-]?(${g})[fFdD]?\\b`},{begin:`\\b(${g})((${m})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${m})[fFdD]?\\b`},{begin:`\\b(${g})[fFdD]\\b`},{begin:`\\b0[xX]((${v})\\.?|(${v})?\\.(${v}))[pP][+-]?(${g})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${v})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};let b="[A-Za-z$_][0-9A-Za-z$_]*",w=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],_=["true","false","null","undefined","NaN","Infinity"],E=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],C=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],B=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],x=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],I=[].concat(B,E,C);var T=n(50930),S=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],k=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],N=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],D=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],O=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();N.concat(D);var R="auto-detect",F={json:function(e){let t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}},yaml:function(e){let t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},i=e.inherit(r,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),o={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},a=[{className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},{className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},{begin:/\{/,end:/\}/,contains:[o],illegal:"\\n",relevance:0},{begin:"\\[",end:"\\]",contains:[o],illegal:"\\n",relevance:0},{className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},r],s=[...a];return s.pop(),s.push(i),o.contains=s,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:a}},typescript:function(e){var t;let n,r,i,o,a,s,l,u,c,A,d,h,f,p,g,m,v,y,T,S,k,N,D,O,R,F=e.regex,L=(n=e.regex,r=/<[A-Za-z0-9\\._:-]+/,i=/\/[A-Za-z0-9\\._:-]+>|\/>/,o=(e,t)=>{let n,r=e[0].length+e.index,i=e.input[r];if("<"===i||","===i)return void t.ignoreMatch();">"!==i||((e,{after:t})=>{let n="</"+e[0].slice(1);return -1!==e.input.indexOf(n,t)})(e,{after:r})||t.ignoreMatch();let o=e.input.substring(r);if((n=o.match(/^\s*=/))||(n=o.match(/^\s+extends\s+/))&&0===n.index)return void t.ignoreMatch()},a={$pattern:b,keyword:w,literal:_,built_in:I,"variable.language":x},s="[0-9](_?[0-9])*",l=`\\.(${s})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",c={className:"number",variants:[{begin:`(\\b(${u})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${u})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},A={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},d={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,A],subLanguage:"xml"}},h={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,A],subLanguage:"css"}},f={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,A],subLanguage:"graphql"}},p={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,A]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:b+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},A.contains=(m=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,h,f,p,{match:/\$\d+/},c]).concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(m)}),y=(v=[].concat(g,A.contains)).concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(v)}]),T={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:y},S={variants:[{match:[/class/,/\s+/,b,/\s+/,/extends/,/\s+/,n.concat(b,"(",n.concat(/\./,b),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,b],scope:{1:"keyword",3:"title.class"}}]},k={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...E,...C]}},N={match:n.concat(/\b/,(t=[...B,"super","import"].map(e=>`${e}\\s*\\(`),n.concat("(?!",t.join("|"),")")),b,n.lookahead(/\s*\(/)),className:"title.function",relevance:0},D={begin:n.concat(/\./,n.lookahead(n.concat(b,/(?![0-9A-Za-z$_(])/))),end:b,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,b,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(O)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[T]},{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:y,CLASS_REFERENCE:k},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,h,f,p,g,{match:/\$\d+/},c,k,{scope:"attr",match:b+n.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:y}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:r,"on:begin":o,end:i}],subLanguage:"xml",contains:[{begin:r,end:i,skip:!0,contains:["self"]}]}]},{variants:[{match:[/function/,/\s+/,b,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[T],illegal:/%/},{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[T,e.inherit(e.TITLE_MODE,{begin:b,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+b,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[T]},N,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},S,{match:[/get|set/,/\s+/,b,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},T]},{match:/\$[(.]/}]}),U=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],P={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},M={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:U},contains:[L.exports.CLASS_REFERENCE]},j={$pattern:b,keyword:w.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:_,built_in:I.concat(U),"variable.language":x},Z={className:"meta",begin:"@"+b},Q=(e,t,n)=>{let r=e.contains.findIndex(e=>e.label===t);if(-1===r)throw Error("can not find mode to replace");e.contains.splice(r,1,n)};Object.assign(L.keywords,j),L.exports.PARAMS_CONTAINS.push(Z);let H=L.contains.find(e=>"attr"===e.scope),V=Object.assign({},H,{match:F.concat(b,F.lookahead(/\s*\?:/))});return L.exports.PARAMS_CONTAINS.push([L.exports.CLASS_REFERENCE,H,V]),L.contains=L.contains.concat([Z,P,M,V]),Q(L,"shebang",e.SHEBANG()),Q(L,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),L.contains.find(e=>"func.def"===e.label).relevance=0,Object.assign(L,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),L},javascript:function(e){var t;let n=e.regex,r=/<[A-Za-z0-9\\._:-]+/,i=/\/[A-Za-z0-9\\._:-]+>|\/>/,o={$pattern:l,keyword:u,literal:c,built_in:p,"variable.language":f},a="[0-9](_?[0-9])*",s=`\\.(${a})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",m={className:"number",variants:[{begin:`(\\b(${g})((${s})|\\.)?|(${s}))[eE][+-]?(${a})\\b`},{begin:`\\b(${g})\\b((${s})\\b|\\.)?|(${s})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},v={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},y={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"xml"}},b={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"css"}},w={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,v],subLanguage:"graphql"}},_={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,v]},E={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:l+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},C=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,y,b,w,_,{match:/\$\d+/},m];v.contains=C.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(C)});let B=[].concat(E,v.contains),x=B.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(B)}]),I={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:x},T={variants:[{match:[/class/,/\s+/,l,/\s+/,/extends/,/\s+/,n.concat(l,"(",n.concat(/\./,l),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,l],scope:{1:"keyword",3:"title.class"}}]},S={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...A,...d]}},k={match:n.concat(/\b/,(t=[...h,"super","import"].map(e=>`${e}\\s*\\(`),n.concat("(?!",t.join("|"),")")),l,n.lookahead(/\s*\(/)),className:"title.function",relevance:0},N={begin:n.concat(/\./,n.lookahead(n.concat(l,/(?![0-9A-Za-z$_(])/))),end:l,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},D="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",O={match:[/const|var|let/,/\s+/,l,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(D)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[I]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:S},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,y,b,w,_,E,{match:/\$\d+/},m,S,{scope:"attr",match:l+n.lookahead(":"),relevance:0},O,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[E,e.REGEXP_MODE,{className:"function",begin:D,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:r,"on:begin":(e,t)=>{let n,r=e[0].length+e.index,i=e.input[r];if("<"===i||","===i)return void t.ignoreMatch();">"!==i||((e,{after:t})=>{let n="</"+e[0].slice(1);return -1!==e.input.indexOf(n,t)})(e,{after:r})||t.ignoreMatch();let o=e.input.substring(r);if((n=o.match(/^\s*=/))||(n=o.match(/^\s+extends\s+/))&&0===n.index)return void t.ignoreMatch()},end:i}],subLanguage:"xml",contains:[{begin:r,end:i,skip:!0,contains:["self"]}]}]},{variants:[{match:[/function/,/\s+/,l,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[I],illegal:/%/},{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[I,e.inherit(e.TITLE_MODE,{begin:l,className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+l,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[I]},k,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},T,{match:[/get|set/,/\s+/,l,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},I]},{match:/\$[(.]/}]}},markdown:function(e){var t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:1},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z\d+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:1}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:1,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:1,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:1,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},i={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/,relevance:1},{begin:/\*{2}(?!\s)/,end:/\*{2}/,relevance:1}]},o={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/,relevance:1},{begin:/_(?![_\s])/,end:/_/,relevance:1}]},a=e.inherit(i,{contains:[]}),s=e.inherit(o,{contains:[]});i.contains.push(s),o.contains.push(a);var l=[n,r];return[i,o,a,s].forEach(function(e){e.contains=e.contains.concat(l)}),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{match:/^[A-Za-z\d][^+=<>{};:|\n]+[.?!]$/,relevance:10},{className:"section",variants:[{begin:"^# ",end:"$",contains:l=l.concat(i,o),relevance:2},{begin:"^## ",end:"$",contains:l,relevance:4},{begin:"^#{3,6} ",end:"$",contains:l,relevance:8},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:l}]}]},n,{className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0,relevance:4},i,o,{className:"quote",begin:"^>\\s+",contains:l,end:"$",relevance:1},{className:"code",variants:[{begin:"```[a-z0-9]*",end:"```+[ ]*$",excludeBegin:!0,excludeEnd:!0,subLanguage:[],relevance:2},{begin:"~~~[a-z0-9]*",end:"~~~+[ ]*$",excludeBegin:!0,excludeEnd:!0,subLanguage:[],relevance:2},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:1}]},{begin:"^[-\\*]{3,}",end:"$",relevance:1},r,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}},python:function(e){let t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},a={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},s={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o,s,a]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,a]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},u="[0-9](_?[0-9])*",c=`(\\b(${u}))?\\.(${u})|\\b(${u})\\.`,A=`\\b|${r.join("|")}`,d={className:"number",relevance:0,variants:[{begin:`(\\b(${u})|(${c}))[eE][+-]?(${u})[jJ]?(?=${A})`},{begin:`(${c})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${A})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${A})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${A})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${A})`},{begin:`\\b(${u})[jJ](?=${A})`}]},h={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},f={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",o,d,l,e.HASH_COMMENT_MODE]}]};return a.contains=[l,d,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|\?)|=>/,contains:[o,d,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},l,h,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[f]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[d,f,l]}]}},java:function(e){let t=e.regex,n="[\xc0-a-zA-Z_$][\xc0-a-zA-Z_$0-9]*",r=n+function e(t,n,r){return -1===r?"":t.replace(n,i=>e(t,n,r-1))}("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},o={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},a={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[a,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,s,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},s,o]}},sql:function(e){let t=e.regex,n=e.COMMENT("--","$"),r=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],i=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(e=>!r.includes(e)),o={match:t.concat(/\b/,t.either(...r),/\s*\(/),relevance:0,keywords:{built_in:r}};function a(e){return t.concat(/\b/,t.either(...e.map(e=>e.replace(/\s+/,"\\s+"))),/\b/)}let s={scope:"keyword",match:a(["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"]),relevance:0};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){return t=t||[],e.map(e=>e.match(/\|\d+$/)||t.includes(e)?e:n(e)?`${e}|0`:e)}(i,{when:e=>e.length<3}),literal:["true","false","unknown"],type:["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{scope:"type",match:a(["double precision","large object","with timezone","without timezone"])},s,o,{scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},{scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},{begin:/"/,end:/"/,contains:[{match:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}},c:function(e){let t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},s={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(s,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},c={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},A=t.optional(i)+e.IDENT_RE+"\\s*\\(",d={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},h=[u,a,n,e.C_BLOCK_COMMENT_MODE,l,s],f={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:d,contains:h.concat([{begin:/\(/,end:/\)/,keywords:d,contains:h.concat(["self"]),relevance:0}]),relevance:0},p={begin:"("+o+"[\\*&\\s]+)+"+A,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:d,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:d,relevance:0},{begin:A,returnBegin:!0,contains:[e.inherit(c,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,s,l,a,{begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,s,l,a]}]},a,n,e.C_BLOCK_COMMENT_MODE,u]};return{name:"C",aliases:["h"],keywords:d,disableAutodetect:!0,illegal:"</",contains:[].concat(f,p,h,[u,{begin:e.IDENT_RE+"::",keywords:d},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:u,strings:s,keywords:d}}},csharp:function(e){let t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},o=e.inherit(i,{illegal:/\n/}),a={className:"subst",begin:/\{/,end:/\}/,keywords:t},s=e.inherit(a,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,s]},u={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]},c=e.inherit(u,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]});a.contains=[u,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.C_BLOCK_COMMENT_MODE],s.contains=[c,l,o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let A={variants:[{className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},u,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},d={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},h=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",f={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},A,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+h+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:"public private protected static internal protected abstract async extern override unsafe virtual new sealed partial",relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,d],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[A,r,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},f]}},css:function(e){var t=e.regex,n={IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[[a-zA-Z][a-zA-Z0-9-]*([~|^$*]?=.+)?\]/},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}},r=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+N.join("|")+")"},{begin:":(:)?("+D.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+O.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,illegal:/\n/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE].concat((0,T.Z)(r),[{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:(0,T.Z)(r).concat([{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}])},n.FUNCTION_DISPATCH])},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:k.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"}].concat((0,T.Z)(r),[n.CSS_NUMBER_MODE])}]},{className:"selector-tag",begin:"\\b("+S.join("|")+")\\b"}]}},xml:function(e){let t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(i,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,s,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,s,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}},bash:function(e){let t=e.regex,n={};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},{begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]}]});let r={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,r]};r.contains.push(a);let s={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},l=e.SHEBANG({binary:"(fish|bash|zsh|sh|csh|ksh|tcsh|dash|scsh)",relevance:10}),u={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[l,e.SHEBANG(),u,s,i,o,{match:/(\/[a-z._-]+)+/},a,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}},shell:function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}},php:function(e){let t,n=e.regex,r=/(?![A-Za-z0-9])(?![$])/,i=n.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,r),o=n.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,r),a=n.concat(/[A-Z]+/,r),s={scope:"variable",match:"\\$+"+i},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),c=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(l)}),A={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(e,t)=>{t.data._beginMatch=e[1]||e[2]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}},d=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),h="[ 	\n]",f={scope:"string",variants:[c,u,A,d]},p={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},g=["false","null","true"],m=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],v=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],y={keyword:m,literal:(t=[],g.forEach(e=>{t.push(e),e.toLowerCase()===e?t.push(e.toUpperCase()):t.push(e.toLowerCase())}),t),built_in:v},b=e=>e.map(e=>e.replace(/\|\d+$/,"")),w={variants:[{match:[/new/,n.concat(h,"+"),n.concat("(?!",b(v).join("\\b|"),"\\b)"),o],scope:{1:"keyword",4:"title.class"}}]},_=n.concat(i,"\\b(?!\\()"),E={variants:[{match:[n.concat(/::/,n.lookahead(/(?!class\b)/)),_],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[o,n.concat(/::/,n.lookahead(/(?!class\b)/)),_],scope:{1:"title.class",3:"variable.constant"}},{match:[o,n.concat("::",n.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[o,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},C={scope:"attr",match:n.concat(i,n.lookahead(":"),n.lookahead(/(?!::)/))},B={relevance:0,begin:/\(/,end:/\)/,keywords:y,contains:[C,s,E,e.C_BLOCK_COMMENT_MODE,f,p,w]},x={relevance:0,match:[/\b/,n.concat("(?!fn\\b|function\\b|",b(m).join("\\b|"),"|",b(v).join("\\b|"),"\\b)"),i,n.concat(h,"*"),n.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[B]};B.contains.push(x);let I=[C,E,e.C_BLOCK_COMMENT_MODE,f,p,w],T={begin:n.concat(/#\[\s*\\?/,n.either(o,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:g,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:g,keyword:["new","array"]},contains:["self",...I]},...I,{scope:"meta",variants:[{match:o},{match:a}]}]};return{case_insensitive:!1,keywords:y,contains:[T,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},s,x,E,{match:[/const/,/\s/,i],scope:{1:"keyword",3:"variable.constant"}},w,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:y,contains:["self",T,s,E,e.C_BLOCK_COMMENT_MODE,f,p]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},f,p]}},go:function(e){let t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}},kotlin:function(e){let t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},r={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,r]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,i,r]}]};r.contains.push(o);let a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},s={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},l=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),u={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]};return u.variants[1].contains=[u],u.variants[1].contains=[u],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,l,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n,a,s,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[u,e.C_LINE_COMMENT_MODE,l],relevance:0},e.C_LINE_COMMENT_MODE,l,a,s,o,e.C_NUMBER_MODE]},l]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,s]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},y]}},rust:function(e){let t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),o={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",s=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],l=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:l,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:s},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:s,type:l}},{className:"punctuation",begin:"->"},o]}},hcl:function(e){var t={className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},n={className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}",relevance:9,contains:[{className:"string",begin:'"',end:'"'},{className:"meta",begin:"[A-Za-z_0-9]*\\(",end:"\\)",contains:[t,{className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}",contains:[{className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}"}]},{className:"meta",begin:"[A-Za-z_0-9]*\\(",end:"\\)"}]}]},"self"]}]}]};return{aliases:["tf","hcl"],keywords:{keyword:"resource constiable provider output locals module data terraform|10",literal:"false true null"},contains:[e.COMMENT("\\#","$"),t,n]}}},L={"auto-detect":"Auto detect",json:"JSON",yaml:"YAML",typescript:"TypeScript",javascript:"JavaScript",markdown:"Markdown",python:"Python",java:"Java",sql:"SQL",c:"C",csharp:"C#",css:"CSS",xml:"HTML / XML",bash:"Bash",shell:"Shell",php:"PHP",go:"Go",kotlin:"Kotlin",rust:"Rust",hcl:"HCL"},U=Object.keys(F),P=!0,M=!1,j=void 0;try{for(var Z,Q=Object.entries(F)[Symbol.iterator]();!(P=(Z=Q.next()).done);P=!0){var H=Z.value;r.registerLanguage(H[0],H[1])}}catch(e){M=!0,j=e}finally{try{P||null==Q.return||Q.return()}finally{if(M)throw j}}var V=r},95181:function(e,t,n){"use strict";n.d(t,{zm:function(){return d.zm},mY:function(){return d.mY},QT:function(){return x}});var r=n(47842),i=n(70865),o=n(87394),a=n(50930),s=n(12995),l=n(93707),u=n(53942),c=n(96670),A=n(46807),d=n(59806),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{CODE:"code",PRE:function(t){var n,r,i,o,a=t.domNode,s=(null!=(o=null==(n=a.querySelector("code"))||null==(r=n.className)?void 0:r.split(" "))?o:[]).find(function(e){return e.startsWith("language-")});return s&&(i=s.replace("language-","")),(0,d.mj)(a.textContent||"",{language:i,isInTrapMode:e.isInTrapMode})}}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{byTag:(0,i.Z)({},{CODE:"code"},h(e)),customRules:[function(t){var n=t.domNode;if("pre"===n.style.whiteSpace)return(0,d.mj)(n.textContent||"",e)}]}},p=n(69803),g=function(e,t){return e.anchor.offset!==t.anchor.offset?e.anchor.offset-t.anchor.offset:e.focus.offset!==t.focus.offset?e.focus.offset-t.focus.offset:0};function m(e){var t,n=(0,o.Z)(e,2),r=n[0],i=n[1],l=s.NB.string(r);try{t=r.language&&p.AO.includes(r.language)&&r.language!==p.Dj?p.ZP.highlight(l,{language:r.language}):p.ZP.highlightAuto(l)}catch(e){console.error(e),t=p.ZP.highlightAuto(l)}var c=t._emitter.stack,A=[];return!function e(t,n,r,i){var o=i,a=!0,s=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var A=u.value;"string"==typeof A?i+=A.length:(i=e(t,n,A.children,i),A.scope&&n.push({className:"hljs-".concat(A.scope),anchor:{path:t,offset:o},focus:{path:t,offset:i}})),o=i}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return i}((0,a.Z)(i).concat([0]),A,c,0),(0,u.qQ)(i,r,A).sort(g)}var v={"{":"}","[":"]","(":")",":":""};function y(e){var t=v[e];return function(n){if(n.selection){var r=(0,u.nc)(n,"code-block",n.selection.anchor.path),i=(0,u.nc)(n,"code-block",n.selection.focus.path);if(r&&i&&r[0]===i[0]){var o=s.e6.start(n.selection);s.YR.insertText(n,"".concat(e).concat(t),{at:{path:o.path,offset:o.offset}});var a={path:o.path,offset:o.offset+t.length};return s.YR.setSelection(n,{anchor:a,focus:a}),!0}}}}function b(e){return function(t){if(t.selection){var n=(0,u.nc)(t,"code-block",t.selection.anchor.path),r=(0,u.nc)(t,"code-block",t.selection.focus.path);if(n&&r&&n[0]===r[0]){var i=(0,o.Z)(s.e6.edges(t.selection),2),a=i[0],l=i[1],c=!1,A=!0;A=!0;var d=!0,h=!1,f=void 0;try{for(var p,g=s.NB.texts(t,{from:l.path,to:n[1]})[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var m=p.value[0].text,v=A?l.offset-1:m.length-1;void 0!==m[v+1]&&m[v+1]===e&&(c=!0);break}}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}if(c){var y={path:a.path,offset:a.offset+1};return s.YR.setSelection(t,{anchor:y,focus:y}),!0}}}}}var w=function(e){var t=e.str,n=e.editor;return!!(!e.isInTrapMode||Array.from(s.NB.texts(n))[0][0].text.match(t))};function _(e){return function(t){if(t.selection){var n=(0,u.nc)(t,"code-block",t.selection.anchor.path),r=(0,u.nc)(t,"code-block",t.selection.focus.path);if(n&&r&&n[0]===r[0]){var i=(0,o.Z)(s.e6.edges(t.selection),2),a=i[0],l=i[1],c=!0,A=!1,d=void 0;try{n:for(var h,f,p=s.NB.texts(t,{reverse:!0,from:l.path,to:n[1]})[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var g=f.value,m=g[0].text;(m.endsWith("\n")&&(null==h?void 0:h[0].text.startsWith("  "))||m.endsWith("\n ")&&(null==h?void 0:h[0].text.startsWith(" ")))&&(m+="  "),h=g;for(var v=0===s.y$.compare(g[1],l.path)?l.offset-1:m.length-1,y=v;y>-1;y--)if("\n"===m[y]&&(e?" "===m[y+1]&&" "===m[y+2]&&s.YR.delete(t,{at:{path:g[1],offset:y+1},distance:2}):s.YR.insertText(t,"  ",{at:{path:g[1],offset:y+1}}),s.E9.isBefore({path:g[1],offset:y},a))){h=void 0;break n}}}catch(e){A=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(A)throw d}}if(h)if(e){var b=h[0].text;" "===b[0]&&" "===b[1]&&s.YR.delete(t,{at:{path:h[1],offset:0},distance:2})}else s.YR.insertText(t,"  ",{at:{path:h[1],offset:0}});return!0}}}}function E(e){var t=e.insertFragment,n=e.getFragment;return e.insertFragment=function(n){return!!function(e,t){var n=(0,u.kA)(e,t);if(!n||!(0,d.zm)(n))return!1;var r=(0,u.YI)(e);if(r&&(0,u.XU)(e,r[1])&&(0,u.FU)(e,{includeOffset:!0}))return!1;var i=s.NB.string(t[0]).replace(/^(\s)*/,"").replace(/(\s)*$/,"");if(i.includes("\n"))return!1;var o=[{type:"code",children:[{text:i}]}];return e.insertText(i),e.sealHistoryEntry(),s.YR.delete(e,{distance:i.length,reverse:!0,unit:"character"}),e.insertFragment(o),e.sealHistoryEntry(),!0}(e,n)||t(n)},e.getFragment=function(){var t=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(1!==n.length)return r;var i=(0,o.Z)(n,1)[0];return s.xv.isText(i)?r:"code-block"===i.type?i.children:t.isContainerBlock(i)?e(t,i.children,r):r}(e,n());return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(!t.selection||1!==n.length)return r;var i=(0,o.Z)(n,1)[0];return s.xv.isText(i)?r:"code"===i.type?i.children:s.W_.isElement(i)?e(t,i.children,r):r}(e,t)},e}var C=/^\`\`\`(\w+)?/,B=function(e){var t,n,i=e.blockCodeComponent,a=e.isInTrapMode,c=void 0!==a&&a;return{name:"code-block",elements:(0,r.Z)({},"code-block",{enterBehavior:"soft-break",component:i,disableTextInputHandlers:!0,softBreakBehavior:"soft-break"}),keyBindings:[(0,l.O2)({key:"//",elementArg:"code-block",opts:{shortKey:!0,shiftKey:!0},params:{disableInTable:!0}}),{name:"add indent",key:"Tab",shiftKey:!1,handler:_(!1)},{name:"remove indent",key:"Tab",shiftKey:!0,handler:_(!0)},{name:"indent or exit block on enter",key:"Enter",shiftKey:!1,handler:(t={isInTrapMode:c},function(e){if(e.selection){var n,r=t.isInTrapMode,i=(0,u.nc)(e,"code-block",e.selection.anchor.path),a=(0,u.nc)(e,"code-block",e.selection.focus.path);if(i&&a&&i[0]===a[0]){var l=a[0];if(s.e6.isCollapsed(e.selection)&&(0,u.bX)(e,function(e){return"type"in e&&"code-block"===e.type})){var c=!0,A=!1,d=void 0;try{for(var h,f=s.NB.texts(l,{reverse:!0})[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){if(h.value[0].text.endsWith("\n\n")&&!r)return s.ML.deleteBackward(e,{unit:"character"}),s.ML.deleteBackward(e,{unit:"character"}),s.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:s.y$.next(a[1])}),s.YR.move(e,{distance:1,unit:"character"}),!0;break}}catch(e){A=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(A)throw d}}}var p=(0,o.Z)(s.e6.edges(e.selection),2),g=p[0],m=p[1],y=!1,b=!1,w="",_=!0,E=!0,C=!1,B=void 0;try{n:for(var x,I,T=s.NB.texts(e,{reverse:!0,from:m.path,to:i[1]})[Symbol.iterator]();!(E=(I=T.next()).done);E=!0){var S=I.value[0].text,k=_?m.offset-1:S.length-1;_&&"{[(:".includes(S[k])&&(x=S[k],y=!0),_=!1;for(var N=k;N>-1;N--){if("\n"===S[N])break n;" "===S[N]||"	"===S[N]?w+=S[N]:w=""}}}catch(e){C=!0,B=e}finally{try{E||null==T.return||T.return()}finally{if(C)throw B}}_=!0;var D=!0,O=!1,R=void 0;try{for(var F,L=s.NB.texts(e,{from:m.path,to:i[1]})[Symbol.iterator]();!(D=(F=L.next()).done);D=!0){var U=F.value[0].text,P=_?m.offset-1:U.length-1;if(void 0!==U[P+1]){x&&U[P+1]===v[x]&&(b=!0);break}}}catch(e){O=!0,R=e}finally{try{D||null==L.return||L.return()}finally{if(O)throw R}}if(y&&(b||":"===x)){var M=w.length;w="\n".concat(w,"  \n").concat(w),n=M+3}else n=y?(w="\n  "+w).length:(w="\n"+w).length;if("\n"!==w){s.YR.insertText(e,"".concat(w));var j={path:g.path,offset:g.offset+n};return s.YR.setSelection(e,{anchor:j,focus:j}),!0}}}})},{key:"Backspace",handler:(n={isInTrapMode:c},function(e){if(n.isInTrapMode&&e.selection){var t=(0,u.nc)(e,"code-block",e.selection.anchor.path),r=(0,u.nc)(e,"code-block",e.selection.focus.path);if(t&&r&&t[0]===r[0]){var i=r[0];if(Array.from(s.NB.texts(i)).every(function(e){return""===s.NB.string(e[0])}))return!0}}}),name:"Do not delete block on backspace in trap mode"},{name:"autoclose { block",key:"{",shiftKey:!0,handler:y("{")},{name:"autoclose [ block",key:"[",shiftKey:!1,handler:y("[")},{name:"autoclose ( block",key:"(",shiftKey:!0,handler:y("(")},{name:"avoid doubleclose { block",key:"}",shiftKey:!0,handler:b("}")},{name:"avoid doubleclose [ block",key:"]",shiftKey:!1,handler:b("]")},{name:"avoid doubleclose ( block",key:")",shiftKey:!0,handler:b(")")}],textInputHandlers:[(0,l.dC)({str:"```",matchMode:"start",element:"code-block",customTest:function(e){return w({editor:e,isInTrapMode:c,str:"```"})},isDisabledInTable:!0})]}},x=function(e){var t=e.blockCodeComponent,n=e.inlineCodeComponent,r=e.isInTrapMode,h=void 0!==r&&r,g={},v=[],y=[];if(t){var b=B({blockCodeComponent:t,isInTrapMode:h});g=(0,i.Z)({},g,b.elements),v=(0,a.Z)(v).concat((0,a.Z)(b.keyBindings)),y=(0,a.Z)(y).concat((0,a.Z)(b.textInputHandlers))}if(n){var w={name:"inline-code",elements:{code:{inline:!0,component:e.inlineCodeComponent,disableTextInputHandlers:!0,enterBehavior:"create-paragraph",normalize:function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];if(""===s.NB.string(r))return s.YR.removeNodes(e,{at:i,hanging:!0}),!0}}},keyBindings:[(0,l.pM)("c","code",{shortKey:!0,shiftKey:!0})],textInputHandlers:[(0,l.dC)({str:"`",matchMode:"surround",element:"code",inline:!0})]};g=(0,i.Z)({},g,w.elements),v=(0,a.Z)(v).concat((0,a.Z)(w.keyBindings)),y=(0,a.Z)(y).concat((0,a.Z)(w.textInputHandlers))}return{elements:g,keyBindings:v,name:"code",textInputHandlers:y,toMarkdown:{byElementType:(0,i.Z)({},{"code-block":function(e){var t=e.element.language||"";return(0,A.H4)((0,c.Z)((0,i.Z)({},e),{markdown:["```"+t+"\n","\n```\n"],childrenMarkdownPosition:"between"}))}},{code:function(e){return(0,A.H4)((0,c.Z)((0,i.Z)({},e),{markdown:["`","`"],childrenMarkdownPosition:"between"}))}})},decorators:{"code-block":m},fromHtml:f({isInTrapMode:h}),eventHandlers:{onPaste:function(e,t){if(!e.selection)return!1;var n=(0,u.nc)(e,"code-block",e.selection.anchor.path),r=(0,u.nc)(e,"code-block",e.selection.focus.path);if(n&&(null==n?void 0:n[0])===(null==r?void 0:r[0])){var i=t.clipboardData.getData("text/plain").trim(),o=C.exec(i);if(o&&i.trim().endsWith("```")){var a=3;o[1]&&p.AO.includes(o[1])&&(a=o[0].length),i=i.substring(a,i.length-3)}return e.insertText((0,d.tY)(i)),!0}}},editor:E,conversionRules:{code:{disallowedTypes:["image","youTubePlayer","block-link"]},"code-block":{disallowedTypes:["image","youTubePlayer","block-link"]}}}}},59806:function(e,t,n){"use strict";n.d(t,{Rz:function(){return c},mY:function(){return u},mj:function(){return s},tY:function(){return a},zm:function(){return l}});var r=n(87394),i=n(12995),o=n(69803);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepEmptyLines;n?(e.endsWith("\n")||e.endsWith("\n\n"))&&(e=e.slice(0,-1)):e=e.trim();var r=void 0,i=e.match(n?/\n[\t\f\cK ]+/g:/\n\s*/g);if(i){var o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;(void 0===r||c.length<r.length)&&(r=c)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}return void 0!==r?e.replaceAll(RegExp("(\n|^)".concat(r.substring(1)),"g"),"$1").trim():e}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"code-block",language:t.language,children:[{text:a(e,{keepEmptyLines:t.isInTrapMode})}]}}function l(e){return i.W_.isElement(e)&&"code-block"===e.type}function u(e){return i.W_.isElement(e)&&"code"===e.type}var c=function(e,t){if(t){var n=Array.from(i.ML.nodes(e,{match:function(e){return l(e)}})),a=t===o.Dj?void 0:t,s=!0,u=!1,c=void 0;try{for(var A,d=n[Symbol.iterator]();!(s=(A=d.next()).done);s=!0){var h=(0,r.Z)(A.value,2)[1];i.YR.setNodes(e,{type:"code-block",language:a},{at:h})}}catch(e){u=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}}},97462:function(e,t,n){"use strict";n.d(t,{r5:function(){return f.r5},RF:function(){return f.RF},b9:function(){return m},Q:function(){return f.Q}});var r=n(87394),i=n(67304),o=n.n(i),a=n(12995),s=n(37164),l=n(53942),u=n(3220),c=n(58490),A=n(70865),d=n(96670),h=n(46807),f=n(3037);function p(e){if(e.selection&&a.e6.isCollapsed(e.selection)&&(0,l.FU)(e,{includeOffset:!0,blockPath:[]})){var t=a.ML.start(e,[]),n=a.ML.above(e,{at:t,mode:"highest",voids:!0,match:function(t){return a.ML.isVoid(e,t)}});if(n){var r=n[1];return a.YR.insertNodes(e,(0,f.Q)(),{at:r}),a.YR.select(e,r),!0}}}function g(e,t,n){var r=o()(Object.keys(t),"children","type","isAI","aiRequestId");if(r.length)return a.YR.unsetNodes(e,r,{at:n,match:function(e){return e===t}}),!0}var m=function(e){var t=e.divComponent,n=e.spanComponent,i=e.paragraphComponent,o=e.spanFormatComponent,m=e.onKeyboardShortcutsOpen,v=e.onHideUi,y=[{name:"select-block",key:"a",shortKey:!0,shiftKey:!0,handler:function(e){return(0,c.ts)(e),!0},logEvent:!0},{name:"block tab character by default",key:"Tab",handler:function(){return!0}},{name:"create-paragraph-at-start",key:"ArrowUp",handler:p,logEvent:!0}];return m&&y.push({name:"shortcut modal open",key:"/",shortKey:!0,metaKey:!0,handler:function(){return m(),!1},logEvent:!0}),v&&y.push({name:"shortcut toggle ui",key:"\\",shortKey:!0,metaKey:!0,handler:function(){return v(),!1},logEvent:!0}),{name:"default",elements:{paragraph:{component:i,enterBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,l.XU)(e,o)?g(e,i,o):((0,u.Z3)(e,o),!0)}},span:{component:n,inline:!0,normalize:function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,l.XU)(e,o)?(a.YR.setNodes(e,{type:"paragraph"},{at:o}),!0):(0,f.RF)(a.NB.get(e,a.y$.parent(o)))?(a.YR.unwrapNodes(e,{at:o}),!0):g(e,i,o)}},div:{component:t,softBreakBehavior:"soft-break",enterBehavior:"split-parent",normalize:function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,l.XU)(e,o)?(a.YR.setNodes(e,{type:"paragraph"},{at:o}),!0):(0,f.RF)(a.NB.get(e,a.y$.parent(o)))?(a.YR.unwrapNodes(e,{at:o}),!0):g(e,i,o)}}},formats:{className:{component:o}},keyBindings:y,normalizeEditor:function(e){if(!e.children.length)return a.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}),!0},editor:function(e){var t=e.deleteBackward;e.deleteBackward=function(n){var i=function(e){if(e.selection&&a.e6.isCollapsed(e.selection)){var t=e.selection.focus.path,n=a.ML.above(e,{at:t,mode:"lowest"});if(n&&"type"in n[0]){var i=(0,r.Z)(n,2),o=i[0],s=i[1];if(e.isInline(o)){var u=a.NB.string(o);if(0===u.length||1===u.length){var c=a.y$.next(s),A=a.NB.has(e,a.y$.next(s))?a.NB.get(e,c):null,d=a.xv.isText(A)&&" "===A.text&&(0,l.yi)(e,{at:a.ML.end(e,c)});return a.ML.withoutNormalizing(e,function(){d&&a.YR.removeNodes(e,{at:c}),a.YR.removeNodes(e,{at:s})}),!0}return}if((0,l.FU)(e,{blockPath:s,includeOffset:!0})){if((0,l.FU)(e,{blockPath:[]})&&"paragraph"===o.type&&""===a.NB.string(o))return a.YR.removeNodes(e,{at:s}),!0;if(!["div","span","paragraph"].includes(o.type)&&""===a.NB.string(o))return a.ML.withoutNormalizing(e,function(){a.YR.removeNodes(e,{at:s}),a.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:s,select:!0})}),!0;var h=a.ML.previous(e,{at:s});if(h&&a.ML.isVoid(e,h[0]))return a.YR.select(e,h[1]),!0}}}}(e);i||(i=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"character";if(!e.selection||!a.e6.isCollapsed(e.selection)||!(0,l.yi)(e,{at:e.selection.focus})||"character"!==n)return!1;var r=e.selection.focus.path,i=a.NB.get(e,r),o=a.y$.hasPrevious(r)?a.NB.get(e,a.y$.previous(r)):null;if(t=i,a.xv.isText(t)&&(" "===t.text||""===t.text)&&a.ML.isInline(e,o))return a.YR.select(e,a.ML.end(e,a.y$.previous(r))),e.deleteBackward("character"),!0}(e))||t(n)};var n=e.insertFragment;return e.insertFragment=function(t){var i=new Set,o=!0,l=!1,u=void 0;try{for(var c,A=a.ML.nodes(e,{at:[]})[Symbol.iterator]();!(o=(c=A.next()).done);o=!0){var d=(0,r.Z)(c.value,1)[0];"id"in d&&d.id&&i.add(d.id)}}catch(e){l=!0,u=e}finally{try{o||null==A.return||A.return()}finally{if(l)throw u}}var h=!0,f=!1,p=void 0;try{for(var g,m=t[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var v=g.value;!function e(t){if("id"in t&&t.id&&i.has(t.id)&&(t.id=(0,s.x0)()),"children"in t){var n=!0,r=!1,o=void 0;try{for(var a,l=t.children[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value;e(u)}}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}}}(v)}}catch(e){f=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(f)throw p}}n(t)},e},fromHtml:{byTag:{P:"paragraph",BR:function(){return{text:"\n"}}}},toMarkdown:{byElementType:{paragraph:function(e){return e.isInTable?(0,h.H4)((0,d.Z)((0,A.Z)({},e),{markdown:["<p>","</p>"],childrenMarkdownPosition:"between"})).replace(/\n/g,"<br />"):(0,h.H4)((0,d.Z)((0,A.Z)({},e),{markdown:"\n\n",childrenMarkdownPosition:"before"}))}}},genericNormalizer:function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];if(!1===e.isInline(i)){var s=(0,r.Z)(a.ML.last(e,o),2),l=s[0],u=s[1];if(a.xv.isText(l)){if(!1===a.y$.hasPrevious(u))return;var c=(0,r.Z)(a.ML.node(e,a.y$.previous(u)),1)[0];if(""===l.text&&e.isInline(c))return a.YR.insertText(e," ",{at:a.ML.start(e,u)}),!0}else if(e.isInline(l))return a.YR.insertNodes(e,{text:" "},{at:a.y$.next(u)}),!0}},conversionRules:{paragraph:{disallowedTypes:["image","code-block","youTubePlayer","block-link"]}}}}},41955:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(12995),i=n(20660),o=n(70324),a=function(e,t,n){var a,s,l,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=u.removeFormats,A=void 0!==c&&c,d=n.find(function(e){return"default"===e.name}),h=null!=(l=null==d||null==(a=d.conversionRules)||null==(s=a.paragraph)?void 0:s.disallowedTypes)?l:[];t.filter(function(e){return!h.includes(e[0].type)}).map(function(t){return r.ML.pathRef(e,t[1])}).forEach(function(t){t.current&&((0,o.R5)(e,t),r.YR.setNodes(e,{type:"paragraph"},{at:t.current}),A&&(0,i.oy)(e,t.current),t.unref())})}},3037:function(e,t,n){"use strict";n.d(t,{A7:function(){return a},Q:function(){return s},RF:function(){return o},r5:function(){return l}});var r=n(87394),i=n(12995);function o(e){return!!e&&"object"==typeof e&&"type"in e&&"paragraph"===e.type}function a(e){return i.W_.isElement(e)&&"div"===e.type}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"paragraph",children:[{text:e}]}}var l=function(e,t,n){var o=!0,a=!1,s=void 0;try{for(var l,u=i.ML.nodes(e,{at:[0],match:n})[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=(0,r.Z)(l.value,2),A=(c[0],c[1]);i.YR.setNodes(e,t,{at:A})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}},92775:function(e,t,n){"use strict";n.d(t,{wu:function(){return _},RN:function(){return E},Xr:function(){return b},u1:function(){return y},Lr:function(){return h},vW:function(){return v}});var r=n(87394),i=n(37164),o=n(12995),a=n(60770),s=n(53942),l=n(56704),u=n(69253),c=new Set(["3dv","ai","amf","art","ase","awg","blp","bmp","bw","cd5","cdr","cgm","cit","cmx","cpt","cr2","cur","cut","dds","dib","djvu","dxf","e2d","ecw","egt","emf","eps","exif","fs","gbr","gif","gpl","grf","hdp","heic","heif","icns","ico","iff","int","inta","jfif","jng","jp2","jpeg","jpg","jps","jxr","lbm","liff","max","miff","mng","msp","nef","nitf","nrrd","odg","ota","pam","pbm","pc1","pc2","pc3","pcf","pct","pcx","pdd","pdn","pgf","pgm","PI1","PI2","PI3","pict","png","pnm","pns","ppm","psb","psd","psp","px","pxm","pxr","qfx","ras","raw","rgb","rgba","rle","sct","sgi","sid","stl","sun","svg","sxd","tga","tif","tiff","v2d","vnd","vrml","vtf","wdp","webp","wmf","x3d","xar","xbm","xcf","xpm"]),A="slateDropTarget",d=function(e,t,n,r){for(var i=e.history.undos,o=!1,a=i.length-1;a>=0;a--){for(var s=i[a].operations.length-1;s>=0;s--){var l=i[a].operations[s];if("insert_node"===l.type){var u=l.node;if("image"===u.type&&u.id===t&&u.src===n){l.node=Object.assign({},u,{src:r}),o=!0;break}}}if(o)break}},h=function(e){var t=e.range,n=e.editor,r=e.onError,o=e.dataTransfer,a=e.uploadService,s=o.files,l=0,A=!0,h=!1,f=void 0;try{for(var p,g=s[Symbol.iterator]();!(A=(p=g.next()).done);A=!0)!function(){var e,o,s,A=p.value;if(e=A.name,s="string"==typeof e?e:e.name,!c.has(null!=(o=s.split(".").pop())?o:""))return l++;var h=URL.createObjectURL(A),f=(0,i.x0)();createImageBitmap(A).then(function(e){(0,u.Bi)(f,{src:h,altText:A.name,title:A.name,width:e.width,height:e.height},n,!1,t)}).then(function(){return a(A)}).then(function(e){var t=e.url;return(0,u.Pm)(f,t,n),t}).then(function(e){URL.revokeObjectURL(h),d(n,f,h,e)}).catch(r)}()}catch(e){h=!0,f=e}finally{try{A||null==g.return||g.return()}finally{if(h)throw f}}return l&&r("".concat(l," file(s) were ignored due to invalid extension.")),l!==s.length},f=function(e,t){for(var n=t.clientY,i=["span","section","list","div"],s=Array.from(o.NB.descendants(e)).filter(function(t){var n=(0,r.Z)(t,1)[0];return o.ML.isBlock(e,n)}).filter(function(e){var t=(0,r.Z)(e,1)[0];return!i.some(function(e){return o.W_.isElementType(t,e)})}),l=s.map(function(t){var n=(0,r.Z)(t,1)[0];return a.F3.toDOMNode(e,n).getBoundingClientRect()}).map(function(e){return[e.top,e.bottom]}).map(function(e){var t=(0,r.Z)(e,2);return Math.min(Math.abs(n-t[0]),Math.abs(n-t[1]))}),u=1/0,c=-1,A=0;A<l.length;A++)l[A]<u&&(u=l[A],c=A);return s[c]},p=function(e){var t;null==(t=a.F3.toDOMNode(e,e).querySelector(".".concat(A)))||t.classList.remove(A)},g=function(e,t){var n=a.F3.toDOMNode(e,t);p(e),n.classList.add(A)},m=function(e,t,n){if(!n||!(null==(r=e.selection)?void 0:r.anchor.path))return!1;var r,i,l=o.y$.parent(e.selection.anchor.path);if(!l)return!1;if(o.y$.equals(n,l))return!0;if("list-item"===t.type){var u=a.F3.findPath(e,t.children[t.children.length-1]);i=o.y$.next(u)}else i=!o.y$.isSibling(n,l)||o.y$.isBefore(n,l)?(0,s.$C)(e,n,"down"):n;return!!i&&(o.YR.moveNodes(e,{at:l,to:i}),!0)},v=function(e){var t=e.event,n=e.editor,r=e.onError,i=e.uploadService,o=t.clipboardData;return void 0!==o.types.find(function(e){return"Files"===e})&&h({editor:n,dataTransfer:o,uploadService:i,onError:r})},y=function(e){var t=e.event,n=e.editor,i=e.onError,a=e.uploadService,s=t.dataTransfer,u=f(n,t),c=(0,l.oT)(s),A=void 0!==s.types.find(function(e){return"Files"===e});if(!u)return!1;var d=(0,r.Z)(u,2),g=d[0],v=d[1],y=o.ML.point(n,v,{edge:"end"}),b=o.ML.range(n,y);return(p(n),A)?h({range:b,editor:n,onError:i,dataTransfer:s,uploadService:a}):!!c&&m(n,g,v)},b=function(e){var t,n=e.editor,r=f(n,e.event);if((null==(t=n.selection)?void 0:t.anchor.path)===void 0)return void g(n,r[0]);var i=r[1],a=o.y$.parent(n.selection.anchor.path);o.y$.equals(i,a)?p(n):g(n,r[0])},w=0,_=function(){w++},E=function(e){0==--w&&p(e)}},69253:function(e,t,n){"use strict";n.d(t,{Bi:function(){return s},Kx:function(){return l},Pm:function(){return u}});var r=n(12995),i=n(20672),o=n(3220),a=n(53942),s=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,s=t.src,l=t.altText,u=t.title,c=t.height,A=t.width,d=o;if(i&&(n.insertText(s),n.sealHistoryEntry(),r.YR.delete(n,{unit:"character",distance:s.length,reverse:!0})),!o&&n.selection){var h=r.NB.parent(n,n.selection.anchor.path);"paragraph"===h.type&&""===r.NB.string(h)&&r.YR.removeNodes(n);var f=(0,a.wu)(n,{type:"list",mode:"highest"});f&&(d=r.ML.after(n,f[1]))}return r.YR.insertNodes(n,[{id:e,src:s,title:void 0===u?"":u,altText:void 0===l?"":l,height:c,width:A,type:"image",children:[{text:""}]},{type:"paragraph",children:[{text:""}]}],{at:d,voids:!0}),e},l=function(e,t,n){var a=(0,o.nv)(t,e);a&&i.MO.withoutSaving(t,function(){return r.YR.setNodes(t,{width:n.width,height:n.height},{at:a[1]})})},u=function(e,t,n){var a=(0,o.nv)(n,e);a&&i.MO.withoutSaving(n,function(){return r.YR.setNodes(n,{src:t},{at:a[1]})})}},70492:function(e,t,n){"use strict";n.d(t,{ON:function(){return o.ON},RH:function(){return g.R},$m:function(){return o.$m},r5:function(){return r.r5},j0:function(){return o.j0},e6:function(){return o.e6},Yy:function(){return o.Yy},Ec:function(){return o.Ec},T8:function(){return o.T8},t9:function(){return o.t9},zm:function(){return s.zm},if:function(){return o.if},RF:function(){return r.RF},Xf:function(){return o.Xf},hZ:function(){return D},O6:function(){return eD},eD:function(){return eN},lw:function(){return et.lw},RX:function(){return K.R},QT:function(){return s.QT},W4:function(){return ew},b9:function(){return r.b9},O4:function(){return ei},$c:function(){return eg},DA:function(){return o.DA},As:function(){return i.A},Ft:function(){return ee},qi:function(){return eS},Hi:function(){return a.Hi},Wn:function(){return eb},Eo:function(){return o.Eo},Ke:function(){return V},$h:function(){return H}});var r=n(97462),i=n(23649),o=n(4171),a=n(39269),s=n(95181),l=n(47842),u=n(50930),c=n(70865),A=n(96670),d=n(87394),h=n(12995),f=n(46807),p=n(26297),g=n(32970),m=function(e){var t=e.domNode,n=e.parseChildren,r=(0,p.Z)(e,["domNode","parseChildren"]);if("DIV"===t.nodeName){if("taskListLocalId"in t.dataset)return{type:"list",listType:g.R.todos,children:n((0,c.Z)({domNode:t.childNodes,parseChildren:n},r))};if(t.dataset.taskLocalId)return{type:"list-item",done:!!(null==(s=t.querySelector('input[type="checkbox"]'))?void 0:s.checked),children:n((0,c.Z)({domNode:t.childNodes,parseChildren:n},r))}}if("UL"===t.nodeName){if(t.className.includes("task-list")||"todo_list"===t.dataset.type||(null==(l=t.firstElementChild)||null==(u=l.textContent)?void 0:u.startsWith("[ ]"))||(null==(d=t.firstElementChild)||null==(h=d.textContent)?void 0:h.startsWith("[x]"))||t.querySelector("li[role=checkbox]")||"true"===t.getAttribute("data-todos")||t.querySelector("input[type=checkbox]"))return{type:"list",listType:g.R.todos,children:n((0,c.Z)({domNode:Array.from(t.children),parseChildren:n},r))};if(t.dataset.checked)return{type:"list",children:t.childElementCount>1?Array.from(t.children).map(function(e){return{type:"list-item",done:"true"===t.dataset.checked,children:n((0,A.Z)((0,c.Z)({},r),{parseChildren:n,domNode:e.childNodes}))}}):[{type:"list-item",done:"true"===t.dataset.checked,children:n((0,A.Z)((0,c.Z)({},r),{parseChildren:n,domNode:t.firstElementChild.childNodes}))}],listType:g.R.todos};return{type:"list",listType:g.R.unordered,children:n((0,c.Z)({domNode:Array.from(t.children),parseChildren:n},r))}}if("LI"===t.nodeName){var i=!1,o=!1;if("checkbox"===t.getAttribute("role"))i=!0,o="true"===t.getAttribute("aria-checked");else if("todo_item"===t.dataset.type&&t.dataset.done)i=!0,o="true"===t.dataset.done;else if(t.hasAttribute("data-done"))i=!0,o="true"===t.getAttribute("data-done");else{if((null==(f=t.textContent)?void 0:f.startsWith("[ ]"))||(null==(m=t.textContent)?void 0:m.startsWith("[x]"))){i=!0,o=!!(null==(v=t.textContent)?void 0:v.startsWith("[x]"));var a=t.firstChild;if(a&&3===a.nodeType){var s,l,u,d,h,f,m,v,y,b=t.ownerDocument.createTextNode((null==(y=a.textContent)?void 0:y.substring(3).trim())||"");t.insertBefore(b,a),t.removeChild(a)}}var w=t.querySelector("input[type=checkbox]");if(w){i=!0,o=w.checked;var _,E=w.nextSibling;E&&3===E.nodeType&&(E.textContent=(null==(_=E.textContent)?void 0:_.trimStart())||"")}}return i?{type:"list-item",done:o,children:n((0,c.Z)({domNode:Array.from(t.childNodes),parseChildren:n},r))}:{type:"list-item",children:n((0,c.Z)({domNode:Array.from(t.childNodes),parseChildren:n},r))}}},v=function(e){return h.W_.isElement(e)&&"list"===e.type},y=function(e,t){var n=t[0],r=1===t.length,i=n.children.findIndex(function(t){return t===e});return r&&0===i},b=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=h.NB.elements(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,d.Z)(o.value,2),l=s[0],u=s[1];if(l===t)return u}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},w=function(e){var t=e.element,n=e.serializeChildren;if(!v(t))return"";var r=t.children.map(function(r){var i=r.children.map(function(t){return n((0,A.Z)((0,c.Z)({},e),{element:t}))}),o="";return t.listType===g.R.todos&&(o=r.done?"[x] ":"[ ] "),"<li>".concat(o).concat(i.join(""),"</li>")});switch(t.listType){case g.R.ordered:return"<ol>".concat(r.join("\n"),"</ol>");case g.R.unordered:case g.R.todos:return"<ul>".concat(r.join("\n"),"</ul>")}},_=n(93707),E=n(55611),C=n(3220),B=n(70324),x=function(e,t){var n,r=(0,d.Z)(t,2),i=r[0],o=r[1];if(!(null==(n=i.children)?void 0:n.length))return h.YR.removeNodes(e,{at:o}),!0;if(I(e,[i,o]))return!0;var a=h.y$.next(o),s=h.NB.has(e,a)?h.NB.get(e,a):null;if(s&&(0,B.nq)(s)&&(0,C.UT)(i,s))return!!I(e,[s,a])||(h.YR.mergeNodes(e,{at:a}),!0);var l=h.y$.hasPrevious(o)?h.y$.previous(o):null;if((s=l&&h.NB.has(e,l)?h.NB.get(e,l):null)&&l&&(0,B.nq)(s)&&(0,C.UT)(i,s))return!!I(e,[s,l])||(h.YR.mergeNodes(e,{at:o}),!0)},I=function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1],o=r.listType===g.R.todos,a=r.children.findIndex(B.OD),s=r.children[a];if(!s)return h.YR.insertNodes(e,{type:"list-item",children:[{type:"div",children:[{text:""}]}]},{at:i.concat(0)}),!0;if(!(null==(m=s.children)?void 0:m.length))return k(e,[s,i.concat(a)]),!0;var l=h.ML.isBlock(e,s.children[0])?s.children[0].children.length:0,u=!1,c=!1,A=!0,f=!1,p=void 0;try{for(var m,v,y=h.NB.children(e,i,{reverse:!0})[Symbol.iterator]();!(A=(v=y.next()).done);A=!0){var b=(0,d.Z)(v.value,2),w=b[0],_=b[1];if((0,B.OD)(w)){var E=N(e,[w,_],o);c=c||E;continue}if(h.ML.isBlock(e,w))return h.YR.setNodes(e,{type:"list-item"},{at:_}),!0;u=!0;var C=i.concat(a,0,l);h.YR.moveNodes(e,{at:_,to:C})}}catch(e){f=!0,p=e}finally{try{A||null==y.return||y.return()}finally{if(f)throw p}}return!!u||!!c};function T(e,t,n){if(!h.NB.has(e,t))return void console.warn("[ListNormalized] Invalid moveBlockChildren attempted at",t);if(!h.NB.has(e,n))return void console.warn("[ListNormalized] Invalid moveBlockChildren attempted at",n);var r=(0,d.Z)(h.ML.node(e,t),1)[0],i=t.concat(r.children.length),o=!0,a=!1,s=void 0;try{for(var l,u=h.NB.children(e,n,{reverse:!0})[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=(0,d.Z)(l.value,2),A=c[0],f=c[1];h.ML.isBlock(e,A)?"list"===A.type?h.YR.moveNodes(e,{at:f,to:i}):T(e,t,f):h.YR.moveNodes(e,{at:f,to:i})}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}var S=function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1];if(k(e,[r,i]))return!0;var o=(0,d.Z)(h.ML.parent(e,i),1)[0];return(0,B.nq)(o)?!!N(e,[r,i],o.listType===g.R.todos)||void 0:((0,C.Z3)(e,i),!0)},k=function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1];if(!r.children.length)return h.YR.insertNodes(e,{type:"div",children:[{text:""}]},{at:(0,u.Z)(i).concat([0])}),!0;var o=(0,d.Z)(r.children,1)[0];if(1===r.children.length&&(0,B.nq)(o))return(0,C.s6)(e,i.concat(0),{levels:2}),!0;var a=i.concat(0);if(h.xv.isText(o)||"div"!==o.type)return h.YR.insertNodes(e,{type:"div",children:[]},{at:a}),!0;var s=!0,l=!1,c=void 0;try{for(var A,f=h.NB.children(e,i)[Symbol.iterator]();!(s=(A=f.next()).done);s=!0){var p=(0,d.Z)(A.value,2),g=p[0],m=p[1];if(h.y$.equals(m,a)){var v=!0,y=!1,b=void 0;try{for(var w,_=h.NB.children(e,m)[Symbol.iterator]();!(v=(w=_.next()).done);v=!0){var E=(0,d.Z)(w.value,2),x=E[0],I=E[1];if(h.ML.isBlock(e,x))return"list"===x.type?h.YR.moveNodes(e,{at:I,to:i.concat(r.children.length)}):(T(e,i,I),h.YR.removeNodes(e,{at:I})),!0}}catch(e){y=!0,b=e}finally{try{v||null==_.return||_.return()}finally{if(y)throw b}}}else if(!h.ML.isBlock(e,g))return h.YR.moveNodes(e,{at:m,to:a.concat(o.children.length)}),!0;else if("list"!==g.type)return T(e,i,m),h.YR.removeNodes(e,{at:m}),!0}}catch(e){l=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}},N=function(e,t,n){var r=(0,d.Z)(t,2),i=r[0],o=r[1];return!n||"done"in i?!n&&"done"in i&&(h.YR.unsetNodes(e,"done",{at:o,match:function(e){return e===i}}),!0):(h.YR.setNodes(e,{done:!1},{at:o,match:function(e){return e===i}}),!0)},D=function(e){var t=e.listComponent,n=e.listItemComponent;return{name:"list",elements:(0,l.Z)({list:{component:t,normalize:x}},"list-item",{component:n,normalize:S,softBreakBehavior:"soft-break"}),keyBindings:[{name:"toggle todo list",key:"7",shortKey:!0,shiftKey:!0,handler:function(e){return(0,B.Xm)(e,g.R.todos),!0},logEvent:!0},{name:"toggle unordered list",key:"8",shortKey:!0,shiftKey:!0,handler:function(e){return(0,B.Xm)(e,g.R.unordered),!0},logEvent:!0},{name:"toggle ordered list",key:"9",shortKey:!0,shiftKey:!0,handler:function(e){return(0,B.Xm)(e,g.R.ordered),!0},logEvent:!0},{name:"indent",key:"Tab",shiftKey:!1,handler:function(e){return(0,B.Fg)(e)}},{name:"un-indent",key:"Tab",shiftKey:!0,handler:function(e){return(0,B.pT)(e)}},{name:"move-list-item-down",key:"ArrowDown",altKey:!0,handler:function(e){return(0,B.uk)(e,"down")},logEvent:!0},{name:"move-list-item-up",key:"ArrowUp",altKey:!0,handler:function(e){return(0,B.uk)(e,"up")},logEvent:!0},{name:"toggle todo",key:"Enter",shortKey:!0,handler:function(e){return(0,B.CA)(e)},logEvent:!0}],textInputHandlers:[(0,_.dC)({str:"* ",matchMode:"start",element:{type:"list",listType:g.R.unordered}}),(0,_.dC)({str:"- ",matchMode:"start",element:{type:"list",listType:g.R.unordered}}),(0,_.dC)({str:"1. ",customRegExp:/^(\d+|[aA])\.\s(\b|\s|$)/,matchMode:"start",element:{type:"list",listType:g.R.ordered}}),(0,_.dC)({str:"[] ",matchMode:"start",element:{type:"list",listType:g.R.todos}})],editor:function(e){var t=e.insertBreak,n=e.deleteBackward,r=e.deleteFragment,i=e.getFragment;return e.insertBreak=function(){(0,B.Hh)(e)||t()},e.deleteBackward=function(t){"character"===t&&(0,B.Wh)(e)||n(t)},e.deleteFragment=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!B.h6.apply(void 0,[e].concat((0,u.Z)(n))))return r.apply(void 0,(0,u.Z)(n))},e.getFragment=function(){var t=i();return(0,B.So)(e,t)},e},fromHtml:{byTag:{LI:"list-item",OL:{type:"list",listType:g.R.ordered}},customRules:[m]},toMarkdown:{byElementType:{list:function(e){return e.isInTable?w(e):(0,f.H4)((0,A.Z)((0,c.Z)({},e),{isInList:!0,markdown:e.isInList||e.isInTable?"":"\n",childrenMarkdownPosition:"before"}))},"list-item":function(e){var t=e.editor,n=e.element,r=b(t,n);if(!r)return"";var i=Array.from(h.NB.ancestors(t,r,{reverse:!0})).map(function(e){return e[0]}).filter(v),o=i[0],a=y(n,i)?"":"\n",s=Array(i.length-1).fill("    ").join("");switch(o.listType){case g.R.unordered:a+="".concat(s,"- ");break;case g.R.ordered:var l=o.children.findIndex(function(e){return e===n});a+="".concat(s).concat(l+1,". ");break;case g.R.todos:a+="".concat(s,"- [").concat(n.done?"x":" ","] ")}return(0,f.H4)((0,A.Z)((0,c.Z)({},e),{childrenMarkdownPosition:"between",markdown:[a,""]}))}}},conversionRules:{list:{disallowedTypes:E.f}}}},O=n(9850),R=n.n(O),F=function(e){return h.W_.isElement(e)&&"comment"===e.type},L=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(t(s))return s;if("children"in s){var l=L(s.children,t);if(l)return l}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null};function U(e){var t=e.insertFragment;return e.insertFragment=function(n){var r=n;if(!L(n,F))return t(n);var i=(0,u.Z)(h.NB.elements(e)).filter(function(e){return F((0,d.Z)(e,1)[0])}).map(function(e){return(0,d.Z)(e,1)[0].data.threadId});i.length>0&&(r=function e(t,n,r){var i=[],o=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)!function(){var n=l.value,o="children"in n&&n.children.length>0;if(F(n)&&o&&(!r||r(n)))return n.children.forEach(function(e){return i.push(e)});if(o){var a,s=[];n.children.forEach(function(n){return(a=s).push.apply(a,(0,u.Z)(e(t,[n],r)))}),n.children=s}i.push(n)}()}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return i}(e,R()(n),function(e){var t=e.data;return t&&i.includes(t.threadId)})),t(r)},e}var P=n(32265),M=n(2784),j=n(45126),Z=n.n(j),Q=n(60770);function H(e){var t=e.id,n=e.editor;return{onCancel:(0,M.useCallback)(function(){t&&(0,P.ew)(n,t)},[n,t]),onCreate:(0,M.useCallback)(function(e){t&&(0,P.Bh)(n,t,e)},[n,t]),prepareAnnotation:(0,M.useCallback)(function(e,t){(0,P._F)(n,e,t)},[n])}}function V(e){var t=e.id,n=e.idProp,r=(0,Q.ui)();return{deleteAnnotation:(0,M.useCallback)(function(){var e;if(n&&(e=Z()({data:(0,l.Z)({},n,t)})),e)return(0,P.Dl)(r,e)},[r,t,n])}}var K=n(26141),z=n(37164),G=n(3037);function W(e){return!!e&&"section"===e.type}function q(e,t){var n=h.NB.get(e,t);if(!(0,i.$)(n))return!1;var r={type:"section",id:(0,z.x0)(),children:[]},o=function(e,t,n){var r=h.NB.get(e,t);if((0,i.$)(r)){var o,a,s="backwards"===n?(o=r.level,h.ML.previous(e,{at:t,match:function(e){return(0,i.$)(e)&&e.level<=o},mode:"highest"})):(a=r.level,h.ML.next(e,{at:t,match:function(e){return"type"in e&&"level"in e&&(0,i.$)(e)&&e.level<=a},mode:"highest"}));if(!s){var l=h.y$.parent(t);return{focus:{path:t,offset:0},anchor:"backwards"===n?h.ML.start(e,l):h.ML.end(e,l)}}var u="backwards"===n?h.ML.after(e,s[1],{unit:"block"}):h.ML.before(e,s[1],{unit:"block"});return u?{focus:{path:t,offset:0},anchor:u}:h.y$.parent(t)}}(e,t,"forwards");return h.YR.wrapNodes(e,r,{at:o,mode:"highest",match:function(e,r){return!(r.length<t.length||h.y$.isBefore(r,t))&&(!(0,i.$)(e)||e.level<=n.level)}}),!0}function $(e,t){var n=h.NB.has(e,t)?h.NB.get(e,t):void 0;if(W(n)){var r=n.children.length?h.NB.get(n,[0]):void 0;return(0,i.$)(r)?r.level:1/0}}var Y=function(e,t){var n=(0,d.Z)(t,2),r=n[0],o=n[1];if(!r.id)return h.YR.setNodes(e,{id:(0,z.x0)()},{at:o,mode:"highest"}),!0;if((0,C.uk)(e,[r,o]))return!0;var a=Array.from(h.NB.children(e,o)),s=a.filter(function(e){return W(e[0])});if(s.length===a.length)return(0,C.Z3)(e,o,{at:o,mode:"highest"}),!0;var l=h.y$.equals(o,[0]),u=a.find(function(e){return(0,i.$)(e[0])});if(!l&&!u){var c=h.y$.hasPrevious(o)&&h.y$.previous(o);if(c&&W(h.NB.get(e,c)))return h.YR.mergeNodes(e,{at:o,mode:"highest"}),!0;if(o.length>1)return(0,C.Z3)(e,o,{at:o,mode:"highest"}),!0;console.warn("Unexpected situation, section with no header that cannot be fixed")}if(u){if(J(e,u))return!0;var A=u[0].level,f=function(e,t){var n=h.y$.hasPrevious(t)&&h.y$.previous(t),r=n&&h.NB.get(e,n);if(r&&W(r))return[r,n]}(e,o);if(f&&Y(e,f))return!0;var p=f&&$(e,f[1]);if(f&&null!=p&&p<A){var g=f[0].children.length;return h.YR.moveNodes(e,{at:o,to:f[1].concat(g)}),!0}var m=function(e,t){var n=h.y$.next(t),r=h.NB.has(e,n)&&h.NB.get(e,n);if(r&&W(r))return[r,n]}(e,o),v=m&&$(e,m[1]);if(m&&null!=v&&v>A){var y=r.children.length;return h.YR.moveNodes(e,{at:m[1],to:o.concat(y)}),!0}var b=!0,w=!1,_=void 0;try{for(var E,B=s[Symbol.iterator]();!(b=(E=B.next()).done);b=!0){var x=(0,d.Z)(E.value,2),I=x[0],T=x[1],S=$(e,T);if(T.at(-1)>u[1].at(-1)&&null!=S&&S<=A)return Y(e,[I,T])}}catch(e){w=!0,_=e}finally{try{b||null==B.return||B.return()}finally{if(w)throw _}}}},J=function(e,t){var n=(0,d.Z)(t,2),r=n[0],i=n[1],o=(0,d.Z)(h.ML.parent(e,i),2),a=o[0],s=o[1],l=r.level;if(!r.id)return h.YR.setNodes(e,{id:(0,z.x0)()},{at:i}),!0;if(!r.children.length)return h.YR.insertNodes(e,[{text:""}],{at:i.concat(0)}),!0;if(!W(a))return q(e,i),!0;if(0!==i.at(-1)){var u=a.children[0].level,c=h.ML.pathRef(e,i);return null==u||l<=u?(h.YR.splitNodes(e,{at:i,mode:"highest"}),l<u&&e.normalizeNode([r,c.unref()])):q(e,i),!0}var A=(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.from(h.ML.levels(e,{at:t,match:function(e,n){return W(e)&&t.length!==n.length},reverse:n}))})(e,s).find(function(t){var n=$(e,t[1]);return null!=n&&n>=l});if(A)return(0,C.s6)(e,s,{abovePath:A[1]}),!0};function X(e){var t=e.getFragment;return e.getFragment=function(){return function e(t,n){return 1!==n.length?n:W(n[0])?e(t,n[0].children):n}(e,t())},e}var ee=function(e){var t,n=e.sectionComponent,r=e.endInParagraph;return{name:"section",normalizeEditor:(t={endInParagraph:void 0===r||r},function(e){var n,r,i=t.endInParagraph;if(!e.children.length)return h.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}),!0;var o=[],a=[],s=!0,l=!1,u=void 0;try{for(var c,A=h.NB.children(e,[])[Symbol.iterator]();!(s=(c=A.next()).done);s=!0){var d=c.value;W(d[0])||(o.push(d[0]),a.push(d[1][0]))}}catch(e){l=!0,u=e}finally{try{s||null==A.return||A.return()}finally{if(l)throw u}}if(o.length)return h.YR.removeNodes(e,{at:[],mode:"highest",match:function(e,t){return 1===t.length&&a.includes(t[0])}}),h.YR.insertNodes(e,{type:"section",id:(0,z.x0)(),children:o},{at:[0]}),!0;var f=h.ML.end(e,[]),p=h.ML.above(e,{at:f,match:function(t){return h.ML.isBlock(e,t)&&!W(t)},mode:"highest"});if(p&&(n=i,r=p[0],!(0,G.RF)(r)&&(!0===n||!1!==n&&r&&"type"in r&&n.includes(r.type))))return h.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:h.y$.next(p[1])}),!0}),editor:X,elements:{header:{normalize:J},section:{component:n,normalize:Y,isContainerBlock:!0}}}},et=n(2012),en=n(53942),er=n(58490),ei=function(e){return{name:"divider",elements:{divider:{void:!0,component:e.dividerComponent,enterBehavior:"paragraph-below"}},textInputHandlers:[(0,_.dC)({str:"---",element:"divider",matchMode:"start",void:!0,isDisabledInTable:!0})],keyBindings:[{name:"move-divider-down",key:"ArrowDown",altKey:!0,handler:function(e){return(0,C.m_)(e,"down",{type:"divider"})},logEvent:!0},{name:"move-divider-up",key:"ArrowUp",altKey:!0,handler:function(e){return(0,C.m_)(e,"up",{type:"divider"})},logEvent:!0},{name:"arrow-up-in-divider",key:"ArrowUp",handler:function(e){return!!(0,en.wu)(e,{type:"divider"})&&((0,er.Y4)(e,"up"),!0)}}],fromHtml:{byTag:{HR:"divider"}},toMarkdown:{byElementType:{divider:function(e){return(0,f.H4)((0,A.Z)((0,c.Z)({},e),{markdown:"---\n\n",childrenMarkdownPosition:"after"}))}}}}},eo=n(98788),ea=n(1899),es=n(22970),el=n(92775),eu=n(69253);let ec=/(\S*[^,\s])(\s+([\d.]+)(x|w))?/g,eA={w:"width",x:"density"};var ed=function(e){if(e.srcset)try{let n;var t=(n=e.srcset,((e,t)=>{let n=null,r=[];for(;null!==(n=t.exec(e));)r.push(n);return r})(n,ec).map(([,e,,t,n])=>{let r=eA[n];return r?{url:e,[r]:parseFloat(t)}:{url:e}})).reduce(function(e,t){if(!e||e.density&&t.density&&t.density>e.density||e.width&&t.width&&t.width>e.width)return t},void 0);if(t)return t.url}catch(e){}return e.src},eh=function(e){var t=e.onError,n=e.handler,r=e.uploadService;return{byTag:{IMG:function(e,i){var o=e.domNode,a=(0,z.x0)(),s=ed(o);return n({id:a,src:s,editor:i,onError:t,uploadService:r}),{id:a,src:s,width:200,height:200,type:"image",title:o.title,altText:o.alt,children:[{text:""}]}}}}},ef=function(e){if(!e.selection)return!1;var t=h.NB.parent(e,e.selection.anchor.path);if("paragraph"!==t.type||""!==h.NB.string(t))return!1;var n=(0,en.$C)(e,e.selection.anchor.path,"up");return!!n&&"image"===h.NB.parent(e,n).type&&(h.YR.removeNodes(e),h.YR.select(e,n),!0)},ep=function(e){var t,n=e.id,r=e.src,i=e.editor,o=e.onError,a=e.uploadService;fetch(r).then(function(e){return e.blob()}).then((t=(0,eo.Z)(function(e){var t;return(0,es.__generator)(this,function(r){switch(r.label){case 0:return[4,createImageBitmap(e)];case 1:return t=r.sent(),(0,eu.Kx)(n,i,t),[2,e]}})}),function(e){return t.apply(this,arguments)})).then(function(e){return a(e)}).then(function(e){var t=e.url;return(0,eu.Pm)(n,t,i)}).catch(o)},eg=function(e){var t=e.uploadService,n=e.onError,r=void 0===n?function(){}:n,i=e.imageComponent,o={image:{void:!0,component:void 0===i?function(){return null}:i,enterBehavior:"paragraph-below",normalize:function(e,t){var n=(0,d.Z)(t,2)[1];if((0,G.RF)(h.NB.get(e,h.y$.parent(n))))return h.YR.unwrapNodes(e,{at:h.y$.parent(n)}),!0;var r=!0,i=!1,o=void 0;try{for(var a,s=h.NB.children(e,n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=function(){var t=(0,d.Z)(a.value,2),n=t[0],r=t[1];if(!h.xv.isText(n))return h.YR.removeNodes(e,{at:r,voids:!0,match:function(e){return e===n}}),h.YR.insertNodes(e,{text:""},{at:r}),{v:!0}}();if("object"===(0,ea.Z)(l))return l.v}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}},a=[{altKey:!0,key:"ArrowDown",name:"move-image-down",handler:function(e){return(0,C.m_)(e,"down",{type:"image"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-image-up",handler:function(e){return(0,C.m_)(e,"up",{type:"image"})},logEvent:!0},{key:"Backspace",name:"delete-image",handler:ef}];return t?{elements:o,keyBindings:a,name:"image",toMarkdown:{byElementType:{image:function(e){var t=e.element;return(0,f.H4)((0,A.Z)((0,c.Z)({},e),{childrenMarkdownPosition:"after",markdown:"![".concat(t.altText||"","](").concat(t.src,' "').concat(t.title||"",'")\n\n')}))}}},eventHandlers:{onDragEnter:el.wu,onDragLeave:el.RN,onDragOver:function(e,t){return(0,el.Xr)({editor:e,event:t})},onDrop:function(e,n){return(0,el.u1)({editor:e,event:n,uploadService:t,onError:r})},onPaste:function(e,n){return(0,el.vW)({editor:e,event:n,uploadService:t,onError:r})}},fromHtml:eh({onError:r,uploadService:t,handler:ep})}:{name:"image",elements:o,keyBindings:a}},em=function(e){if(!e)return null;var t,n=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=|\?v=)([^#&?]*).*/);return n&&(null==(t=n[2])?void 0:t.length)===11?n[2]:null},ev=function(e,t,n){e.insertText(t),e.sealHistoryEntry(),h.YR.delete(e,{unit:"character",distance:t.length+1,reverse:!0}),h.YR.insertNodes(e,[{videoId:n,type:"youTubePlayer",children:[{text:""}]},{type:"paragraph",children:[{text:""}]}])},ey=function(e,t){var n=t.clipboardData;if(void 0===n.types.find(function(e){return"text/plain"===e}))return!1;var r=n.getData("text/plain"),i=em(r);return!!i&&(ev(e,r,i),!0)},eb=function(e){return{name:"youTubePlayer",elements:{youTubePlayer:{void:!0,component:e.youTubeComponent}},eventHandlers:{onPaste:ey},keyBindings:[{altKey:!0,key:"ArrowDown",name:"move-youTubePlayer-down",handler:function(e){return(0,C.m_)(e,"down",{type:"youTubePlayer"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-youTubePlayer-up",handler:function(e){return(0,C.m_)(e,"up",{type:"youTubePlayer"})},logEvent:!0}],toMarkdown:{byElementType:{youTubePlayer:function(e){var t,n=e.element,r=(t=n.videoId,"https://www.youtube.com/watch?v=".concat(t)),i="[YouTube Video - ".concat(n.videoId,"](").concat(r,")");return(0,f.H4)((0,A.Z)((0,c.Z)({},e),{markdown:i,childrenMarkdownPosition:"after"}))}}}}};function ew(e){var t,n,r,i,o,a,s,u=e.permissions,d=e.commentComponent,h=e.selectedTextComponent,f=e.pendingCommentComponent,p={type:"comment"};return u.view&&(p.annotationComponent=d),u.create&&(p.selectedTextComponent=h,p.keyBinding={key:"m",shortKey:!0,shiftKey:!0},p.annotationPendingComponent=f),t=p.type,n=p.keyBinding,r=p.selectedTextComponent,i=p.annotationPendingComponent,o=p.annotationComponent,a={},i&&(a["annotationPending.".concat(t)]={component:i}),s={name:t,elements:(0,l.Z)({},t,{component:o,inline:!0}),selectionComponent:r,formats:a,editorDecorator:P.On,keyBindings:[],editor:U,onChange:P.Vj},n&&s.keyBindings.push((0,A.Z)((0,c.Z)({name:t},n),{handler:function(e){return(0,P._F)(e,t)},logEvent:!0})),s}var e_=n(77066),eE=[{name:"insert-table",code:"KeyT",shortKey:!0,altKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_create",{source:"shortcut"}),e_.ZP.insertTable(e)}},{name:"remove-table",code:"KeyT",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_delete",{source:"shortcut"}),e_.ZP.removeTable(e)}},{name:"table-move-cursor-up",code:"ArrowUp",altKey:!1,shortKey:!1,handler:function(e){return e_.ZP.moveCursorVertically(e,-1)}},{name:"table-move-cursor-down",code:"ArrowDown",altKey:!1,shortKey:!1,handler:function(e){return e_.ZP.moveCursorVertically(e,1)}},{name:"table-cycle-forward",code:"Tab",handler:function(e){return!!e_.ZP.cycleNavigation(e,1)}},{name:"table-cycle-backward",code:"Tab",shiftKey:!0,handler:function(e){return!!e_.ZP.cycleNavigation(e,-1)}},{name:"table-move-row-up",code:"ArrowUp",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_move_row",{source:"shortcut",direction:"up"}),e_.ZP.moveRow(e,"up")}},{name:"table-move-row-down",code:"ArrowDown",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_move_row",{source:"shortcut",direction:"down"}),e_.ZP.moveRow(e,"down")}},{name:"table-move-column-left",code:"ArrowLeft",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_move_column",{source:"shortcut",direction:"left"}),e_.ZP.moveColumn(e,"left")}},{name:"table-move-column-right",code:"ArrowRight",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_move_column",{source:"shortcut",direction:"right"}),e_.ZP.moveColumn(e,"right")}},{name:"insert-row",code:"Equal",shortKey:!0,shiftKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_add_row",{source:"shortcut",direction:"down"}),!!e_.ZP.addRow(e)}},{name:"remove-row",code:"Minus",shortKey:!0,shiftKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_delete_row",{source:"shortcut"}),!!e_.ZP.removeRow(e)}},{name:"insert-column",code:"Equal",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_add_column",{source:"shortcut",direction:"right"}),!!e_.ZP.addColumn(e)}},{name:"remove-column",code:"Minus",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null==(t=e.eventLogger)||t.call(e,"table_delete_column",{source:"shortcut"}),!!e_.ZP.removeColumn(e)}}],eC=n(49605),eB=function(e){var t=e.editor,n=e.element,i=e.serializeChildren,o=n.children.map(function(e){var n=e;return 1===e.children.length&&(0,r.RF)(e.children[0])&&(n=e.children[0]),n.children.map(function(e){return i({element:e,editor:t,serializeChildren:i,isInTable:!0})}).join("")}).join(" | ");return"| ".concat(o," |")};function ex(e,t){var n=(0,en.wu)(e,{type:"table-cell"});if(n&&"character"===t&&(0,en.FU)(e,{includeOffset:!0,blockPath:n[1]}))return!0}function eI(e,t){if(e.selection){if((0,en.wu)(e,{type:"table"})){var n=h.ML.rangeRef(e,e.selection),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.Z)(h.ML.nodes(e,{at:e.selection,match:function(e){return(0,eC.IM)(e)},reverse:!0}))[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(n.current){var c=h.e6.intersection(n.current,h.ML.range(e,l[1]));h.e6.equals(c,h.ML.range(e,l[1]))?h.YR.removeNodes(e,{at:c,match:function(e){return!(0,eC.IM)(e)}}):h.YR.delete(e,{at:c})}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n.unref(),h.YR.collapse(e,{edge:"end"}),!0}var A=h.ML.edges(e,e.selection).map(function(t){return h.ML.pointRef(e,t)}),d=!0,f=!1,p=void 0;try{for(var g,m=A[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var v=g.value,y=v.current;if(y){var b=(0,en.wu)(e,{type:"table",at:y});if(b){var w=h.ML.isEdge(e,y,b[1]);if(w){var _=v===A[0]?A[1].current:A[0].current,E=_&&(h.E9.isAfter(_,h.ML.end(e,b[1]))||h.E9.isBefore(_,h.ML.start(e,b[1])));w&&E&&h.YR.removeNodes(e,{at:b[1]})}}}}}catch(e){f=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}var C=!0,B=!1,x=void 0;try{for(var I,T=A[Symbol.iterator]();!(C=(I=T.next()).done);C=!0)I.value.unref()}catch(e){B=!0,x=e}finally{try{C||null==T.return||T.return()}finally{if(B)throw x}}}}function eT(e){var t=e.deleteBackward,n=e.deleteFragment,r=e.getFragment,i=e.insertFragment;return e.deleteBackward=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return!!ex.apply(void 0,[e].concat((0,u.Z)(r)))||t.apply(void 0,(0,u.Z)(r))},e.deleteFragment=function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return!!eI.apply(void 0,[e].concat((0,u.Z)(r)))||n.apply(void 0,(0,u.Z)(r))},e.getFragment=function(){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(1!==n.length)return r;var i=(0,d.Z)(n,1)[0];if(h.xv.isText(i))return r;if((0,eC.wb)(i)){var o=(0,u.Z)(h.NB.elements(i)).filter(function(e){var t=(0,d.Z)(e,1)[0];return(0,eC.IM)(t)});return 1===o.length?o[0][0].children:r}return t.isContainerBlock(i)?e(t,i.children,r):r}(e,r())},e.insertFragment=function(t){return!!function(e,t){if(!(0,eC.$0)(e))return!1;var n=(0,eC.vL)(t);if(!n)return!1;var r=(0,eC.mD)(n).map(function(e){return e.children});return e_.ZP.insertCellsContents(e,r),!0}(e,t)||i(t)},e}var eS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tableComponent,n=e.tableHeadComponent,r=e.tableBodyComponent,i=e.tableRowComponent,o=e.tableCellComponent;return{name:"table",elements:{table:{component:void 0===t?function(){return null}:t,isContainerBlock:!0,normalize:eC.ZP.normalizeTable},"table-head":{component:void 0===n?function(){return null}:n,isContainerBlock:!0},"table-body":{component:void 0===r?function(){return null}:r,isContainerBlock:!0},"table-row":{component:void 0===i?function(){return null}:i,isContainerBlock:!0,normalize:eC.ZP.normalizeRow},"table-cell":{component:void 0===o?function(){return null}:o,isContainerBlock:!0,normalize:eC.ZP.normalizeCell}},fromHtml:{byTag:{TABLE:function(e){var t=e.domNode,n=e.parseChildren;return{type:"table",id:t.id||(0,z.x0)(),children:n({domNode:Array.from(t.children),parseChildren:n})}},THEAD:"table-head",TBODY:"table-body",TR:"table-row",TD:"table-cell",TH:"table-cell"}},toMarkdown:{byElementType:{table:function(e){var t=e.editor,n=e.element,r=e.serializeChildren,i=n.children[0],o=n.children[1];if(!(0,eC.yX)(i)||!(0,eC.WC)(o))return"";var a=i.children[0];if(!(0,eC.zl)(a))return"";var s=a.children.length,l=eB({editor:t,element:a,serializeChildren:r}),u=o.children.map(function(e){return eB({editor:t,element:e,serializeChildren:r}).replace(/\n/g,"")}),c=Array(s).fill("-----").join(" | ");return"".concat(l,"\n| ").concat(c," |\n").concat(u.join("\n"),"\n")}}},keyBindings:eE,editor:eT}},ek=n(78382),eN=function(e){var t=e.aiOutlineComponent,n=e.onOutlineShortcut;return{name:"aiOutline",elements:{aiOutline:{void:!0,component:t}},conversionRules:{aiOutline:{disallowedTypes:["image","divider","aiOutline","blockquote","code-block","block-link","youTubePlayer"]}},keyBindings:[{key:"J",ctrlKey:!0,shortKey:!0,shiftKey:!0,logEvent:!0,name:"insert-ai-outline",handler:function(e,t,r){return null==r||r.preventDefault(),(0,ek.VS)(e,t),null==n||n(e,t),!0}},{altKey:!0,logEvent:!0,key:"ArrowDown",name:"move-ai-outline-down",handler:function(e){return(0,C.m_)(e,"down",{type:"aiOutline"})}},{altKey:!0,logEvent:!0,key:"ArrowUp",name:"move-ai-outline-up",handler:function(e){return(0,C.m_)(e,"up",{type:"aiOutline"})}}]}},eD=function(e){return{name:"aiDiagram",selectionComponent:e.selectedTextComponent}}},72572:function(e,t,n){"use strict";n.d(t,{$:function(){return r},O:function(){return i}});var r="\uFEFF",i=" "},4171:function(e,t,n){"use strict";n.d(t,{ON:function(){return f.O},$m:function(){return f.$},$g:function(){return l.$g},j0:function(){return l.j0},e6:function(){return l.e6},Yy:function(){return l.Yy},Ec:function(){return l.Ec},T8:function(){return l.T8},Jn:function(){return l.Jn},t9:function(){return l.t9},km:function(){return g.km},if:function(){return l.if},Xf:function(){return l.Xf},DA:function(){return v},Eo:function(){return l.Eo}});var r=n(87394),i=n(12995),o=n(70865),a=n(96670),s=n(46807),l=n(80022),u=n(37164),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{byTag:{A:function(t){var n=t.domNode;if(n.textContent&&""!==n.textContent.trim()){var r=n.textContent,i=n.getAttribute("href");if(i){if(i.startsWith("#")&&e.workspaceId){var a=i.slice(1),s=(0,l.j0)(e.workspaceId,a);return{id:(0,u.x0)(),type:"link",isExpanded:!1,linkType:"workspaceLink",linkData:s,originalLabel:r||void 0,children:[{text:r||s}],workspaceId:e.workspaceId}}if((0,l.Jn)(i))return(0,l.$g)(i,(0,o.Z)({text:r||""},e))}}}}}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){var n,r,i=t.element;if(i.originalLinkData)n=i.originalLinkData;else try{n=new URL((0,l.Xf)(i,e))}catch(t){console.debug("Failed to parse link URL:",t),n=(0,l.Xf)(i,e)}return"block-link"===i.type?(r="string"==typeof n?n:"".concat(n.origin).concat(n.pathname,"/preview").concat(n.search,"&type=embed"),(0,s.H4)((0,a.Z)((0,o.Z)({},t),{childrenMarkdownPosition:"before",markdown:"[![".concat(i.label,"](").concat(r,")](").concat(n,")\n\n")}))):(0,s.H4)((0,a.Z)((0,o.Z)({},t),{childrenMarkdownPosition:"between",markdown:["[","](".concat(n,")")]}))};return{byElementType:{link:t,"block-link":t}}},d=n(51914),h=n(93707),f=n(72572),p=n(45594),g=n(90261),m=function(e,t){var n,r=t.leafNode,o=t.insertedText;if(!e.selection||")"!==o||!("text"in r))return!1;var a=(0,l.Ae)(r.text);if(!a)return!1;var s=a.text,u=a.headerId,c=(0,p.rj)();if(!c)return!1;var A=(0,l.Ec)(e),d=(0,l.Yy)(A,s,u),h=d?d.id:u,f=d?d.label:s,g=(0,l.j0)(c,h),m=e.selection.focus,v=m.path,y=m.offset,b="[".concat(s,"](#").concat(u,")"),w=y-b.length;return!(w<0)&&r.text.slice(w,y)===b&&(e.sealHistoryEntry(),i.YR.setSelection(e,{anchor:{path:v,offset:w},focus:{path:v,offset:y}}),i.YR.delete(e),(0,l.T8)(e,g,f),null==(n=e.eventLogger)||n.call(e,"auto_format",{type:"markdown_internal_link"}),!0)};function v(e){var t=e.onPaste,n=e.linkComponent,o=e.blockLinkComponent,a=e.keyBindingHandler;return{name:"link",elements:{link:{inline:!0,component:n,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),o=n[0],a=n[1],s=i.NB.string(o);return""===s||s===f.$?(i.YR.removeNodes(e,{at:a,hanging:!0}),!0):!1===s.startsWith(f.$)?(i.YR.insertText(e,f.$,{at:i.ML.start(e,a)}),!0):void 0}},"block-link":{void:!0,component:o,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),o=n[0],a=n[1];if(""===o.label)return i.YR.removeNodes(e,{at:a,hanging:!0}),!0}}},eventHandlers:{onPaste:t},textInputHandlers:[m,(0,h.dC)({inline:!0,matchMode:"surround",customTest:function(e,t,n){if(!("text"in t))return!1;var i=t.text.match(RegExp("(\\b|\\s|^)(".concat(d.Cj.source,")(\\W?\\s)"),"i"));if(!i)return!1;var o=(0,r.Z)(i,3)[2];return(0,l.Jn)(o)},element:function(e){return(0,l.$g)(e)},customRegExp:RegExp("(\\b|\\s|^)(".concat(d.Cj.source,")(\\W?\\s)"),"i"),str:" "})],fromHtml:c(),toMarkdown:A(),keyBindings:[{key:"k",shortKey:!0,name:"create link",handler:a,logEvent:!0}]}}},90261:function(e,t,n){"use strict";n.d(t,{Ew:function(){return s},km:function(){return l},z2:function(){return a}});var r=n(50930),i=["figureLink","diagramLink"],o=(0,r.Z)(i).concat(["canvasLink"]);function a(e){return o.includes(e)}["externalLink","workspaceLink"].concat((0,r.Z)(o));var s={figureLink:"figure",diagramLink:"diagram",canvasLink:"elements"};function l(e){return i.includes(e)}},80022:function(e,t,n){"use strict";n.d(t,{$g:function(){return x},Ae:function(){return O},Ec:function(){return L},Eo:function(){return C},Jn:function(){return E},T8:function(){return S},Xf:function(){return B},Yy:function(){return U},e6:function(){return R},if:function(){return N},j0:function(){return F},t9:function(){return b}});var r=n(70865),i=n(96670),o=n(87394),a=n(37164),s=n(12995),l=n(45455),u=n.n(l),c=n(45594),A=n(98559),d=n(53942),h=n(3037),f=n(19179),p=n(23649),g=n(72572),m=n(90261),v=function(e){return"link"===e.type},y=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.namespaceId,r=t.workspaceId,i=t.baseUrl||"https://app.eraser.io";if(n&&r){var o=r.startsWith(n)?r.split(":")[1]:r;e="/integration/".concat(n,"/").concat(o)}else r?e="/workspace/".concat(r):(console.warn("Relying on window.location for canvas link. This is unsafe and may not work in all contexts."),e=window.location.pathname);return"".concat(i).concat(e)},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,f.Nq)(),r=Object.values(m.Ew),i="\\?.*(".concat(r.join("|"),")=");return!(!n&&u()(t))&&(n||u()(t)?new RegExp("".concat(window.location.origin,".*").concat(i,".*")).test(e):new RegExp("".concat(y(t),".*").concat(i,".*")).test(e))},w=new Set(["languagepath.ru","ghjqjh.ru","langagepath.ru","hemmo.info","searchmarketingnwtest.info","nafegaerosol.com","autokino.info","crfgroups.com","autoacores.info","procarfinance.info","vectorspa.online"]),_=["javascript:","data:","vbscript:"],E=function(e){try{var t=e,n=e.toLowerCase().trim(),r=!0,i=!1,o=void 0;try{for(var a,s=_[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(n.startsWith(l))return!1}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}if(n.startsWith("mailto:"))return!0;n.startsWith("http://")||n.startsWith("https://")||(t="https://".concat(e));var u=new URL(t).hostname.toLowerCase(),c=!0,A=!1,d=void 0;try{for(var h,f=w[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value;if(u===p||u.endsWith(".".concat(p)))return!1}}catch(e){A=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(A)throw d}}return!0}catch(e){return!1}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.linkType;if(b(e,t)){var i,o,a=new URL(e),s=a.searchParams.get("diagram"),l=a.searchParams.get("figure"),u=a.searchParams.get("elements");s?(i=s,r="diagramLink",o=!0):l?(i=l,r="figureLink",o=!0):(i=u,r=r||"canvasLink");var d={linkType:r||"canvasLink",linkData:i,workspaceId:(0,c.yT)(a),children:[{text:n||"View on canvas"}],isDirectLink:o};return(0,m.km)(d.linkType)&&(d.originalLabel=n),d}return e.includes("".concat(f.jU?window.location.origin:"https://app.eraser.io","/workspace"))?{linkType:"workspaceLink",originalLabel:n,children:[{text:null!=n?n:e}],linkData:e}:((0,A.J)(e)?(n=null!=n?n:e,e="mailto:".concat(e)):!1===e.startsWith("mailto:")&&!1===/https?:\/\//.test(e)&&(e="https://".concat(e)),n||(n=e.replace(/^[^:]*:\/?\/?/,"")),{linkType:"externalLink",linkData:e,children:[{text:n||g.O}]})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=y(t);switch(e.linkType){case"diagramLink":if(e.isDirectLink)return"".concat(n,"?diagram=").concat(e.linkData);return"".concat(n,"?elements=").concat(e.linkData);case"figureLink":if(e.isDirectLink)return"".concat(n,"?figure=").concat(e.linkData);return"".concat(n,"?elements=").concat(e.linkData);case"canvasLink":return"".concat(n,"?elements=").concat(e.linkData);case"externalLink":case"workspaceLink":return e.linkData;default:return""}},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)({id:(0,a.x0)(),isExpanded:!1,type:"link"},C(e,t))},I=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.expandLinksByDefault,u=a.linkType;if(E(t)){var c=x(t,{text:n,linkType:u});if(e.selection){if(l&&(0,m.km)(c.linkType)){var A,d=(0,o.Z)(s.ML.parent(e,e.selection.anchor),2),f=d[0],p=d[1];if((0,h.RF)(f)&&1===f.children.length&&""===s.NB.string(f).trim())return A=c,c=(0,i.Z)((0,r.Z)({},A),{type:"block-link",isExpanded:!0,children:[],label:s.NB.string(A)}),s.ML.withoutNormalizing(e,function(){s.YR.removeNodes(e,{at:p}),s.YR.insertNodes(e,c,{at:p})}),c}return s.YR.insertNodes(e,[c]),c}}},T=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.linkType;if(E(t))return s.ML.withoutNormalizing(e,function(){if(e.selection){var r=s.ML.above(e,{at:e.selection.focus,match:function(t){return s.ML.isBlock(e,t)}}),o=s.ML.above(e,{at:e.selection.anchor,match:function(t){return!e.isInline(t)}});if((null==r?void 0:r[0])===(null==o?void 0:o[0])){var a=s.e6.isForward(e.selection),l=s.ML.rangeRef(e,{anchor:s.e6.start(e.selection),focus:s.e6.end(e.selection)});Array.from(s.ML.nodes(e,{match:v})).map(function(t){return s.ML.pathRef(e,t[1])}).forEach(function(t){if(t.current&&l.current){var n=s.ML.range(e,t.current),r=s.e6.intersection(l.current,n);if(r){if(s.e6.equals(n,r))s.YR.unwrapNodes(e,{at:t.current});else{var i=s.e6.includes(n,l.current.focus),o=i?r.focus:r.anchor;s.YR.splitNodes(e,{at:o,match:function(t){return!s.xv.isText(t)&&!s.ML.isBlock(e,t)}});var u=i?s.y$.parent(r.anchor.path):s.y$.next(s.y$.parent(r.focus.path));if(s.YR.unwrapNodes(e,{at:u}),e.selection){s.YR.setSelection(e,{anchor:l.current.focus,focus:l.current.focus}),i&&s.YR.move(e,{unit:"offset",distance:1,reverse:!0});var c={anchor:l.current.anchor,focus:e.selection.focus};a?s.YR.setSelection(e,c):s.YR.setSelection(e,{anchor:c.focus,focus:c.anchor})}}t.unref()}}}),l.current&&(n=x(t,{text:" ",linkType:i}),s.YR.wrapNodes(e,n,{split:!0})),l.unref()}}}),n},S=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e.selection&&!(0,d.wu)(e,{type:"link"}))return s.e6.isCollapsed(e.selection)?I(e,t,n,r):T(e,t,r)},k=new Set(["wikiLink","mention","link"]),N=function(e){return s.W_.isElement(e)&&k.has(e.type)},D=/\[([^\]]+)\]\(#([^\)]+)\)/,O=function(e){var t=e.match(D);if(!t)return null;var n=(0,o.Z)(t,3),r=n[1],i=n[2];return{text:r.trim(),headerId:i.trim()}},R=function(e){for(var t=[],n=RegExp(D.source,"g"),r=n.exec(e);null!==r;){var i=(0,o.Z)(r,3),a=i[1],s=i[2];t.push({text:a.trim(),headerId:s.trim(),match:r[0],index:r.index}),r=n.exec(e)}return t},F=function(e,t){return"".concat("https://app.eraser.io","/workspace/").concat(e,"#").concat(t)};function L(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,l=s.ML.nodes(e,{at:[],mode:"highest",match:p.$})[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=(0,o.Z)(a.value,1)[0];t.push({id:u.id,level:u.level,label:s.NB.string(u)})}}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return t}function U(e,t,n){var r=e.find(function(e){return e.id===n});if(r)return r;var i=function(e){return e.toLowerCase().trim().replace(/\s+/g,"-")},o=i(t),a=i(n),s=e.find(function(e){var t=i(e.label);return t===o||t===a});if(s)return s;var l=o.length>=3?e.find(function(e){return i(e.label).includes(o)}):null;return l||null}},55611:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var r=["image","code-block","youTubePlayer","blockquote","block-link"]},32970:function(e,t,n){"use strict";var r,i;n.d(t,{R:function(){return r}}),(i=r||(r={}))[i.ordered=0]="ordered",i[i.unordered=1]="unordered",i[i.todos=2]="todos"},70324:function(e,t,n){"use strict";n.d(t,{WO:function(){return l},Wh:function(){return I},h6:function(){return x},Hh:function(){return B},Fg:function(){return E},nq:function(){return a},OD:function(){return s},So:function(){return function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(1!==n.length)return i;var o=(0,u.Z)(n,1)[0];if(r.xv.isText(o))return i;if(t.isContainerBlock(o))return e(t,o.children,i);if(a(o)){var l=o.children.filter(s);return 1===l.length?e(t,l,i):i}if(s(o)){var c=o.children.filter(a);if(1===c.length)return e(t,c[0].children,i);if(0===c.length)return 0===o.children.length?i:r.xv.isText(o.children[0])?o.children:o.children[0].children}return i}},uk:function(){return w},R5:function(){return m},Xm:function(){return v},CA:function(){return C},pT:function(){return g}});var r=n(12995),i=n(3037),o=n(55611);function a(e){return r.W_.isElement(e)&&"list"===e.type}function s(e){return r.W_.isElement(e)&&"list-item"===e.type}function l(e){return void 0===e.find(function(e){return!(a(e)||s(e)||(0,i.A7)(e))})}var u=n(87394),c=n(53942);function A(e,t){if(t){var n=r.y$.isPath(t)?t:r.ML.path(e,t),i=r.NB.get(e,n);if(a(i)&&r.e6.isRange(t))return[i,n];var o=r.ML.above(e,{mode:"lowest",match:a,at:t});return o||(a(i)?[i,n]:void 0)}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection;if(!t)return[];var n=(0,c.wu)(e,{type:"list-item",at:t});if(r.y$.isPath(t)){if(n)return[n];var i=r.NB.get(e,t);return s(i)?[[i,t]]:[]}return!r.e6.isRange(t)||r.e6.isCollapsed(t)?n?[n]:[]:Array.from(r.ML.nodes(e,{at:t,match:function(e,n){return!!s(e)&&r.e6.includes(t,n.concat(0))},mode:"all"}))}function h(e,t){var n=(0,u.Z)(t,2)[1],i=!0,o=!1,s=void 0;try{for(var l,c=r.NB.children(e,n)[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var A=(0,u.Z)(l.value,2),d=A[0],h=A[1];if(a(d))return[d,h]}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}}function f(e,t,n){var i=d(e,t);if(!i.length)return{listSelectionRecords:[],listItemRecords:new WeakMap,cleanup:function(){},retainRefs:function(){}};var o=new WeakMap,a=[],l=!0,c=!1,A=void 0;try{for(var f,p=i[Symbol.iterator]();!(l=(f=p.next()).done);l=!0)!function(){var l=(0,u.Z)(f.value,2),c=l[0],A=l[1],d=r.y$.parent(A),p=r.NB.get(e,d),g=a.find(function(e){return e.list===p});if(!g){var m=r.NB.parent(e,d),v=s(m);g={list:p,listPathRef:r.ML.pathRef(e,d,{affinity:"backward"}),listItemSelectionRecords:[],isFirstItemSelected:!1,isLastItemSelected:!1,isFullListSelected:!!n&&r.e6.isRange(t)&&r.e6.isCollapsed(t),isSubList:v,parentPathRef:v?r.ML.pathRef(e,r.y$.parent(d)):void 0,parentIsSelected:!!v&&i.some(function(e){return e[0]===m})},a.push(g)}var y=h(e,[c,A]),b={listItem:c,pathRef:r.ML.pathRef(e,A),subListRelativePath:y?r.y$.relative(y[1],A):void 0};o.set(c,b),g.listItemSelectionRecords.push(b),0===A.at(-1)&&(g.isFirstItemSelected=!0),A.at(-1)===p.children.length-1&&(g.isLastItemSelected=!0),g.isFullListSelected=g.isFullListSelected||g.isFirstItemSelected&&g.isLastItemSelected}()}catch(e){c=!0,A=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw A}}var g=!0,m=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=a[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;!function(e){e.listPathRef&&e.listPathRef.unref(),e.parentPathRef&&e.parentPathRef.unref();var t=!0,n=!1,r=void 0;try{for(var i,o=e.listItemSelectionRecords[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)i.value.pathRef.unref()}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}(o)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}};return Promise.resolve().then(function(){g&&m()}),{listSelectionRecords:a,listItemRecords:o,cleanup:m,retainRefs:function(){g=!1}}}var p=n(3220);function g(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null!=(t=n.at)?t:e.selection,o=f(e,i,!1).listSelectionRecords;return!!o.length&&(r.ML.withoutNormalizing(e,function(){var t=!0,n=!1,i=void 0;try{for(var s,l=o[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var u=s.value;u.parentIsSelected||function(e,t){!function(e,t){if(!t.isLastItemSelected){var n=t.listItemSelectionRecords.at(-1).pathRef.current;if(r.YR.splitNodes(e,{at:r.y$.next(n),match:a,mode:"lowest"}),t.isSubList){var i,o,s=r.y$.next(t.listPathRef.current),l=null!=(o=null==(i=r.NB.get(e,n).children)?void 0:i.length)?o:0;r.YR.moveNodes(e,{at:s,to:n.concat(l)})}}}(e,t);var n=t.isSubList?2:1,i=!0,o=!1,s=void 0;try{for(var l,u=t.listItemSelectionRecords[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;(0,p.s6)(e,c.pathRef.current,{levels:n}),t.isSubList||r.YR.unwrapNodes(e,{at:c.pathRef.current})}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}!function(e,t){if(t.isFirstItemSelected&&t.isLastItemSelected&&t.isSubList&&(null==(n=t.parentPathRef)?void 0:n.current)){var n,i=t.parentPathRef.current;""===r.NB.string(r.NB.get(e,t.parentPathRef.current))&&r.YR.removeNodes(e,{at:i})}}(e,t)}(e,u)}}catch(e){n=!0,i=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw i}}}),!0)}function m(e,t){if(!t.current)return!1;if(s(r.NB.get(e,t.current))&&!a(r.NB.parent(e,t.current)))return r.YR.unwrapNodes(e,{at:t.current}),!0;var n=!0,i=!1;do(n=g(e,{at:t.current}))&&(i=!0);while(n&&t.current);return i}function v(e,t){var n,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.selection;if(!u)return!1;var A=(n=e,l=u,Array.from(r.ML.nodes(n,{at:r.ML.unhangRange(n,l),match:function(e){return r.ML.isBlock(n,e)&&!n.isContainerBlock(e)&&!a(e)&&!s(e)&&!(0,i.A7)(e)&&!o.f.includes(e.type)},mode:"highest"}))),d=f(e,u,!0).listSelectionRecords;return(!!A.length||!!d.length)&&(0===A.length&&d.every(function(e){return e.list.listType===t})?r.ML.withoutNormalizing(e,function(){!function(e,t){var n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.isFullListSelected){for(var u=l.listPathRef;u.current&&!(0,c.XU)(e,u.current);)(0,p.s6)(e,u.current,{levels:2});r.YR.unwrapNodes(e,{at:u.current});continue}var A=!0,d=!1,h=void 0;try{for(var f,g=l.listItemSelectionRecords[Symbol.iterator]();!(A=(f=g.next()).done);A=!0){var v=f.value;m(e,v.pathRef)}}catch(e){d=!0,h=e}finally{try{A||null==g.return||g.return()}finally{if(d)throw h}}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}(e,d)}):r.ML.withoutNormalizing(e,function(){(function(e,t,n){var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r.YR.setNodes(e,{type:"list",listType:n},{at:u[1]})}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}})(e,A,t),function(e,t,n){var i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.list.listType!==n){var c=u.listPathRef.current;if(!c){console.warn("[Toggle List] Unexpectedly found undefined path.");continue}if(u.isFullListSelected){r.YR.setNodes(e,{listType:n},{at:c});continue}u.isLastItemSelected||(r.YR.splitNodes(e,{at:r.y$.next(u.listItemSelectionRecords.at(-1).pathRef.current)}),"forward"===u.listPathRef.affinity&&(c=r.y$.previous(c))),u.isFirstItemSelected||(r.YR.splitNodes(e,{at:u.listItemSelectionRecords[0].pathRef.current,always:!0}),"backward"===u.listPathRef.affinity&&(c=r.y$.next(c))),r.YR.setNodes(e,{listType:n},{at:c})}}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}(e,d,t)}),!0)}var y=n(70865),b=n(96670);function w(e,t){if((0,p.m_)(e,t,{type:"list-item",retainLevel:!0}))return!0;var n=(0,c.wu)(e,{type:"list-item"}),i=A(e,null==n?void 0:n[1]),o=A(e,null==i?void 0:i[1]);if(!n||!i||!o)return!1;var a=(0,u.Z)(i,2),s=a[0],l=a[1],d=(0,c.gb)(e,r.y$.parent(l),t);if(!d)return!1;d.push(1);var h=r.NB.has(e,d)?r.NB.get(e,d):void 0;return r.ML.withoutNormalizing(e,function(){if(!h){var i,o=r.NB.extractProps(s);r.YR.insertNodes(e,(0,b.Z)((0,y.Z)({},o),{children:[]}),{at:d})}var a="down"===t?0:(null==h||null==(i=h.children)?void 0:i.length)||0;r.YR.moveNodes(e,{at:n[1],to:d.concat(a)})}),!0}var _=n(50930);function E(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=f(e,null!=(t=n.at)?t:e.selection,!1),o=i.listSelectionRecords,a=i.listItemRecords;if(!o.length)return!1;var s=!1;return r.ML.withoutNormalizing(e,function(){var t=!0,n=!1,i=void 0;try{for(var l,c=o[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var A=l.value;A.isFirstItemSelected||(function(e,t,n){var i=void 0,o=!0,a=!1,s=void 0;try{for(var l,c=t.listItemSelectionRecords[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var A=l.value,d=A.pathRef.current;if(!d){console.warn("[Indent List Item] Unexpectedly found undefined path.");continue}i||function(n){var o,a,s=r.y$.previous(n),l=r.NB.get(e,s),u=h(e,[l,s]);if(u){i=u[1];return}i=s.concat(null!=(a=null==(o=l.children)?void 0:o.length)?a:0);var c={type:"list",listType:t.list.listType,children:[]};r.YR.insertNodes(e,c,{at:i})}(d),function(t){var n=r.NB.get(e,i).children.length;r.YR.moveNodes(e,{at:t,to:i.concat(n)})}(d),function t(i){if(i.subListRelativePath){var o=i.pathRef.current,a=r.y$.parent(o).concat(o.at(-1)+1),s=o.concat.apply(o,(0,_.Z)(i.subListRelativePath)),l=!0,c=!1,A=void 0;try{for(var d,h=r.NB.children(e,s,{reverse:!0})[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=(0,u.Z)(d.value,2),p=f[0],g=f[1],m=n.get(p);if(!m){r.YR.moveNodes(e,{at:g,to:a});continue}t(m)}}catch(e){c=!0,A=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw A}}}}(A)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}(e,A,a),s=!0)}}catch(e){n=!0,i=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw i}}}),s}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.at,i=void 0===n?e.selection:n;if(!i)return!1;var o=r.ML.range(e,i);return r.ML.withoutNormalizing(e,function(){var t=d(e,o),n=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0)!function(){var t=s.value,n=(0,u.Z)(t,2),i=n[0],o=n[1];"done"in i&&r.YR.setNodes(e,{done:!i.done},{at:o,match:function(e){return e===i}})}()}catch(e){i=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}}),!0}function B(e){var t=(0,c.wu)(e,{type:"list-item"});if(!t)return!1;var n=(0,u.Z)(t,2),i=n[0],o=n[1];if(""===r.NB.string(i))return g(e);if("done"in i&&i.done){var a=r.y$.next(o);return r.ML.withoutNormalizing(e,function(){r.YR.splitNodes(e,{always:!0,match:function(e){return e===i}}),r.YR.setNodes(e,{done:!1},{at:a,mode:"highest"})}),!0}return!!(0,c.yi)(e)&&(r.ML.withoutNormalizing(e,function(){var n=(0,b.Z)((0,y.Z)({},r.NB.extractProps(i)),{type:"list-item",children:[{type:"div",children:[{text:""}]}]}),a=h(e,t);r.YR.insertNodes(e,n,{at:r.y$.next(o),select:!0}),a&&r.YR.moveNodes(e,{at:a[1],to:r.y$.next(o).concat(1)})}),!0)}function x(e,t){if(e.selection){var n=(0,u.Z)(r.ML.edges(e,e.selection),2),i=n[0],o=n[1],a=(0,c.wu)(e,{type:"list",at:i});if(a){var s=r.ML.isStart(e,i,a[1]),l=r.E9.isAfter(o,r.ML.end(e,a[1]));s&&l&&r.YR.removeNodes(e,{at:a[1]})}}}function I(e){var t=(0,c.wu)(e,{type:"list-item"});if(!t)return!1;var n=(0,u.Z)(t,2),i=n[0],o=n[1];return!!(0,c.FU)(e,{blockPath:o,includeOffset:!0})&&(""===r.NB.string(i)?(r.YR.removeNodes(e,{at:o}),r.y$.hasPrevious(o)?r.YR.select(e,r.ML.end(e,r.y$.previous(o))):r.y$.hasPrevious(r.y$.parent(o))&&r.YR.select(e,r.ML.end(e,r.y$.previous(r.y$.parent(o)))),!0):g(e))}},12613:function(e,t,n){"use strict";n.d(t,{JI:function(){return a},PR:function(){return s},U:function(){return o}});var r=n(42838),i=n(53942),o=function(e){var t=window.location.origin,n=new URL("".concat(t).concat(window.location.pathname));return n.hash=e,n.toString()},a=function(e){var t,n;if(!e)return null;if("string"==typeof e)n=new URL(e);else if((0,r.Z)(e,URL))n=e;else{if("workspaceLink"!==e.linkType)return null;n=new URL(e.linkData)}return(null==(t=n.hash)?void 0:t.slice(1))||null},s=function(e){var t=(0,i.wu)(e,{type:"header"});if(t){var n=o(t[0].id);return navigator.clipboard.writeText(n).then(function(){var t;null==(t=e.toast)||t.success("Link copied!")}),!0}}},23649:function(e,t,n){"use strict";n.d(t,{$:function(){return r.$},A:function(){return r.A}});var r=n(87245)},87245:function(e,t,n){"use strict";n.d(t,{$:function(){return d},A:function(){return m}});var r=n(50930),i=n(3220),o=n(93707),a=n(70865),s=n(96670),l=n(26297),u=n(37164),c=n(46807),A=n(12613);function d(e){return!!e&&"object"==typeof e&&"type"in e&&"header"===e.type}var h=(0,r.Z)(Array(6).keys()).map(function(e,t){var n=t+1;return(0,o.O2)({code:"Digit".concat(n),elementArg:{type:"header",level:n},opts:{shortKey:!0,altKey:!0},params:{disableInTable:!0}})}),f=[(0,o.bO)("b","bold"),(0,o.bO)("i","italic"),(0,o.bO)("u","underline"),(0,o.bO)("x","strike",{shiftKey:!0,shortKey:!0})].concat((0,r.Z)(h),[{name:"move-text-down",key:"ArrowDown",altKey:!0,handler:function(e){return!!(0,i.m_)(e,"down",{type:"header"})||(0,i.m_)(e,"down",{type:"paragraph"})},logEvent:!0},{name:"move-text-up",key:"ArrowUp",altKey:!0,handler:function(e){return!!(0,i.m_)(e,"up",{type:"header"})||(0,i.m_)(e,"up",{type:"paragraph"})},logEvent:!0},{name:"copy-link",key:"k",shortKey:!0,shiftKey:!0,handler:A.PR,logEvent:!0}]),p=(0,r.Z)(Array(6).keys()).map(function(e,t){var n=t+1,r="#".repeat(n)+" ";return(0,o.dC)({str:r,element:{type:"header",level:n},matchMode:"start",isDisabledInTable:!0})}),g=function(e){var t=(null==e?void 0:e.includes("header"))?[]:p;return[(0,o.dC)({str:"**",format:"bold",matchMode:"surround"}),(0,o.dC)({str:"*",format:"italic",matchMode:"surround"}),(0,o.dC)({str:"_",format:"italic",matchMode:"surround"}),(0,o.dC)({str:"~",format:"strike",matchMode:"surround"})].concat((0,r.Z)(t))},m=function(e,t){var n=e.boldComponent,r=e.headerComponent,i=e.italicComponent,o=e.strikeComponent,A=e.underlineComponent;return{name:"rich-text",keyBindings:f,textInputHandlers:g(null==t?void 0:t.ignorePlugins),fromHtml:{formatsByTag:{B:"bold",S:"strike",I:"italic",EM:"italic",STRONG:"bold",U:"underline"},customRules:[function(e){var t=e.domNode,n=e.parseChildren,r=(0,l.Z)(e,["domNode","parseChildren"]);switch(t.nodeName){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":var i=parseInt(t.nodeName[1]);return{id:(0,u.x0)(),type:"header",level:i,children:n((0,s.Z)((0,a.Z)({domNode:t.childNodes,parseChildren:n},r),{textProps:{}}))}}if("SPAN"===t.nodeName&&"ace-all-bold-hthree"===t.className){var o,c,A=(null==(o=t.firstElementChild)||null==(c=o.firstElementChild)?void 0:c.childNodes)||t.childNodes;return{id:(0,u.x0)(),type:"header",level:3,children:n((0,s.Z)((0,a.Z)({domNode:A,parseChildren:n},r),{textProps:{}}))}}}]},toMarkdown:{byElementType:{header:function(e){var t=Array(e.element.level).fill("#").join("").concat(" ");return(0,c.H4)((0,s.Z)((0,a.Z)({},e),{markdown:[t,"\n"],childrenMarkdownPosition:"between"}))}},byFormat:{bold:function(e){var t=e.element;return(0,c.R1)({element:t,markdown:["**","**"],childrenMarkdownPosition:"between"})},italic:function(e){var t=e.element;return(0,c.R1)({element:t,markdown:["_","_"],childrenMarkdownPosition:"between"})},strike:function(e){var t=e.element;return(0,c.R1)({element:t,markdown:["~","~"],childrenMarkdownPosition:"between"})}}},formats:{bold:{component:n},italic:{component:i},strike:{component:o},underline:{component:A}},elements:{header:{component:r,enterBehavior:"create-paragraph"}},conversionRules:{header:{disallowedTypes:["image","code-block","blockquote","youTubePlayer","block-link"]}}}}},77066:function(e,t,n){"use strict";var r=n(87394),i=n(50930),o=n(12995),a=n(9850),s=n.n(a),l=n(3220),u=n(53942),c=n(49605),A={rowCount:2,columnCount:3,addHeader:!0};function d(e,t,n){var a,s=f(e,t);if(s){var l=(0,r.Z)(s,2),u=l[0],A=l[1],d=(0,c.t_)(u),h=d.rowCount,p=d.columnCount,g=null!=n?Math.min(n,h):null!=(a=(0,c.bW)(e))?a:h,m=(0,c.gJ)(p),v=u.children.findIndex(c.WC),y=(0,i.Z)(A).concat([v,g]);return o.YR.insertNodes(e,m,{at:y}),y}}function h(e,t,n){var a,s=f(e,t);if(s){var l=(0,c.t_)(s[0]).columnCount;if(null!=n)a=Math.min(n,l);else{var u=(0,c.pm)(e);a="number"==typeof u?u+1:l}var A=(0,r.Z)((0,c.ih)(s),2),d=A[0],h=A[1],p=[];if(h)return o.ML.withoutNormalizing(e,function(){if(d){var t=(0,r.Z)(d,2),n=(t[0],t[1]),s=(0,i.Z)(n).concat([0,a]);p.push(s),o.YR.insertNodes(e,(0,c.lg)(),{at:s})}var l=(0,r.Z)(h,2),u=l[0],A=l[1],f=!0,g=!1,m=void 0;try{for(var v,y=o.NB.children(u,[])[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var b=(0,r.Z)(v.value,2),w=(b[0],b[1]),_=(0,i.Z)(A).concat((0,i.Z)(w),[a]);p.push(_),o.YR.insertNodes(e,(0,c.lg)(),{at:_})}}catch(e){g=!0,m=e}finally{try{f||null==y.return||y.return()}finally{if(g)throw m}}}),p}}function f(e,t){if(t){var n=o.NB.has(e,t)?o.NB.get(e,t):void 0;return(0,c.wb)(n)?[n,t]:void 0}return(0,u.wu)(e,{type:"table"})}t.ZP={insertTable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;if(!e.selection||(0,u.wu)(e,{type:"table"}))return!1;var n=o.ML.above(e,{match:function(t){return e.isContainerBlock(t)}}),r=n?n[1]:[],i=o.ML.path(e,o.e6.end(e.selection)).slice(0,r.length+1),a=""===o.NB.string(o.NB.get(e,i)),s=o.y$.next(i);return o.ML.withoutNormalizing(e,function(){var n=(0,c.uw)(t);o.YR.insertNodes(e,n,{at:s}),o.YR.select(e,s.concat([0,0,0,0,0])),a&&o.YR.removeNodes(e,{at:i})}),!0},removeTable:function(e){var t=f(e);if(!t)return!1;var n=(0,r.Z)(t,2),i=(n[0],n[1]);return o.YR.removeNodes(e,{at:i}),!0},moveRow:function(e,t){var n=(0,u.wu)(e,{type:"table"});if(!n)return!1;var i=(0,r.Z)((0,c.ih)(n),2),a=i[0],A=i[1],d=(0,c.$0)(e)||{},h=d.rowIndex,f=d.colIndex;return a&&A&&(0===h&&"up"===t||-1===h&&"down"===t)?(o.ML.withoutNormalizing(e,function(){var n=s()(a[0].children[0]),r=s()(A[0].children[0]);o.YR.removeNodes(e,{at:A[1].concat(0)}),o.YR.removeNodes(e,{at:a[1].concat(0)}),o.YR.insertNodes(e,n,{at:A[1].concat(0)}),o.YR.insertNodes(e,r,{at:a[1].concat(0)});var i="up"===t?a[1]:A[1];o.YR.select(e,i.concat(0,f)),o.YR.collapse(e,{edge:"end"})}),o.ML.normalize(e,{force:!0}),!0):(0,l.m_)(e,t,{type:"table-row",retainLevel:!0})},moveColumn:function(e,t){var n=(0,u.wu)(e,{type:"table"});if(!n)return!1;var a=(0,r.Z)(n,2),s=a[0],l=a[1],A=(0,c.pm)(e),d=(0,c.t_)(s).columnCount;return 0===A&&"left"===t||A===d-1&&"right"===t||(o.ML.withoutNormalizing(e,function(){var n=!0,a=!1,u=void 0;try{for(var c,d=o.NB.children(s,[])[Symbol.iterator]();!(n=(c=d.next()).done);n=!0){var h=c.value,f=h[1][0],p=!0,g=!1,m=void 0;try{for(var v,y=o.NB.children(h[0],[])[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var b=(0,r.Z)(v.value,2),w=(b[0],b[1]),_=(0,i.Z)(l).concat([f,w[0]]),E="left"===t?A-1:A+1;o.YR.moveNodes(e,{at:_.concat(A),to:_.concat(E)})}}catch(e){g=!0,m=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw m}}}}catch(e){a=!0,u=e}finally{try{n||null==d.return||d.return()}finally{if(a)throw u}}}),!0)},addRow:d,addRowBefore:function(e){var t=(0,c.$0)(e);t&&!t.isInHeader&&d(e,void 0,t.rowIndex)},addColumn:h,addColumnBefore:function(e){var t=(0,c.$0)(e);t&&h(e,void 0,t.colIndex)},removeRow:function(e,t,n){var a,s,l=f(e,t);if(!l)return!1;var u=(0,r.Z)(l,2),A=u[0],d=u[1],h=(0,c.t_)(A).rowCount;if(1===h)return!1;var p=Math.min(n||0,h-1);-1===(p=null!=n?Math.min(n,h-1):null!=(s=null==(a=(0,c.mt)(e))?void 0:a[0])?s:h-1)&&(p=0);var g=A.children.findIndex(c.WC),m=(0,i.Z)(d).concat([g,p]);return o.YR.removeNodes(e,{at:m}),!0},removeColumn:function(e,t,n){var a,s=f(e,t);if(!s)return!1;var l=(0,c.t_)(s[0]).columnCount;if(1===l)return!1;if(null!=n)a=Math.min(n,l-1);else{var u=(0,c.pm)(e);a=null!=u?u:l-1}var A=(0,r.Z)((0,c.ih)(s),2),d=A[0],h=A[1];return!!h&&(o.ML.withoutNormalizing(e,function(){if(d){var t=(0,i.Z)(d[1]).concat([0,a]);o.YR.removeNodes(e,{at:t})}var n=(0,r.Z)(h,2),s=n[0],l=n[1],u=!0,c=!1,A=void 0;try{for(var f,p=o.NB.children(s,[])[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var g=(0,r.Z)(f.value,2),m=(g[0],g[1]),v=(0,i.Z)(l).concat((0,i.Z)(m),[a]);o.YR.removeNodes(e,{at:v})}}catch(e){c=!0,A=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw A}}}),!0)},moveCursorVertically:function(e,t){if(e.selection){var n=(0,c.$0)(e);n&&e.selection&&function e(t,n,r){requestAnimationFrame(function(){if(o.E9.equals(n,t.selection.anchor))return e(t,n,r);r()})}(e,e.selection.anchor,function(){o.ML.withoutNormalizing(e,function(){var r=(0,c.$0)(e);if(!r||n.rowIndex===r.rowIndex&&n.colIndex===r.colIndex)return;var i=(0,u.wu)(e,{type:"table"});if(i){var a=(0,c.fZ)(i[0],n.rowIndex,n.colIndex,1===t?"down":"up");if(a){var s=(0,c.H0)(i,a[0],a[1]);s&&(o.YR.select(e,s[1]),o.YR.collapse(e,{edge:1===t?"start":"end"}))}}})})}},cycleNavigation:function(e,t){if(!e.selection)return;var n=(0,u.wu)(e,{type:"table"});if(!n)return;var r=(0,c.$0)(e);if(r){var i=(0,c.fZ)(n[0],r.rowIndex,r.colIndex,1===t?"right":"left");if(i){var a=(0,c.H0)(n,i[0],i[1]);if(a)return o.YR.select(e,a[1]),o.YR.collapse(e,{edge:1===t?"start":"end"}),!0}}},insertCellsContents:function(e,t){var n=(0,u.wu)(e,{type:"table"});if(n){var a=(0,r.Z)((0,c.ih)(n),2),s=(a[0],a[1]);if(s){var l=(0,c.t_)(n[0]),A=(0,c.$0)(e);if(A)return o.ML.withoutNormalizing(e,function(){t.forEach(function(t,r){return t.forEach(function(t,i){var a=(0,c.H0)(n,A.rowIndex+r,A.colIndex+i);a&&(o.YR.removeNodes(e,{at:a[1]}),o.YR.insertNodes(e,t,{at:a[1]}))})});var r=Math.max(A.rowIndex+t.length-l.rowCount,0);if(r)for(var a=0;a<r;a++){var u,d=(0,c.gJ)(l.columnCount),h=t[t.length-r+a].slice(0,l.columnCount-A.colIndex);(u=d.children).splice.apply(u,[A.colIndex,h.length].concat((0,i.Z)(h))),o.YR.insertNodes(e,d,{at:(0,i.Z)(s[1]).concat([l.rowCount+a])})}var f=(0,c.H0)(n,A.rowIndex,A.colIndex);f&&(o.YR.select(e,f[1]),o.YR.collapse(e,{edge:"end"}))}),!0}}},duplicateTable:function(e){var t=(0,u.wu)(e,{type:"table"});if(t){var n=s()(t[0]);return o.YR.insertNodes(e,n,{at:t[1]}),!0}},duplicateRow:function(e){var t=(0,u.wu)(e,{type:"table"});if(!t)return;var n=(0,r.Z)((0,c.ih)(t),2),a=(n[0],n[1]);if(a){var l=(0,u.wu)(e,{type:"table-row"});if(l){var A=(0,c.bW)(e);if("number"==typeof A){var d=s()(l[0]),h=(0,i.Z)(a[1]).concat([A]);return o.YR.insertNodes(e,d,{at:h}),!0}}}},duplicateColumn:function(e){var t=(0,u.wu)(e,{type:"table"});if(t){var n=(0,r.Z)((0,c.ih)(t),2),a=n[0],l=n[1];if(l){var A=(0,c.pm)(e);if("number"==typeof A){var d=[];a&&(0,c.zl)(a[0].children[0])&&d.push([a[0].children[0],(0,i.Z)(a[1]).concat([0])]),d.push.apply(d,(0,i.Z)(l[0].children.map(function(e,t){return[e,(0,i.Z)(l[1]).concat([t])]})));var h=!0,f=!1,p=void 0;try{for(var g,m=d[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var v=(0,r.Z)(g.value,2),y=v[0],b=v[1],w=s()(y.children[A]),_=(0,i.Z)(b).concat([A]);o.YR.insertNodes(e,w,{at:_})}}catch(e){f=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(f)throw p}}return!0}}}}}},49605:function(e,t,n){"use strict";n.d(t,{$0:function(){return O},Bn:function(){return v},H0:function(){return L},IM:function(){return m},LC:function(){return w},Qb:function(){return y},WC:function(){return p},bW:function(){return k},fZ:function(){return R},gJ:function(){return x},ih:function(){return F},lg:function(){return I},mD:function(){return M},mt:function(){return N},np:function(){return b},pm:function(){return D},tK:function(){return _},t_:function(){return T},uw:function(){return E},vL:function(){return function e(t){if(t.length){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(l.W_.isElement(s)){if(h(s))return s;if(s.children){var u=e(s.children);if(u)return u}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},wb:function(){return h},yX:function(){return f},zl:function(){return g}});var r=n(26297),i=n(87394),o=n(50930),a=n(61258),s=n.n(a),l=n(12995),u=n(37164),c=n(53942),A=n(97462),d=n(4171);function h(e){return l.W_.isElement(e)&&"table"===e.type}function f(e){return l.W_.isElement(e)&&"table-head"===e.type}function p(e){return l.W_.isElement(e)&&"table-body"===e.type}function g(e){return l.W_.isElement(e)&&"table-row"===e.type}function m(e){return l.W_.isElement(e)&&"table-cell"===e.type}function v(e){return!!(0,c.wu)(e,{type:"table-head"})}function y(e){var t=(0,c.wu)(e,{type:"table"});if(!t)return!1;var n=(0,i.Z)(F(t),1)[0],r=(O(e)||{}).rowIndex;return n?-1===r:0===r}function b(e){var t=(0,c.wu)(e,{type:"table"});if(!t)return!1;var n=T(t[0]).rowCount;return(O(e)||{}).rowIndex===n-1}function w(e){return!!(0,c.wu)(e,{type:"table"})&&0===(O(e)||{}).colIndex}function _(e){var t=(0,c.wu)(e,{type:"table"});if(!t)return!1;var n=T(t[0]).columnCount;return(O(e)||{}).colIndex===n-1}function E(e){var t=e.id,n=void 0===t?(0,u.x0)():t,i=e.addHeader,o=(0,r.Z)(e,["id","addHeader"]),a=B(o),s="blocks"in o?1:o.columnCount;return{id:n,type:"table",children:void 0!==i&&i?[C(s),a]:[a]}}function C(e){return{type:"table-head",children:[x(e)]}}function B(e){if("blocks"in e)return{type:"table-body",children:e.blocks.map(function(e){return x(e)})};var t=e.rowCount,n=e.columnCount;return{type:"table-body",children:s()(t,function(){return x(n)})}}function x(e){return{type:"table-row",children:S(e).map(function(e){return I(e)})}}function I(e){return{type:"table-cell",children:e?S(e).map(function(e){return e||(0,A.Q)()}):[(0,A.Q)()]}}function T(e){var t,n,r,o,a,s,l,u,c=(0,i.Z)(F([e,[]]),2),A=c[0],d=c[1];if(!d&&!A)return{rowCount:0,columnCount:0,hasHeader:!1};var h=d?null==(t=d[0])?void 0:t.children.length:0,f=null!=(o=null==d||null==(n=d[0])?void 0:n.children[0])?o:null==A?void 0:A[0].children[0],p=null!=(a=null==f||null==(r=f.children)?void 0:r.length)?a:0;return A&&(p=Math.max(p,null!=(u=null==(s=A[0].children[0])||null==(l=s.children)?void 0:l.length)?u:0)),{rowCount:h,columnCount:p,hasHeader:!!A}}function S(e){return e?"number"==typeof e?s()(e,function(){}):l.W_.isElement(e)?[e]:e:[]}function k(e){var t=N(e);if(t){var n=(0,i.Z)(t,2),r=n[0];return n[1]?0:r+1}}function N(e){var t=(0,c.wu)(e,{type:"table-row"});if(t){var n=l.NB.parent(e,t[1]);if(p(n))return[t[1].at(-1),!1];if(f(n))return[-1,!0]}}function D(e){var t=(0,c.wu)(e,{type:"table-cell"});if(t)return t[1].at(-1)}function O(e){var t=D(e),n=N(e);return null!=n&&null!=t?{rowIndex:n[0],isInHeader:n[1],colIndex:t}:void 0}function R(e,t,n,r){var i=T(e),o=i.rowCount,a=i.columnCount,s=i.hasHeader,l=-1===t,u=0===t,c=t===o-1;switch(r){case"up":if(l)return;if(u)return s?[-1,n]:void 0;return[t-1,n];case"down":if(l)return o>0?[0,n]:void 0;return c?void 0:[t+1,n];case"left":if(0===n){if(l)return;return u&&!s?void 0:[t-1,a-1]}return[t,n-1];case"right":if(n===a-1)return c?void 0:[t+1,0];return[t,n+1]}}function F(e){var t,n,r=(0,i.Z)(e,2),o=r[0],a=r[1];return f(o.children[0])?(t=[o.children[0],a.concat(0)],p(o.children[1])&&(n=[o.children[1],a.concat(1)])):p(o.children[0])&&(n=[o.children[0],a.concat(0)]),[t,n]}function L(e,t,n){if(e){var r=(0,i.Z)(F(e),2),o=r[0],a=r[1];if(-1===t&&o){var s=(0,i.Z)(o,2),l=s[0],u=s[1];return n<0||n>=l.children[0].children.length?void console.warn("Attempted to get cell entry out of bounds"):[l.children[0].children[n],u.concat(0,n)]}if(a){var c=(0,i.Z)(a,2),A=c[0],d=c[1];if(t<0||t>=A.children.length)return void console.warn("Attempted to get cell entry out of bounds");var h=A.children[t];return n<0||n>=h.children.length?void console.warn("Attempted to get cell entry out of bounds"):[h.children[n],d.concat(t,n)]}}}var U=["paragraph","div","span","mention","code","link","wikiLink","list","list-item","comment","section","image"],P=["paragraph","div","span","mention","code","link","wikiLink","comment"];function M(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(g(s)){t.push(s);continue}if(p(s)||f(s)){var l=!0,u=!1,c=void 0;try{for(var A,d=s.children[Symbol.iterator]();!(l=(A=d.next()).done);l=!0){var h=A.value;g(h)&&t.push(h)}}catch(e){u=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}t.ZP={isTable:h,isTableHead:f,isTableBody:p,isTableRow:g,isTableCell:m,makeCell:I,makeRow:x,makeHeader:C,makeBody:B,getCurrentBodyRowIndex:N,getNextBodyRowIndex:k,getCurrentColIndex:D,getNextCellInDirection:function(e,t){var n=O(e);if(n){var r=(0,c.wu)(e,{type:"table"});if(r){var o=R(r[0],n.rowIndex,n.colIndex,t);if(o){var a=(0,i.Z)(o,2),s=a[0],l=a[1],u=L(r,s,l);if(u)return{cellEntry:u,row:s,column:l}}}}},normalizeTable:function(e,t){var n=(0,i.Z)(t,2),r=n[0],o=n[1],a=(0,i.Z)(F([r,o]),2),s=a[0],u=a[1],c=T(r).columnCount;if(!s&&!u)return l.YR.removeNodes(e,{at:o}),!0;if(s){if(l.xv.isText(s[0].children[0])){l.YR.removeNodes(e,{at:s[1].concat(0)});var A=x(c);return l.YR.insertNodes(e,A,{at:s[1].concat(0)}),!0}}else{var d=C(c);return l.YR.insertNodes(e,d,{at:o.concat(0)}),!0}if(u){if(l.xv.isText(u[0].children[0])){l.YR.removeNodes(e,{at:u[1].concat(0)});var h=x(c);return l.YR.insertNodes(e,h,{at:u[1].concat(0)}),!0}}else{var f=B({rowCount:1,columnCount:c});return l.YR.insertNodes(e,f,{at:o.concat(1)}),!0}},normalizeRow:function(e,t){var n=(0,i.Z)(t,2),r=n[0],o=n[1],a=(0,c.wu)(e,{type:"table",at:o});if(a){var u=T((0,i.Z)(a,1)[0]).columnCount;if(l.xv.isText(r.children[0]))return l.YR.removeNodes(e,{at:o.concat(0)}),!0;if(r.children.length<u||l.xv.isText(r.children[0])){r.children[0]&&l.xv.isText(r.children[0])&&l.YR.removeNodes(e,{at:o.concat(0)});var A=u-r.children.length,d=s()(A,I);return l.YR.insertNodes(e,d,{at:o.concat(r.children.length)}),!0}}},normalizeCell:function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];r.children.length||l.YR.insertNodes(e,(0,A.Q)(),{at:a.concat(0)});var s=(0,c.wu)(e,{type:"table-row",at:a});if(s){for(var u=f(l.NB.parent(e,s[1]))?P:U,h=0;h<r.children.length;h++){var p=r.children[h];l.xv.isText(p)&&l.YR.wrapNodes(e,{type:"paragraph",children:[]},{at:a.concat(h)})}var g=!0,m=!1,v=void 0;try{for(var y,b=l.NB.descendants(r)[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=(0,i.Z)(y.value,2),_=w[0],E=w[1];if(!l.xv.isText(_)&&"type"in _&&!u.includes(_.type))return!function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];l.ML.withoutNormalizing(e,function(){switch(r.type){case"block-link":var t={id:r.id,type:"link",isExpanded:!1,linkData:r.linkData,linkType:r.linkType,originalLabel:r.originalLabel,workspaceId:r.workspaceId,children:[{text:d.$m+r.label}]};l.YR.removeNodes(e,{at:a}),l.YR.insertNodes(e,[{type:"paragraph",children:[{text:""},t,{text:""}]}],{select:!0,at:a});break;case"code-block":if(l.YR.removeNodes(e,{at:a}),!l.xv.isText(r.children[0]))break;var n=r.children[0].text.split("\n").flatMap(function(e){return[{type:"code",children:[{text:e}]},{text:"\n"}]}).slice(0,-1);l.YR.insertNodes(e,{type:"paragraph",children:[{text:""}].concat((0,o.Z)(n),[{text:""}])},{select:!0,at:a});break;case"blockquote":case"header":l.YR.removeNodes(e,{at:a});var i=r.children.filter(function(e){return l.xv.isText(e)}).flatMap(function(e){return[{text:e.text},{text:"\n"}]}).slice(0,-1);l.YR.insertNodes(e,{type:"paragraph",children:[{text:""}].concat((0,o.Z)(i),[{text:""}])},{select:!0,at:a});break;case"divider":l.YR.removeNodes(e,{at:a}),l.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{select:!0,at:a});break;case"list-item":case"table-head":case"table-body":case"table-row":case"table-cell":break;default:l.YR.removeNodes(e,{at:a})}})}(e,[_,a.concat(E)]),!0}}catch(e){m=!0,v=e}finally{try{g||null==b.return||b.return()}finally{if(m)throw v}}}}}},39269:function(e,t,n){"use strict";n.d(t,{Hi:function(){return l}});var r=n(12995),i=n(3220),o=/(?:\s|\(|^)\+(?:\s|\)|\.|\,|\!|\?|$)/,a=["paragraph","div","blockquote","header"],s=function(e,t){var n=t.leafNode,s=t.insertedText;if(!e.selection)return!1;if(" "===s){var l=r.ML.above(e,{match:function(e){return!!e&&"object"==typeof e&&"type"in e&&"wikiLink"===e.type}});l&&"+ "===n.text&&r.YR.unwrapNodes(e,{at:l[1]})}if("+"===s){if(!o.exec(n.text))return!1;var u,c=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)}});if(c&&"type"in c[0]&&!a.includes(c[0].type))return!1;var A=e.selection,d=A.focus,h=A.anchor;return e.sealHistoryEntry(),r.YR.select(e,{focus:r.ML.before(e,d),anchor:h}),(0,i.Yl)(e,{type:"wikiLink"}),r.YR.setSelection(e,{focus:e.selection.anchor}),null==(u=e.eventLogger)||u.call(e,"auto_format",{type:"wikilink"}),e.sealHistoryEntry(),!0}return!1};function l(e){return{name:"wiki-link",elements:{wikiLink:{inline:!0,component:e.LinkComponent,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph"}},textInputHandlers:[s]}}},58490:function(e,t,n){"use strict";n.d(t,{Qm:function(){return l},Y4:function(){return o},ZA:function(){return s},a5:function(){return c},jM:function(){return u},ts:function(){return a}});var r=n(12995),i=n(70324);function o(e,t){var n="string"==typeof t?{direction:t}:t,i=n.direction,o=n.distance,a=void 0===o?1:o,s=n.unit,l=void 0===s?"line":s;r.ML.withoutNormalizing(e,function(){r.YR.move(e,{distance:a,unit:l,reverse:"up"===i,edge:"start"}),r.YR.collapse(e,{edge:"start"})})}function a(e){if(e.selection){var t=r.ML.path(e,e.selection);if(r.e6.isCollapsed(e.selection))return void r.YR.select(e,t);for(var n=r.NB.get(e,t);t.length&&(t=r.y$.parent(t),!r.ML.isBlock(e,n)||1===r.NB.get(e,t).children.length);)n=r.NB.get(e,t);r.YR.select(e,t)}}var s=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.match,a=n.noListItems,s=void 0===a||a,l=n.withPaths,u=n.hanging,c=null!=(t=e.selection)?t:void 0;!(void 0!==u&&u)&&e.selection&&(c=r.ML.unhangRange(e,e.selection,{voids:!0}));var A=Array.from(r.ML.nodes(e,{at:c,match:function(t,n){return!(!r.ML.isBlock(e,t)||r.ML.isEditor(t)||e.isContainerBlock(t)||o&&!o(t,n)||s&&((0,i.nq)(t)||(0,i.OD)(t)))}}));return void 0!==l&&l?A:A.map(function(e){return e[0]})},l=function(e){if(!e.selection||r.e6.isCollapsed(e.selection))return!1;var t=r.ML.unhangRange(e,e.selection),n=r.ML.range(e,r.ML.start(e,[]),r.ML.end(e,[])),i=r.ML.unhangRange(e,n);return r.e6.equals(t,i)},u=function(e){var t=r.ML.range(e,r.ML.start(e,[]),r.ML.end(e,[])),n=r.ML.unhangRange(e,t);r.YR.select(e,n)},c=function(e){var t=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)},mode:"lowest"});if(!t||!e.toMarkdown)return{markdown:"",pathRef:r.ML.pathRef(e,[0,0])};var n=r.ML.pathRef(e,t[1]);return{markdown:e.toMarkdown([],[t[0]]),pathRef:n}}},31639:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(12995),i=n(31632),o=n(59806),a=function(e){return Array.from(r.ML.nodes(e,{match:o.zm,at:r.ML.start(e,[])})).length>0?i.ck.CodeBlock:i.ck.Normal}},83202:function(e,t,n){"use strict";n.d(t,{BA:function(){return i},bS:function(){return c}});var r,i,o=n(90581),a=n(21218),s=n(20624),l=n(39309);(r=i||(i={})).ApplyOp="ApplyOp",r.ApplyOpServer="ApplyOpServer",r.Unknown="Unknown",r.LoadValue="LoadValue",r.Normalize="Normalize",r.CanvasRender="CanvasRender";var u={ApplyOp:"Invalid changes received from another user. Refreshing.",ApplyOpServer:"Server unable to update document. Refreshing.",Unknown:"Something went wrong.",LoadValue:"Unable to load document. Please refresh and try again.",Normalize:"Unable to build document.",CanvasRender:"Unable to render canvas editor."},c=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e,r){(0,o.Z)(this,n);var a,s=r&&"string"==typeof r&&r in i?r:i.Unknown,l=u[s];return(a=t.call(this,l,{cause:e})).name="SlateError",a.code=s,a.handled=!1,a}return n}((0,s.Z)(Error));c.Codes=i},32021:function(e,t,n){"use strict";n.d(t,{BA:function(){return r.BA},bS:function(){return r.bS}});var r=n(83202)},27688:function(e,t,n){"use strict";n.d(t,{e:function(){return V},j:function(){return K}});var r=n(70865),i=n(96670),o=n(26297),a=n(87394),s=n(50930),l=n(52322),u=n(2784),c=n(79421),A=n.n(c),d=n(34519),h=n.n(d),f=n(12995),p=n(51716),g=n(37578),m=n(60770),v=n(8875),y=n(1899),b=n(76592),w=n(60417),_=n.n(w),E=n(75652),C=n.n(E),B=n(20672),x=n(69992),I=n(47842),T=n(3220),S=n(42838),k=n(59806),N=n(69803),D=new Set(["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]);function O(e){if("function"==typeof e)return e;var t=(0,T.pq)(e);return function(e){var n=e.domNode,a=e.parseChildren,s=(0,o.Z)(e,["domNode","parseChildren"]),l=a((0,r.Z)({domNode:n.childNodes,parseChildren:a},s));return(0,i.Z)((0,r.Z)({},t),{children:l})}}function R(e){var t="string"==typeof e?(0,I.Z)({},e,!0):e;return function(e){var n=e.domNode,i=e.parseChildren,o=e.textProps;return i({domNode:n.childNodes,parseChildren:i,textProps:(0,r.Z)({},void 0===o?{}:o,t)})}}function F(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l,u=o.value;u.customRules&&(l=e.customRules).push.apply(l,(0,s.Z)(u.customRules)),(null==u?void 0:u.byTag)&&Object.assign(e.byTag,h()(u.byTag,O)),(null==u?void 0:u.formatsByTag)&&Object.assign(e.byTag,h()(u.formatsByTag,R))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}function L(e){var t,n;(null==(t=e.firstElementChild)?void 0:t.nodeName)==="BR"&&e.removeChild(e.firstElementChild),(null==(n=e.lastElementChild)?void 0:n.nodeName)==="BR"&&e.removeChild(e.lastElementChild),0===e.childNodes.length&&e.parentNode&&e.parentNode.removeChild(e)}function U(e){return e?Array.isArray(e)?e:[e]:[]}var P=function(e,t){var n={customRules:[],byTag:{}};F(n,t.filter(function(e){return void 0!==e.fromHtml}).map(function(e){return e.fromHtml}));var i=e.insertTextData;return{fromHtml:function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i&&F(n,i);var a=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(e){var i=e.domNode,a=e.parseChildren,s=e.textProps,l=void 0===s?{}:s;try{if(p=i,null!==p&&"object"==typeof p&&"length"in p&&"item"in p&&"function"==typeof p.item&&!Array.isArray(p)&&(i=Array.from(i)),Array.isArray(i))return Array.from(i).flatMap(function(e){return null!=(_=o({domNode:e,parseChildren:a,textProps:l}))?_:[]});if(3===i.nodeType)return[(0,r.Z)({text:(null!=(E=i.textContent)?E:"").replaceAll(/\s+/g," ")},l)];if(1===i.nodeType){var u=i;if(g=l,m={},v=u.style.fontWeight,(g.bold&&!v||"bold"===v||"bolder"===v||/^\d+$/.test(v)&&v[0]>"5")&&(m.bold=!0),y=u.style.fontStyle,(g.italic&&!y||"italic"===y||y.startsWith("oblique"))&&(m.italic=!0),b=u.style.textDecoration,w=u.style.borderBottomWidth,(g.underline&&!b||b.includes("underline")||w&&0!==parseFloat(w))&&(m.underline=!0),(g.strike&&!b||b.includes("line-through"))&&(m.strike=!0),l=m,"presentation"===u.getAttribute("role"))return a({domNode:Array.from(u.childNodes),parseChildren:a,textProps:l});var c=t.customRules,A=t.byTag,d=!0,h=!1,f=void 0;try{for(var p,g,m,v,y,b,w,_,E,C,B=c[Symbol.iterator]();!(d=(C=B.next()).done);d=!0){var x=(0,C.value)({domNode:u,parseChildren:a,textProps:l},n);if(x)return U(x)}}catch(e){h=!0,f=e}finally{try{d||null==B.return||B.return()}finally{if(h)throw f}}var I=u.nodeName;if(I&&A[I]){var T=A[I]({domNode:u,parseChildren:a,textProps:l},n);if(T)return U(T)}return a({domNode:Array.from(u.childNodes),parseChildren:a,textProps:l})}return[]}catch(e){return console.error("Error parsing",e),[]}};!function(e,t){var n=t.keepEmptyLines;if(e.querySelectorAll("meta").forEach(function(e){var t;null==(t=e.parentNode)||t.removeChild(e)}),null==(s=e.firstElementChild)?void 0:s.id.startsWith("docs-internal-guid")){for(;e.firstElementChild.childNodes.length;)e.appendChild(e.firstElementChild.firstChild);e.removeChild(e.firstElementChild)}var r=e.ownerDocument.createElement("p"),i=!0,o=!1,a=void 0;try{for(var s,l,u=Array.from(e.childNodes)[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;c.nodeType===e.TEXT_NODE||D.has(c.nodeName.toLowerCase())?(null===r.parentNode&&e.insertBefore(r,c),n||r.appendChild(c)):r.parentNode&&(L(r),r=e.ownerDocument.createElement("p"))}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}n||L(r),e.querySelectorAll("br.Apple-interchange-newline").forEach(function(e){var t;null==(t=e.parentNode)||t.removeChild(e)});var A=e.querySelectorAll("li p"),d=!0,h=!1,f=void 0;try{for(var p,g=A[Symbol.iterator]();!(d=(p=g.next()).done);d=!0)!function(){for(var e,t,n=p.value,r=n.ownerDocument.createElement("span"),i=0;i<n.style.length;i++)""===r.style.getPropertyValue(n.style[i])&&r.style.setProperty(n.style[i],n.style.getPropertyValue(n.style[i]));Array.from(n.childNodes).forEach(function(e){return r.append(e)}),null==(e=n.parentNode)||e.insertBefore(r,n),null==(t=n.parentNode)||t.removeChild(n)}()}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}var m=e.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),v=!0,y=!1,b=void 0;try{for(var w,_=m[Symbol.iterator]();!(v=(w=_.next()).done);v=!0){var E,C=w.value,B=void 0;C.previousElementSibling&&"LI"===C.previousElementSibling.nodeName?B=C.previousElementSibling:(B=e.ownerDocument.createElement("li"),null==(E=C.parentElement)||E.insertBefore(B,C)),B.appendChild(C)}}catch(e){y=!0,b=e}finally{try{v||null==_.return||_.return()}finally{if(y)throw b}}var x=e.querySelectorAll("p"),I=["hr","img"],T=!0,S=!1,k=void 0;try{for(var N,O=x[Symbol.iterator]();!(T=(N=O.next()).done);T=!0){var R,F,U=N.value,P=Array.from(U.children),M=0===P.length&&!U.textContent,j=!P.find(function(e){return I.includes(e.tagName.toLocaleLowerCase())})&&(null==(R=U.textContent)?void 0:R.trim())==="";(M||j)&&(n?U.innerHTML="":null==(F=U.parentNode)||F.removeChild(U))}}catch(e){S=!0,k=e}finally{try{T||null==O.return||O.return()}finally{if(S)throw k}}var Z=e.querySelectorAll("ul, ol, li, table, thead, tbody, tr"),Q=!0,H=!1,V=void 0;try{for(var K,z=Z[Symbol.iterator]();!(Q=(K=z.next()).done);Q=!0)!function(){var e=K.value;e.childNodes.forEach(function(t){3===t.nodeType&&"\n"===t.textContent&&e.removeChild(t)})}()}catch(e){H=!0,V=e}finally{try{Q||null==z.return||z.return()}finally{if(H)throw V}}}(e,i);var a=o({domNode:e,parseChildren:o});return U(a=a.filter(function(e){return!f.xv.isText(e)||""!==e.text.trim()}))}(t,n,e,o);return a.map(function(t){return f.ML.isInline(e,t)||f.xv.isText(t)?{type:"paragraph",children:[t]}:t})},insertTextData:function(t){try{var n=function(e,t){var n=e.getData("text/html"),r=e.getData("text/plain");if(n){var i=new DOMParser().parseFromString(n,"text/html");if(!1===function(e){if((0,S.Z)(e.firstElementChild,HTMLTableElement)&&e.firstElementChild.dataset.tabSize)return!0;var t=!0,n=!1,r=void 0;try{for(var i,o=e.childNodes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a,s=i.value;if("#text"===s.nodeName&&(null==(a=s.textContent)?void 0:a.trim())!==""||(0,S.Z)(s,HTMLElement)&&!1===(0,S.Z)(s,HTMLPreElement)&&!1===s.style.fontFamily.includes("monospace")&&"Apple-interchange-newline"!==s.className)return!1}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return!0}(i.body))return{fragment:t.fromHtml(i.body),isParsedAsCode:!1,text:r}}if(/[{}[\]():;><=|]/.test(r)){var o,a,s,l=N.ZP.highlightAuto(r);if(null==(s=t.eventLogger)||s.call(t,"paste",{language:l.language,relevance:l.relevance,secondBest:null==(o=l.secondBest)?void 0:o.language,secondBestRelevance:null==(a=l.secondBest)?void 0:a.relevance}),l.language&&"markdown"!==l.language&&"plaintext"!==l.language)return{fragment:[(0,k.mj)(r)],isParsedAsCode:!0,text:r}}return{fragment:t.fromHtml((0,g.e)(r)),isParsedAsCode:!1,text:r}}(t,e),r=n.fragment,o=n.isParsedAsCode,a=n.text;return o?(f.YR.insertNodes(e,[{text:a}]),e.sealHistoryEntry(),f.YR.delete(e,{distance:a.length,reverse:!0,unit:"character"}),e.insertFragment(r),e.sealHistoryEntry()):e.insertFragment(r),!0}catch(e){return i(t)}}}},M=n(46807),j=n(93707),Z=n(53942),Q=n(56704),H=n(97725);function V(e){var t,n,s,u,c,d,p,w,E,I,S,k,N,D,O,R,F,L,U,V,K,G,W,q,$,Y=e.plugins,J=e.collab,X=e.initialValue,ee=e.onError,et=e.eventLogger,en=e.toast,er=e.isReadOnly,ei=e.baseEditor,eo=void 0===ei?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,f.Jh)();return(0,m.BU)((0,v.V)(e))}():ei,ea=e.forceRerender,es=e.setResetCount,el=e.__skipNormalizationError,eu=(t=function(e){null==ee||ee(e),null==es||es(function(e){return e+1})},s=n=eo,u=(0,Q.lC)(Y,function(e){return"inline"in e&&e.inline}),c=s.isInline,s.isInline=function(e){return!!u.includes(e.type)||c(e)},d=n=s,p=(0,Q.lC)(Y,function(e){return"void"in e&&e.void}),w=(0,Q.x0)(Y,"isVoid"),E=d.isVoid,d.isVoid=function(e){if(p.includes(e.type))return!0;if(e.type in w){var t=w[e.type];if("function"==typeof t)return t(d,e)}return E(e)},I=n=d,S=(0,Q.lC)(Y,function(e){return"enterBehavior"in e&&e.enterBehavior}),k=(0,Q.lC)(Y,function(e){return"softBreakBehavior"in e&&e.softBreakBehavior}),N=I.insertBreak,D=I.insertSoftBreak,I.insertBreak=function(){if((0,Z.ss)(I)&&f.YR.move(I,{unit:"offset",distance:1}),(0,Z.MO)(I,S["soft-break"]))return void I.insertText("\n");var e=(0,Z.MO)(I,S["split-parent"]);if(e)return void(0,T.a8)(I,e[1]);var t=(0,Z.MO)(I,S["create-paragraph"]);if(t)return void(0,T.iL)(I,{type:t[0].type});var n=(0,Z.MO)(I,S["paragraph-below"]);if(n){var r=f.y$.next(n[1]);f.YR.insertNodes(I,{type:"paragraph",children:[{text:""}]},{at:r}),f.YR.select(I,r);return}N()},I.insertSoftBreak=function(){(0,Z.MO)(I,k["soft-break"])?I.insertText("\n"):D()},O=n=function(e,t){var n={},r=[],i=[],o=e.normalizeNode;(0,Q.B9)(t,function(e,t){t&&"normalize"in t&&"function"==typeof t.normalize&&(n[e]=t.normalize)});var s=!0,l=!1,u=void 0;try{for(var c,A=t[Symbol.iterator]();!(s=(c=A.next()).done);s=!0){var d=c.value;"function"==typeof d.normalizeEditor&&r.push(d.normalizeEditor),"function"==typeof d.genericNormalizer&&i.push(d.genericNormalizer)}}catch(e){l=!0,u=e}finally{try{s||null==A.return||A.return()}finally{if(l)throw u}}return e.normalizeNode=function(t){var s=(0,a.Z)(t,2),l=s[0],u=s[1];if(!u.length){var c=!0,A=!1,d=void 0;try{for(var h,f=r[Symbol.iterator]();!(c=(h=f.next()).done);c=!0)if((0,h.value)(e,[l,u]))return!0}catch(e){A=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(A)throw d}}o([l,u]);return}if("type"in l){var p=!0,g=!1,m=void 0;try{for(var v,y=i[Symbol.iterator]();!(p=(v=y.next()).done);p=!0)if((0,v.value)(e,[l,u]))return!0}catch(e){g=!0,m=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw m}}}var b="type"in l&&n[l.type];if("type"in l&&"function"==typeof b&&b(e,[l,u]))return!0;o([l,u])},e}(n=I,Y),R=C()(_()(Y.map(function(e){return e.onChange}))),F=O.onChange,O.onChange=function(){R.forEach(function(e){return e(O)}),F()},L=n=O,U=(0,M.Kc)(L,Y).toMarkdown,K=(V=P(L,Y)).fromHtml,G=V.insertTextData,L.fromHtml=K,L.toMarkdown=U,L.insertTextData=G,W=n=L,q=(0,Q.lC)(Y,function(e){return"isContainerBlock"in e&&!!e.isContainerBlock}),W.isContainerBlock=function(e){return f.ML.isBlock(W,e)&&q.includes(e.type)},n=W,Y.forEach(function(e){e.editor&&(n=e.editor(n))}),n=function(e,t){var n=e.insertText,r=(0,Q.lC)(t,function(e){return"disableTextInputHandlers"in e&&e.disableTextInputHandlers}),i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u,c=s.value;(null==(u=c.textInputHandlers)?void 0:u.length)&&(e=(0,j.Kj)(e,c.textInputHandlers))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var A=e.insertText;return e.insertText=function(t){f.ML.above(e,{match:function(e){return"type"in e&&!!r.includes(e.type)}})?n(t):A(t)},e}(n,Y),t&&(n=(0,b.K)(n,t)),J&&(n=function(e,t,n){if(!t||t.editor===e)return e;t.setEditor(e);var o=e.onChange;return t.triggerUpdate=o,t.onRemoteOpsReceived(function(n){if((null==(o=e.children)?void 0:o.length)&&n.ops.length){var o,s=n.ops.map(function(e){return(0,i.Z)((0,r.Z)({},e),{isRemote:!0})});B.MO.withoutSaving(e,function(){s&&s.length&&f.ML.withoutNormalizing(e,function(){var t=!0,n=!1,r=void 0;try{for(var i,o=s[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("set_selection"!==a.type)try{e.apply(a)}catch(e){throw e}}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}),function(e,t,n){var o=n>t.clientId?"right":"left";if(null==(A=e.history)||null==(d=A.undos)?void 0:d.length){var s=[],l=!0,u=!1,c=void 0;try{for(var A,d,h,f,p,g=e.history.undos.reverse()[Symbol.iterator]();!(l=(p=g.next()).done);l=!0){var m=p.value,v=(0,a.Z)((0,x.YV)(m.operations,t.ops,o),1)[0];if(v.length){var y=(0,i.Z)((0,r.Z)({},m),{operations:v});s.unshift(y)}}}catch(e){u=!0,c=e}finally{try{l||null==g.return||g.return()}finally{if(u)throw c}}e.history.undos=s}if(null==(h=e.history)||null==(f=h.redos)?void 0:f.length){var b=[],w=!0,_=!1,E=void 0;try{for(var C,B=e.history.redos.reverse()[Symbol.iterator]();!(w=(C=B.next()).done);w=!0){var I=C.value,T=(0,a.Z)((0,x.YV)(I.operations,t.ops,o),1)[0];if(T.length){var S=(0,i.Z)((0,r.Z)({},I),{operations:T});b.unshift(S)}}}catch(e){_=!0,E=e}finally{try{w||null==B.return||B.return()}finally{if(_)throw E}}e.history.redos=b}}(e,n,t.clientId)})}}),n||(e.onChange=function(){var n=e.operations.filter(function(e){return!e.isRemote});n.length&&t.sendOps(n,e.selection),o()}),e}(n,J,null!=er&&er)),et&&(n.eventLogger=et),en&&(n.toast=en),n);void 0!==el&&el&&(eu.__skipNormalizationError=!0);var ec={},eA={},ed={},eh=function(){return[]};Y.forEach(function(e){var t,n=null!=(t=e.formats)?t:{};Object.assign(eA,h()(n,"component")),Object.assign(ec,h()(e.elements,"component")),Object.assign(ed,e.decorators||{}),e.editorDecorator&&(eh=z(eh,e.editorDecorator))}),J&&(eh=z(eh,J.getRemoteSelections));var ef=(0,H.N)(eu,Y),ep=Object.keys($=Y.map(function(e){return e.eventHandlers}).filter(function(e){return void 0!==e}).reduce(function(e,t){return Object.keys(t).forEach(function(n){var r=t[n];n in e&&e[n]?e[n].push(r):e[n]=[r]}),e},{})).reduce(function(e,t){return e[t]=function(e){var n=$[t];if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=function(){var n=a.value;try{var r,i=n(eu,e);if(!0===i)return e.preventDefault(),null==(r=eu.eventLogger)||r.call(eu,"dom_event",{event:t}),{v:!0}}catch(e){if("function"==typeof eu.handleError){var o,s=Y.find(function(e){return e.eventHandlers&&e.eventHandlers[t]===n});eu.handleError((0,b.E)(e,"UserAction",{method:t,plugin:null!=(o=null==s?void 0:s.name)?o:"Uknown"}))}}}();if("object"===(0,y.Z)(l))return l.v}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},e},{});return function(e,t){if(!t)return f.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:[0]});if("string"==typeof t){var n,r=(0,g.e)(t),i=null==(n=e.fromHtml)?void 0:n.call(e,r);e.children=null!=i?i:[{type:"paragraph",children:[{text:""}]}]}else e.children=t;f.ML.normalize(e,{force:!0})}(eu,X),eu.forceRerender=void 0===ea?function(){}:ea,{editor:eu,decorate:function(e){var t,n=(0,a.Z)(e,2),r=n[0],i=n[1];return"type"in r&&void 0!==ed[r.type]?(null==(t=ed[r.type])?void 0:t.call(ed,[r,i]))||[]:i.length?[]:eh([r,i])},onKeyDown:ef,value:eu.children,renderLeaf:function(e){var t=e.leaf,n=e.children;return A()(eA,function(o,a){a in t&&o&&(n=(0,l.jsx)(o,(0,i.Z)((0,r.Z)({},e),{children:n})))}),(0,l.jsx)("span",(0,i.Z)((0,r.Z)({},e.attributes),{children:n}))},renderElement:function(e){var t=e.element,n=(0,o.Z)(e,["element"]),a=t.type;if(!(a in ec)||!ec[a])return eu.isInline(t)?(0,l.jsx)("span",(0,i.Z)((0,r.Z)({},n.attributes),{children:n.children})):(0,l.jsx)("div",(0,i.Z)((0,r.Z)({},n.attributes),{children:n.children}));var s=ec[a];return(0,l.jsx)(s,(0,i.Z)((0,r.Z)({},n),{element:t}))},eventHandlers:ep}}function K(e){var t=e.plugins,n=e.collab,r=e.initialValue,i=e.onError,o=e.eventLogger,a=e.toast,s=e.isReadOnly,l=(0,u.useState)(0),c=l[0],A=l[1],d=(0,p.Z)();return(0,u.useMemo)(function(){return V({plugins:t,collab:n,initialValue:r,onError:i,eventLogger:o,toast:a,isReadOnly:s,forceRerender:d,setResetCount:A})},[t,n,c])}function z(e,t){return function(n){var r,i,o=null!=(r=e(n))?r:[],a=null!=(i=t(n))?i:[];return(0,s.Z)(o).concat((0,s.Z)(a))}}},8875:function(e,t,n){"use strict";n.d(t,{$:function(){return c},V:function(){return s}});var r=n(70865),i=n(96670),o=n(12995),a=n(20672),s=function(e){var t=e.apply;return e.history={undos:[],redos:[]},e.redo=function(){var t=e.history,n=t.redos;if(n.length>0){var r=n[n.length-1];r.selectionBefore&&o.YR.setSelection(e,r.selectionBefore),a.MO.withoutSaving(e,function(){o.ML.withoutNormalizing(e,function(){var t=!0,n=!1,i=void 0;try{for(var o,a=r.operations[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;e.apply(s)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}})}),t.redos.pop(),t.undos.push(r)}},e.undo=function(){var t=e.history,n=t.undos;if(n.length>0){var r=n[n.length-1];a.MO.withoutSaving(e,function(){o.ML.withoutNormalizing(e,function(){var t=r.operations.map(o.OX.inverse).reverse(),n=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;e.apply(u)}}catch(e){i=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}r.selectionBefore&&o.YR.setSelection(e,r.selectionBefore)})}),t.redos.push(r),t.undos.pop()}},e.apply=function(n){var r=e.operations,i=e.history,o=i.undos,s=o[o.length-1],c=null==s?void 0:s.operations[s.operations.length-1],A=a.MO.isSaving(e),d=a.MO.isMerging(e);if(null==A&&(A=u(n)),A){if(null==d&&(d=null!=s&&(0!==r.length||l(n,c))),s&&d&&!0!==s.isSealed)s.operations.push(n);else{var h={operations:[n],selectionBefore:e.selection};o.push(h)}for(;o.length>100;)o.shift();i.redos=[]}t(n)},e.sealHistoryEntry=function(){var t=e.history.undos.at(-1);t&&(t.isSealed=!0)},e},l=function(e,t){return!!(t&&"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&o.y$.equals(e.path,t.path)||t&&"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&o.y$.equals(e.path,t.path))},u=function(e){return"set_selection"!==e.type},c=(0,i.Z)((0,r.Z)({},a.MO),{withMerging:function(e,t){var n=a.MO.isMerging(e);a.Ye.set(e,!0),t(),a.Ye.set(e,n)}})},77622:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r=function(e){var t=e.theme,n=e.templateVersionId,r=e.templateWorkspaceId,i=["theme-".concat(void 0===t?"light":t)].join("_"),o="".concat(n,"_").concat(i,".jpg"),a="templates/".concat(r,"/").concat(n),s="".concat(a,"/").concat(o);return{storagePath:"images/".concat(s),imgixPath:s}}},80003:function(e,t,n){"use strict";n.d(t,{W:function(){return r},l:function(){return i}});var r="darkMode",i=function(){return document.documentElement&&document.documentElement.className.includes(r)?"dark":"light"}},31410:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},e:function(){return o}});var r=n(42838);function i(e){return(0,r.Z)(e,Date)?e:"object"==typeof e&&"toDate"in e?e.toDate():"number"==typeof e?new Date(e):new Date}function o(e){return(0,r.Z)(e,Date)?e.getTime():"object"==typeof e&&"toMillis"in e?e.toMillis():"number"==typeof e?e:Date.now()}},89530:function(e,t,n){"use strict";n.d(t,{J:function(){return s},uN:function(){return u},xt:function(){return l}});var r=n(70865),i=n(99669),o=n(19179),a=n(59532),s=a.MV,l=function(){},u=function(){},c={};if((0,o.vy)()){var A=new i.m({version:"alpha",name:"playground",storeName:"behaviors"});s=function(e){var t=null!=(i=(0,a.MV)(e))?i:{},n=c[e];if(n)return n;var i,o,s=null!=(o=A.getItem(e))?o:{},l=(0,r.Z)({},t,s);return c[e]=l,l},l=function(e,t){var n=s(e),i=(0,r.Z)({},n,t);A.setItem(e,i),c[e]=i},u=function(e){A.removeItem(e),delete c[e]},window.playground={explain:function(e){var t=(0,a.MV)(e)||{},n=(0,a.DS)(e);Object.keys(n).forEach(function(e){return console.info("\x1b[1m".concat(e),"-",t[e],"-",n[e])})},set:l,show:s,reset:u,features:a.RK}}},69895:function(e,t,n){"use strict";n.d(t,{tX:function(){return i}});var r=n(5863),i="cardinalElbow";(0,r.Z)(i,{minPortAttachmentLengthPx:18,defaultShapePadding:18,debugRoutingAlgorithmCosts:!1,defaultZeroGapValueForIntersections:-2,debugDrawTiles:!1},{minPortAttachmentLengthPx:"Minimum length in pixels of the first elbow",defaultShapePadding:"The distance away from a shape that the first elbow should be",debugRoutingAlgorithmCosts:"Debug flag to store bfs routing results in the shape data itself.",defaultZeroGapValueForIntersections:'The default value for the gap to place when drawing arrows that intersect with shapes, measured in pixels. Must be negative, and called "zero_gap" due to prior excalidraw implementation. Used to control how close arrowheads are to their attached shapes and to avoid arrowheads getting cut off.',debugDrawTiles:"Debug flag to draw the tiles for the cardinal elbow algorithm."})},48844:function(e,t,n){"use strict";n.d(t,{i:function(){return u}});var r=n(70865),i=n(96670),o=n(87394),a=n(5863),s={turn:5,lineCrossing:15,shareCellWithAnotherLine:5,shareTerminalWithAnotherLine:20,nonCardinalPortTerminal:15,nonPrimaryDirectionTerminal:5,cornerPortTerminal:5,containerCross:50,existingRouteDeviation:10,existingPortDeviation:10,bufferZone:3,lineOrTextBufferZone:1,requiredDirection:100,preferredDirection:10,bendAlignmentDiscount:20,turnOutsideSegment:80,debug:!1},l=(0,i.Z)((0,r.Z)({},Object.fromEntries(Object.entries(s).map(function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return[n,"Default: ".concat(r," (see routing/types.ts for details)")]}))),{debug:"If true, will log debug information and show the debug grid visualizer. KILLS PERF."}),u="diagramConnections";(0,a.Z)(u,s,l)},29883:function(e,t,n){"use strict";n.d(t,{S3:function(){return i}});var r=n(5863),i="diagrams";(0,r.Z)(i,{consoleLogRawGraphviz:!1,enableLineStraightening:!0},{consoleLogRawGraphviz:"Turns on graphviz to console logging",enableLineStraightening:"Use the line straightening algorithm? If disabled, shows raw graphviz lines"})},62508:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(5863),i="dragThreshold";(0,r.Z)(i,{value:4},{dragThreshold:"The value in pixels that cursor needs move before dragging/resizing is applied"})},80699:function(e,t,n){"use strict";n.d(t,{Gb:function(){return o}});var r=n(98568),i=n(5863),o="elbow",a={radius:r.fn,rectangleRadius:r.cH,arrowSnap:r.E1,portSnap:r.qj,shapeSnap:r.H,hoverShapeSnap:r.eA,guidelineSnap:r.UL};(0,i.Z)(o,a,{radius:"The maximum radius of a line with elbow smoothing.",rectangleRadius:"The maximum radius of a rectangle with elbow corners.",arrowSnap:"The snapping threshold for arrows which are very nearly horizontal or vertical. Measured in pixels at 100% zoom.",portSnap:"The snapping threshold for arrows to bind to ports of shapes. Measured in pixels at 100% zoom.",shapeSnap:"Snapping threshold for arrows to bind to shape boundaries. Measured in pixels at 100% zoom.",hoverShapeSnap:"Snapping threshold for the cursor to bind to shape boundaries while hovering or creating an arrow. Measured in pixels at 100% zoom.",guidelineSnap:"The snapping threshold shapes to snap to guidelines of other shapes. Measured in pixels at 100% zoom."})},96178:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r,i=n(47842),o=n(5863),a="freedraw",s={simulatePressure:!1,baseSize:6,smoothing:.65,thinning:.3,streamline:.65},l=["baseSize"],u=(r={Overview:"See https://github.com/steveruizok/perfect-freehand#documentation"},(0,i.Z)(r,"Supported Properties",Object.keys(s).filter(function(e){return!l.includes(e)}).join(", ")),(0,i.Z)(r,"baseSize","Gets multiplied by the stroke width of the element to determine the final size. Note that with thinning higher, you may want to lower this, and vice versa."),r);(0,o.Z)(a,s,u)},18014:function(e,t,n){"use strict";n.d(t,{J:function(){return r.J},Nb:function(){return o.N},SB:function(){return i.S}}),n(59532),n(5863),n(79428),n(41172),n(96178),n(62508),n(12612),n(80699),n(29883),n(69895),n(47410);var r=n(89530);n(48844);var i=n(72584),o=n(9126)},47410:function(e,t,n){"use strict";n.d(t,{Dx:function(){return o}});var r=n(32472),i=n(5863),o="playgroundDevTools",a={consoleLogAnalyticsEvents:!1,fpsTracker:"development"===r.Wi};(0,i.Z)(o,a,{consoleLogAnalyticsEvents:"Should all analytics tracking events also be logged to console?",fpsTracker:"Should show the fps tracker component in top right?"})},5863:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(47842),i=n(19179),o=n(89530),a=n(59532);function s(e,t,n){if(a.i_[e]=t,a.s2[e]=n,(0,i.vy)()){var s=Object.keys(t).reduce(function(t,n){return Object.defineProperty(t,n,{get:function(){return(0,o.J)(e)[n]},set:function(t){return(0,o.xt)(e,(0,r.Z)({},n,t))}})},{});Object.assign(s,{show:function(){return(0,o.J)(e)},reset:function(){return(0,o.uN)(e)},explain:function(){return window.playground.explain(e)}}),window.playground[e]=s}}},59532:function(e,t,n){"use strict";n.d(t,{DS:function(){return a},MV:function(){return o},RK:function(){return s},i_:function(){return r},s2:function(){return i}});var r={},i={},o=function(e){return r[e]},a=function(e){return i[e]},s=function(){return Object.keys(r)}},9126:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=function(){}},12612:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(5863),i="slate";(0,r.Z)(i,{useSlate:!1},{useSlate:"Use Slate-based editor for the notepad"})},41172:function(e,t,n){"use strict";n.d(t,{$Z:function(){return i}});var r=n(5863),i="smartDup";(0,r.Z)(i,{previewOnHover:!0,hoverDelay:150,hoverOpacity:.15,previewOpacity:.6,arrowLength:100,tangentOffset:75,elbowDeltaMultipler:0,elbowMultiplier:.5,closeToMiddleThreshold:10,adjustArrowLengthForExisting:!0},{previewOnHover:"Whether to show a fainter preview when hovering over add button",hoverDelay:"How long to delay (in ms) showing a preview when hovering button (default: 0ms)",hoverOpacity:"Opacity to render the preview on hover (between 0 and 1)",previewOpacity:"Opacity to render a preview after click (between 0 and 1)",arrowLength:"How long an arrow is when going straight (default: 100px)",tangentOffset:"How much space to put in between shapes when adding several (default: 100px)",elbowMultiplier:"When using elbow connectors, how long to make the first segment, as a multiple of the full length (0 to 1)",elbowDeltaMultipler:"When using elbow connectors, how much to offset the lines from one another, as a multiple of the distance (0 to 1)",closeToMiddleThreshold:"When accounting for existing elements, this threshhold determines how many pixels off-center a connecting arrow can be and still be considered in the middle, for the purposes of determining whether to balance els.",adjustArrowLengthForExisting:"When accounting for existing elements, adjust the arrow length to match the existing element"})},79428:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(5863),i="splineEditor";(0,r.Z)(i,{duplicationOffset:30,colorChangeDelay:1e3,candidatePointHoverDelay:50,hideCandidatePointWithDrag:!0,minimumSplineLengthForCandidatePoints:30},{colorChangeDelay:"How long a spline should hide selection when its color changes",minimumSplineLengthForCandidatePoints:"Minimum length of spline to show candidate points",hideCandidatePointWithDrag:"Whether candidate points should be hidden when dragging spline",candidatePointHoverDelay:"How long should candidate points remain visible before fading away",duplicationOffset:"How far a point should be when duplication is invoked on last spline point"})},72584:function(e,t,n){"use strict";n.d(t,{S:function(){return p}});var r=n(80699),i=n(96178),o=n(5863),a="keyboardNav";(0,o.Z)(a,{penaltyForBeingOutOfLine:1,widthOfViability:1.5,preventDrift:!0,showHints:!0},{penaltyForBeingOutOfLine:"How much the rating of elements is penalized when they don't intersect a line originiating from the center of the selected element. Requires reload. https://app.eraser.io/workspace/HU9NtQwI9481irs31zNy?elements=0cqcelNW-30nA--SadCXdg",widthOfViability:"How far outside of the bounding box on the cross axis (up/down when navigating left/right) an element can be for it to be scored. 1 is 45\xb0, 0 means it must be inline, 1.5 is 60\xb0 out of line. Requires reload. https://app.eraser.io/workspace/HU9NtQwI9481irs31zNy?elements=egUDSEJyaxamG-_oJ5LENQ",preventDrift:"Whether or not it should attempt to prevent drift. https://app.eraser.io/workspace/HU9NtQwI9481irs31zNy?elements=LQAFj9vO9KB4NUafb-0ObQ",showHints:"Whether it should show indicators of which element will be selected on arrow press."});var s=n(41172),l=n(79428),u=n(69895),c=n(29883),A=n(62508),d=n(47410),h=n(12612),f=n(48844),p={KEYBOARD_NAV:a,DRAG_THRESHOLD:A.N,SPLINE_EDITOR:l.E,SMART_DUPLICATION:s.$Z,FREEDRAW:i.h,SLATE:h.C,ELBOW:r.Gb,DIAGRAM:c.S3,CARDINAL_ELBOW:u.tX,PLAYGROUND_DEV_TOOLS:d.Dx,DIAGRAM_CONNECTIONS:f.i}},18053:function(e,t,n){"use strict";n.d(t,{v:function(){return u}});var r=n(98788),i=n(26297),o=n(50930),a=n(22970),s=n(37164),l=n(67640);function u(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(function(e){var t,n,r,u,c,A,d,h,f,p,g,m,v,y,b,w,_,E,C,B,x,I;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(t=e.user,r=void 0===(n=e.attachedFiles)?[]:n,c=void 0===(u=e.existingAttachments)?[]:u,A=e.teamId,d=e.workspaceId,h=e.contextId,f=e.diagramElementId,p=e.inputClassification,g=(0,i.Z)(e,["user","attachedFiles","existingAttachments","teamId","workspaceId","contextId","diagramElementId","inputClassification"]),m=[],c.length>0&&(v=m).push.apply(v,(0,o.Z)(c)),!(r.length>0&&A))return[3,8];y=!0,b=!1,w=void 0,a.label=1;case 1:a.trys.push([1,6,7,8]),_=r[Symbol.iterator](),a.label=2;case 2:if(y=(E=_.next()).done)return[3,5];return C=E.value,(B=new FormData).append("fileName",C.name),B.append("file",C,C.name),[4,l.Z.post("teams/".concat(A,"/upload/ai-attachment"),B)];case 3:x=a.sent(),m.push({storageId:x.storageId,type:C.type.startsWith("image/")?"image":"file",mimeType:x.mimeType,filename:C.name}),a.label=4;case 4:return y=!0,[3,2];case 5:return[3,8];case 6:return I=a.sent(),b=!0,w=I,[3,8];case 7:try{y||null==_.return||_.return()}finally{if(b)throw w}return[7];case 8:return g.attachments=m,[2,{args:g,userId:t,stateId:(0,s.x0)(),teamId:A,workspaceId:d,contextId:h,diagramElementId:f,inputClassification:p}]}})})).apply(this,arguments)}},67640:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r,i,o,a,s,l,u=n(98788),c=n(42838),A=n(22970),d=n(69211);function h(){return f.apply(this,arguments)}function f(){return(f=(0,u.Z)(function(){var e,t,n,r,i=arguments;return(0,A.__generator)(this,function(o){switch(o.label){case 0:if(e=i.length>0&&void 0!==i[0]&&i[0],t=i.length>1&&void 0!==i[1]&&i[1],!l&&!t)throw Error("[apiClient] Token not available");if(n=new Headers(e?{}:{"Content-Type":"application/json; charset=UTF-8"}),!(l&&!t))return[3,2];return[4,l()];case 1:(r=o.sent())&&n.set("authorization","Bearer ".concat(r)),o.label=2;case 2:return[2,n]}})})).apply(this,arguments)}function p(e,t){return g.apply(this,arguments)}function g(){return(g=(0,u.Z)(function(e,t){return(0,A.__generator)(this,function(n){switch(n.label){case 0:if(e.status>=300&&e.status<400&&e.headers.has("Location"))return[2,e.headers.get("Location")];if(e.ok)return[3,2];return[4,b(e)];case 1:throw n.sent();case 2:if(204===e.status)return[2,void 0];switch(t){case"json":return[2,e.json()];case"text":return[2,e.text()];case"arraybuffer":return[2,e.arrayBuffer()];case"blob":case"document":return[2,e.blob()]}return[2]}})})).apply(this,arguments)}function m(){return(m=(0,u.Z)(function(e){var t;return(0,A.__generator)(this,function(n){switch(n.label){case 0:if(e.ok)return[3,2];return[4,b(e)];case 1:throw n.sent();case 2:return[2,null==(t=e.body)?void 0:t.pipeThrough(new TextDecoderStream).getReader()]}})})).apply(this,arguments)}function v(e){l=e}function y(e){e.startsWith("api")&&console.warn('[makeApiUrl]: path should not start with "api"',{path:e});var t=e.startsWith("/")?e:"/".concat(e);return new URL("".concat(window.location.origin,"/api").concat(t)).toString()}function b(e){return w.apply(this,arguments)}function w(){return(w=(0,u.Z)(function(e){var t,n,r,i;return(0,A.__generator)(this,function(o){switch(o.label){case 0:t=e.status,o.label=1;case 1:return o.trys.push([1,3,,5]),[4,e.clone().json()];case 2:return n=o.sent(),r=Object.assign({statusCode:t},n),[2,(0,d.Lr)(r)];case 3:return o.sent(),[4,e.text()];case 4:return i=o.sent(),[2,(0,d.Lr)({statusCode:t,message:i})];case 5:return[2]}})})).apply(this,arguments)}t.Z={get:(r=(0,u.Z)(function(e){var t,n,r,i=arguments;return(0,A.__generator)(this,function(o){switch(o.label){case 0:return[4,h(!1,(t=i.length>1&&void 0!==i[1]?i[1]:{}).unauthenticated)];case 1:return n=o.sent(),[4,fetch(y(e),{method:"get",headers:n,credentials:"include"})];case 2:return[2,p(o.sent(),null!=(r=t.responseType)?r:"json")]}})}),function(e){return r.apply(this,arguments)}),post:(i=(0,u.Z)(function(e,t){var n,r,i,o,a=arguments;return(0,A.__generator)(this,function(s){switch(s.label){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},[4,h(r=(0,c.Z)(t,FormData),n.unauthenticated)];case 1:return i=s.sent(),[4,fetch(y(e),{method:"post",body:r?t:JSON.stringify(t),headers:i,credentials:"include"})];case 2:return[2,p(s.sent(),null!=(o=n.responseType)?o:"json")]}})}),function(e,t){return i.apply(this,arguments)}),put:(o=(0,u.Z)(function(e,t){var n,r,i,o=arguments;return(0,A.__generator)(this,function(a){switch(a.label){case 0:return[4,h(!1,(n=o.length>2&&void 0!==o[2]?o[2]:{}).unauthenticated)];case 1:return r=a.sent(),[4,fetch(y(e),{method:"put",body:JSON.stringify(t),headers:r,credentials:"include"})];case 2:return[2,p(a.sent(),null!=(i=n.responseType)?i:"json")]}})}),function(e,t){return o.apply(this,arguments)}),delete:(a=(0,u.Z)(function(e){var t,n,r,i=arguments;return(0,A.__generator)(this,function(o){switch(o.label){case 0:return[4,h(!1,(t=i.length>1&&void 0!==i[1]?i[1]:{}).unauthenticated)];case 1:return n=o.sent(),[4,fetch(y(e),{method:"delete",headers:n,credentials:"include"})];case 2:return[2,p(o.sent(),null!=(r=t.responseType)?r:"json")]}})}),function(e){return a.apply(this,arguments)}),stream:(s=(0,u.Z)(function(e,t){var n,r,i,o=arguments;return(0,A.__generator)(this,function(a){switch(a.label){case 0:return[4,h(!1,(n=o.length>2&&void 0!==o[2]?o[2]:{}).unauthenticated)];case 1:return(r=a.sent()).append("Transfer-Encoding","chunked"),r.append("Connection","keep-alive"),r.append("Keep-Alive","timeout=5"),[4,fetch(y(e),{method:null!=(i=n.method)?i:"post",body:t?JSON.stringify(t):void 0,headers:r,credentials:"include"})];case 2:return[2,function(e){return m.apply(this,arguments)}(a.sent())]}})}),function(e,t){return s.apply(this,arguments)})}},48005:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r,i=n(90581),o=n(72813),a=function(){function e(){(0,i.Z)(this,e)}return e.validateAndSanitize=function(t,n,r){if(!e.ALLOWED_SVG_MIME_TYPES.has(t.type))throw Error("Invalid file type. Only SVG files are allowed.");if(t.size>e.MAX_SVG_SIZE)throw Error("SVG file size exceeds maximum allowed size of 1MB.");return e.sanitizeString(n,r)},e}();a.ALLOWED_SVG_MIME_TYPES=new Set(["image/svg+xml"]),a.MAX_SVG_SIZE=1048576,a.initDOMPurify=function(e){r=(0,o.default)(e)},a.getPurify=function(e){return r||a.initDOMPurify(e),r},a.sanitizeString=function(e,t){if(!e.includes("<svg"))throw Error("Invalid SVG file: Missing <svg> tag.");var n=a.getPurify(t);n.addHook("afterSanitizeAttributes",function(e){if("style"===e.nodeName){var t,n,r;((null==(t=e.textContent)?void 0:t.includes("@import"))||(null==(n=e.textContent)?void 0:n.includes("expression "))||(null==(r=e.textContent)?void 0:r.includes("url(")))&&(e.textContent=e.textContent.replace(/@import\s+[^;]+;?|url\s*\([^)]+\)|expression\s*\([^)]+\)/gi,""))}if("use"===e.nodeName){var i=e.getAttribute("href")||e.getAttribute("xlink:href");i&&i.startsWith("#")||e.remove()}});var r=n.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0},ADD_TAGS:["use"],ADD_ATTR:["href","xlink:href","x","y"],FORBID_TAGS:["script","iframe","link","object","embed"],FORBID_ATTR:["onerror","onload","onmouseover","onmouseout","onmousemove","onclick","onmousedown","onmouseup","onkeydown","onkeypress","onkeyup","ondblclick","onwheel","onshow","ontoggle"]});if(n.removeHook("afterSanitizeAttributes"),!r)throw Error("SVG sanitization failed.");return r}},96387:function(e,t,n){"use strict";n.d(t,{Cl:function(){return s},UG:function(){return u},aR:function(){return c},ii:function(){return l}});var r=n(50930),i=n(12782),o=n.n(i);n(70599),n(94130);var a=n(48860);function s(){return new Date().toISOString().slice(0,7)}function l(e){var t;return null!=(t=a.uJ[e])?t:0}function u(e){var t=e.teamId,n=e.month,r=void 0===n?s():n;return{id:"".concat(t,"-").concat(r),teamId:t,month:r,totalSpendInCents:0,actions:{teamWide:{},perUser:{}},updatedAt:Date.now()}}function c(e,t){var n=(0,r.Z)(t).sort(function(e,t){return new Date(e.month).valueOf()-new Date(t.month).valueOf()}),i=n.shift();if(!i)return u({teamId:e});var a=!0,s=!1,l=void 0;try{for(var c,A=n[Symbol.iterator]();!(a=(c=A.next()).done);a=!0){var d,h=c.value;i.month=h.month,i.totalSpendInCents+=null!=(d=h.totalSpendInCents)?d:0,o()(i.actions,h.actions,function(e,t){if("number"==typeof e||"number"==typeof t)return(null!=e?e:0)+(null!=t?t:0)})}}catch(e){s=!0,l=e}finally{try{a||null==A.return||A.return()}finally{if(s)throw l}}return i}},92477:function(e,t,n){"use strict";n.d(t,{j:function(){return I}});var r,i=n(98788),o=n(90581),a=n(47842),s=n(70865),l=n(96670),u=n(22970),c=n(12782),A=n.n(c),d=n(9850),h=n.n(d),f=n(70599),p=n(69211),g=n(88859),m=n(48860),v=n(96387),y=[f.M$.MonthlyAiDiagramApiCalls,f.M$.PremiumApiCalls],b=function(){function e(t){(0,o.Z)(this,e),this.dataFetcher=t}var t=e.prototype;return t.fetchTeam=function(e){return"string"==typeof e?this.dataFetcher.teams.fetchById(e):Promise.resolve(e)},t.getPlanFeaturesForTeam=function(e){var t,n,r,i=null!=(r=null==e||null==(t=e.plan)?void 0:t.planType)?r:f.k9.Free,o=g.ZP[i];return(null==e||null==(n=e.plan)?void 0:n.overrides)?A()(h()(o.features),e.plan.overrides,_):o.features},t.getPlanFeaturesForUser=function(e,t){var n,r,i,o,a,s=null!=(a=null==t||null==(n=t.plan)?void 0:n.planType)?a:f.k9.Free,l=g.ZP[s],u=h()(l.features);return(null==t||null==(r=t.plan)?void 0:r.overrides)&&(u=A()(u,t.plan.overrides,_)),(null==t||null==(i=t.plan)||null==(o=i.userOverrides)?void 0:o[e])&&(u=A()(u,t.plan.userOverrides[e],_)),u},t.canAccessGatedFeature=function(e,t){var n=this;return(0,i.Z)(function(){var r;return(0,u.__generator)(this,function(i){switch(i.label){case 0:return[4,n.fetchTeam(t)];case 1:return r=i.sent(),[2,n.getPlanFeaturesForTeam(r).gatedFeatures[e]]}})})()},t.validateGatedFeature=function(e,t){var n=this;return(0,i.Z)(function(){return(0,u.__generator)(this,function(r){switch(r.label){case 0:return[4,n.canAccessGatedFeature(e,t)];case 1:if(!r.sent())throw e===f.AC.PrivateWorkspaces?new p.WH("Your plan does not support private files.",{hint:"Upgrade your plan to create private files.",data:{featureName:e}}):new p.WH("Your plan does not support this feature.",{hint:"Upgrade your plan to continue.",data:{featureName:e}});return[2]}})})()},t.subscribeToGatedFeature=function(e,t,n){var r=this;if(!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var i=this.dataFetcher.teams.subscribeById(t,function(t){n(r.getPlanFeaturesForTeam(t).gatedFeatures[e])});return function(){i()}},t.subscribeToLimitedFeature=function(e,t,n){var r,i,o=this;if(!this.dataFetcher.workspaces.subscribeToCount||!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var a=e.featureName,s=e.userId,l=e.teamId,u=this.dataFetcher.teams.subscribeById(l,function(u){var c,A=o.getPlanFeaturesForTeam(u).featureLimits[a];if(!r||!(A<=r)){if(r=A,A===g.fY)return void t({current:0,limit:g.fY,allowed:!0,teamPlan:u.plan,hasFeatureAccess:!0});n&&t({current:NaN,limit:A,allowed:!1,hasFeatureAccess:A>0});var d=w[e.featureName]({teamId:l});switch(a){case f.M$.Workspaces:i=o.dataFetcher.workspaces.subscribeToCount(d,function(e){t({current:e,limit:A,allowed:e<A,hasFeatureAccess:!0})});break;case f.M$.AiDiagramAndOutlineCredits:case f.M$.PremiumCredits:case f.M$.MonthlyAiDiagramApiCalls:case f.M$.PremiumApiCalls:i=o.dataFetcher.aggregateTeamUsage.subscribeByTeamAndMonth({teamId:l,isFree:(null==(c=u.plan)?void 0:c.planType)===f.k9.Free},function(e){t(o._checkCredit(a,s,e,u,A))});break;case f.M$.CustomIcons:i=o.dataFetcher.customIcons.subscribeToCount(d,function(e){t({current:e,limit:A,allowed:e<A,hasFeatureAccess:A>0})})}}});return function(){u(),null==i||i()}},t._checkCredit=function(e,t,n,r,i){var o,a,s,l,u,c=null!=t&&!y.includes(e),A=c?null==(o=null==n?void 0:n.actions.perUser)||null==(a=o[t])?void 0:a[e]:void 0,d=null==n?void 0:n.actions.teamWide[e],h=null!=(s=c?null==A?void 0:A.total:null==d?void 0:d.total)?s:0,f=null!=(l=r.plan)?l:{},p=f.payAsYouGoEnabled,g=void 0!==p&&p,m=f.maxMonthlySpend,b=void 0===m?0:m,w=(null!=(u=null==n?void 0:n.totalSpendInCents)?u:0)/100,_=(0,v.ii)(e)/100,E=g&&w+_>b,C=h<i||g&&!E;return g?{current:h,limit:i,allowed:C,isPayAsYouGoLimitExceeded:E,currentSpend:w,maxSpend:b,hasFeatureAccess:!0}:{current:h,limit:i,allowed:C,hasFeatureAccess:i>0}},t.checkLimitedFeature=function(e){var t=this;return(0,i.Z)(function(){var n,r,i,o,a,c,A,d,h,p,v,y,b,_,E;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return r=e.featureName,i=e.teamArg,[4,t.fetchTeam(i)];case 1:if(o=u.sent(),(a=t.getPlanFeaturesForTeam(o).featureLimits[r])===g.fY||a===m.DL)return[2,{current:0,limit:g.fY,allowed:!0,teamPlan:o.plan,hasFeatureAccess:!0}];if(0===a&&!(null==(n=o.plan)?void 0:n.payAsYouGoEnabled))return[2,{current:0,limit:0,allowed:!1,teamPlan:o.plan,hasFeatureAccess:!1}];switch(c=o.id,A=w[r]({teamId:c}),d=!1,h=!1,v={},r){case f.M$.Workspaces:return[3,2];case f.M$.CustomIcons:return[3,4];case f.M$.MonthlyAiDiagramApiCalls:case f.M$.PremiumApiCalls:case f.M$.AiDiagramAndOutlineCredits:case f.M$.PremiumCredits:return[3,6]}return[3,8];case 2:return[4,t.dataFetcher.workspaces.count(A,{limit:a+1})];case 3:case 5:return d=(p=u.sent())<a,h=!0,[3,8];case 4:return[4,t.dataFetcher.customIcons.count(A,{limit:a+1})];case 6:return[4,t.dataFetcher.aggregateTeamUsage.fetchByTeamAndMonth({teamId:c,isFree:(null==(y=o.plan)?void 0:y.planType)===f.k9.Free})];case 7:return _=u.sent(),d=(E=t._checkCredit(r,e.userId,_,o,a)).allowed,p=E.current,h=E.hasFeatureAccess,(null==(b=o.plan)?void 0:b.payAsYouGoEnabled)&&Object.assign(v,{currentSpend:E.currentSpend,maxSpend:E.maxSpend,isPayAsYouGoLimitExceeded:E.isPayAsYouGoLimitExceeded}),[3,8];case 8:return[2,(0,l.Z)((0,s.Z)({},v),{allowed:d,current:p,limit:a,teamPlan:o.plan,hasFeatureAccess:h})]}})})()},t.validateLimitedFeature=function(e){var t=this;return(0,i.Z)(function(){var n;return(0,u.__generator)(this,function(r){switch(r.label){case 0:return[4,t.checkLimitedFeature(e)];case 1:if((n=r.sent()).current<n.limit)return[2,{allowed:!0,isPayAsYouGo:!1}];if(!n.allowed)throw function(e,t){var n=t.limit,r=t.current,i=t.isPayAsYouGoLimitExceeded,o={limit:n,current:r,featureName:e,currentSpend:t.currentSpend,maxSpend:t.maxSpend};if(i)return new p.WH("You have reached your team's monthly usage-based spending limit.",{hint:"Increase your team's monthly spending limit to continue",data:o});switch(e){case f.M$.Workspaces:return new p.WH("You have reached your plan's file limit.",{hint:"Upgrade to a paid plan to create more files.",data:o});case f.M$.AiDiagramAndOutlineCredits:return new p.WH("You have reached your plan's AI credit limit.",{hint:"Upgrade your plan or enable usage-based pricing to continue.",data:o});case f.M$.PremiumCredits:return new p.WH("You have reached your plan's premium credits limit.",{hint:"Upgrade your plan or enable usage-based pricing to continue.",data:o});case f.M$.MonthlyAiDiagramApiCalls:case f.M$.PremiumApiCalls:var a=0===n?"Eraser API access require usage-based pricing to be enabled.":"You have reached your plan's API call limit for AI diagrams.";return new p.WH(a+"You can enable it here: https://app.eraser.io/dashboard?settings=plans",{data:o});default:return new p.WH("Your are over your plan limit.",{hint:"Upgrade your plan to continue.",data:o})}}(e.featureName,n);return[2,{allowed:!0,isPayAsYouGo:!0,currentSpend:n.currentSpend,maxSpend:n.maxSpend}]}})})()},t.getParametersForFeature=function(e,t){var n=this;return(0,i.Z)(function(){var r,i;return(0,u.__generator)(this,function(o){switch(o.label){case 0:if(!t)return[3,2];return[4,n.fetchTeam(t)];case 1:return i=o.sent(),[3,3];case 2:i={plan:{planType:f.k9.Free}},o.label=3;case 3:return r=i,[2,n.getPlanFeaturesForTeam(r).featureParams[e]]}})})()},t.subscribeToParametrizedFeature=function(e,t,n){var r=this;if(!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var i=this.dataFetcher.teams.subscribeById(t,function(t){n(r.getPlanFeaturesForTeam(t).featureParams[e])});return function(){i()}},t.subscribeToTeamUsage=function(e,t){if(!this.dataFetcher.aggregateTeamUsage.subscribeByTeamAndMonth)throw Error("Subscriptions not enabled");return this.dataFetcher.aggregateTeamUsage.subscribeByTeamAndMonth({teamId:e,isFree:!1},t)},e}(),w=(r={},(0,a.Z)(r,f.M$.Workspaces,function(e){return{teamId:e.teamId,isPrivate:!1,isArchived:!1,isTemplate:!1,gitHubRepository:null}}),(0,a.Z)(r,f.M$.CustomIcons,function(e){return e}),(0,a.Z)(r,f.M$.AiDiagramAndOutlineCredits,function(){return{}}),(0,a.Z)(r,f.M$.PremiumCredits,function(){return{}}),(0,a.Z)(r,f.M$.MonthlyAiDiagramApiCalls,function(){return{}}),(0,a.Z)(r,f.M$.PremiumApiCalls,function(){return{}}),r);function _(e,t,n){return null==t?e:"featureLimits"===n?A()(e,t,E):void 0}function E(e,t){if("number"==typeof e&&"number"==typeof t&&e>t)return e}var C=n(97609),B=n(45403),x={teams:{},fetchTeam:function(e){return(0,i.Z)(function(){var t,n;return(0,u.__generator)(this,function(r){return(t=this,null==(n=this.teams[e])?void 0:n.team)?[2,Promise.resolve(n.team)]:[2,new Promise(function(n){var r=function(){};r=t.subscribeToTeam(e,function(e){setTimeout(r,0),n(e)})})]})}).apply(this)},subscribeToTeam:function(e,t){var n=this;e in this.teams||(this.teams[e]={cbs:[],team:void 0},(0,B.z6)().teams.subscribeById(e,function(t){t&&(n.teams[e].team=t,n.teams[e].cbs.forEach(function(e){return e(t)}))}));var r=this.teams[e],i=r.cbs,o=r.team;return i.push(t),o&&t(o),function(){var r,i=n.teams[e];i&&(i.cbs=null==(r=i.cbs)?void 0:r.filter(function(e){return e!==t}))}},subscribeToWorkspaceCount:function(e,t){return(0,B.z6)().workspaces.subscribeByTeam(e.teamId,function(n){t((0,C.o2)(n,e).length)})},countWorkspaces:function(e){return(0,i.Z)(function(){return(0,u.__generator)(this,function(t){return[2,new Promise(function(t){(0,B.z6)().workspaces.subscribeByTeam(e.teamId,function(n){t((0,C.o2)(n,e).length)})})]})})()},countCustomIcons:function(e){return(0,i.Z)(function(){var t;return(0,u.__generator)(this,function(n){return t=this,[2,new Promise(function(n){t.subscribeToCustomIconsCount(e,function(e){n(e)})})]})}).apply(this)},subscribeToCustomIconsCount:function(e,t){return(0,B.z6)().customIcons.subscribeByTeam(e.teamId,function(n){t((0,C.o2)(n,e).length)})},fetchAggregateTeamUsage:function(e){return(0,i.Z)(function(){var t,n,r,i,o;return(0,u.__generator)(this,function(a){switch(a.label){case 0:if(t=e.teamId,r=void 0===(n=e.month)?(0,v.Cl)():n,!e.isFree)return[3,2];return[4,(0,B.z6)().aggregateTeamUsage.fetchByTeam(t)];case 1:return i=a.sent(),[2,(0,v.aR)(t,i)];case 2:return[4,(0,B.z6)().aggregateTeamUsage.fetchById("".concat(t,"-").concat(r))];case 3:return[2,null!=(o=a.sent())?o:(0,v.UG)({teamId:t,month:r})]}})})()},subscribeToAggregateTeamUsage:function(e,t){var n=e.teamId,r=e.month,i=void 0===r?(0,v.Cl)():r;return e.isFree?(0,B.z6)().aggregateTeamUsage.subscribeByTeam(n,function(e){return t((0,v.aR)(n,e))}):(0,B.z6)().aggregateTeamUsage.subscribeById("".concat(n,"-").concat(i),function(e){e?t(e):t((0,v.UG)({teamId:n,month:i}))})}},I=new b({teams:{fetchById:x.fetchTeam.bind(x),subscribeById:x.subscribeToTeam.bind(x)},workspaces:{count:x.countWorkspaces.bind(x),subscribeToCount:x.subscribeToWorkspaceCount.bind(x)},customIcons:{count:x.countCustomIcons.bind(x),subscribeToCount:x.subscribeToCustomIconsCount.bind(x)},aggregateTeamUsage:{fetchByTeamAndMonth:x.fetchAggregateTeamUsage.bind(x),subscribeByTeamAndMonth:x.subscribeToAggregateTeamUsage.bind(x)}})},15765:function(e,t,n){"use strict";n.d(t,{Bv:function(){return r.Z},Q6:function(){return i.Z},ZP:function(){return a},oj:function(){return o}});var r=n(57339),i=n(71505);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return void 0===e||isNaN(e)?"?":e.toFixed(t)}function a(e){return void 0===e||isNaN(e)?0:e}},71505:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2784),i=n(92477);function o(e,t){var n=(0,r.useState)(!1),o=n[0],a=n[1];return(0,r.useEffect)(function(){return t?(a(!1),i.j.subscribeToGatedFeature(e,t,a)):void a(!1)},[e,t]),o}},57339:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2784),i=n(92477);function o(e){var t=e.featureName,n=e.userId,o=e.teamId,a=e.immediateCallbackWithLimit,s=(0,r.useState)(void 0),l=s[0],u=s[1];return(0,r.useEffect)(function(){if(void 0!==l&&u(void 0),o)return i.j.subscribeToLimitedFeature({featureName:t,userId:n,teamId:o},u,a)},[t,o,n]),l}},45171:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(2784),i=n(92477);function o(e){var t=(0,r.useState)(null),n=t[0],o=t[1];return(0,r.useEffect)(function(){if(o(null),e){if(!i.j.subscribeToTeamUsage)return void console.warn("No ability to subscribe to team usage");var t,n=null==(t=i.j.subscribeToTeamUsage)?void 0:t.call(i.j,e,function(e){o(e)});return function(){return n()}}},[e]),n}},48860:function(e,t,n){"use strict";n.d(t,{DL:function(){return a},OX:function(){return l},uJ:function(){return s}});var r,i=n(47842),o=n(70599),a=999,s=(r={},(0,i.Z)(r,o.M$.AiDiagramAndOutlineCredits,30),(0,i.Z)(r,o.M$.PremiumCredits,90),(0,i.Z)(r,o.M$.MonthlyAiDiagramApiCalls,40),(0,i.Z)(r,o.M$.PremiumApiCalls,120),r);function l(e){return!!e&&e in s}},88859:function(e,t,n){"use strict";n.d(t,{fY:function(){return f}});var r,i,o,a,s,l,u,c,A,d=n(47842),h=n(70599),f=1/0;A={},(0,d.Z)(A,h.k9.Free,{type:h.k9.Free,label:"Free",features:{gatedFeatures:(r={},(0,d.Z)(r,h.AC.ApiAccess,!1),(0,d.Z)(r,h.AC.NoLinkAccess,!1),(0,d.Z)(r,h.AC.PrivateWorkspaces,!1),(0,d.Z)(r,h.AC.AnonymousCollaboration,!1),(0,d.Z)(r,h.AC.SSO,!1),(0,d.Z)(r,h.AC.CustomAiContext,!1),(0,d.Z)(r,h.AC.AiImport,!0),(0,d.Z)(r,h.AC.ExportPDF,!1),(0,d.Z)(r,h.AC.ExportQualityControls,!1),(0,d.Z)(r,h.AC.ExportWatermarkToggle,!1),(0,d.Z)(r,h.AC.PubliclyViewable,!1),r),featureLimits:(i={},(0,d.Z)(i,h.M$.Workspaces,3),(0,d.Z)(i,h.M$.CustomIcons,0),(0,d.Z)(i,h.M$.AiDiagramAndOutlineCredits,4),(0,d.Z)(i,h.M$.PremiumCredits,1),(0,d.Z)(i,h.M$.MonthlyAiDiagramApiCalls,0),(0,d.Z)(i,h.M$.PremiumApiCalls,0),i),featureParams:(0,d.Z)({},h.h8.VersionHistory,{keepVersionsDays:7})}}),(0,d.Z)(A,h.k9.Pro,{type:h.k9.Pro,label:"Starter",features:{gatedFeatures:(o={},(0,d.Z)(o,h.AC.ApiAccess,!0),(0,d.Z)(o,h.AC.ExportPDF,!0),(0,d.Z)(o,h.AC.NoLinkAccess,!0),(0,d.Z)(o,h.AC.PrivateWorkspaces,!0),(0,d.Z)(o,h.AC.AnonymousCollaboration,!0),(0,d.Z)(o,h.AC.SSO,!1),(0,d.Z)(o,h.AC.CustomAiContext,!1),(0,d.Z)(o,h.AC.AiImport,!0),(0,d.Z)(o,h.AC.ExportQualityControls,!0),(0,d.Z)(o,h.AC.ExportWatermarkToggle,!0),(0,d.Z)(o,h.AC.PubliclyViewable,!0),o),featureLimits:(a={},(0,d.Z)(a,h.M$.CustomIcons,20),(0,d.Z)(a,h.M$.Workspaces,f),(0,d.Z)(a,h.M$.AiDiagramAndOutlineCredits,30),(0,d.Z)(a,h.M$.PremiumCredits,10),(0,d.Z)(a,h.M$.MonthlyAiDiagramApiCalls,0),(0,d.Z)(a,h.M$.PremiumApiCalls,0),a),featureParams:(0,d.Z)({},h.h8.VersionHistory,{keepVersionsDays:90})}}),(0,d.Z)(A,h.k9.Business,{type:h.k9.Business,label:"Business",features:{gatedFeatures:(s={},(0,d.Z)(s,h.AC.ApiAccess,!0),(0,d.Z)(s,h.AC.ExportPDF,!0),(0,d.Z)(s,h.AC.NoLinkAccess,!0),(0,d.Z)(s,h.AC.PrivateWorkspaces,!0),(0,d.Z)(s,h.AC.AnonymousCollaboration,!0),(0,d.Z)(s,h.AC.SSO,!0),(0,d.Z)(s,h.AC.CustomAiContext,!0),(0,d.Z)(s,h.AC.AiImport,!0),(0,d.Z)(s,h.AC.ExportQualityControls,!0),(0,d.Z)(s,h.AC.ExportWatermarkToggle,!0),(0,d.Z)(s,h.AC.PubliclyViewable,!0),s),featureLimits:(l={},(0,d.Z)(l,h.M$.CustomIcons,100),(0,d.Z)(l,h.M$.Workspaces,f),(0,d.Z)(l,h.M$.AiDiagramAndOutlineCredits,200),(0,d.Z)(l,h.M$.PremiumCredits,50),(0,d.Z)(l,h.M$.MonthlyAiDiagramApiCalls,0),(0,d.Z)(l,h.M$.PremiumApiCalls,0),l),featureParams:(0,d.Z)({},h.h8.VersionHistory,{keepVersionsDays:90})}}),(0,d.Z)(A,h.k9.Enterprise,{type:h.k9.Enterprise,label:"Enterprise",features:{gatedFeatures:(u={},(0,d.Z)(u,h.AC.ApiAccess,!0),(0,d.Z)(u,h.AC.ExportPDF,!0),(0,d.Z)(u,h.AC.NoLinkAccess,!0),(0,d.Z)(u,h.AC.PrivateWorkspaces,!0),(0,d.Z)(u,h.AC.AnonymousCollaboration,!0),(0,d.Z)(u,h.AC.SSO,!0),(0,d.Z)(u,h.AC.CustomAiContext,!0),(0,d.Z)(u,h.AC.AiImport,!0),(0,d.Z)(u,h.AC.ExportQualityControls,!0),(0,d.Z)(u,h.AC.ExportWatermarkToggle,!0),(0,d.Z)(u,h.AC.PubliclyViewable,!0),u),featureLimits:(c={},(0,d.Z)(c,h.M$.CustomIcons,100),(0,d.Z)(c,h.M$.Workspaces,f),(0,d.Z)(c,h.M$.AiDiagramAndOutlineCredits,500),(0,d.Z)(c,h.M$.PremiumCredits,500),(0,d.Z)(c,h.M$.MonthlyAiDiagramApiCalls,200),(0,d.Z)(c,h.M$.PremiumApiCalls,25),c),featureParams:(0,d.Z)({},h.h8.VersionHistory,{keepVersionsDays:90})}}),t.ZP=A},83423:function(e,t,n){"use strict";n.d(t,{I8:function(){return j},RE:function(){return K},Fs:function(){return Z},RZ:function(){return M}});var r,i,o,a,s=n(98788),l=n(22970),u=n(84282);(0,u.KN)("firebase","12.8.0","app");var c=n(28667),A=n(78549),d=n(84215),h=n(93980),f=n(31437);let p="firebasestorage.googleapis.com";class g extends h.ZR{constructor(e,t,n=0){super(m(e),`Firebase Storage: ${t} (${m(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,g.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function m(e){return"storage/"+e}function v(e){return new g(o.INVALID_ARGUMENT,e)}function y(){return new g(o.APP_DELETED,"The Firebase app was deleted.")}(r=o||(o={})).UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class b{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=b.makeFromUrl(e,t)}catch(t){return new b(e,"")}if(""===n.path)return n;throw new g(o.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null,r="([A-Za-z0-9.\\-_]+)",i=RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}let s=t.replace(/[.]/g,"\\."),l=RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),u=t===p?"(?:storage.googleapis.com|storage.cloud.google.com)":t,c=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:l,indices:{bucket:1,path:3},postModify:a},{regex:RegExp(`^https?://${u}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let t=0;t<c.length;t++){let r=c[t],i=r.regex.exec(e);if(i){let e=i[r.indices.bucket],t=i[r.indices.path];t||(t=""),n=new b(e,t),r.postModify(n);break}}if(null==n)throw new g(o.INVALID_URL,"Invalid URL '"+e+"'.");return n}}class w{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _(e,t,n,r){if(r<t)throw v(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw v(`Invalid value for '${e}'. Expected ${n} or less.`)}(i=a||(a={}))[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT";class E{constructor(e,t,n,r,i,o,a,s,l,u,c,A=!0,d=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=A,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t)return void e(!1,new C(!1,null,!0));let n=this.connectionFactory_();this.pendingConnection_=n;let r=e=>{let t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{var t;let i,o,s;null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;let l=n.getErrorCode()===a.NO_ERROR,u=n.getStatus();!l||(t=this.additionalRetryCodes_,i=u>=500&&u<600,o=-1!==[408,429].indexOf(u),s=-1!==t.indexOf(u),(i||o||s)&&this.retry)?e(!1,new C(!1,null,n.getErrorCode()===a.ABORT)):e(!0,new C(-1!==this.successCodes_.indexOf(u),n))})},t=(e,t)=>{let n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==i){let e=new g(o.UNKNOWN,"An unknown error occurred, please check the error payload for server response.");e.serverResponse=i.getErrorText(),r(this.errorCallback_?this.errorCallback_(i,e):e)}else r(t.canceled?this.appDelete_?y():new g(o.CANCELED,"User canceled the upload/download."):new g(o.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?t(!1,new C(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0,l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function c(t){i=setTimeout(()=>{i=null,e(d,2===s)},t)}function A(){o&&clearTimeout(o)}function d(e,...t){let n;if(l)return void A();if(e||2===s||a){A(),u.call(null,e,...t);return}r<64&&(r*=2),1===s?(s=2,n=0):n=(r+Math.random())*1e3,c(n)}let h=!1;function f(e){h||(h=!0,A(),!l&&(null!==i?(e||(s=2),clearTimeout(i),c(0)):e||(s=1)))}return c(0),o=setTimeout(()=>{a=!0,f(!0)},n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class C{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}class B{constructor(e,t){this._service=e,t instanceof b?this._location=t:this._location=b.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new B(e,t)}get root(){let e=new b(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){var e;let t;return -1===(t=(e=this._location.path).lastIndexOf("/",e.length-2))?e:e.slice(t+1)}get storage(){return this._service}get parent(){let e=function(e){if(0===e.length)return null;let t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;let t=new b(this._location.bucket,e);return new B(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw new g(o.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function x(e,t){let n=t?.storageBucket;return null==n?null:b.makeFromBucketSpec(n,e)}class I{constructor(e,t,n,r,i,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=p,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=r?this._bucket=b.makeFromBucketSpec(r,this._host):this._bucket=x(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=b.makeFromBucketSpec(this._url,e):this._bucket=x(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_("time",0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_("time",0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,u.rh)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new B(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new w(y());{let o=function(e,t,n,r,i,o,a=!0,s=!1){let l=function(e){let t=encodeURIComponent,n="?";for(let r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return t&&(c["X-Firebase-GMPID"]=t),null!==n&&n.length>0&&(c.Authorization="Firebase "+n),c["X-Firebase-Storage-Version"]="webjs/"+(o??"AppManager"),null!==r&&(c["X-Firebase-AppCheck"]=r),new E(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,s)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){let[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}let T="@firebase/storage",S="0.14.0",k="storage";function N(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`;let i=(0,h.Xx)(t);i&&((0,h.Uo)(`https://${e.host}/b`),(0,h.dp)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"==typeof o?o:(0,h.Sg)(o,e.app.options.projectId))}(e,t,n,r)}(0,u.Xd)(new f.wA(k,function(e,{instanceIdentifier:t}){return new I(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t,u.Jn)},"PUBLIC").setMultipleInstances(!0)),(0,u.KN)(T,S,""),(0,u.KN)(T,S,"esm2020");var D=n(61490),O=n(66140),R=n(34406),F="Cypress"in window,L=O.wC.emulatorEnabled,U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]",t=(0,u.C6)().find(function(t){return t.name===e});return null!=t?t:(0,u.ZF)(O.wC,e)}(),P=!F&&!R.env.STORYBOOK,M=function(e){try{return(0,A.LV)(e,{ignoreUndefinedProperties:!0,experimentalForceLongPolling:F||L,experimentalAutoDetectLongPolling:!(F||L),localCache:P?(0,A.j5)({tabManager:(0,A.n3)(),cacheSizeBytes:0x2800000}):(0,A.ms)()})}catch(t){return(0,A.ad)(e)}}(U),j=(0,c.v0)(U),Z=(0,d.N8)(U),Q=function(e=(0,u.Mq)(),t){e=(0,h.m9)(e);let n=(0,u.qX)(e,k).getImmediate({identifier:void 0}),r=(0,h.P0)("storage");return r&&N(n,...r),n}(U);(0,u.Ub)(O.wC.logLevel),(0,A.Ub)(O.wC.logLevel);var H=!1;L&&!H&&(H=!0,j&&(0,c.S$)(j,"http://localhost:5001",{disableWarnings:!0}),(0,A.at)(M,"localhost",5003),(0,d.dH)(Z,"localhost",5004),N(Q,"localhost",5006));var V=!1;function K(e,t){return z.apply(this,arguments)}function z(){return(z=(0,s.Z)(function(e,t){var r,i,o,a,s,u;return(0,l.__generator)(this,function(l){switch(l.label){case 0:return[4,n.e(5811).then(n.bind(n,85811))];case 1:return i=(r=l.sent()).getFunctions,o=r.httpsCallable,a=r.connectFunctionsEmulator,s=i(U,O.wC.region||"us-central1"),L&&!V&&(a(s,"localhost",5002),V=!0),u=o(s,e),[4,(0,D.VS)(function(){return u(t)})];case 2:return[2,l.sent().data]}})})).apply(this,arguments)}},99669:function(e,t,n){"use strict";n.d(t,{J:function(){return u},m:function(){return l}});var r=n(90581),i=n(66140),o=n(19179),a=o.jU&&o.IU?window.localStorage:null,s=function(e){var t=e.name,n=e.version,r=e.storeName;return"".concat(t,"/").concat(n,"/").concat(r,"/")},l=function(){function e(t){(0,r.Z)(this,e),this._keyPrefix=s(t)}var t=e.prototype;return t.setItem=function(e,t){var n="".concat(this._keyPrefix).concat(e);null==t?null==a||a.removeItem(n):null==a||a.setItem(n,JSON.stringify(t))},t.getItem=function(e){var t,n=null==a?void 0:a.getItem("".concat(this._keyPrefix).concat(e));if(null==n)return null;try{t=JSON.parse(n)}catch(n){console.warn('Localstorage.getItem("'.concat(e,'") - ').concat(n.message)),t=null}return t},t.removeItem=function(e){null==a||a.removeItem("".concat(this._keyPrefix).concat(e))},t.clear=function(){null==a||a.clear()},e}(),u=new l(i.Wc)},37578:function(e,t,n){"use strict";function r(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.d(t,{e:function(){return Z}});let i=r(),o=/[&<>"']/,a=RegExp(o.source,"g"),s=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,l=RegExp(s.source,"g"),u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=e=>u[e];function A(e,t){if(t){if(o.test(e))return e.replace(a,c)}else if(s.test(e))return e.replace(l,c);return e}let d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function h(e){return e.replace(d,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}let f=/(^|[^\[])\^/g;function p(e,t){e="string"==typeof e?e:e.source,t=t||"";let n={replace:(t,r)=>(r=(r=r.source||r).replace(f,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}let g=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function v(e,t,n){var r,i;let o;if(e){let e;try{e=decodeURIComponent(h(n)).replace(g,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!m.test(n)&&(r=t,i=n,y[" "+r]||(b.test(r)?y[" "+r]=r+"/":y[" "+r]=B(r,"/",!0)),o=-1===(r=y[" "+r]).indexOf(":"),n="//"===i.substring(0,2)?o?i:r.replace(w,"$1")+i:"/"!==i.charAt(0)?r+i:o?i:r.replace(_,"$1")+i);try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}let y={},b=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,_=/^([^:]+:\/*[^/]*)[\s\S]*$/,E={exec:function(){}};function C(e,t){let n=e.replace(/\|/g,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function B(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let o=e.charAt(r-i-1);if(o!==t||n)if(o!==t&&n)i++;else break;else i++}return e.slice(0,r-i)}function x(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function I(e,t,n,r){let i=t.href,o=t.title?A(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;let e={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:A(a)}}class T{constructor(e){this.options=e||i}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:B(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t){let n=e.match(/^(\s+)(?:```)/);if(null===n)return t;let r=n[1];return t.split("\n").map(e=>{let t=e.match(/^\s+/);if(null===t)return e;let[n]=t;return n.length>=r.length?e.slice(r.length):e}).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){let t=B(e,"#");this.options.pedantic?e=t.trim():(!t||/ $/.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;let r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,o,a,s,l,u,c,A,d,h,f=t[1].trim(),p=f.length>1,g={type:"list",raw:"",ordered:p,start:p?+f.slice(0,-1):"",loose:!1,items:[]};f=p?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=p?f:"[*+-]");let m=RegExp(`^( {0,3}${f})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,!(!(t=m.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),u=t[2].split("\n",1)[0].replace(/^\t+/,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],this.options.pedantic?(o=2,d=u.trimLeft()):(o=(o=t[2].search(/[^ ]/))>4?1:o,d=u.slice(o),o+=t[1].length),s=!1,!u&&/^ *$/.test(c)&&(n+=c+"\n",e=e.substring(c.length+1),h=!0),!h){let t=RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),r=RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),a=RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(c=A=e.split("\n",1)[0],this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(i.test(c)||a.test(c)||t.test(c)||r.test(e)));){if(c.search(/[^ ]/)>=o||!c.trim())d+="\n"+c.slice(o);else{if(s||u.search(/[^ ]/)>=4||i.test(u)||a.test(u)||r.test(u))break;d+="\n"+c}s||c.trim()||(s=!0),n+=A+"\n",e=e.substring(A.length+1),u=c.slice(o)}}!g.loose&&(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d))&&(i="[ ] "!==r[0],d=d.replace(/^\[[ xX]\] +/,"")),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:d}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=d.trimRight(),g.raw=g.raw.trimRight();let v=g.items.length;for(a=0;a<v;a++)if(this.lexer.state.top=!1,g.items[a].tokens=this.lexer.blockTokens(g.items[a].text,[]),!g.loose){let e=g.items[a].tokens.filter(e=>"space"===e.type);g.loose=e.length>0&&e.some(e=>/\n.*\n/.test(e.raw))}if(g.loose)for(a=0;a<v;a++)g.items[a].loose=!0;return g}}html(e){let t=this.rules.block.html.exec(e);if(t){let e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){let n=this.options.sanitizer?this.options.sanitizer(t[0]):A(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(t){let e={type:"table",header:C(t[1]).map(e=>({text:e})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){let n,r,i,o;e.raw=t[0];let a=e.align.length;for(n=0;n<a;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(n=0,a=e.rows.length;n<a;n++)e.rows[n]=C(e.rows[n],e.header.length).map(e=>({text:e}));for(r=0,a=e.header.length;r<a;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(r=0,a=e.rows.length;r<a;r++)for(i=0,o=e.rows[r];i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return e}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:A(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):A(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;let t=B(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(")"))return -1;let n=e.length,r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if("("===e[i])r++;else if(")"===e[i]&&--r<0)return i;return -1}(t[2],0);if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),I(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(!(e=t[e.toLowerCase()])){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return I(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;let i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){let n=r[0].length-1,i,o,a=n,s=0,l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(!(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6]))continue;if(o=i.length,r[3]||r[4]){a+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){s+=o;continue}if((a-=o)>0)continue;o=Math.min(o,o+a+s);let t=e.slice(0,n+r.index+(r[0].length-i.length)+o);if(Math.min(n,o)%2){let e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}let l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," "),n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=A(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let e,r;return r="@"===n[2]?"mailto:"+(e=A(this.options.mangle?t(n[1]):n[1])):e=A(n[1]),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])r="mailto:"+(e=A(this.options.mangle?t(n[0]):n[0]));else{let t;do t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(t!==n[0]);e=A(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):A(n[0]):n[0]:A(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}let S={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:E,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};S._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,S._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,S.def=p(S.def).replace("label",S._label).replace("title",S._title).getRegex(),S.bullet=/(?:[*+-]|\d{1,9}[.)])/,S.listItemStart=p(/^( *)(bull) */).replace("bull",S.bullet).getRegex(),S.list=p(S.list).replace(/bull/g,S.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+S.def.source+")").getRegex(),S._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",S._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,S.html=p(S.html,"i").replace("comment",S._comment).replace("tag",S._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),S.paragraph=p(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.blockquote=p(S.blockquote).replace("paragraph",S.paragraph).getRegex(),S.normal={...S},S.gfm={...S.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},S.gfm.table=p(S.gfm.table).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.gfm.paragraph=p(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",S.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex(),S.pedantic={...S.normal,html:p("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",S._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:E,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:p(S.normal._paragraph).replace("hr",S.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",S.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};let k={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:E,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:E,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function N(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function D(e){let t="",n,r,i=e.length;for(n=0;n<i;n++)r=e.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}k._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",k.punctuation=p(k.punctuation).replace(/punctuation/g,k._punctuation).getRegex(),k.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,k.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,k._comment=p(S._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),k.emStrong.lDelim=p(k.emStrong.lDelim).replace(/punct/g,k._punctuation).getRegex(),k.emStrong.rDelimAst=p(k.emStrong.rDelimAst,"g").replace(/punct/g,k._punctuation).getRegex(),k.emStrong.rDelimUnd=p(k.emStrong.rDelimUnd,"g").replace(/punct/g,k._punctuation).getRegex(),k._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,k._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,k._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,k.autolink=p(k.autolink).replace("scheme",k._scheme).replace("email",k._email).getRegex(),k._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,k.tag=p(k.tag).replace("comment",k._comment).replace("attribute",k._attribute).getRegex(),k._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,k._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,k._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,k.link=p(k.link).replace("label",k._label).replace("href",k._href).replace("title",k._title).getRegex(),k.reflink=p(k.reflink).replace("label",k._label).replace("ref",S._label).getRegex(),k.nolink=p(k.nolink).replace("ref",S._label).getRegex(),k.reflinkSearch=p(k.reflinkSearch,"g").replace("reflink",k.reflink).replace("nolink",k.nolink).getRegex(),k.normal={...k},k.pedantic={...k.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:p(/^!?\[(label)\]\((.*?)\)/).replace("label",k._label).getRegex(),reflink:p(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",k._label).getRegex()},k.gfm={...k.normal,escape:p(k.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},k.gfm.url=p(k.gfm.url,"i").replace("email",k.gfm._extended_email).getRegex(),k.breaks={...k.gfm,br:p(k.br).replace("{2,}","*").getRegex(),text:p(k.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class O{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.options.tokenizer=this.options.tokenizer||new T,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:S.normal,inline:k.normal};this.options.pedantic?(t.block=S.pedantic,t.inline=k.pedantic):this.options.gfm&&(t.block=S.gfm,this.options.breaks?t.inline=k.breaks:t.inline=k.gfm),this.tokenizer.rules=t}static get rules(){return{block:S,inline:k}}static lex(e,t){return new O(t).lex(e)}static lexInline(e,t){return new O(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(e,t,n)=>t+"    ".repeat(n.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&("paragraph"===r.type||"text"===r.type)?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if((n=this.tokenizer.fences(e))||(n=this.tokenizer.heading(e))||(n=this.tokenizer.hr(e))||(n=this.tokenizer.blockquote(e))||(n=this.tokenizer.list(e))||(n=this.tokenizer.html(e))){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&("paragraph"===r.type||"text"===r.type)?(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if((n=this.tokenizer.table(e))||(n=this.tokenizer.lheading(e))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(function(e){"number"==typeof(t=e.call({lexer:this},r))&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,o,a,s,l=e;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+x("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+x("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if((n=this.tokenizer.emStrong(e,l,s))||(n=this.tokenizer.codespan(e))||(n=this.tokenizer.br(e))||(n=this.tokenizer.del(e))||(n=this.tokenizer.autolink(e,D))||!this.state.inLink&&(n=this.tokenizer.url(e,D))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(function(e){"number"==typeof(t=e.call({lexer:this},r))&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(i,N)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return t}}class R{constructor(e){this.options=e||i}code(e,t,n){let r=(t||"").match(/\S*/)[0];if(this.options.highlight){let t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return(e=e.replace(/\n$/,"")+"\n",r)?'<pre><code class="'+this.options.langPrefix+A(r)+'">'+(n?e:A(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:A(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){let i=this.options.headerPrefix+r.slug(n);return`<h${t} id="${i}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=v(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"}image(e,t,n){if(null===(e=v(this.options.sanitize,this.options.baseUrl,e)))return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">"}text(e){return e}}class F{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class L{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do n=e+"-"+ ++r;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class U{constructor(e){this.options=e||i,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new F,this.slugger=new L}static parse(e,t){return new U(t).parse(e)}static parseInline(e,t){return new U(t).parseInline(e)}parse(e,t=!0){let n="",r,i,o,a,s,l,u,c,A,d,f,p,g,m,v,y,b,w,_,E=e.length;for(r=0;r<E;r++){if(d=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(!1!==(_=this.options.extensions.renderers[d.type].call({parser:this},d))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))){n+=_||"";continue}switch(d.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":n+=this.renderer.heading(this.parseInline(d.tokens),d.depth,h(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":n+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(i=0,c="",u="",a=d.header.length;i<a;i++)u+=this.renderer.tablecell(this.parseInline(d.header[i].tokens),{header:!0,align:d.align[i]});for(c+=this.renderer.tablerow(u),A="",a=d.rows.length,i=0;i<a;i++){for(o=0,l=d.rows[i],u="",s=l.length;o<s;o++)u+=this.renderer.tablecell(this.parseInline(l[o].tokens),{header:!1,align:d.align[o]});A+=this.renderer.tablerow(u)}n+=this.renderer.table(c,A);continue;case"blockquote":A=this.parse(d.tokens),n+=this.renderer.blockquote(A);continue;case"list":for(i=0,f=d.ordered,p=d.start,g=d.loose,a=d.items.length,A="";i<a;i++)y=(v=d.items[i]).checked,b=v.task,m="",v.task&&(w=this.renderer.checkbox(y),g?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=w+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=w+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(v.tokens,g),A+=this.renderer.listitem(m,b,y);n+=this.renderer.list(A,f,p);continue;case"html":n+=this.renderer.html(d.text);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(A=d.tokens?this.parseInline(d.tokens):d.text;r+1<E&&"text"===e[r+1].type;)A+="\n"+((d=e[++r]).tokens?this.parseInline(d.tokens):d.text);n+=t?this.renderer.paragraph(A):A;continue;default:{let e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",r,i,o,a=e.length;for(r=0;r<a;r++){if(i=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(!1!==(o=this.options.extensions.renderers[i.type].call({parser:this},i))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){n+=o||"";continue}switch(i.type){case"escape":case"text":n+=t.text(i.text);break;case"html":n+=t.html(i.text);break;case"link":n+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":n+=t.image(i.href,i.title,i.text);break;case"strong":n+=t.strong(this.parseInline(i.tokens,t));break;case"em":n+=t.em(this.parseInline(i.tokens,t));break;case"codespan":n+=t.codespan(i.text);break;case"br":n+=t.br();break;case"del":n+=t.del(this.parseInline(i.tokens,t));break;default:{let e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw Error(e)}}}return n}}class P{constructor(e){this.options=e||i}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function M(e,t){return(n,r,i)=>{var o,a,s,l;"function"==typeof r&&(i=r,r=null);let u={...r},c=(o=(r={...j.defaults,...u}).silent,a=r.async,s=i,e=>{if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",o){let t="<p>An error occurred:</p><pre>"+A(e.message+"",!0)+"</pre>";return a?Promise.resolve(t):s?void s(null,t):t}if(a)return Promise.reject(e);if(s)return void s(e);throw e});if(null==n)return c(Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return c(Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if((l=r)&&l.sanitize&&!l.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),r.hooks&&(r.hooks.options=r),i){let o,a=r.highlight;try{r.hooks&&(n=r.hooks.preprocess(n)),o=e(n,r)}catch(e){return c(e)}let s=function(e){let n;if(!e)try{r.walkTokens&&j.walkTokens(o,r.walkTokens),n=t(o,r),r.hooks&&(n=r.hooks.postprocess(n))}catch(t){e=t}return r.highlight=a,e?c(e):i(null,n)};if(!a||a.length<3||(delete r.highlight,!o.length))return s();let l=0;return j.walkTokens(o,function(e){"code"===e.type&&(l++,setTimeout(()=>{a(e.text,e.lang,function(t,n){if(t)return s(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--l&&s()})},0))}),void(0===l&&s())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(t=>e(t,r)).then(e=>r.walkTokens?Promise.all(j.walkTokens(e,r.walkTokens)).then(()=>e):e).then(e=>t(e,r)).then(e=>r.hooks?r.hooks.postprocess(e):e).catch(c);try{r.hooks&&(n=r.hooks.preprocess(n));let i=e(n,r);r.walkTokens&&j.walkTokens(i,r.walkTokens);let o=t(i,r);return r.hooks&&(o=r.hooks.postprocess(o)),o}catch(e){return c(e)}}}function j(e,t,n){return M(O.lex,U.parse)(e,t,n)}function Z(e){var t=j(e,{gfm:!0,xhtml:!0,breaks:!0,baseUrl:""});return new DOMParser().parseFromString(t,"text/html").body}j.options=j.setOptions=function(e){return j.defaults={...j.defaults,...e},i=j.defaults,j},j.getDefaults=r,j.defaults=i,j.use=function(...e){let t=j.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(e=>{let n={...e};if(n.async=j.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw Error("extension name required");if(e.renderer){let n=t.renderers[e.name];n?t.renderers[e.name]=function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:t.renderers[e.name]=e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=j.defaults.renderer||new R;for(let n in e.renderer){let r=t[n];t[n]=(...i)=>{let o=e.renderer[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.renderer=t}if(e.tokenizer){let t=j.defaults.tokenizer||new T;for(let n in e.tokenizer){let r=t[n];t[n]=(...i)=>{let o=e.tokenizer[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.tokenizer=t}if(e.hooks){let t=j.defaults.hooks||new P;for(let n in e.hooks){let r=t[n];P.passThroughHooks.has(n)?t[n]=i=>{if(j.defaults.async)return Promise.resolve(e.hooks[n].call(t,i)).then(e=>r.call(t,e));let o=e.hooks[n].call(t,i);return r.call(t,o)}:t[n]=(...i)=>{let o=e.hooks[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.hooks=t}if(e.walkTokens){let t=j.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}j.setOptions(n)})},j.walkTokens=function(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(j,r)),r.type){case"table":for(let e of r.header)n=n.concat(j.walkTokens(e.tokens,t));for(let e of r.rows)for(let r of e)n=n.concat(j.walkTokens(r.tokens,t));break;case"list":n=n.concat(j.walkTokens(r.items,t));break;default:j.defaults.extensions&&j.defaults.extensions.childTokens&&j.defaults.extensions.childTokens[r.type]?j.defaults.extensions.childTokens[r.type].forEach(function(e){n=n.concat(j.walkTokens(r[e],t))}):r.tokens&&(n=n.concat(j.walkTokens(r.tokens,t)))}return n},j.parseInline=M(O.lexInline,U.parseInline),j.Parser=U,j.parser=U.parse,j.Renderer=R,j.TextRenderer=F,j.Lexer=O,j.lexer=O.lex,j.Tokenizer=T,j.Slugger=L,j.Hooks=P,j.parse=j,j.options,j.setOptions,j.use,j.walkTokens,j.parseInline,U.parse,O.lex},89960:function(e,t,n){"use strict";n.d(t,{Tb:function(){return c},qK:function(){return A}});var r=n(42838),i=n(70865),o=n(15902),a=n(69211),s=n(67640),l=n(83202),u=new Set,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.Z)({},t);if((0,r.Z)(e,a.tk)){if(e.isCaptured)return;e.isCaptured=!0,Object.assign(n,e.data)}(0,r.Z)(e,l.bS)&&Object.assign(n,{code:e.code});var c,A,f=(c=e,(0,r.Z)(c,Error)?c.message:"string"==typeof c?c:"object"==typeof c&&null!==c&&"message"in c?c.message:"Unknown error"),p=function(e){if("object"==typeof e&&null!==e&&"code"in e)return e.code}(e);if(!function(e,t,n){if(!e||(0,r.Z)(e,a.tk)&&(e.isCaptured||e.statusCode<500)||(0,r.Z)(e,a.MS)&&e.statusCode<500||(0,r.Z)(e,a.WH)||(0,r.Z)(e,o.zO)||(0,r.Z)(e,o.sv)||"string"==typeof n&&n.startsWith("auth"))return!0;var i=t.toLowerCase();return!!(d.some(function(e){return i.includes(e)})||h.includes(i))}(e,f,p)&&!u.has(f)){u.add(f);var g=(0,r.Z)(e,Error)?e.stack:Error().stack,m=(0,r.Z)(e,l.bS)&&e.code===l.bS.Codes.Normalize;s.Z.post("logging",{type:m?"appCrash":"error",message:f,error:e,location:"app",path:window.location.pathname,stack:g,cause:(0,r.Z)(e,Error)?e.cause:void 0,causeStack:(0,r.Z)(e,Error)?null==(A=e.cause)?void 0:A.stack:void 0,errorData:n})}},A=function(e,t){s.Z.post("logging",{type:"warning",message:e,location:"app",path:window.location.pathname,warningData:t})},d=["permission_denied","missing or insufficient permissions","client is offline","internal assertion failed","[waiter]","too many errors","parse error","loop completed with undelivered notifications"],h=["set"]},97609:function(e,t,n){"use strict";n.d(t,{Ae:function(){return o},o2:function(){return a}});var r=n(87394),i=n(50930);function o(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.limit,s=o.orderBy,l=e,u=!0,c=!1,A=void 0;try{for(var d,h=Object.entries(t)[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var f,p=(0,r.Z)(d.value,2),g=p[0],m=p[1];if(void 0!==m)if(Array.isArray(m)&&m.length>0&&Array.isArray(m[0])){var v=!0,y=!1,b=void 0;try{for(var w,_=m[Symbol.iterator]();!(v=(w=_.next()).done);v=!0){var E,C=w.value;l=(E=l).where.apply(E,[g].concat((0,i.Z)(C)))}}catch(e){y=!0,b=e}finally{try{v||null==_.return||_.return()}finally{if(y)throw b}}}else l=Array.isArray(m)?(f=l).where.apply(f,[g].concat((0,i.Z)(m))):l.where(g,"==",m)}}catch(e){c=!0,A=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw A}}return s&&(l=(n=l).orderBy.apply(n,(0,i.Z)(s))),a&&(l=l.limit(a)),l}function a(e,t){return e.filter(function(e){var n;return n=e,Object.entries(t).every(function(e){var t=(0,r.Z)(e,2),i=t[0],o=t[1],a=n[i];if(Array.isArray(o)&&o.length>0&&Array.isArray(o[0]))return o.every(function(e){var t=(0,r.Z)(e,2);return s(a,t[0],t[1])});if(Array.isArray(o)){var l=(0,r.Z)(o,2);return s(a,l[0],l[1])}return a===o})})}function s(e,t,n){switch(t){case"==":return e===n;case"!=":return e!==n;case"in":if(null==e)return!1;return Array.isArray(n)&&n.includes(e);case"not-in":if(null==e)return!1;return!Array.isArray(n)||!n.includes(e);case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;default:return!1}}},18325:function(e,t,n){"use strict";n.d(t,{I:function(){return y}});var r,i,o=n(98788),a=n(90581),s=n(70865),l=n(96670),u=n(26297),c=n(22970),A=n(37164),d=n(44953),h=n(95164),f=n(67640);(r=i||(i={})).Pending="pending",r.InProgress="in-progress",r.Completed="completed",r.Error="error";var p=n(45403),g=n(42668),m=n(69545),v=n(69211),y=new(function(){function e(){(0,a.Z)(this,e),this.streams=new Map}var t=e.prototype;return t._createRecord=function(e,t,n){return(0,o.Z)(function(){var r,i,o,a,f,g,m,v;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(r=(0,p.z6)(),e!==h.z.Diagram)return[3,2];return i=t.text,o=t.attachedFiles,a=t.diagramType,f=t.codeToEdit,g=t.mode,m=t.diagramElementId,v=(0,u.Z)(t,["text","attachedFiles","diagramType","codeToEdit","mode","diagramElementId"]),[4,r.aiDiagramming.createRequest((0,l.Z)((0,s.Z)({},v,n),{diagramElementId:m,text:i,attachedFiles:o,diagramType:a,codeToEdit:f,mode:g}))];case 1:return[2,c.sent()];case 2:return[2,Promise.resolve((0,l.Z)((0,s.Z)({id:(0,A.x0)()},t),{createdBy:n.userId,teamId:n.teamId,workspaceId:n.workspaceId,createdAt:Date.now(),state:d.F.Pending}))]}})})()},t.startStream=function(e){var t=e.streamType,n=e.args,r=e.context,i=e.mode,a=e.listener,l=e.streamApiArgs,A=this;return(0,o.Z)(function(){var e,o,d,f,p,g,m;return(0,c.__generator)(this,function(c){switch(c.label){case 0:return[4,A._createRecord(t,n,r)];case 1:if(e=c.sent(),A.streams.has(e.id))throw Error("Stream ".concat(e.id," already exists"));if(t===h.z.Diagram&&"context"in n&&n.context)return o=n.context,d=(0,u.Z)(n,["context"]),[2,A.startGitStream({record:e,gitContext:o,args:d,context:r,listener:a})];f=t===h.z.Diagram?l:(0,s.Z)({record:e,streamType:t,mode:i},l),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,A.createStream({requestId:e.id,streamType:t,listener:a,streamApiArgs:f})];case 3:return p=c.sent(),A.streams.set(e.id,p),[2,{record:e,cleanup:function(){return A.cleanup(e.id)}}];case 4:return g=c.sent(),null==(m=a.onError)||m.call(a,(0,v.Lr)(g)),[2,{record:e,cleanup:function(){return A.cleanup(e.id)}}];case 5:return[2]}})})()},t.createStream=function(e){var t=e.requestId,n=e.streamType,r=e.listener,a=e.streamApiArgs,s=this;return(0,o.Z)(function(){var e,o,l,u;return(0,c.__generator)(this,function(c){switch(c.label){case 0:e=new AbortController,o=n===h.z.Diagram?"ai/diagram/stream/".concat(t):"ai/outline/stream/".concat(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,f.Z.stream(o,a,{method:"post"})];case 2:return l={requestId:t,streamType:n,reader:c.sent(),abortController:e,listener:r,accumulatedText:"",phase:i.Pending},s.readStream(l),[2,l];case 3:throw u=c.sent(),e.abort(),console.error("[AiStreamManager] Stream creation failed:",u),u;case 4:return[2]}})})()},t.readStream=function(e){var t=this;return(0,o.Z)(function(){var n,r,o,a,s,l,u,A,d,h,f,p,g,m,y;return(0,c.__generator)(this,function(c){switch(c.label){case 0:n=e.reader,c.label=1;case 1:c.trys.push([1,5,,6]),r="",c.label=2;case 2:return[4,n.read()];case 3:if(a=(o=c.sent()).done,s=o.value,a)return[3,4];r+=s,r=(l=r.split("\n")).pop()||"",u=!0,A=!1,d=void 0;try{for(h=l[Symbol.iterator]();!(u=(f=h.next()).done);u=!0)if((p=f.value).trim())try{t.handleNDJSONLine(p,e)}catch(e){console.error("[AiStreamManager] Failed to parse line:",e,p)}}catch(e){A=!0,d=e}finally{try{u||null==h.return||h.return()}finally{if(A)throw d}}return[3,2];case 4:return[3,6];case 5:return g=c.sent(),e.error||(e.phase=i.Error,e.error=(0,v.Lr)(g),null==(y=(m=e.listener).onError)||y.call(m,e.error)),[3,6];case 6:return[2]}})})()},t.handleNDJSONLine=function(e,t){var n=JSON.parse(e);switch(n.type){case"chunk":t.accumulatedText+=n.data,null==(o=(r=t.listener).onChunk)||o.call(r,n.data,t.accumulatedText);break;case"progress":null==(s=(a=t.listener).onProgress)||s.call(a,n.data);break;case"completed":t.phase=i.Completed,null==(u=(l=t.listener).onCompleted)||u.call(l,n.result);break;case"error":var r,o,a,s,l,u,c,A,d=(0,v.Lr)(n);t.error=d,t.phase=i.Error,null==(A=(c=t.listener).onError)||A.call(c,d)}},t.startGitStream=function(e){var t=e.record,n=e.gitContext,r=e.args,i=e.context,a=e.listener;return(0,o.Z)(function(){var e,u,A,d,h,f,y;return(0,c.__generator)(this,function(b){switch(b.label){case 0:e=(0,p.z6)(),u={teamId:i.teamId,organizationId:n.organizationId,repoName:n.repoName,orgName:n.orgName,provider:n.provider,inputs:{instructions:r.text,diagramType:r.diagramType}},b.label=1;case 1:return b.trys.push([1,3,,4]),[4,e.eraserBot.execute(u)];case 2:var w;if(!(A=b.sent()).threadId)throw Error("No threadId returned from git AI request");return d=A.threadId,h=e.eraserBot.subscribeToGitAiRequest({requestId:d},(w=(0,o.Z)(function(n){var r,i,o,s,l,u,A,h,f;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(!n)return[2];return l={phase:n.phase,error:(0,m.A)(null==(r=n.result)?void 0:r.error),diagrams:null!=(s=null==(i=n.result)?void 0:i.diagrams)?s:[],gitAiRequestThreadId:d},[4,e.aiDiagramming.updateById(t.id,l).catch(function(e){return console.error("[AiStreamManager] Error updating record:",e)})];case 1:if(c.sent(),l.error)return null==(u=a.onError)||u.call(a,new v.tk(null!=(A=l.error.message)?A:"Unknown error")),[2];if(n.phase!==g.zC.Complete)return[3,3];return[4,e.aiDiagramming.fetchById(t.id)];case 2:return(h=c.sent())&&(null==(f=a.onCompleted)||f.call(a,h)),[2];case 3:return null==(o=a.onProgress)||o.call(a,{id:t.id,phase:n.phase,gitAiRequestThreadId:n.id}),[2]}})}),function(e){return w.apply(this,arguments)})),[2,{record:(0,l.Z)((0,s.Z)({},t),{gitAiRequestThreadId:d}),cleanup:function(){h()}}];case 3:throw f=b.sent(),null==(y=a.onError)||y.call(a,(0,v.Lr)(f)),f;case 4:return[2]}})})()},t.cleanup=function(e){var t=this.streams.get(e);if(t){try{t.reader.cancel(),t.abortController.abort()}catch(e){console.error("[AiStreamManager] Error closing stream:",e)}this.streams.delete(e)}},e}())},50389:function(e,t,n){"use strict";n.d(t,{GX:function(){return s},H0:function(){return a},NV:function(){return u},aX:function(){return l},pc:function(){return o}});var r=n(70599),i=n(20097);function o(e){var t;return!!(null==e?void 0:e.role)&&((t=e.role)===i.i.Admin||t===i.i.Member)}function a(e){return(null==e?void 0:e.role)===i.i.Admin}function s(e,t,n){return!!t&&!!(null==e?void 0:e.length)&&e.some(function(e){return e.userId===t&&(!n||n(e))})}function l(e){var t,n;return(null!=(n=null==e||null==(t=e.plan)?void 0:t.planType)?n:r.k9.Free)===r.k9.Free}function u(e){var t,n,i=!l(e),o=(null==e||null==(t=e.plan)||null==(n=t.stripe)?void 0:n.status)===r.yh.paused;return i||o}},84754:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(90581);function i(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function o(e,t){var n=i(e,t,"get");return n.get?n.get.call(e):n.value}function a(e,t,n){var r=i(e,t,"set");if(r.set)r.set.call(e,n);else{if(!r.writable)throw TypeError("attempted to set read only private field");r.value=n}return n}var s=new WeakMap,l=Symbol.toStringTag,u=function(){function e(){(0,r.Z)(this,e),function(e,t,n){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,n)}(this,s,{writable:!0,value:void 0}),this[l]="ClearableWeakMap",a(this,s,new WeakMap)}var t=e.prototype;return t.clear=function(){a(this,s,new WeakMap)},t.delete=function(e){return o(this,s).delete(e)},t.get=function(e){return o(this,s).get(e)},t.has=function(e){return o(this,s).has(e)},t.set=function(e,t){return o(this,s).set(e,t),this},e}()},60324:function(e,t,n){"use strict";function r(e){return e.startsWith("/auth/")||e.startsWith("/invite/")}function i(){return r(window.location.pathname)}n.d(t,{q:function(){return r},y:function(){return i}})},3635:function(e,t){"use strict";t.Z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}},19179:function(e,t,n){"use strict";n.d(t,{IU:function(){return o},Jf:function(){return d},Nq:function(){return l},W6:function(){return h},b1:function(){return a},cK:function(){return i},jU:function(){return u},vy:function(){return s},zT:function(){return A}});var r=n(70865);function i(e){return!!e&&(!!["INPUT","TEXTAREA","SELECT"].includes(e.tagName)||!!(e.contentEditable&&"true"===e.contentEditable))}var o=function(){try{return void 0!==window.localStorage}catch(e){return!1}}(),a=function(){try{return"ontouchstart"in window}catch(e){return!1}}();function s(){try{return!!window}catch(e){return!1}}function l(){try{return!!window.document&&!!window.document.createElement}catch(e){return!1}}var u=l(),c={behavior:"smooth",block:"end",inline:"nearest"};function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&setTimeout(function(){e.scrollIntoView((0,r.Z)({},c,t))},n)}function d(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function h(e,t){if(!e)return!1;for(var n=e.parentElement;n;){if(n.hasAttribute(t))return!0;n=n.parentElement}return!1}},61490:function(e,t,n){"use strict";n.d(t,{VK:function(){return a},VS:function(){return s}});var r=n(70865),i=n(40199),o=n(85983);function a(e,t){return(0,i.backOff)(e,(0,r.Z)({numOfAttempts:5,maxDelay:1e3},t))}function s(e,t){return(0,i.backOff)(e,(0,r.Z)({numOfAttempts:5,maxDelay:1e3,retry:function(e,t){return 500===(0,o.X)(e).status&&(console.info("".concat(t,"/5 Attempt failed, retrying..")),!0)}},t))}},88218:function(e,t,n){"use strict";n.d(t,{de:function(){return l},ZP:function(){return i},u6:function(){return a},IW:function(){return o}});var r=/\.(?:aero|asia|ac|cat|coop|edu|gov|int|jobs|mil|museum|post|sch|tel|travel|xxx)(?:\.[a-z]{2,3})?$/;function i(e){return e.split("@")[1]}function o(e){if(!e.includes("."))return!1;var t=e.split(".");return!(t.length<2)&&t.at(-1).length>1}function a(e){return(null==e?void 0:e.email)&&(null==e?void 0:e.emailVerified)&&l(e.email)?i(e.email):""}var s=/\D+\d{3,5}@/;function l(e){var t;return!!e&&(t=i(e),!(r.test(t)||e.includes("@gmail")||e.includes("@duck.com")||e.includes(".edu")||e.includes(".ac.")||e.includes(".sch.")||e.includes("@yahoo")||e.includes("mail.ru")||e.includes("qq.com")||e.includes("@hotmail")||e.includes("@googlemail")||e.includes("@outlook")||e.includes("proton.me")||e.includes("protonmail")||e.includes("icloud")||e.includes("@me.com")||e.includes("naver")||e.includes("onmicrosoft.com")||e.includes("@live.co")||e.includes("mozmail.com")||e.includes("gmx.de")||e.includes("yandex")||e.includes("live.com")||e.includes("@web.de")||e.includes("yopmail")||e.includes("gufum")||e.includes("passmail")||e.includes("mailinator")||e.includes("@hey.com")||s.test(e)))}},6901:function(e,t,n){"use strict";n.d(t,{ED:function(){return o},IJ:function(){return i},Um:function(){return r}});var r="undefined"!=typeof navigator&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i="undefined"!=typeof navigator&&/Linux/.test(navigator.platform),o="undefined"!=typeof navigator&&/Win/i.test(navigator.platform)},20954:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(90581),i=n(42838),o=n(2784);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.useState)(),r=n[0],i=n[1],a=(0,o.useMemo)(function(){return l.fromEl(e)},[e]),s=t.scrollTargetId,u=t.resizeTarget;return(0,o.useEffect)(function(){if(a)return i(a.bounds),a.subscribe(i)},[a]),(0,o.useEffect)(function(){if(s)return null==a?void 0:a.listenForScroll(s)},[a,s]),(0,o.useEffect)(function(){if(u)return null==a?void 0:a.listenForResize(u)},[a,u]),r}var s=new WeakMap,l=function(){function e(t){var n=this;(0,r.Z)(this,e),this.el=t,this._cbs=[],this._scrollListenerCount=0,this._resizeListenerCount=0,this._hasBeenTriggered=!1,this._onScroll=function(){n._setBounds()},this._stopListeningForResize=function(){if(n._resizeListenerCount--,0===n._resizeListenerCount&&n._resizeTarget){var e;null==(e=n._resizeObserver)||e.unobserve(n._resizeTarget)}},this._stopListeningForScroll=function(){if(n._scrollListenerCount--,0===n._scrollListenerCount&&n._scrollTarget){var e;null==(e=n._resizeObserver)||e.unobserve(n._scrollTarget),n._scrollTarget.removeEventListener("scroll",n._onScroll)}},this._destroy=function(){var e;null==(e=n._resizeObserver)||e.disconnect(),n._scrollListenerCount,n._stopListeningForScroll(),window.removeEventListener("resize",n._setBounds),s.delete(n.el)},this._setBounds=function(){!1===n._hasBeenTriggered&&(n._hasBeenTriggered=!0,n.bounds=n._getBounds(),n._cbs.forEach(function(e){return e(n.bounds)}),requestAnimationFrame(function(){n._hasBeenTriggered=!1}))},this.el=t,this.bounds=this._getBounds(),(0,i.Z)(this.el,HTMLElement)&&(this._resizeObserver=new ResizeObserver(function(e){(null==e?void 0:e[0])&&n._setBounds()}),this._resizeObserver.observe(this.el)),window.addEventListener("resize",this._setBounds)}var t=e.prototype;return t.subscribe=function(e){var t=this;return this._cbs.push(e),function(){t._cbs=t._cbs.filter(function(t){return t!==e}),0===t._cbs.length&&t._destroy()}},t.listenForScroll=function(e){var t=this;if(0===this._scrollListenerCount){var n,r=document.getElementById(e);r?(this._scrollTarget=r,r.addEventListener("scroll",this._onScroll),null==(n=this._resizeObserver)||n.observe(r)):console.warn("No scroll target found",e)}return this._scrollListenerCount++,function(){return t._stopListeningForScroll()}},t.listenForResize=function(e){var t,n=this;return 0===this._resizeListenerCount&&(this._resizeTarget=e,null==(t=this._resizeObserver)||t.observe(e)),this._resizeListenerCount++,function(){return n._stopListeningForResize()}},t._getBounds=function(){return this.el.getBoundingClientRect()},e}();l.fromEl=function(e){if(e)return s.has(e)||s.set(e,new l(e)),s.get(e)}},30475:function(e,t,n){"use strict";n.d(t,{Gh:function(){return o},My:function(){return s},O3:function(){return l},p9:function(){return a}});var r=n(99669),i="auth/redirect";function o(e){return!(!e.startsWith("/")||e.includes("/../")||e.includes("/./")||e.includes("//"))}function a(e){if(!o(e))return void console.warn("Invalid redirect path attempted: ".concat(e));var t=Math.floor(Date.now()/1e3),n=e.replace(/[<>"']/g,"").replace(/javascript:/gi,"").replace(/data:/gi,"");r.J.setItem(i,{value:n,exp:t+900})}function s(){var e=r.J.getItem(i);if(null==e)return null;var t=null;if("string"==typeof e)t=e;else{if(!e||"object"!=typeof e||!("value"in e)||!("exp"in e)||"string"!=typeof e.value||"number"!=typeof e.exp)return r.J.removeItem(i),null;if(Math.floor(Date.now()/1e3)>e.exp)return r.J.removeItem(i),null;t=e.value}return o(t)?t:(console.warn("Invalid redirect path found in storage: ".concat(t)),r.J.removeItem(i),null)}function l(){r.J.removeItem(i)}},45594:function(e,t,n){"use strict";function r(e,t){var n=new URLSearchParams(window.location.search);n.delete(t);var r=new URL(window.location.href);r.search=n.toString(),window.history.replaceState({},"",r.toString()),window.dispatchEvent(new PopStateEvent("popstate",{state:{}}))}function i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new URLSearchParams(window.location.search);i.set(t,n);var o=new URL(window.location.href);o.search=i.toString(),r?window.history.pushState({},"",o.toString()):window.history.replaceState({},"",o.toString()),window.dispatchEvent(new PopStateEvent("popstate",{state:{}}))}n.d(t,{Xi:function(){return i},iO:function(){return r},rj:function(){return o},yT:function(){return a}});var o=function(e){if(!e)return o(window.location.pathname);var t=e.split("/"),n=+(""===t[0]);if("integration"===t[n]){var r=t[n+1],i=t[n+2];return"".concat(r,":").concat(i)}return"workspace"!==t[n]?null:t[n+1]},a=function(e){return e?o(e.pathname):null}},85279:function(e,t,n){"use strict";function r(e,t){return t&&t.forEach(function(t){return e.add(t)}),e}n.d(t,{b:function(){return r}})},36451:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(90581),i=n(87394),o=function(){function e(t){(0,r.Z)(this,e),this.cache=new Map,this.cleanupTimeout=null,this.ttlMs=t}var t=e.prototype;return t.get=function(e){var t=this.cache.get(e);if(t)return t.timestamp=Date.now(),t.value},t.set=function(e,t){this.scheduleCleanup(),this.cache.set(e,{value:t,timestamp:Date.now()})},t.keys=function(){return Array.from(this.cache.keys())},t.delete=function(e){this.cache.delete(e)},t.clear=function(){this.cache.clear()},t.scheduleCleanup=function(){var e=this;this.cleanupTimeout||(this.cleanupTimeout=setTimeout(function(){var t=Date.now();if(e.cache.size){var n=!0,r=!1,o=void 0;try{for(var a,s=e.cache.entries()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=(0,i.Z)(a.value,2),u=l[0],c=l[1];t-c.timestamp>e.ttlMs&&e.cache.delete(u)}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}e.cleanupTimeout=null,e.scheduleCleanup()}},this.ttlMs))},e}()},51914:function(e,t,n){"use strict";n.d(t,{Cj:function(){return A},vb:function(){return h}});var r=n(87394),i=/(?:http|ftp|ws)s?:\/\/|www\./i,o=/[\w@:%.+~#=-]/,a=/\.\w{2,}/,s=/\/[\w()@:%+.~/-]*/,l=/\?\S+/,u=/#\S+/,c=RegExp("(?:"+"(?:".concat(i.source,")\\w(?:").concat(o.source,"{0,64}[^./?#])?(?:").concat(a.source,"(?:").concat(/:\d+/.source,")?)?")+"|"+"\\w".concat(o.source,"{0,64}\\.(?:").concat(/aero|app|asia|blog|by|cat|cc|club|coop|cu|do|engineering|fun|gu|help|id|ir|is|jobs|kp|law|loan|md|me|menu|mil|mobi|museum|name|online|party|pl|post|pro|sd|sh|shop|site|so|space|sy|tel|top|travel|ve|vip|wang|wtf|xin|xxx|xyz|com|net|org|edu|gov|info|co|ly|io|biz|int|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bw|bz|ca|cd|cf|cg|ch|ci|ck|cl|cm|cn|cr|cv|cw|cx|cy|cz|de|dj|dk|dm|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gw|gy|hk|hm|hn|hr|ht|hu|ie|il|im|in|iq|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ma|mc|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pm|pn|pr|ps|pt|pw|qa|re|ro|rs|ru|rw|sa|sb|sc|se|sg|si|sk|sl|sm|sn|sr|ss|st|su|sv|sx|sz|tc|td|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw/i.source,")")+")"+"(?:".concat(s.source,")?(?:").concat(l.source,")?(?:").concat(u.source,")?"),"i"),A=RegExp("(?:"+"(?:".concat(i.source,")\\w(?:").concat(o.source,"{0,64}[^./?#])?(?:").concat(a.source,")?")+"|"+"\\w".concat(o.source,"{0,64}\\.(?:").concat(/com|org|net|gov|edu|io|dev|app/i.source,")")+")"+"(?:".concat(s.source,")?(?:").concat(l.source,")?(?:").concat(u.source,")?"),"i"),d=RegExp("^(?:".concat(c.source,")$"),"i");RegExp(c.source,"gi");var h=function(e,t){var n=e,i=n.includes("?");return i||(n+="?"),Object.entries(t).map(function(e,t){var o=(0,r.Z)(e,2),a=o[0],s=o[1];(t>0||i)&&(n+="&"),n+="".concat(a,"=").concat(s.toString())}),encodeURIComponent(n)};t.ZP=function(e){return!!e.length&&d.test(e)}},89813:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(98788),i=n(22970);function o(e){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(function(e){return(0,i.__generator)(this,function(t){return[2,new Promise(function(t){setTimeout(t,e)})]})})).apply(this,arguments)}},16810:function(e,t,n){"use strict";n.d(t,{GK:function(){return h},Ls:function(){return A},g$:function(){return d}});var r=n(70865),i=n(96670),o=n(26297),a=n(87394),s=n(18149),l=n.n(s),u=n(35445),c=["versionNonce","shapeVersion","parentElementMetadata","boundElementIds","diagramRole"];function A(e){e.id;var t=e.modifiedBy,n=e.modifiedAt,r=e.userId,i=e.x,s=e.y,A=e.version,d=e.isDeleted,h=e.type,f=(0,o.Z)(e,["id","modifiedBy","modifiedAt","userId","x","y","version","isDeleted","type"]),p=null==(y=(0,u.Oi)(e))?void 0:y.defaultProperties;if(p){var g=!0,m=!1,v=void 0;try{for(var y,b,w=Object.entries(p)[Symbol.iterator]();!(g=(b=w.next()).done);g=!0){var _=(0,a.Z)(b.value,2),E=_[0],C=_[1];l()(f[E],C)&&(f[E]=void 0)}}catch(e){m=!0,v=e}finally{try{g||null==w.return||w.return()}finally{if(m)throw v}}}var B=!0,x=!1,I=void 0;try{for(var T,S=c[Symbol.iterator]();!(B=(T=S.next()).done);B=!0){var k=T.value;k in f&&(f[k]=void 0)}}catch(e){x=!0,I=e}finally{try{B||null==S.return||S.return()}finally{if(x)throw I}}"html"in f&&f.html&&"slate"in f&&f.slate&&(f.html=void 0);var N={modifiedBy:t,modifiedAt:n,userId:r,x:i,y:s,version:void 0===A?1:A,type:h,data:JSON.stringify(f)};return d&&(N.isDeleted=!0),N}function d(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if("string"==typeof t)return JSON.parse(t);var s=t.data,l=(0,o.Z)(t,["data"]),c=JSON.parse(s),A=(0,i.Z)((0,r.Z)({},l,c),{id:e}),d=(0,u.Oi)(A);if((null==d?void 0:d.defaultProperties)&&n){var h=!0,f=!1,p=void 0;try{for(var g,m=Object.entries(d.defaultProperties)[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var v=(0,a.Z)(g.value,2),y=v[0],b=v[1];y in A||(A[y]=b)}}catch(e){f=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(f)throw p}}}return A}function h(e,t){return d(e,t)}},39202:function(e,t,n){"use strict";n.d(t,{g:function(){return m}});var r,i,o,a,s,l,u=n(98788),c=n(70865),A=n(96670),d=n(22970),h=n(41962),f=n(89960),p=n(99669);(r=l||(l={}))[r.Failed=0]="Failed",r[r.Initialized=1]="Initialized",r[r.Initializing=2]="Initializing",r[r.NotInitialized=3]="NotInitialized";var g="optimizely-data-file",m=(a=l.NotInitialized,{initialize:(s=(0,u.Z)(function(e,t){var n,r;return(0,d.__generator)(this,function(s){switch(s.label){case 0:if(o=e,a=l.Initializing,(n=p.J.getItem(g))&&(a=l.Initialized),r=null==(i=h.ZP.createInstance((0,A.Z)((0,c.Z)({},t),{datafile:n})))?void 0:i.onReady({timeout:2e3}).then(function(e){var t=e.success;if(e.reason,t){a=l.Initialized;var n,r=null==(n=null==i?void 0:i.getOptimizelyConfig())?void 0:n.getDatafile();r&&p.J.setItem(g,r)}else a=l.Failed}).catch(function(e){return(0,f.Tb)(e)}),a===l.Initialized)return[3,2];return[4,r];case 1:s.sent(),s.label=2;case 2:return[2]}})}),function(e,t){return s.apply(this,arguments)}),isInitialized:function(){return a===l.Initialized},isFeatureEnabled:function(e,t){return a===l.Initialized&&(v?y[e]:i.isFeatureEnabled(e,o.userId,(0,c.Z)({teamId:o.teamId},t||{})))},updateUserContext:function(e){return o=(0,c.Z)({},o,e)}});window&&(window.optimizelyService=m);var v=!!(null==window?void 0:window.Cypress),y={excalidrawstyles:!0,git_diagram:!0,product_announcement:!1}},92458:function(e,t,n){"use strict";n.d(t,{B:function(){return u},R:function(){return c}});var r,i=n(2784),o=n(18014),a=n(89813),s=n(39202),l=n(66140),u=function(e,t){var n,r,a,l,u,c=(0,i.useState)(!1),A=c[0],d=c[1];(0,i.useEffect)(function(){A?s.g.updateUserContext(e):(d("pending"),s.g.initialize(e,t).finally(function(){d(!0)}))},[A,t,e]);var h=(r=(n=e).areTeamsEmpty,a=n.areTeamsLoaded,l=n.isUserAnonymous,u=n.teamId,!!(n.userId||l)&&!!(u||r||a));return(0,i.useEffect)(function(){h&&A&&(0,o.Nb)()},[h,A]),h&&!0===A},c=function(){return(0,i.useMemo)(function(){return l.OB.isTest?Promise.resolve():(r||(r=Promise.race([s.g.initialize({isUserAnonymous:!0,userId:"",teamId:""},{logLevel:4,sdkKey:"X8uGG684qRdkxfjg7yDEx",datafileOptions:{autoUpdate:!1,updateInterval:void 0,urlTemplate:"/api/optimizely/datafile"}}),(0,a.Z)(1e3)])),r)},[])}},8018:function(e){e.exports={authFlowFormError:"AuthFlowFormError_authFlowFormError__23he9"}},42762:function(e){e.exports={authFlowViewLayout:"AuthFlowViewLayout_authFlowViewLayout__LsuXS",content:"AuthFlowViewLayout_content__KcAPm",footer:"AuthFlowViewLayout_footer__uwOHC",eraserLogo:"AuthFlowViewLayout_eraserLogo__gVBCx",label:"AuthFlowViewLayout_label__QbLU8",labelError:"AuthFlowViewLayout_labelError__qJyyM"}},98025:function(e){e.exports={authFormLayout:"AuthFormLayout_authFormLayout__Djnmv"}},71481:function(e){e.exports={authViewActionButtons:"AuthViewActionButtons_authViewActionButtons__EVu76"}},57597:function(e){e.exports={joinTeamSelection:"JoinTeamSelection_joinTeamSelection__iUDrv",team:"JoinTeamSelection_team__wCu6U",selected:"JoinTeamSelection_selected__ktt71"}},65181:function(e){e.exports={ssoButtons:"SSOButtons_ssoButtons__cszRd",buttonSize:"SSOButtons_buttonSize__23Wez",button:"SSOButtons_button__VaO1C",halfWidthButton:"SSOButtons_halfWidthButton__o0Lwd"}},56860:function(e){e.exports={resetPassword:"SignInForm_resetPassword__t7x9q"}},70520:function(e){e.exports={signInView:"SignInView_signInView__2T3vn",signInForm:"SignInView_signInForm__1tDK0",resetPasswordForm:"SignInView_resetPasswordForm__Z8f_D",ssoButtons:"SignInView_ssoButtons__gMo6A"}},86066:function(e){e.exports={signUpView:"SignUpView_signUpView__bl4VM",ssoButtons:"SignUpView_ssoButtons__RxV8o",signInLink:"SignUpView_signInLink__7zpHb"}},90910:function(e){e.exports={teamJoinModal:"TeamJoinModal_teamJoinModal__Hx3BH",teams:"TeamJoinModal_teams__klxDh",buttons:"TeamJoinModal_buttons__o4L_r"}},21902:function(e){e.exports={container:"thirdPartySso_container__eytk7",formContainer:"thirdPartySso_formContainer__WO3WJ",button:"thirdPartySso_button__RQzH9"}},24292:function(e){e.exports={errorCtaButton:"ErrorCtaButton_errorCtaButton__MPzRm",isOutline:"ErrorCtaButton_isOutline__Xe57B"}},14052:function(e){e.exports={errorViewLayout:"ErrorViewLayout_errorViewLayout__9aibB",content:"ErrorViewLayout_content__5wmOa",label:"ErrorViewLayout_label__7Z0e6",footer:"ErrorViewLayout_footer__qjgTF"}},40819:function(e){e.exports={container:"HelpCenter_container__Mzr5Z",stickyLeft:"HelpCenter_stickyLeft__bzLd_",stickyRight:"HelpCenter_stickyRight__eGxTp",isOpen:"HelpCenter_isOpen__iuNL2",icon:"HelpCenter_icon__zhG_4",label:"HelpCenter_label___4Xfj",helpButton:"HelpCenter_helpButton__MNdc7"}},19705:function(e){e.exports={navContainer:"KeyboardShortcutsModal_navContainer__pvr9U",navHeader:"KeyboardShortcutsModal_navHeader__kMcmC",noResults:"KeyboardShortcutsModal_noResults__6ok9l",searchInput:"KeyboardShortcutsModal_searchInput__VILUz",shortcutsTable:"KeyboardShortcutsModal_shortcutsTable__TqLNI",table:"KeyboardShortcutsModal_table__r6UNv",shortcutDivider:"KeyboardShortcutsModal_shortcutDivider__vmw_t"}},27846:function(e){e.exports={logo:"EraserLogo_logo__fK1pd",horizontal:"EraserLogo_horizontal__WCaYh",vertical:"EraserLogo_vertical__x_CZ_",icon:"EraserLogo_icon__cN4mR",text:"EraserLogo_text__NlOor"}},46966:function(e){e.exports={minimalPageLayout:"MinimalPageLayout_minimalPageLayout__zOfvH",eraserLogo:"MinimalPageLayout_eraserLogo__7bMLE",content:"MinimalPageLayout_content__igL6T"}},31592:function(e){e.exports={dashboardPage:"Layout_dashboardPage__TrfNE",dashboardBody:"Layout_dashboardBody___RXU1",renamingFolder:"Layout_renamingFolder___rSYx",item:"Layout_item__IRAae",titleRowContent:"Layout_titleRowContent__P_XE9",gutterColumn:"Layout_gutterColumn__p0pUk",alignCenter:"Layout_alignCenter__NuTPx",alignEnd:"Layout_alignEnd__1k18D",headerAuthorPadding:"Layout_headerAuthorPadding__RtKNi",authorPadding:"Layout_authorPadding__mfop4",minWidthColumn:"Layout_minWidthColumn__UR6o_"}},39323:function(e){e.exports={topNav:"LayoutHeader_topNav__wkTMq",topNavTab:"LayoutHeader_topNavTab__1Vd9N",active:"LayoutHeader_active__aZ58d",tableContainer:"LayoutHeader_tableContainer__gsNuX",topNavShortcut:"LayoutHeader_topNavShortcut__JAgnZ"}},23513:function(e){e.exports={wrapper:"Notepad_wrapper__3t9j_",container:"Notepad_container__C0YbN",absolute:"Notepad_absolute__Z3TsM",containerHintPhantom:"Notepad_containerHintPhantom__uLHCF",customScrollbar:"Notepad_customScrollbar__olo4S",notepad:"Notepad_notepad__6sYUU",skeletonTitle:"Notepad_skeletonTitle__YD7B2",skeletonBody:"Notepad_skeletonBody___LfPX",measurer:"Notepad_measurer__Otdpo"}},36976:function(e){e.exports={validPerson:"Mentions_validPerson__cy4GH",editorMention:"Mentions_editorMention__ZYYyU",personDisplay:"Mentions_personDisplay__s9d6U",avatar:"Mentions_avatar__4bw3j",label:"Mentions_label__4lm7Y",isSelected:"Mentions_isSelected__RnL7t",isDarkMode:"Mentions_isDarkMode__FcpWt",isHighlighted:"Mentions_isHighlighted__Lao5V",dropdownAnchor:"Mentions_dropdownAnchor__q_PRJ",dropdownContainer:"Mentions_dropdownContainer___Mkiy",commentMention:"Mentions_commentMention__jaaNA",display:"Mentions_display__NWzLk",autoCompleteDropDown:"Mentions_autoCompleteDropDown__GmhUA",dropdownPopper:"Mentions_dropdownPopper__Y7nIB",hidden:"Mentions_hidden__oYE87",placeholder:"Mentions_placeholder__GzP7W"}},1031:function(e){e.exports={workspaceLimitCard:"WorkspaceLimitCard_workspaceLimitCard__Fu5ce",progressWrapper:"WorkspaceLimitCard_progressWrapper__VZx6O",progress:"WorkspaceLimitCard_progress__oiqV0",upgradeBtn:"WorkspaceLimitCard_upgradeBtn__t9EWY"}},14413:function(e){e.exports={container:"ssoErrorChecker_container__gvLKD",rerouting:"ssoErrorChecker_rerouting__S06GM",joinTable:"ssoErrorChecker_joinTable__QXbf_",joinTableTeamName:"ssoErrorChecker_joinTableTeamName__TWrmc"}},67499:function(e){e.exports={authModal:"Auth_authModal__II_vq"}},75594:function(e){e.exports={item:"TableHeadItem_item__OO2Pa",headItem:"TableHeadItem_headItem__cQyJD",headItemActive:"TableHeadItem_headItemActive__r7pow",headItemSortable:"TableHeadItem_headItemSortable__X8LU5"}},17371:function(e){e.exports={tableHeader:"TableHeader_tableHeader__07mhD",noBorder:"TableHeader_noBorder__p3lKv"}},91132:function(e){e.exports={titleVariant:"TableItem_titleVariant__jzozE",regularVariant:"TableItem_regularVariant__m5jrt",externalLocationVariant:"TableItem_externalLocationVariant__NSIPd",tagVariant:"TableItem_tagVariant__BdoCm"}},98156:function(e){e.exports={container:"Toast_container__SU4wE",warning:"Toast_warning__xRuZJ",loading:"Toast_loading__YQi8x",error:"Toast_error__hh2r_",success:"Toast_success__XpEen",blank:"Toast_blank___krRd"}},47200:function(e){e.exports={isDragging:"DragAndDropStyles_isDragging__luYEl",isDroppingWorkspaceTableFolder:"DragAndDropStyles_isDroppingWorkspaceTableFolder__8wlB7",folderTarget:"DragAndDropStyles_folderTarget__IMNH1",droppingBorderBefore:"DragAndDropStyles_droppingBorderBefore__G9tY8",isFirst:"DragAndDropStyles_isFirst__0hlFH",droppingBorderAfter:"DragAndDropStyles_droppingBorderAfter__90I6V",isLast:"DragAndDropStyles_isLast__y37jj"}},94999:function(e){e.exports={member:"Member_member___gkVf",avatar:"Member_avatar__T6cem",name:"Member_name__NSu5d"}},13529:function(e){e.exports={members:"MembersList_members___um72",skeleton:"MembersList_skeleton__FcoKf",name:"MembersList_name__sINBT"}},60706:function(e){e.exports={container:"MembersPile_container__AaFkf",avatars:"MembersPile_avatars__6t_0l","align-start":"MembersPile_align-start__ohH52","align-end":"MembersPile_align-end__NC_K_",avatarContainer:"MembersPile_avatarContainer__QzTlZ",avatar:"MembersPile_avatar__Qs_Ri",userAvatar:"MembersPile_userAvatar__Xz8hg"}},26486:function(e){e.exports={moreMembers:"MoreMembers_moreMembers__0FxIH",listPopper:"MoreMembers_listPopper__lobmm",members:"MoreMembers_members__Lvscx",memberName:"MoreMembers_memberName__b1WDg",skeleton:"MoreMembers_skeleton__j785S",name:"MoreMembers_name__UiEqV"}},94280:function(e){e.exports={listItem:"MoveModalListItem_listItem__AforP",checkMark:"MoveModalListItem_checkMark__IIDqm",isActive:"MoveModalListItem_isActive___Isup"}},8911:function(e){e.exports={newTemplateCard:"NewTemplateCard_newTemplateCard__LgAa0",disabled:"NewTemplateCard_disabled__BUDwV",newTemplateCardTitle:"NewTemplateCard_newTemplateCardTitle__7CdDE"}},58241:function(e){e.exports={templateCard:"TemplateCard_templateCard__BX_u1",disabled:"TemplateCard_disabled__ZgS_e",fallbackContainer:"TemplateCard_fallbackContainer__YiRnE",imageContainer:"TemplateCard_imageContainer__w34Ie",tooltip:"TemplateCard_tooltip__P_bXe",titleWrapper:"TemplateCard_titleWrapper__G_skP",title:"TemplateCard_title__L_HbR",renameInput:"TemplateCard_renameInput__NCAI_"}},15673:function(e){e.exports={metadataContent:"TemplateMetadata_metadataContent__2fEM8",avatar:"TemplateMetadata_avatar__uZZ5J",avatarName:"TemplateMetadata_avatarName__fJI5x"}},96237:function(e){e.exports={successToastWrapper:"TemplateSuccessToast_successToastWrapper__bUgoI"}},38814:function(e){e.exports={modalRoot:"CommandKModal_modalRoot__5Incc",modalWrapper:"CommandKModal_modalWrapper__SKvBF",searchInput:"CommandKModal_searchInput__uthGN",content:"CommandKModal_content__dRTWu",fullSearchSuggestion:"CommandKModal_fullSearchSuggestion__YS_R_",contentWrapper:"CommandKModal_contentWrapper__ixwqc"}},57200:function(e){e.exports={root:"CommandKListEntry_root__1XNHr",rootActive:"CommandKListEntry_rootActive__cV4CB"}},86378:function(e){e.exports={shortcuts:"CommandKModalFooter_shortcuts__ItpvZ",keys:"CommandKModalFooter_keys__mocIL",modeWrapper:"CommandKModalFooter_modeWrapper__YCqnb",menu:"CommandKModalFooter_menu__cXMYX",toggleButton:"CommandKModalFooter_toggleButton__y0kPO",toggleRoot:"CommandKModalFooter_toggleRoot__j1Mvq",toggleTitle:"CommandKModalFooter_toggleTitle__XMn_I"}},74803:function(e){e.exports={root:"ContextModalPill_root__VY5Ck",light:"ContextModalPill_light__NNuqK"}},62441:function(e){e.exports={root:"CommandKCategorySection_root__okYLV",title:"CommandKCategorySection_title__pZcLS"}},26378:function(e){e.exports={subCategoryChevron:"CommandKCommand_subCategoryChevron__NomIU",itemEndContent:"CommandKCommand_itemEndContent__SUswd"}},19101:function(e){e.exports={notFoundWrapper:"CommandScreen_notFoundWrapper__iYHFZ",item:"CommandScreen_item__MKs6o",itemSubTitle:"CommandScreen_itemSubTitle__9te_C",itemIcon:"CommandScreen_itemIcon__P0__6"}},27202:function(e){e.exports={skeletonWrapper:"CommandScreenSkeleton_skeletonWrapper__KL5DV",isActive:"CommandScreenSkeleton_isActive__dd1rL",description:"CommandScreenSkeleton_description__LchFQ"}},12614:function(e){e.exports={icon:"GoToFileEntry_icon__JGGOK"}},69713:function(e){e.exports={fullSearchSuggestion:"GoToFileScreen_fullSearchSuggestion__0oMU0"}},79941:function(e){e.exports={skeletonWrapper:"GoToFileSkeleton_skeletonWrapper__lNrEh",isActive:"GoToFileSkeleton_isActive__4JhL2",folder:"GoToFileSkeleton_folder__YmdXl"}},24344:function(e){e.exports={helpTitle:"HelpScreen_helpTitle__7AfMC",item:"HelpScreen_item__Nn7m4"}},45369:function(e){e.exports={folderSelect:"FolderActions_folderSelect__JhXmp"}},83264:function(e){e.exports={dashboardHeader:"DashboardHeader_dashboardHeader__RR10i",dashboardHeaderTitle:"DashboardHeader_dashboardHeaderTitle__MRmm0",dashboardHeaderTools:"DashboardHeader_dashboardHeaderTools__NVJvd"}},64001:function(e){e.exports={searchBar:"DashboardHeaderTools_searchBar__ydsM1"}},56820:function(e){e.exports={folderTitleRoot:"FolderView_folderTitleRoot__Dyoc3",folderDropdown:"FolderView_folderDropdown__slHzm",iconTooltip:"FolderView_iconTooltip__uMCyu",newFolderIcon:"FolderView_newFolderIcon__Zsg3s",disabledFolderIcon:"FolderView_disabledFolderIcon__I2V_4"}},53047:function(e){e.exports={getStartedChecklist:"GetStartedChecklist_getStartedChecklist__FHd5m",header:"GetStartedChecklist_header__8aaft",threeDotMenu:"GetStartedChecklist_threeDotMenu__CEekJ",progressBadge:"GetStartedChecklist_progressBadge__c8dRA",toggleBtnWrapper:"GetStartedChecklist_toggleBtnWrapper__5G4rk",toggleBtn:"GetStartedChecklist_toggleBtn__sVcEe",progressWrapper:"GetStartedChecklist_progressWrapper__Fc_HR",progressBar:"GetStartedChecklist_progressBar__rk_VW",checklist:"GetStartedChecklist_checklist__rWUMN",setup:"GetStartedChecklist_setup__Zo_pJ",checklistItem:"GetStartedChecklist_checklistItem__OkGLB",arrow:"GetStartedChecklist_arrow__Yn6K0",isComplete:"GetStartedChecklist_isComplete__aAzhS",allCompletedView:"GetStartedChecklist_allCompletedView__YBeda",contentWrap:"GetStartedChecklist_contentWrap__QwgI1",hideBtn:"GetStartedChecklist_hideBtn__UclMd",isCollapsed:"GetStartedChecklist_isCollapsed__BxzLa"}},91983:function(e){e.exports={container:"MoveToFolderModal_container___ygsY",buttonGroup:"MoveToFolderModal_buttonGroup__qnhgt",button:"MoveToFolderModal_button__SUwES",folderList:"MoveToFolderModal_folderList__jQf2r"}},34006:function(e){e.exports={input:"RenamingField_input__jd2SB"}},12798:function(e){e.exports={ellipsisContainer:"FileRow_ellipsisContainer___LF_t",iconContainer:"FileRow_iconContainer__4_77R",externalLinkIcon:"FileRow_externalLinkIcon__lago_",renamingField:"FileRow_renamingField__Dj2sg",integrationIcon:"FileRow_integrationIcon__RQrp6",filePath:"FileRow_filePath__9JhG2",anchor:"FileRow_anchor__r5O0C",renameField:"FileRow_renameField__QyZvP",gitHubRepoNameLink:"FileRow_gitHubRepoNameLink__Kx0h_",object:"FileRow_object__MlKIi"}},93664:function(e){e.exports={mobileHeader:"MobileDashboard_mobileHeader__X_XY5",toggleButton:"MobileDashboard_toggleButton__vteHM",searchContainer:"MobileDashboard_searchContainer__45hEA",searchContainerActive:"MobileDashboard_searchContainerActive__I_VZa"}},72397:function(e){e.exports={searchContainer:"CompactSearchBar_searchContainer__RyRTC",focused:"CompactSearchBar_focused__9waIS",searchIcon:"CompactSearchBar_searchIcon__mdwDC",input:"CompactSearchBar_input__t4Qs_",shortcut:"CompactSearchBar_shortcut__g84ar"}},25947:function(e){e.exports={container:"NotFound_container__9bRyf",title:"NotFound_title__E9GnI",text:"NotFound_text__8uD5w"}},84979:function(e){e.exports={tableHeader:"Search_tableHeader__jZSv_",noBorder:"Search_noBorder__4vemY",headerPadding:"Search_headerPadding__zP2u_",alignRight:"Search_alignRight__L40uD",matches:"Search_matches__yN5kJ",matchBlock:"Search_matchBlock__TvWPH",matchIcon:"Search_matchIcon__7iZoj",matchBody:"Search_matchBody__9QUDL",matchFoundIn:"Search_matchFoundIn__4LS3w",matchContent:"Search_matchContent__pqE1f",searchRow:"Search_searchRow__laOHU",isFocused:"Search_isFocused___dKBj",divider:"Search_divider__JZdV5",highlight:"Search_highlight__VYEsV",fileRowMinimal:"Search_fileRowMinimal__qUdfB",fileInfo:"Search_fileInfo__vNAZw",searchPadding:"Search_searchPadding__W2ZFb",searchHeader:"Search_searchHeader___M9rq",searchBar:"Search_searchBar__gc4k3",searchInput:"Search_searchInput__a5xn1",searchIcon:"Search_searchIcon__5l0_X"}},24289:function(e){e.exports={container:"Sidebar_container__8a9Qq",mobileSidebar:"Sidebar_mobileSidebar__t_ufQ",mobileSidebarOpen:"Sidebar_mobileSidebarOpen__hjUpD",sidebarOverlay:"Sidebar_sidebarOverlay__60BEN",sidebarMenuContainer:"Sidebar_sidebarMenuContainer__mxUuq",topSection:"Sidebar_topSection__cDHlE",shortcut:"Sidebar_shortcut__AuqLQ",topSectionTab:"Sidebar_topSectionTab__wZMEy",topSectionTabContent:"Sidebar_topSectionTabContent__QmyHz",viewingHistoryIcon:"Sidebar_viewingHistoryIcon___HQUS",foldersWrapper:"Sidebar_foldersWrapper__MyiOf",listContainer:"Sidebar_listContainer__FyWdD"}},53122:function(e){e.exports={root:"SidebarAccordionButton_root__d8XPG",expanded:"SidebarAccordionButton_expanded__9T0e_"}},18001:function(e){e.exports={renamingFolder:"SidebarFolder_renamingFolder__pzqqr",nested:"SidebarFolder_nested__sQpVE",subfolderTooltip:"SidebarFolder_subfolderTooltip__VI1mX",disabled:"SidebarFolder_disabled__NkGLQ",newFolderIcon:"SidebarFolder_newFolderIcon__ul94_",folderName:"SidebarFolder_folderName__Bk_wE"}},605:function(e){e.exports={foldersList:"SidebarFoldersList_foldersList__NSb3Z",noMarginTop:"SidebarFoldersList_noMarginTop__Qdj3q"}},73064:function(e){e.exports={root:"SidebarFooter_root__3hDwv",inviteButton:"SidebarFooter_inviteButton__r_O7i",footerTabsContainer:"SidebarFooter_footerTabsContainer__6mjLI",pricingPlanTabContainer:"SidebarFooter_pricingPlanTabContainer__bQzd_",gitHubLabelContainer:"SidebarFooter_gitHubLabelContainer__imBtl",gitHubBadge:"SidebarFooter_gitHubBadge__FBK2h"}},52365:function(e){e.exports={integrationsList:"SidebarGitHubList_integrationsList__NjG4t",badgeWrapper:"SidebarGitHubList_badgeWrapper__mv_6C",badge:"SidebarGitHubList_badge__HDHkz",repositoryName:"SidebarGitHubList_repositoryName__OJ_MH"}},34315:function(e){e.exports={sidebarMenuContainer:"SidebarMenu_sidebarMenuContainer__r_xY7",buttonsContainer:"SidebarMenu_buttonsContainer__0homq",currentTeam:"SidebarMenu_currentTeam__ENd5F",currentTeamLogo:"SidebarMenu_currentTeamLogo__k9Bqm",currentTeamName:"SidebarMenu_currentTeamName__zEoKQ",sidebarDropdown:"SidebarMenu_sidebarDropdown__W__sM",sidebarDropdownCaret:"SidebarMenu_sidebarDropdownCaret__SPUDV"}},26514:function(e){e.exports={accordionContainer:"SidebarNestedFolder_accordionContainer__gRsDN",parentFolder:"SidebarNestedFolder_parentFolder___Melt",childFolders:"SidebarNestedFolder_childFolders__0DBO2",slideIn:"SidebarNestedFolder_slideIn__Juasb",renamingFolder:"SidebarNestedFolder_renamingFolder__xNBXi"}},9563:function(e){e.exports={sectionTitle:"SidebarSectionTitle_sectionTitle___h2QG",iconButton:"SidebarSectionTitle_iconButton__8Zmzl",icon:"SidebarSectionTitle_icon__FH9cj",tooltipRoot:"SidebarSectionTitle_tooltipRoot__L5XyN"}},46402:function(e){e.exports={root:"SidebarTab_root__iCpoz",large:"SidebarTab_large__X_YCP",medium:"SidebarTab_medium__MnGco",small:"SidebarTab_small__ZGVOY",active:"SidebarTab_active__3fpyF",fullWidth:"SidebarTab_fullWidth__HCP7X",icon:"SidebarTab_icon__f47EC",content:"SidebarTab_content__Rj57P",shortcut:"SidebarTab_shortcut__UICv5"}},84771:function(e){e.exports={buttonsRoot:"NewFileButton_buttonsRoot__7z1CZ",leftButton:"NewFileButton_leftButton__W7RWi",rightButton:"NewFileButton_rightButton__udvd8",leftButtonSplit:"NewFileButton_leftButtonSplit__bKmUt",newFileText:"NewFileButton_newFileText__GaHy8",shortcut:"NewFileButton_shortcut__zcaFi",popper:"NewFileButton_popper__yRvIW"}},9067:function(e){e.exports={description:"DeleteLibraryModal_description__BqG1b",buttonGroup:"DeleteLibraryModal_buttonGroup__VM4kD"}},45026:function(e){e.exports={repositoryWrapper:"NewGitHubFileModal_repositoryWrapper__sO4H4",repositoryLabel:"NewGitHubFileModal_repositoryLabel__sswpX",toggleRoot:"NewGitHubFileModal_toggleRoot__aXF3z",dropdownToggleRoot:"NewGitHubFileModal_dropdownToggleRoot__qKAvf",dropdownMenu:"NewGitHubFileModal_dropdownMenu__RKE56"}},97023:function(e){e.exports={failedPayment:"BillingActions_failedPayment__EmG8l"}},21949:function(e){e.exports={root:"FixedSizeButton_root__Aqz_I",mainButton:"FixedSizeButton_mainButton__C66_M",hiddenButton:"FixedSizeButton_hiddenButton__GOse9"}},23616:function(e){e.exports={bulletListItemIcon:"PaymentPlanBulletList_bulletListItemIcon__ST3Cd",benefitsContainer:"PaymentPlanBulletList_benefitsContainer__RQoil",featureList:"PaymentPlanBulletList_featureList__0oNsQ",secondaryFeatureList:"PaymentPlanBulletList_secondaryFeatureList___uKFW",bulletListItemDescription:"PaymentPlanBulletList_bulletListItemDescription__SbHkH",isHighlighted:"PaymentPlanBulletList_isHighlighted__PP5uO"}},74762:function(e){e.exports={root:"PaymentPlanCard_root__7qFiE",isDarkMode:"PaymentPlanCard_isDarkMode__V2_fF",isCurrent:"PaymentPlanCard_isCurrent__4ZPm1",content:"PaymentPlanCard_content__O_pn4",badge:"PaymentPlanCard_badge__Bkkjl"}},40145:function(e){e.exports={container:"PaymentPlanInternal_container__1SRkb",title:"PaymentPlanInternal_title__0FlBm",link:"PaymentPlanInternal_link__2o_Hp",buttonContainer:"PaymentPlanInternal_buttonContainer__RKagk",priceTagContainer:"PaymentPlanInternal_priceTagContainer__MLhuG",usageBasedSection:"PaymentPlanInternal_usageBasedSection__nJq2K",pricingItem:"PaymentPlanInternal_pricingItem__8O2Fi",pricingAction:"PaymentPlanInternal_pricingAction__hHxH_",currentSpend:"PaymentPlanInternal_currentSpend__g_y6i"}},5406:function(e){e.exports={priceTag:"PriceTag_priceTag__NF6R0",priceTagNumber:"PriceTag_priceTagNumber__E05_S",priceTagText:"PriceTag_priceTagText__A7HwZ",smallSemiBold:"PriceTag_smallSemiBold__vz9yQ"}},82513:function(e){e.exports={description:"ReferenceLibraryFormModal_description__bkoY6",buttonGroup:"ReferenceLibraryFormModal_buttonGroup__2dJLS"}},1607:function(e){e.exports={modalRoot:"SettingsModal_modalRoot__TA9Un",container:"SettingsModal_container__a5xNF",paneContainer:"SettingsModal_paneContainer__1JUaW",pane:"SettingsModal_pane__g_e7G",titleSlot:"SettingsModal_titleSlot___KmbJ"}},2128:function(e){e.exports={root:"FormWithImage_root__LEmYV",formSide:"FormWithImage_formSide__rTji3",logoSide:"FormWithImage_logoSide__TrlNb"}},95153:function(e){e.exports={dragArea:"ImageUpload_dragArea__TETOc",title:"ImageUpload_title__miq_z",browseBtn:"ImageUpload_browseBtn__LRI60",description:"ImageUpload_description__JuDB5",notes:"ImageUpload_notes__JF_av",highlightOutline:"ImageUpload_highlightOutline__FHsQT"}},1551:function(e){e.exports={sideBarRoot:"SettingsModalSidebar_sideBarRoot__lFOQC",sideBarHeader:"SettingsModalSidebar_sideBarHeader__x40s6",svgAutoHeight:"SettingsModalSidebar_svgAutoHeight__sUh_S"}},79658:function(e){e.exports={root:"ApiTokenRow_root__aTVBG",label:"ApiTokenRow_label__jVbzo",token:"ApiTokenRow_token__Cg7Iq",inputField:"ApiTokenRow_inputField___RaeC",copyButton:"ApiTokenRow_copyButton__h3Gtp"}},88219:function(e){e.exports={tokensContainer:"ApiTokensPane_tokensContainer__I4BhS",emptyTokenContainer:"ApiTokensPane_emptyTokenContainer__oC_9d",label:"ApiTokensPane_label__uRQt2",inputField:"ApiTokensPane_inputField__wNPAC"}},72888:function(e){e.exports={subTitle:"AppearancePane_subTitle__bVZag",keyboardShortcuts:"AppearancePane_keyboardShortcuts__wczc_",radioCardsWrapper:"AppearancePane_radioCardsWrapper__CjNzx",radioCard:"AppearancePane_radioCard__tg8Yo",checked:"AppearancePane_checked__Iof_V",dark:"AppearancePane_dark__6ZvKW",labelWrapper:"AppearancePane_labelWrapper__2CnaT",labelTitle:"AppearancePane_labelTitle__fh2qL",labelDescription:"AppearancePane_labelDescription__iXSKR",imageWrapper:"AppearancePane_imageWrapper___5BWV",image:"AppearancePane_image__Kr68j",hidden:"AppearancePane_hidden__ii1by"}},31783:function(e){e.exports={icon:"CustomIcon_icon__vJvEE",iconImg:"CustomIcon_iconImg__yoj7A",hidden:"CustomIcon_hidden__eCTic",iconImgSkeleton:"CustomIcon_iconImgSkeleton__OOL45",iconInfo:"CustomIcon_iconInfo__MQmfx",skeleton:"CustomIcon_skeleton__gnIoa",iconLabel:"CustomIcon_iconLabel__zTEq4",iconName:"CustomIcon_iconName__Jtq6c",iconAuthor:"CustomIcon_iconAuthor__Hish0",iconDropdown:"CustomIcon_iconDropdown__F5wZs",deleteOption:"CustomIcon_deleteOption__wrYE9",fileInput:"CustomIcon_fileInput__dFPPC"}},39418:function(e){e.exports={wrapper:"CustomIconsPane_wrapper__vbUjR",noMargin:"CustomIconsPane_noMargin__fwI7T"}},19013:function(e){e.exports={wrapper:"IconsList_wrapper__YBTXn",sidebar:"IconsList_sidebar__O8FTk",list:"IconsList_list__iFXbV",description:"IconsList_description__ziurX",notes:"IconsList_notes__8ICE4",noIcons:"IconsList_noIcons__3zQNk",search:"IconsList_search__1C_e_",searchInput:"IconsList_searchInput__07YUc",searchIcon:"IconsList_searchIcon__oiY2h",searchHotkey:"IconsList_searchHotkey__iLUqo",listContainer:"IconsList_listContainer__BtEFL",limitIndicator:"IconsList_limitIndicator__3Nhc7",spinnerContainer:"IconsList_spinnerContainer__4K_Bb"}},91625:function(e){e.exports={upgradePlanPane:"UpgradePane_upgradePlanPane__nkmGn",description:"UpgradePane_description__Lsi6U"}},68580:function(e){e.exports={root:"GitConnectPane_root__3TnVm",organizationWrapper:"GitConnectPane_organizationWrapper__CoTxW",buttonIcon:"GitConnectPane_buttonIcon__N_L5x",divider:"GitConnectPane_divider__kEMQ5",organizationSubtitle:"GitConnectPane_organizationSubtitle__ryr8e"}},57546:function(e){e.exports={listWrapper:"GitHubRepositoryList_listWrapper__tWGFv",repositoryListButtons:"GitHubRepositoryList_repositoryListButtons__EZisk",repositoryListWrapper:"GitHubRepositoryList_repositoryListWrapper__CoO05",repositoryList:"GitHubRepositoryList_repositoryList__fHAKa",repositoryListItem:"GitHubRepositoryList_repositoryListItem__l53vX",repositoryLink:"GitHubRepositoryList_repositoryLink__CU8x1",searchBar:"GitHubRepositoryList_searchBar__xDzCr",inactive:"GitHubRepositoryList_inactive__2ONY9",note:"GitHubRepositoryList_note__KT8KH",suspension:"GitHubRepositoryList_suspension__hhS_9",link:"GitHubRepositoryList_link__xPEJ5"}},38090:function(e){e.exports={root:"GitlabConnect_root__EjW9s",organizationWrapper:"GitlabConnect_organizationWrapper__5XCkY",divider:"GitlabConnect_divider__qgS99",selectionContainer:"GitlabConnect_selectionContainer__HYcJg",simpleSelectionContainer:"GitlabConnect_simpleSelectionContainer__yd8XR",mainDescription:"GitlabConnect_mainDescription__4wA44",title:"GitlabConnect_title__OPThz",description:"GitlabConnect_description__aYhx2",link:"GitlabConnect_link__s_USl",inlineError:"GitlabConnect_inlineError__ZINfG",inlineLoader:"GitlabConnect_inlineLoader__aMIQE",loaderDot:"GitlabConnect_loaderDot__nHZJY",dotPulse:"GitlabConnect_dotPulse__67MHq",userProfile:"GitlabConnect_userProfile__TI5iT",userProfileHeader:"GitlabConnect_userProfileHeader__xzUSF",userInfo:"GitlabConnect_userInfo__qcVEs",userName:"GitlabConnect_userName__fLwpM",userUsername:"GitlabConnect_userUsername__snAOJ",userEmail:"GitlabConnect_userEmail__1SGTs",profileLink:"GitlabConnect_profileLink__KFrUQ",connectedView:"GitlabConnect_connectedView__6sgJW",visibility:"GitlabConnect_visibility__lJRzo",loadingContainer:"GitlabConnect_loadingContainer__rhAGI",loader:"GitlabConnect_loader__qxr1C",spin:"GitlabConnect_spin__WluDL",errorBlock:"GitlabConnect_errorBlock__S8itQ",errorMessage:"GitlabConnect_errorMessage__BH23Q",retryButton:"GitlabConnect_retryButton__dZsYO",projectsList:"GitlabConnect_projectsList__AJwkN",projectItem:"GitlabConnect_projectItem__KHnmD",checkbox:"GitlabConnect_checkbox__WbI_O",projectName:"GitlabConnect_projectName__JmGQw",noProjects:"GitlabConnect_noProjects__JhstL",sectionTitle:"GitlabConnect_sectionTitle__J19t1",groupContainer:"GitlabConnect_groupContainer__SIy4B",groupHeader:"GitlabConnect_groupHeader__OyjTk",groupToggle:"GitlabConnect_groupToggle__oYVxX",groupInfo:"GitlabConnect_groupInfo__CXFa5",groupAvatar:"GitlabConnect_groupAvatar__6sp_6",groupName:"GitlabConnect_groupName__Xq2CL",groupProjects:"GitlabConnect_groupProjects__8lx9B",loadingProjects:"GitlabConnect_loadingProjects__r_MNG"}},47252:function(e){e.exports={organizationHeaderRoot:"OrgHeader_organizationHeaderRoot__lSNlV",organizationLogo:"OrgHeader_organizationLogo__JX8xn",organzationInfo:"OrgHeader_organzationInfo__LSB8Z",organizationName:"OrgHeader_organizationName__ltIvP",organizationLink:"OrgHeader_organizationLink__Cri8L",removeOrganizationButton:"OrgHeader_removeOrganizationButton__IUpTm",organizationSubtitle:"OrgHeader_organizationSubtitle__C1Hla"}},58793:function(e){e.exports={root:"GitLinkPane_root__bOtiE",centerContent:"GitLinkPane_centerContent__Dy_Tu",title:"GitLinkPane_title__S3avA"}},60411:function(e){e.exports={wrapper:"ImageToDiagramPane_wrapper__RVZiP",subtitle:"ImageToDiagramPane_subtitle__QIOfa"}},34577:function(e){e.exports={form:"PasswordForm_form__kS1wj",row:"PasswordForm_row__f5sfb",label:"PasswordForm_label__SQDtC",readonlyValue:"PasswordForm_readonlyValue__xEr9y",link:"PasswordForm_link__EL60x",input:"PasswordForm_input__F08af",buttonGroup:"PasswordForm_buttonGroup__HRESL",submitButton:"PasswordForm_submitButton__Q5Yr1"}},99975:function(e){e.exports={row:"PersonalInformationForm_row__VoZFs",rowWithSpacing:"PersonalInformationForm_rowWithSpacing__HpmwD",label:"PersonalInformationForm_label__TV_EG",input:"PersonalInformationForm_input__KszCg",providerEmail:"PersonalInformationForm_providerEmail__SLpn_",readonlyValue:"PersonalInformationForm_readonlyValue__GuOFB",changeButton:"PersonalInformationForm_changeButton__vqaGJ",buttonGroup:"PersonalInformationForm_buttonGroup__YAjd3"}},91852:function(e){e.exports={gettingStartedRow:"ProfilePane_gettingStartedRow__Q7PAr",separator:"ProfilePane_separator__dbam3",gettingStartedDescription:"ProfilePane_gettingStartedDescription__i80cf",passwordForm:"ProfilePane_passwordForm__Zq2ch",dangerZone:"ProfilePane_dangerZone__wrPR0"}},65227:function(e){e.exports={avatar:"ProfilePicture_avatar___yI2v"}},53017:function(e){e.exports={root:"SettingsSection_root__6Ytpo",title:"SettingsSection_title__ZYuJg",settingRows:"SettingsSection_settingRows__Xcpum",settingRow:"SettingsSection_settingRow__y5hWK",settingTitleContainer:"SettingsSection_settingTitleContainer__SC8hY",settingTitle:"SettingsSection_settingTitle__hzErl",description:"SettingsSection_description__cVhYl",domain:"SettingsSection_domain__qLfI_",inviteLinkContainer:"SettingsSection_inviteLinkContainer__leGO4",link:"SettingsSection_link__CowVE",copyButton:"SettingsSection_copyButton__Q9egU",linkLoading:"SettingsSection_linkLoading___9mlB"}},27401:function(e){e.exports={container:"TeamMembersPane_container__U6p4A",centered:"TeamMembersPane_centered__pQrLf",preamble:"TeamMembersPane_preamble__JbEJk",body:"TeamMembersPane_body__Ah161",leftHalf:"TeamMembersPane_leftHalf__L1p1E",rightHalf:"TeamMembersPane_rightHalf__fC_FM",settingsSubtext:"TeamMembersPane_settingsSubtext__pkG_c",inviteInputContainer:"TeamMembersPane_inviteInputContainer__nPVSF",membersListContainer:"TeamMembersPane_membersListContainer__AD1gK",userList:"TeamMembersPane_userList__ZVplh",userRow:"TeamMembersPane_userRow__qVAOz",manageLink:"TeamMembersPane_manageLink__fsYwJ"}},39094:function(e){e.exports={container:"CompanyLogoUpload_container__15tCz",preview:"CompanyLogoUpload_preview__yIyzf",hasImage:"CompanyLogoUpload_hasImage__ov8tv",logoPreview:"CompanyLogoUpload_logoPreview__swWJU",iconPreview:"CompanyLogoUpload_iconPreview__mhb1B",logoImage:"CompanyLogoUpload_logoImage__BxFid",iconImage:"CompanyLogoUpload_iconImage__RZUKR",placeholder:"CompanyLogoUpload_placeholder__elw_R",helperText:"CompanyLogoUpload_helperText__qjYzx"}},76897:function(e){e.exports={teamRow:"TeamSettingsPane_teamRow__kFk_2",subHeader:"TeamSettingsPane_subHeader__fMl27",teamRowName:"TeamSettingsPane_teamRowName__8CARl",teamRowField:"TeamSettingsPane_teamRowField__eOKEe",teamRowInput:"TeamSettingsPane_teamRowInput___pr2c",teamRowTextArea:"TeamSettingsPane_teamRowTextArea__G0aNV",teamRowDropdown:"TeamSettingsPane_teamRowDropdown__R7bQj",teamRowBadge:"TeamSettingsPane_teamRowBadge__pFLfs",description:"TeamSettingsPane_description__enJEX",dangerZone:"TeamSettingsPane_dangerZone__KAsBR",dangerTitle:"TeamSettingsPane_dangerTitle__DWCNx",dangerMessage:"TeamSettingsPane_dangerMessage__E6Tpu",deletionWarning:"TeamSettingsPane_deletionWarning__6HFaj",logoSection:"TeamSettingsPane_logoSection__G5rEl",logoSectionTitle:"TeamSettingsPane_logoSectionTitle__6ratv"}},11406:function(e){e.exports={form:"ssoForm_form__gZjRJ",table:"ssoForm_table__1oXGF",infoText:"ssoForm_infoText__MumJm",formField:"ssoForm_formField__HOWht"}},54242:function(e){e.exports={usagePaneList:"UsagePane_usagePaneList__uprPF",usageItem:"UsagePane_usageItem__NpkYi",usageItemLimitBar:"UsagePane_usageItemLimitBar__aR9HQ",bar:"UsagePane_bar__CRrIS",usageItemDescription:"UsagePane_usageItemDescription___T6MO",usageItemPeriod:"UsagePane_usageItemPeriod__HP7zz",payGoItemItemTitle:"UsagePane_payGoItemItemTitle__u8i4L",progressBar:"UsagePane_progressBar__ryNmA"}},94127:function(e){e.exports={root:"TemplatesModal_root__vD81W"}},73705:function(e){e.exports={closeButton:"AllTemplatesScreen_closeButton__jrQSo",titleWrapper:"AllTemplatesScreen_titleWrapper__3uOPw",title:"AllTemplatesScreen_title__Pn8WU",titleTools:"AllTemplatesScreen_titleTools__YZccQ",searchBar:"AllTemplatesScreen_searchBar__2U2lh",contentWrapper:"AllTemplatesScreen_contentWrapper__OnNQL",templateCard:"AllTemplatesScreen_templateCard__rS9mx"}},34823:function(e){e.exports={root:"TemplatePreviewScreen_root__4B2c5",headerWrapper:"TemplatePreviewScreen_headerWrapper__SUx4O",navigationWrapper:"TemplatePreviewScreen_navigationWrapper__ImmE8",previousIcon:"TemplatePreviewScreen_previousIcon__lzrVq",metadataWrapper:"TemplatePreviewScreen_metadataWrapper__7Mk5q",controlsWrapper:"TemplatePreviewScreen_controlsWrapper__iIVuK",previewWrapper:"TemplatePreviewScreen_previewWrapper__GcSGY",previewImage:"TemplatePreviewScreen_previewImage__HZlxx"}},68870:function(e){e.exports={skeleton:"Avatar_skeleton__d_c9U",avatar:"Avatar_avatar___nyMi",fallback:"Avatar_fallback__5_gH8",hasImage:"Avatar_hasImage__xMLHW",isTransparent:"Avatar_isTransparent__WHnAE"}},11163:function(e){e.exports={badge:"Badge_badge__Bm5vD",opacity:"Badge_opacity__N5rb2",inverted:"Badge_inverted__kaCFX",primary:"Badge_primary___7lc_",secondary:"Badge_secondary__TtmIs",success:"Badge_success__uw_NO"}},36544:function(e){e.exports={breadCrumbsRoot:"BreadCrumb_breadCrumbsRoot__nhFj_",breadCrumbRoot:"BreadCrumb_breadCrumbRoot__sSAG_",breadCrumb:"BreadCrumb_breadCrumb__1BBNv",disabled:"BreadCrumb_disabled__zee0L",clickable:"BreadCrumb_clickable__SctW1"}},77322:function(e){e.exports={button:"Button_button__fNS_E",leftIcon:"Button_leftIcon__JKaKw",iconOnly:"Button_iconOnly__qT4xR",tooltipWrapper:"Button_tooltipWrapper__QMAeG",spinnerWrapper:"Button_spinnerWrapper__JB4Wv","variant--reversed":"Button_variant--reversed__uSNSK","variant--reversed-danger":"Button_variant--reversed-danger__4tAm_","variant--outline":"Button_variant--outline__mLyuZ","variant--outline-regular":"Button_variant--outline-regular__D2RCV","x-large":"Button_x-large__JIN_Y",large:"Button_large__DUVaK",small:"Button_small__rvXZZ","x-small":"Button_x-small__Zky_7",tiny:"Button_tiny__cbC3L",isLoading:"Button_isLoading__lufw5",regular:"Button_regular__eMnxK",selected:"Button_selected__G2hIk","outline-regular":"Button_outline-regular__D_ei7","relief-grey":"Button_relief-grey__KNuvo",reversed:"Button_reversed__Yd8T5",transparent:"Button_transparent__FI2_6","transparent-success":"Button_transparent-success__A6Bm6","transparent-regular":"Button_transparent-regular__z0Cq_",danger:"Button_danger__AoS1X","reversed-danger":"Button_reversed-danger__nBmyV",outline:"Button_outline__uZAW4","toast-button":"Button_toast-button__oFV1d",subtle:"Button_subtle__7yXs3",focus:"Button_focus__oDt0l",dark:"Button_dark__NCyth",light:"Button_light__p9Dmo"}},74025:function(e){e.exports={buttonGroup:"ButtonGroup_buttonGroup__JsPHv",autoWidth:"ButtonGroup_autoWidth__upITY"}},11716:function(e){e.exports={checkboxWrapper:"Checkbox_checkboxWrapper__mdDwH",checkbox:"Checkbox_checkbox__PywQJ",label:"Checkbox_label___HGpY"}},56537:function(e){e.exports={fieldset:"CheckboxGroup_fieldset__yb1xg",block:"CheckboxGroup_block__zSGq5",inline:"CheckboxGroup_inline__wxKAP",label:"CheckboxGroup_label__349I0",selected:"CheckboxGroup_selected__nD4NS",transparent:"CheckboxGroup_transparent__rbQ_d",checkbox:"CheckboxGroup_checkbox__KFAWn",selectAll:"CheckboxGroup_selectAll__MQZwt"}},65421:function(e){e.exports={confirmationModal:"ConfirmationModal_confirmationModal___lZAR",description:"ConfirmationModal_description__JtwEX",actions:"ConfirmationModal_actions__nJb6_",actionBtn:"ConfirmationModal_actionBtn__b_ECH"}},8350:function(e){e.exports={uploadBtn:"UploadButton_uploadBtn__qLJSR",fileInput:"UploadButton_fileInput__9s71N"}},36689:function(e){e.exports={dots:"Dots_dots__104zg"}},35266:function(e){e.exports={toggle:"Dropdown_toggle__waP_7",isFocused:"Dropdown_isFocused__KCFaZ",isDisabled:"Dropdown_isDisabled__VJ6x7",isSubMenu:"Dropdown_isSubMenu__Qih7v","variant--grey":"Dropdown_variant--grey__mTIAZ",caretIcon:"Dropdown_caretIcon__Byzw_",rightElement:"Dropdown_rightElement__qb3cl","variant--lightGrey":"Dropdown_variant--lightGrey__6Hc_X","variant--lightGreyContrast":"Dropdown_variant--lightGreyContrast__po3l6","variant--transparent":"Dropdown_variant--transparent__KkfGu","variant--input":"Dropdown_variant--input__XlPW7",popupToggle:"Dropdown_popupToggle__JbX6o",content:"Dropdown_content__0oQUo",hasCaret:"Dropdown_hasCaret__i2Jsx",icon:"Dropdown_icon__3dHle",isOpen:"Dropdown_isOpen__W5Mlk",title:"Dropdown_title__C64eP",popper:"Dropdown_popper__eyiza",divider:"Dropdown_divider__DvcJe","size--medium":"Dropdown_size--medium__dKrTh","size--large":"Dropdown_size--large__MZ0W0",transparent:"Dropdown_transparent__3AlZO",wrapper:"Dropdown_wrapper__cpBhb",list:"Dropdown_list__wqzXY","spacing--none":"Dropdown_spacing--none__FVP8z","spacing--small":"Dropdown_spacing--small__E5gSq","spacing--medium":"Dropdown_spacing--medium__Az_SC",searchNotFound:"Dropdown_searchNotFound__3BKdw",threeDotsDropdown:"Dropdown_threeDotsDropdown__y7str",threeDotsDropdownToggle:"Dropdown_threeDotsDropdownToggle__KxgPz",hint:"Dropdown_hint__7Zn5H",shortcut:"Dropdown_shortcut__WzlMY",accessBadge:"Dropdown_accessBadge__kyKzm"}},49050:function(e){e.exports={uploadButton:"ImageUploadButton_uploadButton__EDxvz",selected:"ImageUploadButton_selected__RyVJL",disabled:"ImageUploadButton_disabled__k3qhf",tooltipWrapper:"ImageUploadButton_tooltipWrapper__3tj1A",disabledWrapper:"ImageUploadButton_disabledWrapper__GxH4V"}},85950:function(e){e.exports={emptyStateRoot:"EmptyState_emptyStateRoot__sGyRy",emptyStateContent:"EmptyState_emptyStateContent__p8jlG",primaryIcon:"EmptyState_primaryIcon__lBiCX",iconTray:"EmptyState_iconTray__JFcIH",textSection:"EmptyState_textSection__3Vhlt",bottom:"EmptyState_bottom__PLtMO",media:"EmptyState_media__tNP_f"}},28695:function(e){e.exports={infoBlock:"Info_infoBlock__nwhG3","variant--lightGrey":"Info_variant--lightGrey__2xxy8","variant--error":"Info_variant--error__RMDR_","variant--warning":"Info_variant--warning___c9xc","variant--primary":"Info_variant--primary__NGRnG","variant--transparent":"Info_variant--transparent__Fn8iP"}},81625:function(e){e.exports={videoContainer:"Video_videoContainer__7W1xv",overlay:"Video_overlay__aBxkZ",player:"Video_player__f0YHx",button:"Video_button__5U5aI"}},71946:function(e){e.exports={inputLabel:"InputLabel_inputLabel__X_cPh",label:"InputLabel_label__efXfL",required:"InputLabel_required__4gcFS",field:"InputLabel_field__2O8kZ",option:"InputLabel_option__XLd80",explanation:"InputLabel_explanation__NsNKv",error:"InputLabel_error__Tflqu"}},28121:function(e){e.exports={hidden:"KnownPeopleAutocompleteDropdown_hidden__UMyrh",dropdownPopper:"KnownPeopleAutocompleteDropdown_dropdownPopper__6vxvS",popperListBox:"KnownPeopleAutocompleteDropdown_popperListBox__DQh18"}},75391:function(e){e.exports={knownPersonInfoMedium:"KnownPersonInfo_knownPersonInfoMedium__NpVEC",knownPersonInfoSmall:"KnownPersonInfo_knownPersonInfoSmall__9LsaN",knownPersonInfo:"KnownPersonInfo_knownPersonInfo__eUUNA",guest:"KnownPersonInfo_guest__HQztF",memberMedium:"KnownPersonInfo_memberMedium__Z_unh",memberSmall:"KnownPersonInfo_memberSmall__GMu8l",member:"KnownPersonInfo_member__uaOs7",avatarMedium:"KnownPersonInfo_avatarMedium__d_KHu",avatarSmall:"KnownPersonInfo_avatarSmall__o8uIT",labelMedium:"KnownPersonInfo_labelMedium__noin7",labelSmall:"KnownPersonInfo_labelSmall__gvOC6",label:"KnownPersonInfo_label__DPEQc",email:"KnownPersonInfo_email__21hlz",isActive:"KnownPersonInfo_isActive__oarJs"}},47837:function(e){e.exports={link:"ExternalLink_link__tkNBC"}},36421:function(e){e.exports={link:"PrimaryLink_link__1EuA8"}},5021:function(e){e.exports={listBox:"ListBox_listBox__R1cIs"}},22298:function(e){e.exports={root:"ListEntry_root__LgMus",disableHover:"ListEntry_disableHover__9x1s3",isActive:"ListEntry_isActive__Y62iI",content:"ListEntry_content__ShHpq",backIcon:"ListEntry_backIcon__YKFq1",icon:"ListEntry_icon__mbIH5",forwardIcon:"ListEntry_forwardIcon__oPabT",title:"ListEntry_title__6OpPl",mainTitle:"ListEntry_mainTitle__wkT8S",fitWidth:"ListEntry_fitWidth__oIZj5",secondaryTitle:"ListEntry_secondaryTitle__7X04O",subTitle:"ListEntry_subTitle__VwQBg"}},7971:function(e){e.exports={skeleton:"MemberAvatar_skeleton___Nnzn",avatar:"MemberAvatar_avatar__Q48lu"}},52305:function(e){e.exports={modal:"Modal_modal__1M1kH",fadeIn:"Modal_fadeIn__1NgSR",isDarkMode:"Modal_isDarkMode__VrR_T",dialog:"Modal_dialog__XFB9y",addTopPadding:"Modal_addTopPadding__g4idB",large:"Modal_large__EM_E1",xl:"Modal_xl__iDkch",hasBottomGradient:"Modal_hasBottomGradient__EWfij",closeBtn:"Modal_closeBtn__zXnGe",closeBtnCross:"Modal_closeBtnCross__QDkyj",closeBtnText:"Modal_closeBtnText__NVWq3",header:"Modal_header__UA9ac",content:"Modal_content__CFXie",titleSeparator:"Modal_titleSeparator__08CBv",body:"Modal_body__fBVW_",bg:"Modal_bg__2jwqw",left:"Modal_left__JFTtd",right:"Modal_right__fjpib",bottomGradient:"Modal_bottomGradient__vBvtj"}},60885:function(e){e.exports={container:"MoneyInput_container__MbnCb",dollarSign:"MoneyInput_dollarSign__Oicf8",input:"MoneyInput_input__LJ2O4"}},66363:function(e){e.exports={root:"PillPicker_root__UhH8e",shortcutKeys:"PillPicker_shortcutKeys__N_RyR"}},79992:function(e){e.exports={pills:"Pills_pills__C3svp",pill:"Pills_pill__Kp5TK",label:"Pills_label__7D6_a"}},16593:function(e){e.exports={popper:"Popper_popper__EEixQ",arrow:"Popper_arrow__gcKtu",fade:"Popper_fade__KFvfV"}},59211:function(e){e.exports={option:"Option_option__6NPoM",row:"Option_row__ezIZ0",paddingLarge:"Option_paddingLarge__nHdJT",isLoading:"Option_isLoading__d3jnY",disabled:"Option_disabled__V1duV",selected:"Option_selected__w8jci",checkbox:"Option_checkbox__sz6P4","selected-primary":"Option_selected-primary__1DHU3","selected-grey":"Option_selected-grey__sf6cw",content:"Option_content__MtPVs",icon:"Option_icon___Fyzv",right:"Option_right__4w8dx",explanation:"Option_explanation__4Jrqf",marginLeft:"Option_marginLeft__kQX2m"}},87042:function(e){e.exports={toggler:"Popup_toggler__V5BaU",disabled:"Popup_disabled__9QS6_",menu:"Popup_menu__uNwra",isSubmenu:"Popup_isSubmenu__k8VV5"}},6956:function(e){e.exports={progressBar:"ProgressBar_progressBar__QWO3D",progress:"ProgressBar_progress___FpDF",withColor:"ProgressBar_withColor__RZ07O"}},57372:function(e){e.exports={radioList:"RadioList_radioList__ze6RA",item:"RadioList_item__PO0k8",selected:"RadioList_selected__pKne7"}},96296:function(e){e.exports={searchContainer:"SearchInput_searchContainer__Md0dD",shortcut:"SearchInput_shortcut__4FID7"}},43664:function(e){e.exports={spinner:"Spinner_spinner__l0kTa",inline:"Spinner_inline__DxoPR",fancySpinner:"Spinner_fancySpinner__vsDoa"}},56706:function(e){e.exports={switch:"Switch_switch__I7mM2",disabled:"Switch_disabled__LgSvu",presentation:"Switch_presentation___PJZr",slider:"Switch_slider__dCMx9",sliderDot:"Switch_sliderDot__OaaCD",label:"Switch_label__ypNsH",labelLeft:"Switch_labelLeft__fsSGS",input:"Switch_input__UaOW_"}},9717:function(e){e.exports={label:"TextArea_label__ABrbp",textarea:"TextArea_textarea__O24bQ",disabled:"TextArea_disabled__g_NOx",fadeRightSideOfInput:"TextArea_fadeRightSideOfInput__2q7gy"}},73149:function(e){e.exports={button:"TextInput_button__y0jnx",errorIcon:"TextInput_errorIcon___6_lM",textInput:"TextInput_textInput__XA9JQ",small:"TextInput_small__oKZKC",medium:"TextInput_medium__MAwSm",large:"TextInput_large__7lIg4",fadeRightSideOfInput:"TextInput_fadeRightSideOfInput__6SKGe",disabled:"TextInput_disabled__4_mWW",readOnly:"TextInput_readOnly__aF8MB",lockIcon:"TextInput_lockIcon__xDrPR"}},26772:function(e){e.exports={tooltip:"tooltip_tooltip__H_xAF",mainText:"tooltip_mainText__PcaGo",shortcut:"tooltip_shortcut__vrw6N",subText:"tooltip_subText__zDmVo"}},95343:function(e){e.exports={information:"Typography_information__v1Vpp",muted:"Typography_muted__m6zU9",error:"Typography_error__ChBjL",small:"Typography_small__Rmt27",semiBold:"Typography_semiBold__J9oKI",bold:"Typography_bold__YkqAg",medium:"Typography_medium__aRf_F",header:"Typography_header__HXIUC",explanation:"Typography_explanation__HyACK",ul:"Typography_ul__0Sc3B",ol:"Typography_ol___t2Qi",h3:"Typography_h3__xtqxm",h4:"Typography_h4__z_NvV",h5:"Typography_h5__DxDFI",standard:"Typography_standard__kUjiD"}},146:function(e){e.exports={user:"UserInfo_user__3qRBh",content:"UserInfo_content__THSwn"}},16216:function(e){e.exports={shortcut:"ShortcutKeys_shortcut__YUJIb",inline:"ShortcutKeys_inline__xqzMC",shortcutKey:"ShortcutKeys_shortcutKey__DCXaM",text:"ShortcutKeys_text__56IdZ",pill:"ShortcutKeys_pill__Z5okF",darkBackground:"ShortcutKeys_darkBackground__vRIgg"}},83030:function(e){e.exports={sideMenuContainer:"Slate_sideMenuContainer__AJAWz",sideMenuChild:"Slate_sideMenuChild__rgt0A","comment-button":"Slate_comment-button__KhYUz","ai-outline-button":"Slate_ai-outline-button__0oxCm"}},31858:function(){},14369:function(){},48538:function(){},76498:function(){},84912:function(){},17459:function(){},79827:function(){},97653:function(){},83167:function(){},25237:function(e,t,n){e.exports=n(95805)},97729:function(e,t,n){e.exports=n(75913)},39097:function(e,t,n){e.exports=n(90162)},5632:function(e,t,n){e.exports=n(93642)},34406:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}var l=[],u=!1,c=-1;function A(){u&&r&&(u=!1,r.length?l=r.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=s(A);u=!0;for(var t=l.length;t;){for(r=l,l=[];++c<t;)r&&r[c].run();c=-1,t=l.length}r=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},11929:function(e,t,n){"use strict";n.d(t,{UK:function(){return h}});var r=n(2784);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;var o={status:"not-requested",loading:!1,result:void 0,error:void 0},a={status:"loading",loading:!0,result:void 0,error:void 0},s=function(){},l={initialState:function(e){return e&&e.executeOnMount?a:o},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return a},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:s,onError:s},u=function(e){var t=(0,r.useState)(function(){return e.initialState(e)}),n=t[0],o=t[1],a=(0,r.useCallback)(function(){return o(e.initialState(e))},[o,e]),s=(0,r.useCallback)(function(){return o(e.setLoading(n))},[n,o]),l=(0,r.useCallback)(function(t){return o(e.setResult(t,n))},[n,o]),u=(0,r.useCallback)(function(t){return o(e.setError(t,n))},[n,o]),c=(0,r.useCallback)(function(e){return o(i({},n,{},e))},[n,o]);return{value:n,set:o,merge:c,reset:a,setLoading:s,setResult:l,setError:u}},c=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),function(){return e.current}},A=function(){var e=(0,r.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}},d=function(e,t,n){var o=i({},l,{},n),a=(0,r.useState)(null),s=a[0],d=a[1],h=u(o),f=c(),p=A(),g=function(e){return f()&&p.is(e)},m=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e.apply(void 0,n);return(d(n),i instanceof Promise)?(p.set(i),h.setLoading(),i.then(function(e){g(i)&&h.setResult(e),o.onSuccess(e,{isCurrent:function(){return p.is(i)}})},function(e){g(i)&&h.setError(e),o.onError(e,{isCurrent:function(){return p.is(i)}})}),i):(h.setResult(i),Promise.resolve(i))},v=!f();return(0,r.useEffect)(function(){v?o.executeOnMount&&m.apply(void 0,t):o.executeOnUpdate&&m.apply(void 0,t)},t),i({},h.value,{set:h.set,merge:h.merge,reset:h.reset,execute:m,currentPromise:p.get(),currentParams:s})},h=function(e,t){return d(e,[],i({},t,{executeOnMount:!1,executeOnUpdate:!1}))}},12005:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r=(0,n(2784).createContext)({dragDropManager:void 0})},64969:function(e,t,n){"use strict";n.d(t,{J:function(){return u}});var r=n(32741),i=n(69378),o=n.n(i),a=n(2784);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){var i,u,c,A,d,h,f,p,g,m,v;return m=(g=function(e){if(Array.isArray(e))return e}((i=e||function(){return{}},u=function(){return n.reconnect()},d=(A=function(e){if(Array.isArray(e))return e}(c=(0,a.useState)(function(){return i(t)}))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(c,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,2)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],h=A[1],f=(0,a.useCallback)(function(){var e=i(t);!o()(d,e)&&(h(e),u&&u())},[d,t,u]),(0,r.L)(f),p=[d,f]))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(p,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,2)}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],v=g[1],(0,r.L)(function(){var e=t.getHandlerId();if(null!=e)return t.subscribeToStateChange(v,{handlerIds:[e]})},[t,v]),m}},39717:function(e,t,n){"use strict";n.d(t,{c:function(){return E}});var r=n(690),i=n(32741),o=n(2784);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){var e;function t(e,n,r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");s(this,"spec",void 0),s(this,"monitor",void 0),s(this,"connector",void 0),this.spec=e,this.monitor=n,this.connector=r}return e=[{key:"beginDrag",value:function(){var e,t=this.spec,n=this.monitor;return null!=(e="object"===a(t.item)?t.item:"function"==typeof t.item?t.item(n):{})?e:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var n=this.spec,r=this.monitor,i=n.isDragging;return i?i(r):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,n=this.connector,r=e.end;r&&r(t.getItem(),t),n.reconnect()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),u=n(92566),c=n(45293);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=n(69980);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=!1,p=!1,g=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");h(this,"internalMonitor",void 0),h(this,"sourceId",null),this.internalMonitor=e.getMonitor()}return e=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){(0,c.k)(!f,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return f=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{f=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;(0,c.k)(!p,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return p=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{p=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),m=n(55020),v=n(86337),y=n(57320);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(){var e;function t(e){var n=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");b(this,"hooks",(0,m.p)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,(0,v.d)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,(0,v.d)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}})),b(this,"handlerId",null),b(this,"dragSourceRef",null),b(this,"dragSourceNode",void 0),b(this,"dragSourceOptionsInternal",null),b(this,"dragSourceUnsubscribe",void 0),b(this,"dragPreviewRef",null),b(this,"dragPreviewNode",void 0),b(this,"dragPreviewOptionsInternal",null),b(this,"dragPreviewUnsubscribe",void 0),b(this,"lastConnectedHandlerId",null),b(this,"lastConnectedDragSource",null),b(this,"lastConnectedDragSourceOptions",null),b(this,"lastConnectedDragPreview",null),b(this,"lastConnectedDragPreviewOptions",null),b(this,"backend",void 0),this.backend=e}return e=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(t&&this.disconnectDragSource(),this.handlerId){if(!e){this.lastConnectedDragSource=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(t&&this.disconnectDragPreview(),this.handlerId){if(!e){this.lastConnectedDragPreview=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!(0,y.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!(0,y.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),_=n(64969);function E(e,t){var n,a,s,h,f,p,m,v,y,b=(0,d.w)(e,t);(0,c.k)(!b.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var E=(n=(0,u.N)(),(0,o.useMemo)(function(){return new g(n)},[n])),C=(a=b.options,s=b.previewOptions,h=(0,u.N)(),f=(0,o.useMemo)(function(){return new w(h.getBackend())},[h]),(0,i.L)(function(){return f.dragSourceOptions=a||null,f.reconnect(),function(){return f.disconnectDragSource()}},[f,a]),(0,i.L)(function(){return f.dragPreviewOptions=s||null,f.reconnect(),function(){return f.disconnectDragPreview()}},[f,s]),f);return p=(0,u.N)(),m=(0,o.useMemo)(function(){return new l(b,E,C)},[E,C]),(0,o.useEffect)(function(){m.spec=b},[b]),v=m,y=(0,o.useMemo)(function(){var e=b.type;return(0,c.k)(null!=e,"spec.type must be defined"),e},[b]),(0,i.L)(function(){if(null!=y){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.w)(y,v,p))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return A(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1];return E.receiveHandlerId(n),C.receiveHandlerId(n),i}},[p,E,C,v,y]),[(0,_.J)(b.collect,E,C),(0,o.useMemo)(function(){return C.hooks.dragSource()},[C]),(0,o.useMemo)(function(){return C.hooks.dragPreview()},[C])]}},92566:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(2784),i=n(45293),o=n(12005);function a(){var e=(0,r.useContext)(o.L).dragDropManager;return(0,i.k)(null!=e,"Expected drag drop context"),e}},40940:function(e,t,n){"use strict";n.d(t,{L:function(){return w}});var r=n(690),i=n(92566),o=n(32741),a=n(45293),s=n(2784);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){var e;function t(e,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");l(this,"spec",void 0),l(this,"monitor",void 0),this.spec=e,this.monitor=n}return e=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=n(69980);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=!1,f=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");d(this,"internalMonitor",void 0),d(this,"targetId",null),this.internalMonitor=e.getMonitor()}return e=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;(0,a.k)(!h,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return h=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{h=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),p=n(57320),g=n(55020),m=n(86337);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){var e;function t(e){var n=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");v(this,"hooks",(0,g.p)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,(0,m.d)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),v(this,"handlerId",null),v(this,"dropTargetRef",null),v(this,"dropTargetNode",void 0),v(this,"dropTargetOptionsInternal",null),v(this,"unsubscribeDropTarget",void 0),v(this,"lastConnectedHandlerId",null),v(this,"lastConnectedDropTarget",null),v(this,"lastConnectedDropTargetOptions",null),v(this,"backend",void 0),this.backend=e}return e=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!(0,p.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),b=n(64969);function w(e,t){var n,l,d,h,p,g,m,v,w,_=(0,A.w)(e,t),E=(n=(0,i.N)(),(0,s.useMemo)(function(){return new f(n)},[n])),C=(l=_.options,d=(0,i.N)(),h=(0,s.useMemo)(function(){return new y(d.getBackend())},[d]),(0,o.L)(function(){return h.dropTargetOptions=l||null,h.reconnect(),function(){return h.disconnectDropTarget()}},[l]),h);return p=(0,i.N)(),g=(0,s.useMemo)(function(){return new u(_,E)},[E]),(0,s.useEffect)(function(){g.spec=_},[_]),m=g,v=_.accept,w=(0,s.useMemo)(function(){return(0,a.k)(null!=_.accept,"accept must be defined"),Array.isArray(v)?v:[v]},[v]),(0,o.L)(function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.n)(w,m,p))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1];return E.receiveHandlerId(n),C.receiveHandlerId(n),i},[p,E,m,C,w.map(function(e){return e.toString()}).join("|")]),[(0,b.J)(_.collect,E,C),(0,s.useMemo)(function(){return C.hooks.dropTarget()},[C])]}},32741:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2784),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},69980:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(2784);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n,o=function(e){if(Array.isArray(e))return i(e)}(n=t||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,void 0)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return null==t&&"function"!=typeof e&&o.push(e),(0,r.useMemo)(function(){return"function"==typeof e?e():e},o)}},86337:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return null!==e&&"object"===r(e)&&Object.prototype.hasOwnProperty.call(e,"current")}n.d(t,{d:function(){return i}})},690:function(e,t,n){"use strict";function r(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function i(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}n.d(t,{n:function(){return r},w:function(){return i}})},55020:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(45293),i=n(2784);function o(e){var t={};return Object.keys(e).forEach(function(n){var o=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var s=function(){var e,t,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,i.isValidElement)(s))return o(s,l),s;if("string"!=typeof s.type){var u=s.type.displayName||s.type.name||"the component";throw Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(u," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}return e=s,t=l?function(e){return o(e,l)}:o,n=e.ref,((0,r.k)("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n)?(0,i.cloneElement)(e,{ref:function(e){a(n,e),a(t,e)}}):(0,i.cloneElement)(e,{ref:t})};t[n]=function(){return s}}}),t}function a(e,t){"function"==typeof e?e(t):e.current=t}},78435:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,o){try{return function e(o,a){if(o===a)return!0;if(o&&a&&"object"==typeof o&&"object"==typeof a){var s,l,u,c;if(o.constructor!==a.constructor)return!1;if(Array.isArray(o)){if((s=o.length)!=a.length)return!1;for(l=s;0!=l--;)if(!e(o[l],a[l]))return!1;return!0}if(n&&o instanceof Map&&a instanceof Map){if(o.size!==a.size)return!1;for(c=o.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=o.entries();!(l=c.next()).done;)if(!e(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&o instanceof Set&&a instanceof Set){if(o.size!==a.size)return!1;for(c=o.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(a)){if((s=o.length)!=a.length)return!1;for(l=s;0!=l--;)if(o[l]!==a[l])return!1;return!0}if(o.constructor===RegExp)return o.source===a.source&&o.flags===a.flags;if(o.valueOf!==Object.prototype.valueOf&&"function"==typeof o.valueOf&&"function"==typeof a.valueOf)return o.valueOf()===a.valueOf();if(o.toString!==Object.prototype.toString&&"function"==typeof o.toString&&"function"==typeof a.toString)return o.toString()===a.toString();if((s=(u=Object.keys(o)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(t&&o instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!o.$$typeof)&&!e(o[u[l]],a[u[l]]))return!1;return!0}return o!=o&&a!=a}(e,o)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},51992:function(e,t,n){"use strict";Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"yB",{enumerable:!0,get:function(){return i.default}});var r=o(n(68334)),i=o(n(98432));function o(e){return e&&e.__esModule?e:{default:e}}},98432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(2784)),a=n(82887),s=n(68334);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function n(){var e;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return e=c(n).apply(this,arguments),e&&("object"===u(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&A(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,i=(0,a.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,a.jsx)("div",{css:i},r)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,t),n}(o.Component);t.default=d,r="defaultProps",i={color:s.defaultBaseColor,highlightColor:s.defaultHighlightColor},r in d?Object.defineProperty(d,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):d[r]=i},68334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=A,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0,(r=n(2784))&&r.__esModule;var r,i=n(82887);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(){var e,t,n=(e=["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return a=function(){return n},n}var s="#eee";t.defaultBaseColor=s;var l="#f5f5f5";t.defaultHighlightColor=l;var u=function(e,t){return(0,i.keyframes)(a(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=u;var c=(0,i.css)("background-color:",s,";background-image:linear-gradient( 90deg,",s,",",l,",",s," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function A(e){for(var t=e.count,n=e.duration,r=e.width,a=e.wrapper,s=e.height,l=e.circle,A=e.delay,d=e.style,h=e.className,f=[],p=0;p<t;p++){var g={};null!==r&&(g.width=r),null!==s&&(g.height=s),null!==r&&null!==s&&l&&(g.borderRadius="50%");var m="react-loading-skeleton";h&&(m+=" "+h),f.push((0,i.jsx)("span",{key:p,className:m,css:(0,i.css)(c," animation:",u(n,A)," ",n+A,"s ease-in-out infinite;label:Skeleton;"),style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},d,{},g)},""))}return(0,i.jsx)("span",null,a?f.map(function(e,t){return(0,i.jsx)(a,{key:t},e,"")}):f)}t.skeletonStyles=c,A.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},89473:function(e,t,n){"use strict";var r=n(97209),i=n(2784),o=n(28316),a=r&&"object"==typeof r&&"default"in r?r:{default:r},s=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}(i),l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},A=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},d="object"==typeof c&&c&&c.Object===Object&&c,h="object"==typeof self&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),p=/\s/,g=function(e){for(var t=e.length;t--&&p.test(e.charAt(t)););return t},m=/^\s+/,v=f.Symbol,y=Object.prototype,b=y.hasOwnProperty,w=y.toString,_=v?v.toStringTag:void 0,E=Object.prototype.toString,C=function(e){var t=b.call(e,_),n=e[_];try{e[_]=void 0;var r=!0}catch(e){}var i=w.call(e);return r&&(t?e[_]=n:delete e[_]),i},B=v?v.toStringTag:void 0,x=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?C(e):E.call(e)},I=function(e){return"symbol"==typeof e||null!=e&&"object"==typeof e&&"[object Symbol]"==x(e)},T=0/0,S=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,N=/^0o[0-7]+$/i,D=parseInt,O=function(){return f.Date.now()},R=function(e){if("number"==typeof e)return e;if(I(e))return T;if(A(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=A(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,g(t)+1).replace(m,""):t;var r=k.test(e);return r||N.test(e)?D(e.slice(2),r?2:8):S.test(e)?T:+e},F=Math.max,L=Math.min,U=function(e,t,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function p(e){var n=e-l,r=e-u;return void 0===l||n>=t||n<0||d&&r>=o}function g(){var e,n,r,i=O();if(p(i))return m(i);s=setTimeout(g,(e=i-l,n=i-u,r=t-e,d?L(r,o-n):r))}function m(e){return(s=void 0,h&&r)?f(e):(r=i=void 0,a)}function v(){var e,n=O(),o=p(n);if(r=arguments,i=this,l=n,o){if(void 0===s)return u=e=l,s=setTimeout(g,t),c?f(e):a;if(d)return clearTimeout(s),s=setTimeout(g,t),f(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=R(t)||0,A(n)&&(c=!!n.leading,o=(d="maxWait"in n)?F(R(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:m(O())},v},P=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw TypeError("Expected a function");return A(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),U(e,t,{leading:r,maxWait:t,trailing:i})},M=function(e,t,n,r){switch(t){case"debounce":return U(e,n,r);case"throttle":return P(e,n,r);default:return e}},j=function(e){return"function"==typeof e},Z=function(){return"undefined"==typeof window},Q=function(e){return e instanceof Element||e instanceof HTMLDocument},H=function(e,t,n,r){return function(i){var o=i.width,a=i.height;t(function(t){return(t.width!==o||t.height!==a)&&(t.width!==o||r)&&(t.height!==a||n)?(e&&j(e)&&e(o,a),{width:o,height:a}):t})}},V=(function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!Z()){t&&t.current&&(n.targetRef.current=t.current);var i=n.getElement();!i||n.observableElement&&n.observableElement===i||(n.observableElement=i,n.resizeObserver.observe(i,r))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(Z())return null;if(t)return document.querySelector(t);if(r&&Q(r))return r;if(n.targetRef&&Q(n.targetRef.current))return n.targetRef.current;var i=o.findDOMNode(n);if(!i)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,i=void 0===r||r,o=t.handleHeight,a=void 0===o||o,s=t.onResize;if(i||a){var l=H(s,n.setState.bind(n),i,a);e.forEach(function(e){var t=e&&e.contentRect||{},r=t.width,i=t.height;n.skipOnMount||Z()||l({width:r,height:i}),n.skipOnMount=!1})}},n.getRenderType=function(){var e=n.props,t=e.render,r=e.children;return j(t)?"renderProp":j(r)?"childFunction":i.isValidElement(r)?"child":Array.isArray(r)?"childArray":"parent"};var r=t.skipOnMount,s=t.refreshMode,l=t.refreshRate,u=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=r,n.targetRef=i.createRef(),n.observableElement=null,Z()||(n.resizeHandler=M(n.createResizeHandler,s,void 0===l?1e3:l,u),n.resizeObserver=new a.default(n.resizeHandler)),n}(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){Z()||(this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,n=t.render,r=t.children,o=t.nodeType,a=this.state,l={width:a.width,height:a.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return n&&n(l);case"childFunction":return(e=r)(l);case"child":if((e=r).type&&"string"==typeof e.type){l.targetRef;var u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(l,["targetRef"]);return i.cloneElement(e,u)}return i.cloneElement(e,l);case"childArray":return(e=r).map(function(e){return!!e&&i.cloneElement(e,l)});default:return s.createElement(void 0===o?"div":o,null)}}}(i.PureComponent),Z()?i.useEffect:i.useLayoutEffect);t.NB=function(e){void 0===e&&(e={});var t=e.skipOnMount,n=e.refreshMode,r=e.refreshRate,o=void 0===r?1e3:r,s=e.refreshOptions,l=e.handleWidth,c=void 0===l||l,A=e.handleHeight,d=void 0===A||A,h=e.targetRef,f=e.observerOptions,p=e.onResize,g=i.useRef(void 0!==t&&t),m=i.useRef(null),v=null!=h?h:m,y=i.useRef(),b=i.useState({width:void 0,height:void 0}),w=b[0],_=b[1];return V(function(){if(!Z()){var e=H(p,_,c,d);y.current=M(function(t){(c||d)&&t.forEach(function(t){var n=t&&t.contentRect||{},r=n.width,i=n.height;g.current||Z()||e({width:r,height:i}),g.current=!1})},n,o,s);var t=new a.default(y.current);return v.current&&t.observe(v.current,f),function(){t.disconnect();var e=y.current;e&&e.cancel&&e.cancel()}}},[n,o,s,c,d,p,f,v.current]),u({ref:v},w)}},69904:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){(0,r.useEffect)(e,[])}},11837:function(e,t,n){"use strict";n(4079);var r=n(2784),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},52322:function(e,t,n){"use strict";e.exports=n(11837)},2732:function(e,t,n){"use strict";let r;n.d(t,{FV:function(){return ig},Wh:function(){return iA},Zl:function(){return im},_8:function(){return iy},cn:function(){return id},rb:function(){return iv},sJ:function(){return ip},xu:function(){return ih}});var i,o,a=n(2784),s=n(28316),l=function(e){return!!e&&"function"==typeof e.then},u=function(e,t){if(null!=e)return e;throw Error(null!=t?t:"Got unexpected null or undefined")};class c{}let A=new c,d={valueMaybe(){},valueOrThrow(){throw Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if("hasError"===this.state)return this;if("hasValue"===this.state)try{let t=e(this.contents);return l(t)?p(t.then(e=>({__value:e}))):h(t)}catch(t){return l(t)?p(t.next(()=>e(this.contents))):f(t)}if("loading"===this.state)return p(this.contents.then(t=>({__value:e(t.__value)})).catch(t=>{if(l(t))return t.then(()=>e(this.contents));throw t}));throw Error("Invalid Loadable state")}};function h(e){return Object.freeze({state:"hasValue",contents:e,...d,getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}})}function f(e){return Object.freeze({state:"hasError",contents:e,...d,getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}})}function p(e){return Object.freeze({state:"loading",contents:e,...d,getValue(){throw this.contents.then(({__value:e})=>e)},toPromise(){return this.contents.then(({__value:e})=>e)},promiseMaybe(){return this.contents.then(({__value:e})=>e)},promiseOrThrow(){return this.contents.then(({__value:e})=>e)}})}var g={loadableWithValue:h,loadableWithError:f,loadableWithPromise:p,loadableLoading:function(){return p(new Promise(()=>{}))},loadableAll:function(e){return e.every(e=>"hasValue"===e.state)?h(e.map(e=>e.contents)):e.some(e=>"hasError"===e.state)?f(u(e.find(e=>"hasError"===e.state),"Invalid loadable passed to loadableAll").contents):p(Promise.all(e.map(e=>e.contents)).then(e=>({__value:e})))},Canceled:c,CANCELED:A};let m=null!=(o=a.useMutableSource)?o:a.unstable_useMutableSource;var v={mutableSourceExists:function(){return m&&!("undefined"!=typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:m};let{mutableSourceExists:y}=v,b=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function w(e){var t;return("recoil_early_rendering_2021"!==e||!!y())&&null!=(t=b.get(e))&&t}w.setPass=e=>{b.set(e,!0)},w.setFail=e=>{b.set(e,!1)};var _=function(e,t,{error:n}={}){return null},E={setByAddingToSet:function(e,t){let n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){let n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){let r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){let r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){let n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){let n=new Map(e);return t.forEach(e=>n.delete(e)),n}},C=function*(e,t){let n=0;for(let r of e)t(r,n++)&&(yield r)},B=function(e,t){return function*(){let n=0;for(let r of e)yield t(r,n++)}()},x=function(e){};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T{constructor(e){I(this,"key",void 0),this.key=e}}class S extends T{}class k extends T{}var N=Object.freeze({__proto__:null,AbstractRecoilValue:T,RecoilState:S,RecoilValueReadOnly:k,isRecoilValue:function(e){return e instanceof S||e instanceof k}});class D{}let O=new D,R=new Map,F=new Map;class L extends Error{}let U=new Map;function P(e){return U.get(e)}var M={nodes:R,recoilValues:F,registerNode:function(e){R.has(e.key)&&console.warn(`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`),R.set(e.key,e);let t=null==e.set?new N.RecoilValueReadOnly(e.key):new N.RecoilState(e.key);return F.set(e.key,t),t},getNode:function(e){let t=R.get(e);if(null==t)throw new L(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return R.get(e)},deleteNodeConfigIfPossible:function(e){var t,n;if(!w("recoil_memory_managament_2020"))return;let r=R.get(e);(null==r||null==(t=r.shouldDeleteConfigOnRelease)?void 0:t.call(r))&&(R.delete(e),null==(n=P(e))||n(),U.delete(e))},setConfigDeletionHandler:function(e,t){w("recoil_memory_managament_2020")&&(void 0===t?U.delete(e):U.set(e,t))},getConfigDeletionHandler:P,recoilValuesForKeys:function(e){return B(e,e=>u(F.get(e)))},NodeMissingError:L,DefaultValue:D,DEFAULT_VALUE:O,RecoilValueNotReady:class extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}};class j{}var Z={RetentionZone:j,retentionZone:function(){return new j}};let{setByAddingToSet:Q}=E,{getNode:H,getNodeMaybe:V,recoilValuesForKeys:K}=M,{RetentionZone:z}=Z,G=Object.freeze(new Set);class W extends Error{}function q(e,t,n,r){let i=e.getState();if(i.nodeCleanupFunctions.has(n))return;let o=H(n),a=function(e,t,n){if(!w("recoil_memory_managament_2020"))return()=>void 0;let{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof z)i(n);else if(Array.isArray(n))for(let e of n)i(e);return()=>{if(!w("recoil_memory_managament_2020"))return;let r=e.getState().retention.nodesRetainedByZone;function i(e){let n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}if(n instanceof z)i(n);else if(Array.isArray(n))for(let e of n)i(e)}}(e,n,o.retainedBy),s=o.init(e,t,r);i.nodeCleanupFunctions.set(n,()=>{s(),a()})}function $(e,t,n){return H(n).peek(e,t)}function Y(e,t,n){let r=new Set,i=Array.from(n),o=e.getGraph(t.version);for(let e=i.pop();e;e=i.pop()){var a;for(let t of(r.add(e),null!=(a=o.nodeToNodeSubscriptions.get(e))?a:G))r.has(t)||i.push(t)}return r}var J={getNodeLoadable:function(e,t,n){return q(e,t,n,"get"),H(n).get(e,t)},peekNodeLoadable:$,setNodeValue:function(e,t,n,r){let i=H(n);if(null==i.set)throw new W(`Attempt to set read-only RecoilValue: ${n}`);let o=i.set;return q(e,t,n,"set"),o(e,t,r)},cleanUpNode:function(e,t){var n;let r=e.getState();null==(n=r.nodeCleanupFunctions.get(t))||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;let i=V(t);return null==i||null==(r=i.invalidate)||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Q(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){var r,i,o;let a=e.getState(),s=e.getGraph(t.version),l=a.knownAtoms.has(n)?"atom":a.knownSelectors.has(n)?"selector":void 0,u=C(Y(e,t,new Set([n])),e=>e!==n);return{loadable:$(e,t,n),isActive:a.knownAtoms.has(n)||a.knownSelectors.has(n),isSet:"selector"!==l&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:l,deps:K(null!=(r=s.nodeDeps.get(n))?r:[]),subscribers:{nodes:K(u),components:B(null!=(i=null==(o=a.nodeToComponentSubscriptions.get(n))?void 0:o.values())?i:[],([e])=>({name:e}))}}},getDownstreamNodes:Y,initializeNodeIfNewToStore:q};let{CANCELED:X}=g,{getDownstreamNodes:ee,getNodeLoadable:et,setNodeValue:en}=J,{getNodeMaybe:er}=M,{DefaultValue:ei,RecoilValueNotReady:eo}=M,{AbstractRecoilValue:ea,RecoilState:es,RecoilValueReadOnly:el,isRecoilValue:eu}=N;function ec(e,t,n){"hasValue"===n.state&&n.contents instanceof ei?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function eA(e,t){e.replaceState(n=>{let r=ef(n);for(let n of t)!function(e,t,n){if("set"===n.type){let{recoilValue:r,valueOrUpdater:i}=n,o=function(e,t,{key:n},r){if("function"!=typeof r)return r;{let i=et(e,t,n);if("loading"===i.state)throw new eo(n);if("hasError"===i.state)throw i.contents;return r(i.contents)}}(e,t,r,i);for(let[n,i]of en(e,t,r.key,o).entries())ec(t,n,i)}else if("setLoadable"===n.type){let{recoilValue:{key:e},loadable:r}=n;ec(t,e,r)}else if("markModified"===n.type){let{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;let{recoilValue:{key:e},unvalidatedValue:i}=n,o=er(e);null==o||null==(r=o.invalidate)||r.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else _(`Unknown action ${n.type}`)}(e,r,n);return ep(e,r),r})}function ed(e,t){if(eh.length){let n=eh[eh.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else eA(e,[t])}let eh=[];function ef(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function ep(e,t){for(let i of ee(e,t,t.dirtyAtoms)){var n,r;null==(n=er(i))||null==(r=n.invalidate)||r.call(n,t)}}function eg(e,t,n){ed(e,{type:"set",recoilValue:t,valueOrUpdater:n})}let em=0;var ev={RecoilValueReadOnly:el,AbstractRecoilValue:ea,RecoilState:es,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;let o=e.getState();n.version!==o.currentTree.version&&n.version!==(null==(r=o.nextTree)?void 0:r.version)&&n.version!==(null==(i=o.previousTree)?void 0:i.version)&&_("Tried to read from a discarded tree");let a=et(e,n,t);return"loading"===a.state&&a.contents.catch(()=>X),a},setRecoilValue:eg,setRecoilValueLoadable:function(e,t,n){if(n instanceof ei)return eg(e,t,n);ed(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){ed(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){ed(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){let i=em++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),u(o.nodeToComponentSubscriptions.get(t)).set(i,[null!=r?r:"<not captured>",n]),w("recoil_early_rendering_2021")){let r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{let n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(i)?(r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t)):_(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`)}}},isRecoilValue:eu,applyAtomValueWrites:function(e,t){let n=e.clone();return t.forEach((e,t)=>{"hasValue"===e.state&&e.contents instanceof ei?n.delete(t):n.set(t,e)}),n},batchStart:function(){let e=new Map;return eh.push(e),()=>{for(let[t,n]of e)eA(t,n);eh.pop()!==e&&_("Incorrect order of batch popping")}},writeLoadableToTreeState:ec,invalidateDownstreams:ep,copyTreeState:ef,invalidateDownstreams_FOR_TESTING:ep};let{unstable_batchedUpdates:ey}=s,{unstable_batchedUpdates:eb}={unstable_batchedUpdates:ey},{batchStart:ew}=ev,{unstable_batchedUpdates:e_}={unstable_batchedUpdates:eb},eE=e_;var eC={getBatcher:()=>eE,setBatcher:e=>{eE=e},batchUpdates:e=>{eE(()=>{let t=()=>void 0;try{t=ew(),e()}finally{t()}})}},eB=function(e,t){t()},ex=function(e,...t){let n=new Set;r:for(let r of e){for(let e of t)if(e.has(r))continue r;n.add(r)}return n},eI=function(e,t){let n=new Map;return e.forEach((e,r)=>{n.set(r,t(e,r))}),n};function eT(e,t,n){let{nodeDeps:r,nodeToNodeSubscriptions:i}=t;e.forEach((e,t)=>{let o=r.get(t);o&&n&&o!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==o?e:ex(e,o)).forEach(e=>{i.has(e)||i.set(e,new Set),u(i.get(e)).add(t)}),o&&ex(o,e).forEach(e=>{if(!i.has(e))return;let n=u(i.get(e));n.delete(t),0===n.size&&i.delete(e)}))})}var eS={addToDependencyMap:function(e,t,n){n.has(e)||n.set(e,new Set),u(n.get(e)).add(t)},cloneGraph:function(e){return{nodeDeps:eI(e.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:eI(e.nodeToNodeSubscriptions,e=>new Set(e))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},mergeDepsIntoDependencyMap:function(e,t){e.forEach((e,n)=>{t.has(n)||t.set(n,new Set);let r=u(t.get(n));e.forEach(e=>r.add(e))})},saveDependencyMapToStore:function(e,t,n){var r,i,o,a,s;let l=t.getState();n!==l.currentTree.version&&n!==(null==(r=l.nextTree)?void 0:r.version)&&n!==(null==(i=l.previousTree)?void 0:i.version)&&_("Tried to save dependencies to a discarded tree");let u=t.getGraph(n);if(eT(e,u),n===(null==(o=l.previousTree)?void 0:o.version)&&eT(e,t.getGraph(l.currentTree.version),u),n===(null==(a=l.previousTree)?void 0:a.version)||n===l.currentTree.version){let n=null==(s=l.nextTree)?void 0:s.version;void 0!==n&&eT(e,t.getGraph(n),u)}}},ek=(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r={},i=function(e){return function(){return e}},o=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},a=function(e,t){return t>>>e&31},s=function(e){return 1<<e},l=function(e,t){var n;return n=e&t-1,n-=n>>1&0x55555555,n=(n=(0x33333333&n)+(n>>2&0x33333333))+(n>>4)&0xf0f0f0f,n+=n>>8,127&(n+=n>>16)},u=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=Array(o);for(var a=0;a<o;++a)i[a]=r[a]}return i[t]=n,i},c=function(e,t,n){var r=n.length-1,i=0,o=0,a=n;if(e)i=o=t;else for(a=Array(r);i<t;)a[o++]=n[i++];for(++i;i<=r;)a[o++]=n[i++];return e&&(a.length=r),a},A=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var a=0,s=0,l=Array(i+1);a<t;)l[s++]=r[a++];for(l[t]=n;a<i;)l[++s]=r[a++];return l},d={__hamt_isEmpty:!0},h=function(e){return e===d||e&&e.__hamt_isEmpty},f=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:E}},p=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:C}},g=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:B}},m=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:x}},v=function(e,t,n,r,i){for(var o=[],a=r,s=0,l=0;a;++l)1&a&&(o[l]=i[s++]),a>>>=1;return o[t]=n,m(e,s+1,o)},y=function(e,t,n,r){for(var i=Array(t-1),o=0,a=0,s=0,l=r.length;s<l;++s)if(s!==n){var u=r[s];u&&!h(u)&&(i[o++]=u,a|=1<<s)}return g(e,a,i)},b=function e(t,n,r,i,o,l){if(r===o)return p(t,r,[l,i]);var u=a(n,r),c=a(n,o);return g(t,s(u)|s(c),u===c?[e(t,n+5,r,i,o,l)]:u<c?[i,l]:[l,i])},w=function(e,t,n,i,o,a,s,l){for(var A=o.length,d=0;d<A;++d){var h=o[d];if(n(s,h.key)){var p=h.value,g=a(p);if(g===p)return o;if(g===r)return--l.value,c(e,d,o);return u(e,d,f(t,i,s,g),o)}}var m=a();return m===r?o:(++l.value,u(e,A,f(t,i,s,m),o))},_=function(e,t){return e===t.edit},E=function(e,t,n,i,o,a,s){if(t(a,this.key)){var l=i(this.value);return l===this.value?this:l===r?(--s.value,d):_(e,this)?(this.value=l,this):f(e,o,a,l)}var u=i();return u===r?this:(++s.value,b(e,n,this.hash,this,o,f(e,o,a,u)))},C=function(e,t,n,i,o,a,s){if(o===this.hash){var l=w(_(e,this),e,t,this.hash,this.children,i,a,s);return l===this.children?this:l.length>1?p(e,this.hash,l):l[0]}var u=i();return u===r?this:(++s.value,b(e,n,this.hash,this,o,f(e,o,a,u)))},B=function(e,t,n,r,i,o,f){var p,m=this.mask,y=this.children,b=a(n,i),w=s(b),E=l(m,w),C=m&w,B=C?y[E]:d,x=B._modify(e,t,n+5,r,i,o,f);if(B===x)return this;var I=_(e,this),T=m,S=void 0;if(C&&h(x)){if(!(T&=~w))return d;if(y.length<=2&&((p=y[1^E])===d||1===p.type||2===p.type))return y[1^E];S=c(I,E,y)}else if(C||h(x))S=u(I,E,x,y);else{if(y.length>=16)return v(e,b,x,m,y);T|=w,S=A(I,E,x,y)}return I?(this.mask=T,this.children=S,this):g(e,T,S)},x=function(e,t,n,r,i,o,s){var l=this.size,c=this.children,A=a(n,i),f=c[A],p=(f||d)._modify(e,t,n+5,r,i,o,s);if(f===p)return this;var g=_(e,this),v=void 0;if(h(f)&&!h(p))++l,v=u(g,A,p,c);else if(!h(f)&&h(p)){if(--l<=8)return y(e,l,A,c);v=u(g,A,d,c)}else v=u(g,A,p,c);return g?(this.size=l,this.children=v,this):m(e,l,v)};function I(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}d._modify=function(e,t,n,i,o,a,s){var l=i();return l===r?d:(++s.value,f(e,o,a,l))},I.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new I(this._editable,this._edit,this._config,e,t)};var T=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,u=r._config.keyEq;;)switch(i.type){case 1:return u(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var c=i.children,A=0,d=c.length;A<d;++A){var h=c[A];if(u(n,h.key))return h.value}return e;case 3:var f=s(a(o,t));if(i.mask&f){i=i.children[l(i.mask,f)],o+=5;break}return e;case 4:if(i=i.children[a(o,t)]){o+=5;break}return e;default:return e}};I.prototype.tryGetHash=function(e,t,n){return T(e,t,n,this)};var S=n.tryGet=function(e,t,n){return T(e,n._config.hash(t),t,n)};I.prototype.tryGet=function(e,t){return S(e,t,this)};var k=n.getHash=function(e,t,n){return T(void 0,e,t,n)};I.prototype.getHash=function(e,t){return k(e,t,this)},n.get=function(e,t){return T(void 0,t._config.hash(e),e,t)},I.prototype.get=function(e,t){return S(t,e,this)};var N=n.has=function(e,t,n){return T(r,e,t,n)!==r};I.prototype.hasHash=function(e,t){return N(e,t,this)};var D=n.has=function(e,t){return N(t._config.hash(e),e,t)};I.prototype.has=function(e){return D(e,this)};var O=function(e,t){return e===t};n.make=function(e){return new I(0,0,{keyEq:e&&e.keyEq||O,hash:e&&e.hash||o},d,0)},n.empty=n.make();var R=n.isEmpty=function(e){return e&&!!h(e._root)};I.prototype.isEmpty=function(){return R(this)};var F=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};I.prototype.modifyHash=function(e,t,n){return F(n,e,t,this)};var L=n.modify=function(e,t,n){return F(e,n._config.hash(t),t,n)};I.prototype.modify=function(e,t){return L(t,e,this)};var U=n.setHash=function(e,t,n,r){return F(i(n),e,t,r)};I.prototype.setHash=function(e,t,n){return U(e,t,n,this)};var P=n.set=function(e,t,n){return U(n._config.hash(e),e,t,n)};I.prototype.set=function(e,t){return P(e,t,this)};var M=i(r),j=n.removeHash=function(e,t,n){return F(M,e,t,n)};I.prototype.removeHash=I.prototype.deleteHash=function(e,t){return j(e,t,this)};var Z=n.remove=function(e,t){return j(t._config.hash(e),e,t)};I.prototype.remove=I.prototype.delete=function(e){return Z(e,this)};var Q=n.beginMutation=function(e){return new I(e._editable+1,e._edit+1,e._config,e._root,e._size)};I.prototype.beginMutation=function(){return Q(this)};var H=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};I.prototype.endMutation=function(){return H(this)};var V=n.mutate=function(e,t){var n=Q(t);return e(n),H(n)};I.prototype.mutate=function(e){return V(e,this)};var K=function(e){return e&&z(e[0],e[1],e[2],e[3],e[4])},z=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!h(o))return G(o,r,[e,t,n,r,i])}return K(i)},G=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return z(r.length,r,0,t,n);default:return K(n)}},W={done:!0};function q(e){this.v=e}q.prototype.next=function(){if(!this.v)return W;var e=this.v;return this.v=K(e.rest),e},q.prototype[Symbol.iterator]=function(){return this};var $=function(e,t){return new q(G(e._root,t))},Y=function(e){return[e.key,e.value]},J=n.entries=function(e){return $(e,Y)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return J(this)};var X=function(e){return e.key},ee=n.keys=function(e){return $(e,X)};I.prototype.keys=function(){return ee(this)};var et=function(e){return e.value},en=n.values=I.prototype.values=function(e){return $(e,et)};I.prototype.values=function(){return en(this)};var er=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var a=0,s=o.length;a<s;){var l=o[a++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):i.push(l.children))}return t};I.prototype.fold=function(e,t){return er(e,t,this)};var ei=n.forEach=function(e,t){return er(function(n,r,i){return e(r,i,t)},null,t)};I.prototype.forEach=function(e){return ei(e,this)};var eo=n.count=function(e){return e._size};I.prototype.count=function(){return eo(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),e.exports?e.exports=n:undefined.hamt=n}(i={exports:{}},i.exports),i.exports);class eN{constructor(e){I(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return eO(this)}toMap(){return new Map(this._map)}}class eD{constructor(e){if(I(this,"_hamt",ek.empty.beginMutation()),e instanceof eD){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return eO(this)}toMap(){return new Map(this._hamt)}}function eO(e){return w("recoil_hamt_2020")?new eD(e):new eN(e)}var eR=Object.freeze({__proto__:null,persistentMap:{persistentMap:eO}.persistentMap});let{graph:eF}=eS,{persistentMap:eL}=eR,eU=0,eP=()=>eU++;function eM(){let e=eP();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:eL(),nonvalidatedAtoms:eL()}}var ej={makeEmptyTreeState:eM,makeEmptyStoreState:function(){let e=eM();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,eF()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:eP},eZ=function(...e){let t=new Set;for(let n of e)for(let e of n)t.add(e);return t},eQ=function(e,t,n){let r=e.entries(),i=r.next();for(;!i.done;){let o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1};let{cleanUpNode:eH}=J,{deleteNodeConfigIfPossible:eV,getNode:eK}=M,{RetentionZone:ez}=Z,eG=new Set;function eW(e,t){var n,r;let i,o,a,s,l,c=e.getState(),A=c.currentTree;if(c.nextTree)return void _("releaseNodesNowOnCurrentTree should only be called at the end of a batch");let d=new Set;for(let e of t)if(e instanceof ez)for(let t of function(e,t){var n;return null!=(n=e.retention.nodesRetainedByZone.get(t))?n:eG}(c,e))d.add(t);else d.add(e);for(let t of(n=e,r=d,o=(i=n.getState()).currentTree,a=n.getGraph(o.version),s=new Set,l=new Set,function e(t){var r,c;let A=new Set;for(let e of function(e,t,n,r,i){let o=e.getGraph(t.version),a=[],s=new Set;for(;n.size>0;)!function e(t){if(r.has(t)||i.has(t))return void n.delete(t);if(s.has(t))return;let l=o.nodeToNodeSubscriptions.get(t);if(l)for(let t of l)e(t);s.add(t),n.delete(t),a.push(t)}(u(n.values().next().value));return a}(n,o,t,s,l)){if("recoilRoot"===eK(e).retainedBy||(null!=(r=i.retention.referenceCounts.get(e))?r:0)>0||eq(e).some(e=>i.retention.referenceCounts.get(e))){l.add(e);continue}let t=a.nodeToNodeSubscriptions.get(e);if(t&&eQ(t,e=>l.has(e))){l.add(e);continue}s.add(e),A.add(e)}let d=new Set;for(let e of A)for(let t of null!=(c=a.nodeDeps.get(e))?c:eG)s.has(t)||d.add(t);d.size&&e(d)}(r),s))!function(e,t,n){var r,i;if(!w("recoil_memory_managament_2020"))return;eH(e,n);let o=e.getState();for(let e of(o.knownAtoms.delete(n),o.knownSelectors.delete(n),o.nodeTransactionSubscriptions.delete(n),o.retention.referenceCounts.delete(n),eq(n)))null==(r=o.retention.nodesRetainedByZone.get(e))||r.delete(n);t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);let a=o.graphsByVersion.get(t.version);if(a){let e=a.nodeDeps.get(n);if(void 0!==e)for(let t of(a.nodeDeps.delete(n),e))null==(i=a.nodeToNodeSubscriptions.get(t))||i.delete(n);a.nodeToNodeSubscriptions.delete(n)}eV(n)}(e,A,t)}function eq(e){let t=eK(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof ez?[t]:t}function e$(e,t){let n;w("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),(n=e.getState()).nextTree?n.retention.retainablesToCheckForRelease.add(t):eW(e,new Set([t])))}var eY={updateRetainCount:function(e,t,n){var r;if(!w("recoil_memory_managament_2020"))return;let i=e.getState().retention.referenceCounts,o=(null!=(r=i.get(t))?r:0)+n;0===o?e$(e,t):i.set(t,o)},updateRetainCountToZero:e$,releaseScheduledRetainablesNow:function(e){if(!w("recoil_memory_managament_2020"))return;let t=e.getState();eW(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}},eJ=function*(e){for(let t of e)for(let e of t)yield e},eX={isSSR:"undefined"==typeof window,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product};let{isSSR:e0}=eX,{batchUpdates:e1}=eC,{initializeNodeIfNewToStore:e2,peekNodeInfo:e4}=J,{graph:e3}=eS,{DEFAULT_VALUE:e5,recoilValues:e6,recoilValuesForKeys:e8}=M,{AbstractRecoilValue:e9,getRecoilValueAsLoadable:e7,setRecoilValue:te,setUnvalidatedRecoilValue:tt}=ev,{updateRetainCount:tn}=eY,{getNextTreeStateVersion:tr,makeEmptyStoreState:ti}=ej;class to{constructor(e){for(const t of(I(this,"_store",void 0),I(this,"_refCount",0),I(this,"getLoadable",e=>(this.checkRefCount_INTERNAL(),e7(this._store,e))),I(this,"getPromise",e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise())),I(this,"getNodes_UNSTABLE",e=>{if(this.checkRefCount_INTERNAL(),(null==e?void 0:e.isModified)===!0)return(null==e?void 0:e.isInitialized)===!1?[]:e8(this._store.getState().currentTree.dirtyAtoms);let t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return(null==e?void 0:e.isInitialized)==null?e6.values():!0===e.isInitialized?e8(eJ([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):C(e6.values(),({key:e})=>!t.has(e)&&!n.has(e))}),I(this,"getInfo_UNSTABLE",({key:e})=>(this.checkRefCount_INTERNAL(),e4(this._store,this._store.getState().currentTree,e))),I(this,"map",e=>{this.checkRefCount_INTERNAL();let t=new tl(this,e1);return e(t),ts(t.getStore_INTERNAL())}),I(this,"asyncMap",async e=>{this.checkRefCount_INTERNAL();let t=new tl(this,e1);return await e(t),ts(t.getStore_INTERNAL())}),this._store={getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{let n=e.graphsByVersion;if(n.has(t))return u(n.get(t));let r=e3();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Error("Cannot subscribe to Snapshots")}},this._store.getState().nodeCleanupFunctions.keys()))e2(this._store,e.currentTree,t,"get"),tn(this._store,t,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!w("recoil_memory_managament_2020"))return()=>void 0;this._refCount++;let e=!1;return()=>{e||(e=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){w("recoil_memory_managament_2020")&&(e0||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){w("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){w("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function ta(e,t,n=!1){let r=e.getState(),i=n?tr():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function ts(e,t="current"){let n=e.getState();return new to(ta(e,"current"===t?n.currentTree:u(n.previousTree)))}class tl extends to{constructor(e,t){super(ta(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),I(this,"_batch",void 0),I(this,"set",(e,t)=>{this.checkRefCount_INTERNAL();let n=this.getStore_INTERNAL();this._batch(()=>{tn(n,e.key,1),te(this.getStore_INTERNAL(),e,t)})}),I(this,"reset",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();this._batch(()=>{tn(t,e.key,1),te(this.getStore_INTERNAL(),e,e5)})}),I(this,"setUnvalidatedAtomValues_DEPRECATED",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();e1(()=>{for(let[n,r]of e.entries())tn(t,n,1),tt(t,new e9(n),r)})}),this._batch=t}}var tu=Object.freeze({__proto__:null,Snapshot:to,MutableSnapshot:tl,freshSnapshot:function(e){let t=new to(ti());return null!=e?t.map(e):t},cloneSnapshot:ts});let{getNextTreeStateVersion:tc,makeEmptyStoreState:tA}=ej,{cleanUpNode:td,getDownstreamNodes:th,setNodeValue:tf,setUnvalidatedAtomValue_DEPRECATED:tp}=J,{graph:tg}=eS,{cloneGraph:tm}=eS,{applyAtomValueWrites:tv}=ev,{releaseScheduledRetainablesNow:ty}=eY,{freshSnapshot:tb}=tu,{useCallback:tw,useContext:t_,useEffect:tE,useMemo:tC,useRef:tB,useState:tx}=a;function tI(){throw Error("This component must be used inside a <RecoilRoot> component.")}let tT=Object.freeze({getState:tI,replaceState:tI,getGraph:tI,subscribeToTransactions:tI,addTransactionMetadata:tI}),tS=!1;function tk(e){if(tS)throw Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(null===t.nextTree){w("recoil_memory_managament_2020")&&w("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&ty(e);let n=t.currentTree.version,r=tc();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,tm(u(t.graphsByVersion.get(n))))}}let tN=a.createContext({current:tT}),tD=()=>t_(tN),tO=a.createContext(null);function tR(e,t,n){for(let r of th(e,n,n.dirtyAtoms)){let e=t.nodeToComponentSubscriptions.get(r);if(e)for(let[t,[r,i]]of e)i(n)}}function tF(e){let t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(let[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(let[t,n]of i)n(e);for(let[n,r]of t.transactionSubscriptions)r(e);(!w("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(tR(e,t,n),t.suspendedComponentResolvers.forEach(e=>e()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(e=>e(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function tL({setNotifyBatcherOfChange:e}){let t=tD(),[n,r]=tx([]);return e(()=>r({})),tE(()=>{eB("Batcher",()=>{!function(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:n}=t;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,tF(e.current),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):_("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,w("recoil_memory_managament_2020")&&ty(e.current)}finally{t.commitDepth--}}(t)})}),tE(()=>()=>{e(()=>{})},[e]),null}let tU=0;function tP({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){var i;let o,s,l=tB(null),c=tw(e=>{l.current=e},[l]),A=null!=(i=a.createMutableSource)?i:a.unstable_createMutableSource,d=null!=n?n:{getState:()=>o.current,replaceState:e=>{let t,n=h.current.getState();tk(h.current);let r=u(n.nextTree);try{tS=!0,t=e(r)}finally{tS=!1}t!==r&&(n.nextTree=t,w("recoil_early_rendering_2021")&&tR(d,n,t),u(l.current)())},getGraph:e=>{let t=o.current.graphsByVersion;if(t.has(e))return u(t.get(e));let n=tg();return t.set(e,n),n},subscribeToTransactions:(e,t)=>{if(null==t){let{transactionSubscriptions:t}=h.current.getState(),n=tU++;return t.set(n,e),{release:()=>{t.delete(n)}}}{let{nodeTransactionSubscriptions:n}=h.current.getState();n.has(t)||n.set(t,new Map);let r=tU++;return u(n.get(t)).set(r,e),{release:()=>{let e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},addTransactionMetadata:e=>{for(let t of(tk(h.current),Object.keys(e)))u(h.current.getState().nextTree).transactionMetadata[t]=e[t]}},h=tB(d),f=tC(()=>A?A(o,()=>o.current.currentTree.version):null,[A,o=tB(null!=e?(s=tA(),e({set:(e,t)=>{let n=s.currentTree,r=tf(d,n,e.key,t),i=new Set(r.keys()),o=n.nonvalidatedAtoms.clone();for(let e of i)o.delete(e);s.currentTree={...n,dirtyAtoms:eZ(n.dirtyAtoms,i),atomValues:tv(n.atomValues,r),nonvalidatedAtoms:o}},setUnvalidatedAtomValues:e=>{e.forEach((e,t)=>{s.currentTree=tp(s.currentTree,t,e)})}}),s):null!=t?tb().map(t).getStore_INTERNAL().getState():tA())]);return tE(()=>()=>{for(let e of h.current.getState().knownAtoms)td(h.current,e)},[]),a.createElement(tN.Provider,{value:h},a.createElement(tO.Provider,{value:f},a.createElement(tL,{setNotifyBatcherOfChange:c}),r))}var tM={useStoreRef:tD,useRecoilMutableSource:function(){let e=t_(tO);return null==e&&x("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},RecoilRoot:function(e){let{override:t,...n}=e,r=tD();return!1===t&&r.current!==tT?e.children:a.createElement(tP,n)},notifyComponents_FOR_TESTING:tR,sendEndOfBatchNotifications_FOR_TESTING:tF};let{loadableWithValue:tj}=g,{DEFAULT_VALUE:tZ,getNode:tQ}=M,{copyTreeState:tH,getRecoilValueAsLoadable:tV,invalidateDownstreams:tK,writeLoadableToTreeState:tz}=ev;function tG(e){return"atom"===tQ(e.key).nodeType}class tW{constructor(e,t){I(this,"_store",void 0),I(this,"_treeState",void 0),I(this,"_changes",void 0),I(this,"get",e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!tG(e))throw Error("Reading selectors within atomicUpdate is not supported");let t=tV(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;if("hasError"===t.state)throw t.contents;throw Error(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)}),I(this,"set",(e,t)=>{if(!tG(e))throw Error("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){let n=this.get(e);this._changes.set(e.key,t(n))}else this._changes.set(e.key,t)}),I(this,"reset",e=>{this.set(e,tZ)}),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;let e=tH(this._treeState);for(let[t,n]of this._changes)tz(e,t,tj(n));return tK(this._store,e),e}}var tq=Object.freeze({__proto__:null,atomicUpdater:function(e){return t=>{e.replaceState(n=>{let r=new tW(e,n);return t(r),r.newTreeState_INTERNAL()})}}}),t$=function(e,t){let n=new Map;for(let[r,i]of e)t(i,r)&&n.set(r,i);return n},tY=function(e,t){let n=new Set;for(let r of e)t(r)&&n.add(r);return n},tJ=function(e,t){if(!e)throw Error(t)},tX=function(...e){let t=new Map;for(let n=0;n<e.length;n++){let r,i=e[n].keys();for(;!(r=i.next()).done;)t.set(r.value,e[n].get(r.value))}return t},t0=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};let{useRef:t1}=a;var t2=function(){return t1(),"<component name not available>"};let{atomicUpdater:t4}=tq,{batchUpdates:t3}=eC,{DEFAULT_VALUE:t5,getNode:t6,nodes:t8}=M,{useRecoilMutableSource:t9,useStoreRef:t7}=tM,{isRecoilValue:ne}=N,{AbstractRecoilValue:nt,getRecoilValueAsLoadable:nn,setRecoilValue:nr,setRecoilValueLoadable:ni,setUnvalidatedRecoilValue:no,subscribeToRecoilValue:na}=ev,{updateRetainCount:ns}=eY,{RetentionZone:nl}=Z,{Snapshot:nu,cloneSnapshot:nc}=tu,{setByAddingToSet:nA}=E,{isSSR:nd}=eX,{mutableSourceExists:nh,useMutableSource:nf}=v,{useCallback:np,useEffect:ng,useMemo:nm,useRef:nv,useState:ny}=a;function nb(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise(e=>{n.current.getState().suspendedComponentResolvers.add(e)});if("hasError"===e.state)throw e.contents;throw Error(`Invalid value of loadable atom "${t.key}"`)}function nw(e){let t,n,r,i,o,a,s;if(w("recoil_memory_managament_2020")&&nk(e),!nh())return function(e){let t=t7(),[n,r]=ny([]),i=t2();ng(()=>{let n=t.current,o=n.getState(),s=na(n,e,t=>{var i;if(!w("recoil_suppress_rerender_in_callback"))return r([]);let o=nn(n,e,n.getState().currentTree);(null==(i=a.current)?void 0:i.is(o))||r(o),a.current=o},i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a.current=null,r([])});else{var l;if(!w("recoil_suppress_rerender_in_callback"))return r([]);let t=nn(n,e,n.getState().currentTree);(null==(l=a.current)?void 0:l.is(t))||r(t),a.current=t}return s.release},[i,e,t]);let o=nn(t.current,e),a=nv(o);return ng(()=>{a.current=o}),o}(e);return n=np(()=>{var n;let r=t.current,i=r.getState();return nn(r,e,w("recoil_early_rendering_2021")&&null!=(n=i.nextTree)?n:i.currentTree)},[t=t7(),e]),r=np(()=>n(),[n]),o=np((r,o)=>na(t.current,e,()=>{if(!w("recoil_suppress_rerender_in_callback"))return o();let e=n();s.current.is(e)||o(),s.current=e},i).release,[t,e,i=t2(),n]),s=nv(a=nf(t9(),r,o)),ng(()=>{s.current=a}),a}function n_(e){let t=t7();return nb(nw(e),e,t)}function nE(e){let t=t7();return np(n=>{nr(t.current,e,n)},[t,e])}function nC(e){let t=t7();ng(()=>t.current.subscribeToTransactions(e).release,[e,t])}function nB(e){let t=eI(t$(e.atomValues.toMap(),(e,t)=>{let n=t6(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state}),e=>e.contents);return tX(e.nonvalidatedAtoms.toMap(),t)}function nx(e){let t=nv();return ng(()=>{t.current=e}),t.current}function nI(){let e=t7();return np(t=>{var n;let r=e.current.getState(),i=null!=(n=r.nextTree)?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;t3(()=>{let n=new Set;for(let e of[i.atomValues.keys(),o.atomValues.keys()])for(let t of e){var r,a;(null==(r=i.atomValues.get(t))?void 0:r.contents)!==(null==(a=o.atomValues.get(t))?void 0:a.contents)&&t6(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach(t=>{ni(e.current,new nt(t),o.atomValues.has(t)?u(o.atomValues.get(t)):t5)}),e.current.replaceState(e=>({...e,stateID:t.getID_INTERNAL()}))})},[e])}class nT{}let nS=new nT;function nk(e){if(w("recoil_memory_managament_2020"))return function(e){let t=(Array.isArray(e)?e:[e]).map(e=>e instanceof nl?e:e.key),n=t7();ng(()=>{if(!w("recoil_memory_managament_2020"))return;let e=n.current;if(r.current&&!nd)window.clearTimeout(r.current),r.current=null;else for(let n of t)ns(e,n,1);return()=>{for(let n of t)ns(e,n,-1)}},[n,...t]);let r=nv(),i=nx(t);if(!nd&&(void 0===i||!t0(i,t))){let e=n.current;for(let n of t)ns(e,n,1);if(i)for(let t of i)ns(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>{for(let n of(r.current=null,t))ns(e,n,-1)},12e4)}}(e)}let{peekNodeInfo:nN}=J,{useStoreRef:nD}=tM,{RecoilRoot:nO,useStoreRef:nR}=tM,{useMemo:nF}=a,{isReactNative:nL,isSSR:nU}=eX;var nP=function(e,t={allowFunctions:!1}){return function e(t,n,r){if("string"==typeof t&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((null==n?void 0:n.allowFunctions)!==!0)throw Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(null===t)return"null";if("object"!=typeof t){var i;return null!=(i=JSON.stringify(t))?i:""}if(l(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((t,r)=>e(t,n,r.toString()))}]`;if("function"==typeof t.toJSON)return e(t.toJSON(r),n,r);if(t instanceof Map){let i={};for(let[r,o]of t)i["string"==typeof r?r:e(r,n)]=o;return e(i,n,r)}return t instanceof Set?e(Array.from(t).sort((t,r)=>e(t,n).localeCompare(e(r,n))),n,r):void 0!==Symbol&&null!=t[Symbol.iterator]&&"function"==typeof t[Symbol.iterator]?e(Array.from(t),n,r):`{${Object.keys(t).filter(e=>void 0!==t[e]).sort().map(r=>`${e(r,n)}:${e(t[r],n,r)}`).join(",")}}`}(e,t)};let nM=(e,t,n)=>{var r;if(null==e)return;if(null==n||null==(r=n.onNodeVisit)||r.call(n,e),"leaf"===e.type)return e;let i=t(e.nodeKey);return nM(e.branches.get(i),t,n)},nj=(e,t,n,r,i,o)=>{var a;let s;if(null==e)if(0===t.length)s={type:"leaf",value:r,parent:n,branchKey:i};else{let[e,...a]=t,[l,u]=e;(s={type:"branch",nodeKey:l,parent:n,branches:new Map,branchKey:i}).branches.set(u,nj(null,a,s,r,u,o))}else if(s=e,t.length){let[n,...i]=t,[a,s]=n;("branch"!==e.type||e.nodeKey!==a)&&tJ(!1),e.branches.set(s,nj(e.branches.get(s),i,e,r,s,o))}return null==o||null==(a=o.onNodeVisit)||a.call(o,s),s},nZ=(e,t,n)=>n?(0===t.branches.size&&n.branches.delete(t.branchKey),nZ(e,n,n.parent)):e===t,nQ=e=>"leaf"===e.type?1:Array.from(e.branches.values()).reduce((e,t)=>e+nQ(t),0);var nH=Object.freeze({__proto__:null,TreeCache:{TreeCache:class{constructor(e){var t,n,r;I(this,"_numLeafs",void 0),I(this,"_root",void 0),I(this,"_onHit",void 0),I(this,"_onSet",void 0),I(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!=(t=null==e?void 0:e.onHit)?t:()=>{},this._onSet=null!=(n=null==e?void 0:e.onSet)?n:()=>{},this._mapNodeValue=null!=(r=null==e?void 0:e.mapNodeValue)?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null==(n=this.getLeafNode(e,t))?void 0:n.value}getLeafNode(e,t){return nM(this.root(),t=>this._mapNodeValue(e(t)),{onNodeVisit:e=>{null==t||t.onNodeVisit(e),"leaf"===e.type&&this._onHit(e)}})}set(e,t,n){let r,i=nj(this.root(),e.map(([e,t])=>[e,this._mapNodeValue(t)]),null,t,null,{onNodeVisit:e=>{null==n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}});this.root()||(this._root=i),this._numLeafs++,this._onSet(u(r))}delete(e){let t,n,r;if(!this.root())return!1;let i=u(this.root());return t=i,n=e,((r=e.parent)?(r.branches.delete(n.branchKey),!!nZ(t,r,r.parent)):t===n)&&(e!==i&&("branch"!==i.type||i.branches.size)?this._numLeafs-=nQ(e):(this._root=null,this._numLeafs=0),!0)}clear(){this._numLeafs=0,this._root=null}}}.TreeCache}),nV=Object.freeze({__proto__:null,LRUCache:{LRUCache:class{constructor(e){var t;I(this,"_maxSize",void 0),I(this,"_size",void 0),I(this,"_head",void 0),I(this,"_tail",void 0),I(this,"_map",void 0),I(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!=(t=e.mapKey)?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){let t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){let n=this._keyMapper(e);this._map.get(n)&&this.delete(e);let r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let e=this.tail();e&&this.delete(e.key)}delete(e){let t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;let n=u(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}}.LRUCache});let{LRUCache:nK}=nV,{TreeCache:nz}=nH;var nG=function(e,t=e=>e){let n=new nK({maxSize:e}),r=new nz({mapNodeValue:t,onHit:e=>{n.set(e,!0)},onSet:t=>{let i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r};let{TreeCache:nW}=nH,nq={equality:"reference",eviction:"keep-all",maxSize:1/0},{CANCELED:n$,Canceled:nY,loadableWithError:nJ,loadableWithPromise:nX,loadableWithValue:n0}=g,{getNodeLoadable:n1,peekNodeLoadable:n2,setNodeValue:n4}=J,{saveDependencyMapToStore:n3}=eS,{DEFAULT_VALUE:n5,RecoilValueNotReady:n6,getConfigDeletionHandler:n8,registerNode:n9}=M,{isRecoilValue:n7}=N,{AbstractRecoilValue:re}=N,{setRecoilValueLoadable:rt}=ev,{retainedByOptionWithDefault:rn}=eY,{cloneSnapshot:rr}=tu,{startPerfBlock:ri}={startPerfBlock:function(e){return()=>null}},ro=[],ra=new Map,rs=(r=0,()=>r++);var rl=function(e){let{key:t,get:n,cachePolicy_UNSTABLE:r}=e,i=null!=e.set?e.set:void 0,o=function({equality:e=nq.equality,eviction:t=nq.eviction,maxSize:n=nq.maxSize}=nq){var r=t,i=n,o=function(e){switch(e){case"reference":return e=>e;case"value":return e=>nP(e)}throw Error(`Unrecognized equality policy ${e}`)}(e);switch(r){case"keep-all":return new nW({mapNodeValue:o});case"lru":return nG(u(i),o);case"most-recent":return nG(1,o)}throw Error(`Unrecognized eviction policy ${r}`)}(null!=r?r:{equality:"reference",eviction:"keep-all"}),a=rn(e.retainedBy_UNSTABLE),s=new Map,c=0;function A(){return!w("recoil_memory_managament_2020")||c>0}function d(e){return s.has(e)||s.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),u(s.get(e))}function h(e){return c++,e.getState().knownSelectors.add(t),()=>{c--,e.getState().knownSelectors.delete(t),s.delete(e)}}function f(){return void 0!==n8(t)&&!A()}function p(e,t,n){if("loading"===t.state){let t=ra.get(n);null==t&&ra.set(n,t=new Set),t.add(e)}}function g(e,t,n){let r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return u(t.atomValues.get(n));let i=n1(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function m(e,n,r,i,o){return n.then(n=>{if(!A())return S(e,o),n$;if(n instanceof nY)return _("Selector was released while it had dependencies"),n$;let{__key:i,__value:a}=null!=n?n:{},s=!0;null!=i&&(r.atomValues.set(i,n0(a)),s=!1);let l=E(e,r);if(l&&"hasValue"===l.state)return I(l,e),{__value:l.contents,__key:t};if(!k(e,o)){var u;let e=B(r);if((null==e||null==(u=e.latestLoadable)?void 0:u.state)==="loading")return e.latestLoadable.contents}let[c,d]=b(e,r,o,s);if(k(e,o)&&T(d,e,o),N(c),"loading"!==c.state&&(O(r,C(d),c),y(e,r,new Set(d.keys()),o),v(e,c,o)),"hasError"===c.state)throw c.contents;return"hasValue"===c.state?{__value:c.contents,__key:t}:c.contents}).catch(t=>{if(!A())return S(e,o),n$;let n=nJ(t);throw D(t),O(r,C(i),nJ(t)),y(e,r,new Set(i.keys()),o),v(e,n,o),t})}function v(e,n,r){if(k(e,r)){I(n,e);let i=ra.get(r);if(void 0!==i){for(let e of i)rt(e,new re(t),n);ra.delete(r)}}}function y(e,n,r,i){var o,a,s,l,u,c,A;(k(e,i)||n.version===(null==(o=e.getState())||null==(a=o.currentTree)?void 0:a.version)||n.version===(null==(s=e.getState())||null==(l=s.nextTree)?void 0:l.version))&&n3(new Map([[t,r]]),e,null!=(u=null==(c=e.getState())||null==(A=c.nextTree)?void 0:A.version)?u:e.getState().currentTree.version)}function b(e,r,i,o=!1){let a,s,u=ri(t),c=!1,d=new Map,h=new Set;function f(t){let{key:n}=t;h.add(n),y(e,r,h,i);let a=o?n1(e,r,n):g(e,r,n);if(N(a),d.set(n,a),"hasValue"===a.state)return a.contents;throw a.contents}y(e,r,h,i);let p=!1;try{if(a=n({get:f,getCallback:t=>(...n)=>{if(!p)throw Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let r=t({snapshot:rr(e)});if("function"!=typeof r)throw Error("getCallback() expects a function that returns a function.");return r(...n)}}),a=n7(a)?f(a):a,p=!0,l(a)){var w;a=(w=a,w.then(n=>{if(!A())return S(e,i),n$;let o=n0(n);return D(n),O(r,C(d),o),y(e,r,new Set(d.keys()),i),v(e,o,i),{__value:n,__key:t}}).catch(t=>{if(!A())return S(e,i),n$;if(k(e,i)&&T(d,e,i),l(t))return m(e,t,r,d,i);let n=nJ(t);throw D(t),O(r,C(d),n),y(e,r,new Set(d.keys()),i),v(e,n,i),t})).finally(u)}else u()}catch(t){l(a=t)?a=m(e,a,r,d,i).finally(u):(c=!0,u())}return N(s=c?nJ(a):l(a)?nX(a):n0(a)),[s,d]}function E(e,n){let r=new Set,i=d(e),a=o.get(t=>("string"!=typeof t&&tJ(!1),g(e,n,t).contents),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==t&&"string"==typeof e.nodeKey&&r.add(e.nodeKey)}});return a&&y(e,n,r,i.latestExecutionId),a}function C(e){return Array.from(e.entries()).map(([e,t])=>[e,t.contents])}function B(e){var t;let[,n]=null!=(t=Array.from(s.entries()).find(([t,n])=>{var r,i,o,a;let s,l,u,c;return null!=n.latestLoadable&&null!=n.latestExecutionId&&(r=t,i=e,l=null!=(o=(s=d(r)).depValuesDiscoveredSoFarDuringAsyncWork)?o:new Map,u=Array((null!=(a=x.get(i.version))?a:new Map).entries()),c=x.has(i.version)&&u.length===l.size&&u.every(([e,t])=>l.get(e)===t),!(null!=l&&i.version!==s.stateVersion&&!c&&(x.set(i.version,new Map(l)),Array.from(l).some(([e,t])=>g(r,i,e).contents!==t.contents))))}))?t:[];return n}let x=new Map;function I(e,t,n,r,i){let o=d(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null==i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function T(e,t,n){let r=d(t);k(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function S(e,t){k(e,t)&&s.delete(e)}function k(e,t){return t===d(e).latestExecutionId}function N(e){"loading"!==e.state&&e.contents}function D(e){}function O(e,n,r){e.atomValues.set(t,r),o.set(n,r)}function R(e,t){return o.get(n=>{"string"!=typeof n&&tJ(!1);let r=n2(e,t,n);return null==r?void 0:r.contents})}function F(e,n){if(ro.includes(t))return nJ(Error(`Recoil selector has circular dependencies: ${ro.slice(ro.indexOf(t)).join("  ")}`));ro.push(t);try{return function(e,t){let n=E(e,t);if(null!=n)return I(n,e),n;let r=B(t);return r?(p(e,u(r.latestLoadable),u(r.latestExecutionId)),u(r.latestLoadable)):function(e,t){var n,r,i;let o=rs(),[a,s]=b(e,t,o);return I(a,e,s,o,t),n=t,r=C(s),"loading"!==(i=a).state&&O(n,r,i),p(e,a,o),a}(e,t)}(e,n)}finally{ro.pop()}}function L(e){e.atomValues.delete(t)}return null!=i?n9({key:t,nodeType:"selector",peek:R,get:F,set:(e,t,n)=>{let r=!1,o=new Map;function a({key:n}){if(r)throw Error("Recoil: Async selector sets are not currently supported.");let i=g(e,t,n);if(N(i),"hasValue"===i.state)return i.contents;if("loading"===i.state)throw new n6(n);throw i.contents}function s(n,i){if(r)throw Error("Recoil: Async selector sets are not currently supported.");let s="function"==typeof i?i(a(n)):i;n4(e,t,n.key,s).forEach((e,t)=>o.set(t,e))}let u=i({set:s,get:a,reset:function(e){s(e,n5)}},n);if(void 0!==u)throw l(u)?Error("Recoil: Async selector sets are not currently supported."):Error("Recoil: selector set should be a void function.");return r=!0,o},init:h,invalidate:L,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a}):n9({key:t,nodeType:"selector",peek:R,get:F,init:h,invalidate:L,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:a})};let{loadableWithError:ru,loadableWithPromise:rc,loadableWithValue:rA}=g,{DEFAULT_VALUE:rd,DefaultValue:rh,getConfigDeletionHandler:rf,registerNode:rp,setConfigDeletionHandler:rg}=M,{isRecoilValue:rm}=N,{markRecoilValueModified:rv,setRecoilValue:ry,setRecoilValueLoadable:rb}=ev,{retainedByOptionWithDefault:rw}=eY;function r_(e){var t;let n,r,{default:i,...o}=e;return rm(i)?(n=r_({...t={...o,default:i},default:rd,persistence_UNSTABLE:void 0===t.persistence_UNSTABLE?void 0:{...t.persistence_UNSTABLE,validator:e=>e instanceof rh?e:u(t.persistence_UNSTABLE).validator(e,rd)},effects_UNSTABLE:t.effects_UNSTABLE}),rg((r=rl({key:`${t.key}__withFallback`,get:({get:e})=>{let r=e(n);return r instanceof rh?t.default:r},set:({set:e},t)=>e(n,t),dangerouslyAllowMutability:t.dangerouslyAllowMutability})).key,rf(t.key)),r):function(e){let t,{key:n,persistence_UNSTABLE:r}=e,i=rw(e.retainedBy_UNSTABLE),o=0,a=l(e.default)?rc(e.default.then(e=>(a=rA(e),{__key:n,__value:e})).catch(e=>{throw a=ru(e),e})):rA(e.default),s=new Map,c=rp({key:n,nodeType:"atom",peek:function(e,r){var i,o,s;return null!=(i=null!=(o=r.atomValues.get(n))?o:null==(s=t)?void 0:s[1])?i:a},get:function(e,i){if(i.atomValues.has(n))return u(i.atomValues.get(n));if(!i.nonvalidatedAtoms.has(n))return a;{if(null!=t)return t;if(null==r)return x(`Tried to restore a persisted value for atom ${n} but it has no persistence settings.`),a;let e=i.nonvalidatedAtoms.get(n),o=r.validator(e,rd);return t=o instanceof rh?a:rA(o)}},set:function(e,r,i){if(r.atomValues.has(n)){let e=u(r.atomValues.get(n));if("hasValue"===e.state&&i===e.contents)return new Map}else if(!r.nonvalidatedAtoms.has(n)&&i instanceof rh)return new Map;return t=void 0,new Map().set(n,rA(i))},init:function(t,r,i){var u,A,d;o++;let h=t.getState().knownAtoms.has(n);if(t.getState().knownAtoms.add(n),"loading"===a.state){let e=()=>{var e;(null!=(e=t.getState().nextTree)?e:t.getState().currentTree).atomValues.has(n)||rv(t,c)};a.contents.then(e).catch(e)}let f=rd,p=null;if(null!=e.effects_UNSTABLE&&!h){let r=!0,o=e=>n=>{if(r){let t=f instanceof rh||l(f)?"hasValue"===a.state?a.contents:rd:f;l(f="function"==typeof n?n(t):n)&&(f=f.then(t=>(p={effect:e,value:t},t)))}else{if(l(n))throw Error("Setting atoms to async values is not implemented.");"function"!=typeof n&&(p={effect:e,value:n}),ry(t,c,"function"==typeof n?t=>{let r=n(t);return p={effect:e,value:r},r}:n)}},d=e=>()=>o(e)(rd),h=e=>r=>{t.subscribeToTransactions(t=>{var i,o,s,l,u;let{currentTree:c,previousTree:A}=t.getState();A||(_("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),A=c);let d=null!=(i=c.atomValues.get(n))?i:a;if("hasValue"===d.state){let t=d.contents,i=null!=(o=A.atomValues.get(n))?o:a,c="hasValue"===i.state?i.contents:rd;(null==(s=p)?void 0:s.effect)!==e||(null==(l=p)?void 0:l.value)!==t?r(t,c):(null==(u=p)?void 0:u.effect)===e&&(p=null)}},n)};for(let n of null!=(u=e.effects_UNSTABLE)?u:[]){let e=n({node:c,trigger:i,setSelf:o(n),resetSelf:d(n),onSet:h(n)});null!=e&&s.set(t,[...null!=(A=s.get(t))?A:[],e])}r=!1}if(!(f instanceof rh)){let e,i=l(f)?rc(e=f.then(r=>{var i,o;return(null==(o=(null!=(i=t.getState().nextTree)?i:t.getState().currentTree).atomValues.get(n))?void 0:o.contents)===e&&ry(t,c,r),{__key:n,__value:r}}).catch(r=>{var i,o;throw(null==(o=(null!=(i=t.getState().nextTree)?i:t.getState().currentTree).atomValues.get(n))?void 0:o.contents)===e&&rb(t,c,ru(r)),r})):rA(f);r.atomValues.set(n,i),null==(d=t.getState().nextTree)||d.atomValues.set(n,i)}return()=>{var e;o--,null==(e=s.get(t))||e.forEach(e=>e()),s.delete(t),t.getState().knownAtoms.delete(n)}},invalidate:function(){t=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==rf(n)&&o<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:i});return c}({...o,default:i})}var rE=Object.freeze({__proto__:null,MapCache:{MapCache:class{constructor(e){var t;I(this,"_map",void 0),I(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!=(t=null==e?void 0:e.mapKey)?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}}.MapCache});let{LRUCache:rC}=nV,{MapCache:rB}=rE,rx={equality:"reference",eviction:"none",maxSize:1/0};var rI=function({equality:e=rx.equality,eviction:t=rx.eviction,maxSize:n=rx.maxSize}=rx){var r=t,i=n,o=function(e){switch(e){case"reference":return e=>e;case"value":return e=>nP(e)}throw Error(`Unrecognized equality policy ${e}`)}(e);switch(r){case"keep-all":return new rB({mapKey:o});case"lru":return new rC({mapKey:o,maxSize:u(i)});case"most-recent":return new rC({mapKey:o,maxSize:1})}throw Error(`Unrecognized eviction policy ${r}`)};let{setConfigDeletionHandler:rT}=M,{setConfigDeletionHandler:rS}=M,rk=0;var rN=function(e){var t,n;let r=rI({equality:null!=(t=null==(n=e.cachePolicyForParams_UNSTABLE)?void 0:n.equality)?t:"value",eviction:"keep-all"});return t=>{var n;let i,o=r.get(t);if(null!=o)return o;let a=`${e.key}__selectorFamily/${null!=(n=nP(t,{allowFunctions:!0}))?n:"void"}/${rk++}`,s=n=>e.get(t)(n),l=e.cachePolicy_UNSTABLE,u="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){let n=e.set;i=rl({key:a,get:s,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else i=rl({key:a,get:s,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(t,i),rS(i.key,()=>{r.delete(t)}),i}};let rD=rN({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}}),rO=rN({key:"__error",get:e=>()=>{throw Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}}),{loadableWithError:rR,loadableWithPromise:rF,loadableWithValue:rL}=g;function rU(e,t){let n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(let[i,o]of t.entries())try{n[i]=e(o)}catch(e){r[i]=e}return[n,r]}function rP(e){return null!=e&&!l(e)}function rM(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function rj(e){return null!=e&&"object"==typeof e&&e.hasOwnProperty("__value")?e.__value:e}function rZ(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((e,n,r)=>({...e,[n]:t[r]}),{})}function rQ(e,t,n){return rZ(e,n.map((e,n)=>null==e?rL(t[n]):l(e)?rF(e):rR(e)))}let rH=rN({key:"__waitForNone",get:e=>({get:t})=>{let[n,r]=rU(t,rM(e));return rQ(e,n,r)},dangerouslyAllowMutability:!0}),rV=rN({key:"__waitForAny",get:e=>({get:t})=>{let[n,r]=rU(t,rM(e));return r.some(e=>!l(e))?rQ(e,n,r):new Promise(t=>{for(let[i,o]of r.entries())l(o)&&o.then(o=>{n[i]=rj(o),r[i]=void 0,t(rQ(e,n,r))}).catch(o=>{r[i]=o,t(rQ(e,n,r))})})},dangerouslyAllowMutability:!0}),rK=rN({key:"__waitForAll",get:e=>({get:t})=>{let[n,r]=rU(t,rM(e));if(r.every(e=>null==e))return rZ(e,n);let i=r.find(rP);if(null!=i)throw i;return Promise.all(r).then(t=>rZ(e,t.map((e,t)=>void 0===e?n[t]:e).map(rj)))},dangerouslyAllowMutability:!0}),rz=rN({key:"__waitForAllSettled",get:e=>({get:t})=>{let[n,r]=rU(t,rM(e));return r.every(e=>!l(e))?rQ(e,n,r):Promise.all(r.map((e,t)=>l(e)?e.then(e=>{n[t]=rj(e),r[t]=void 0}).catch(e=>{n[t]=void 0,r[t]=e}):null)).then(()=>rQ(e,n,r))},dangerouslyAllowMutability:!0}),rG=rN({key:"__noWait",get:e=>({get:t})=>{try{return rL(t(e))}catch(e){return l(e)?rF(e):rR(e)}},dangerouslyAllowMutability:!0}),{batchUpdates:rW,setBatcher:rq}=eC,{DefaultValue:r$}=M,{RecoilRoot:rY}=tM,{isRecoilValue:rJ}=N,{retentionZone:rX}=Z,{freshSnapshot:r0}=tu,{useGotoRecoilSnapshot:r1,useRecoilCallback:r2,useRecoilSnapshot:r4,useRecoilState:r3,useRecoilStateLoadable:r5,useRecoilTransaction:r6,useRecoilTransactionObserver:r8,useRecoilValue:r9,useRecoilValueLoadable:r7,useResetRecoilState:ie,useRetain:it,useSetRecoilState:ir,useSetUnvalidatedAtomValues:ii,useTransactionObservation_DEPRECATED:io}={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useGotoRecoilSnapshot:nI,useRecoilCallback:function(e,t){let n=t7(),r=nI();return np((...t)=>{function i(e,t){nr(n.current,e,t)}function o(e){nr(n.current,e,t5)}let a=nc(n.current),s=t4(n.current),l=nS;return t3(()=>{let n="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof e)throw Error(n);let u=e({set:i,reset:o,snapshot:a,gotoSnapshot:r,transact_UNSTABLE:s});if("function"!=typeof u)throw Error(n);l=u(...t)}),l instanceof nT&&tJ(!1),l},null!=t?[...t,n]:void 0)},useRecoilInterface:function(){let e=t7(),[t,n]=ny([]),r=nv(new Set);r.current=new Set;let i=nv(new Set),o=nv(new Map),a=np(e=>{let t=o.current.get(e);t&&(t.release(),o.current.delete(e))},[o]),s=t2();return ng(()=>{let t=e.current;function l(e,t){o.current.has(t)&&n([])}ex(r.current,i.current).forEach(e=>{if(o.current.has(e))return void x(`Double subscription to RecoilValue "${e}"`);let n=na(t,new nt(e),t=>{l(t,e)},s);o.current.set(e,n),t.getState().nextTree?t.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{l(t.getState(),e)}):l(t.getState(),e)}),ex(i.current,r.current).forEach(e=>{a(e)}),i.current=r.current}),ng(()=>{let e=o.current;return()=>e.forEach((e,t)=>a(t))},[a]),nm(()=>{function t(t){return n=>{nr(e.current,t,n)}}function n(t){var n;r.current.has(t.key)||(r.current=nA(r.current,t.key));let i=e.current.getState();return nn(e.current,t,w("recoil_early_rendering_2021")&&null!=(n=i.nextTree)?n:i.currentTree)}function i(t){return nb(n(t),t,e)}return{getRecoilValue:i,getRecoilValueLoadable:n,getRecoilState:function(e){return[i(e),t(e)]},getRecoilStateLoadable:function(e){return[n(e),t(e)]},getSetRecoilState:t,getResetRecoilState:function(t){return()=>nr(e.current,t,t5)}}},[r,e])},useRecoilSnapshot:function(){let e=t7(),[t,n]=ny(()=>nc(e.current)),r=nx(t),i=nv();return ng(()=>(i.current&&!nd&&window.clearTimeout(i.current),t.retain()),[t]),nC(np(e=>n(nc(e)),[])),r===t||nd||(i.current&&(null==r||r.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout(()=>{t.release_INTERNAL(),i.current=null},12e4)),t},useRecoilState:function(e){return[n_(e),nE(e)]},useRecoilStateLoadable:function(e){return[nw(e),nE(e)]},useRecoilTransaction:function(e,t){let n=t7();return nm(()=>(...t)=>{t4(n.current)(n=>{e(n)(...t)})},null!=t?[...t,n]:void 0)},useRecoilTransactionObserver:function(e){nC(np(t=>{e({snapshot:nc(t,"current"),previousSnapshot:nc(t,"previous")})},[e]))},useRecoilValue:n_,useRecoilValueLoadable:nw,useRetain:nk,useResetRecoilState:function(e){let t=t7();return np(()=>{nr(t.current,e,t5)},[t,e])},useSetRecoilState:nE,useSetUnvalidatedAtomValues:function(){let e=t7();return(t,n={})=>{t3(()=>{e.current.addTransactionMetadata(n),t.forEach((t,n)=>no(e.current,new nt(n),t))})}},useTransactionObservation_DEPRECATED:function(e){nC(np(t=>{let n=t.getState().previousTree,r=t.getState().currentTree;n||(_("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);let i=nB(r),o=nB(n),a=eI(t8,e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!=(t=null==(n=e.persistence_UNSTABLE)?void 0:n.type)?t:"none",backButton:null!=(r=null==(i=e.persistence_UNSTABLE)?void 0:i.backButton)&&r}}}),s=tY(r.dirtyAtoms,e=>i.has(e)||o.has(e));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})},[e]))},useTransactionSubscription_DEPRECATED:nC},{noWait:ia,waitForAll:is,waitForAllSettled:il,waitForAny:iu,waitForNone:ic}={waitForNone:rH,waitForAny:rV,waitForAll:rK,waitForAllSettled:rz,noWait:rG};var iA=rY,id=r_,ih=function(e){var t,n;let r=rI({equality:null!=(t=null==(n=e.cachePolicyForParams_UNSTABLE)?void 0:n.equality)?t:"value",eviction:"keep-all"});return t=>{var n;let i=r.get(t);if(null!=i)return i;let{cachePolicyForParams_UNSTABLE:o,...a}=e,s=r_({...a,key:`${e.key}__${null!=(n=nP(t))?n:"void"}`,default:"function"==typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE});return r.set(t,s),rT(s.key,()=>{r.delete(t)}),s}},ip=r9,ig=r3,im=ir,iv=ie,iy=r2},97209:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&l()}function s(){a(o)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,20);i=e}return l}(this.refresh.bind(this),0)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},A=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=g(0,0,0,0);function h(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+h(e["border-"+n+"-width"])},0)}var p="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof A(e).SVGGraphicsElement}:function(e){return e instanceof A(e).SVGElement&&"function"==typeof e.getBBox};function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var m=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){if(!i)return d;if(p(e)){var t;return g(0,0,(t=e.getBBox()).width,t.height)}return function(e){var t,n=e.clientWidth,r=e.clientHeight;if(!n&&!r)return d;var i=A(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=h(o)}return t}(i),a=o.left+o.right,s=o.top+o.bottom,l=h(i.width),u=h(i.height);if("border-box"===i.boxSizing&&(Math.round(l+a)!==n&&(l-=f(i,"left","right")+a),Math.round(u+s)!==r&&(u-=f(i,"top","bottom")+s)),(t=e)!==A(t).document.documentElement){var c=Math.round(l+a)-n,p=Math.round(u+s)-r;1!==Math.abs(c)&&(l-=c),1!==Math.abs(p)&&(u-=p)}return g(o.left,o.top,l,u)}(e)}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n,r,i,o,a,s=(n=t.x,r=t.y,i=t.width,o=t.height,c(a=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:n,y:r,width:i,height:o,top:r,right:n+i,bottom:o+r,left:n}),a);c(this,{target:e,contentRect:s})},y=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new m(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof A(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new v(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),b="undefined"!=typeof WeakMap?new WeakMap:new r,w=function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var n=new y(t,u.getInstance(),this);b.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){var t;return(t=b.get(this))[e].apply(t,arguments)}}),t.default=void 0!==o.ResizeObserver?o.ResizeObserver:w},20672:function(e,t,n){"use strict";n.d(t,{MO:function(){return l},Ye:function(){return s}});var r=n(66439),i=n(12995),o={isHistory(e){return(0,r.P)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||i.OX.isOperationList(e.redos[0].operations))&&(0===e.undos.length||i.OX.isOperationList(e.undos[0].operations))}};new WeakMap;var a=new WeakMap,s=new WeakMap,l={isHistoryEditor(e){return o.isHistory(e.history)&&i.ML.isEditor(e)},isMerging(e){return s.get(e)},isSaving(e){return a.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=l.isMerging(e);s.set(e,!1),t(),s.set(e,n)},withoutSaving(e,t){var n=l.isSaving(e);a.set(e,!1),t(),a.set(e,n)}}},60770:function(e,t,n){"use strict";n.d(t,{CX:function(){return to},F3:function(){return eb},mH:function(){return tp},UE:function(){return td},vt:function(){return eP},ui:function(){return eH},_7:function(){return ek},BU:function(){return tb}});var r=n(93636),i=n.n(r),o=n(54073),a=n.n(o),s=n(12436),l=n.n(s),u=n(2784);function c(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function A(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function d(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n,r=getComputedStyle(e,null);return A(r.overflowY,t)||A(r.overflowX,t)||!!(n=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e))&&(n.clientHeight<e.scrollHeight||n.clientWidth<e.scrollWidth)}return!1}function h(e,t,n,r,i,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0}var f=function(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,l="function"==typeof a?a:function(e){return e!==a};if(!c(e))throw TypeError("Invalid target");for(var u,A,f=document.scrollingElement||document.documentElement,p=[],g=e;c(g)&&l(g);){if((g=null==(A=(u=g).parentElement)?u.getRootNode().host||null:A)===f){p.push(g);break}null!=g&&g===document.body&&d(g)&&!d(document.documentElement)||null!=g&&d(g,s)&&p.push(g)}for(var m=n.visualViewport?n.visualViewport.width:innerWidth,v=n.visualViewport?n.visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,w=e.getBoundingClientRect(),_=w.height,E=w.width,C=w.top,B=w.right,x=w.bottom,I=w.left,T="start"===i||"nearest"===i?C:"end"===i?x:C+_/2,S="center"===o?I+E/2:"end"===o?B:I,k=[],N=0;N<p.length;N++){var D=p[N],O=D.getBoundingClientRect(),R=O.height,F=O.width,L=O.top,U=O.right,P=O.bottom,M=O.left;if("if-needed"===r&&C>=0&&I>=0&&x<=v&&B<=m&&C>=L&&x<=P&&I>=M&&B<=U)break;var j=getComputedStyle(D),Z=parseInt(j.borderLeftWidth,10),Q=parseInt(j.borderTopWidth,10),H=parseInt(j.borderRightWidth,10),V=parseInt(j.borderBottomWidth,10),K=0,z=0,G="offsetWidth"in D?D.offsetWidth-D.clientWidth-Z-H:0,W="offsetHeight"in D?D.offsetHeight-D.clientHeight-Q-V:0,q="offsetWidth"in D?0===D.offsetWidth?0:F/D.offsetWidth:0,$="offsetHeight"in D?0===D.offsetHeight?0:R/D.offsetHeight:0;if(f===D)K="start"===i?T:"end"===i?T-v:"nearest"===i?h(b,b+v,v,Q,V,b+T,b+T+_,_):T-v/2,z="start"===o?S:"center"===o?S-m/2:"end"===o?S-m:h(y,y+m,m,Z,H,y+S,y+S+E,E),K=Math.max(0,K+b),z=Math.max(0,z+y);else{K="start"===i?T-L-Q:"end"===i?T-P+V+W:"nearest"===i?h(L,P,R,Q,V+W,T,T+_,_):T-(L+R/2)+W/2,z="start"===o?S-M-Z:"center"===o?S-(M+F/2)+G/2:"end"===o?S-U+H+G:h(M,U,F,Z,H+G,S,S+E,E);var Y=D.scrollLeft,J=D.scrollTop;T+=J-(K=Math.max(0,Math.min(J+K/$,D.scrollHeight-R/$+W))),S+=Y-(z=Math.max(0,Math.min(Y+z/q,D.scrollWidth-F/q+G)))}k.push({el:D,top:K,left:z})}return k};function p(e){return e===Object(e)&&0!==Object.keys(e).length}var g=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(p(t)&&"function"==typeof t.behavior)return t.behavior(n?f(e,t):[]);if(n){var r,i,o,a=!1===t?{block:"end",inline:"nearest"}:p(t)?t:{block:"start",inline:"nearest"};return r=f(e,a),void 0===(i=a.behavior)&&(i="auto"),o="scrollBehavior"in document.body.style,void r.forEach(function(e){var t=e.el,n=e.top,r=e.left;t.scroll&&o?t.scroll({top:n,left:r,behavior:i}):(t.scrollTop=n,t.scrollLeft=r)})}},m=n(12995),v=n(87202),y=n(28316);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _=0;class E{constructor(){this.id="".concat(_++)}}var C=new WeakMap,B=new WeakMap,x=new WeakMap,I=new WeakMap,T=new WeakMap,S=new WeakMap,k=new WeakMap,N=new WeakMap,D=new WeakMap,O=new WeakMap,R=new WeakMap,F=new WeakMap,L=new WeakMap,U=new WeakMap,P=new WeakMap,M=new WeakMap,j=new WeakMap,Z=new WeakMap,Q=new WeakMap,H=new WeakMap,V=new WeakMap,K=new WeakMap,z=Symbol("placeholder"),G=Symbol("mark-placeholder"),W=globalThis.Text,q=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,$=e=>J(e)&&8===e.nodeType,Y=e=>J(e)&&1===e.nodeType,J=e=>{var t=q(e);return!!t&&e instanceof t.Node},X=e=>{var t=e&&e.anchorNode&&q(e.anchorNode);return!!t&&e instanceof t.Selection},ee=e=>J(e)&&3===e.nodeType,et=(e,t,n)=>{for(var{childNodes:r}=e,i=r[t],o=t,a=!1,s=!1;($(i)||Y(i)&&0===i.childNodes.length||Y(i)&&"false"===i.getAttribute("contenteditable"))&&(!a||!s);){if(o>=r.length){a=!0,o=t-1,n="backward";continue}if(o<0){s=!0,o=t+1,n="forward";continue}i=r[o],t=o,o+="forward"===n?1:-1}return[i,t]},en=(e,t,n)=>{var[r]=et(e,t,n);return r},er=e=>{var t="";if(ee(e)&&e.nodeValue)return e.nodeValue;if(Y(e)){for(var n of Array.from(e.childNodes))t+=er(n);var r=getComputedStyle(e).getPropertyValue("display");("block"===r||"list"===r||"BR"===e.tagName)&&(t+="\n")}return t},ei=/data-slate-fragment="(.+?)"/m,eo=(e,t,n)=>{var{target:r}=t;if(Y(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:i}=eb.getWindow(e);if(i.contains(r))return eb.hasDOMNode(e,r,{editable:!0});var o=n.find(e=>{var{addedNodes:t,removedNodes:n}=e;for(var i of t)if(i===r||i.contains(r))return!0;for(var o of n)if(o===r||o.contains(r))return!0});return!!o&&o!==t&&eo(e,o,n)},ea=parseInt(u.version.split(".")[0],10)>=17,es="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,el="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),eu="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),ec="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),eA="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),ed="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),eh="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),ef="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),ep="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),eg="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),em="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),ev="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ey=!ef&&!ed&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,eb={isComposing(e){return!!L.get(e)},getWindow(e){var t=x.get(e);if(!t)throw Error("Unable to find a host window element for this editor");return t},findKey(e,t){var n=N.get(t);return n||(n=new E,N.set(t,n)),n},findPath(e,t){for(var n=[],r=t;;){var i=B.get(r);if(null==i)if(m.ML.isEditor(r))return n;else break;var o=C.get(r);if(null==o)break;n.unshift(o),r=i}throw Error("Unable to find the path for Slate node: ".concat(m.o4.stringify(t)))},findDocumentOrShadowRoot(e){var t=eb.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},isFocused(e){return!!F.get(e)},isReadOnly(e){return!!R.get(e)},blur(e){var t=eb.toDOMNode(e,e),n=eb.findDocumentOrShadowRoot(e);F.set(e,!1),n.activeElement===t&&t.blur()},focus(e){var t=eb.toDOMNode(e,e),n=eb.findDocumentOrShadowRoot(e);F.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,n=eb.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&m.YR.deselect(e)},hasDOMNode(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=r,o=eb.toDOMNode(e,e);try{n=Y(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&n.closest("[data-slate-editor]")===o&&(!i||!!n.isContentEditable||"boolean"==typeof n.isContentEditable&&n.closest('[contenteditable="false"]')===o||!!n.getAttribute("data-slate-zero-width"))},insertData(e,t){e.insertData(t)},insertFragmentData(e,t){return e.insertFragmentData(t)},insertTextData(e,t){return e.insertTextData(t)},setFragmentData(e,t,n){e.setFragmentData(t,n)},toDOMNode(e,t){var n=D.get(e),r=m.ML.isEditor(t)?I.get(e):null==n?void 0:n.get(eb.findKey(e,t));if(!r)throw Error("Cannot resolve a DOM node from Slate node: ".concat(m.o4.stringify(t)));return r},toDOMPoint(e,t){var[n]=m.ML.node(e,t.path),r=eb.toDOMNode(e,n);m.ML.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i=Array.from(r.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),o=0,a=0;a<i.length;a++){var s=i[a],l=s.childNodes[0];if(null!=l&&null!=l.textContent){var{length:u}=l.textContent,c=s.getAttribute("data-slate-length"),A=o+(null==c?u:parseInt(c,10)),d=i[a+1];if(t.offset===A&&null!=d&&d.hasAttribute("data-slate-mark-placeholder")){var h,f,p=d.childNodes[0];h=[p instanceof W?p:d,null!=(f=d.textContent)&&f.startsWith("\uFEFF")?1:0];break}if(t.offset<=A){h=[l,Math.min(u,Math.max(0,t.offset-o))];break}o=A}}if(!h)throw Error("Cannot resolve a DOM point from Slate point: ".concat(m.o4.stringify(t)));return h},toDOMRange(e,t){var{anchor:n,focus:r}=t,i=m.e6.isBackward(t),o=eb.toDOMPoint(e,n),a=m.e6.isCollapsed(t)?o:eb.toDOMPoint(e,r),s=eb.getWindow(e).document.createRange(),[l,u]=i?a:o,[c,A]=i?o:a,d=!!(Y(l)?l:l.parentElement).getAttribute("data-slate-zero-width"),h=!!(Y(c)?c:c.parentElement).getAttribute("data-slate-zero-width");return s.setStart(l,d?1:u),s.setEnd(c,h?1:A),s},toSlateNode(e,t){var n=Y(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?S.get(n):null;if(!r)throw Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n,{clientX:r,clientY:i,target:o}=t;if(null==r||null==i)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a=eb.toSlateNode(e,t.target),s=eb.findPath(e,a);if(m.ML.isVoid(e,a)){var l=o.getBoundingClientRect(),u=e.isInline(a)?r-l.left<l.left+l.width-r:i-l.top<l.top+l.height-i,c=m.ML.point(e,s,{edge:u?"start":"end"}),A=u?m.ML.before(e,c):m.ML.after(e,c);if(A)return m.ML.range(e,A)}var{document:d}=eb.getWindow(e);if(d.caretRangeFromPoint)n=d.caretRangeFromPoint(r,i);else{var h=d.caretPositionFromPoint(r,i);h&&((n=d.createRange()).setStart(h.offsetNode,h.offset),n.setEnd(h.offsetNode,h.offset))}if(!n)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return eb.toSlateRange(e,n,{exactMatch:!1,suppressThrow:!1})},toSlatePoint(e,t,n){var{exactMatch:r,suppressThrow:i}=n,[o,a]=r?t:(e=>{var[t,n]=e;if(Y(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?n-1:n;for([t,i]=et(t,i,r?"backward":"forward"),r=i<n;Y(t)&&t.childNodes.length;){var o=r?t.childNodes.length-1:0;t=en(t,o,r?"backward":"forward")}n=r&&null!=t.textContent?t.textContent.length:0}return[t,n]})(t),s=o.parentNode,l=null,u=0;if(s){var c,A,d=eb.toDOMNode(e,e),h=s.closest('[data-slate-void="true"]'),f=h&&d.contains(h)?h:null,p=s.closest("[data-slate-leaf]"),g=null;if(p){if(l=p.closest('[data-slate-node="text"]')){var v=eb.getWindow(e).document.createRange();v.setStart(l,0),v.setEnd(o,a);var y=v.cloneContents();[...Array.prototype.slice.call(y.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(y.querySelectorAll("[contenteditable=false]"))].forEach(e=>{if(eu&&!r&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\uFEFF"!==e.textContext){e.textContent.startsWith("\uFEFF")&&(e.textContent=e.textContent.slice(1));return}e.parentNode.removeChild(e)}),u=y.textContent.length,g=l}}else if(f){for(var b=f.querySelectorAll("[data-slate-leaf]"),w=0;w<b.length;w++){var _=b[w];if(eb.hasDOMNode(e,_)){p=_;break}}p?(l=p.closest('[data-slate-node="text"]'),u=(g=p).textContent.length,g.querySelectorAll("[data-slate-zero-width]").forEach(e=>{u-=e.textContent.length})):u=1}g&&u===g.textContent.length&&eu&&"z"===g.getAttribute("data-slate-zero-width")&&null!=(c=g.textContent)&&c.startsWith("\uFEFF")&&(s.hasAttribute("data-slate-zero-width")||ec&&null!=(A=g.textContent)&&A.endsWith("\n\n"))&&u--}if(eu&&!l&&!r){var E=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(E&&eb.hasDOMNode(e,E,{editable:!0})){var C=eb.toSlateNode(e,E),{path:B,offset:x}=m.ML.start(e,eb.findPath(e,C));return E.querySelector("[data-slate-leaf]")||(x=a),{path:B,offset:x}}}if(!l){if(i)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var I=eb.toSlateNode(e,l);return{path:eb.findPath(e,I),offset:u}},toSlateRange(e,t,n){var r,i,o,a,s,{exactMatch:l,suppressThrow:u}=n;if((X(t)?t.anchorNode:t.startContainer)&&(X(t)?(r=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=eh&&(e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1})(r)?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=t.collapsed)),null==r||null==o||null==i||null==a)throw Error("Cannot resolve a Slate range from DOM range: ".concat(t));var c=eb.toSlatePoint(e,[r,i],{exactMatch:l,suppressThrow:u});if(!c)return null;var A=s?c:eb.toSlatePoint(e,[o,a],{exactMatch:l,suppressThrow:u});if(!A)return null;var d={anchor:c,focus:A};return m.e6.isExpanded(d)&&m.e6.isForward(d)&&Y(o)&&m.ML.void(e,{at:d.focus,mode:"highest"})&&(d=m.ML.unhangRange(e,d,{voids:!0})),d},hasRange(e,t){var{anchor:n,focus:r}=t;return m.ML.hasPath(e,n.path)&&m.ML.hasPath(e,r.path)},hasTarget(e,t){return J(t)&&eb.hasDOMNode(e,t)},hasEditableTarget(e,t){return J(t)&&eb.hasDOMNode(e,t,{editable:!0})},hasSelectableTarget(e,t){return eb.hasEditableTarget(e,t)||eb.isTargetInsideNonReadonlyVoid(e,t)},isTargetInsideNonReadonlyVoid(e,t){if(R.get(e))return!1;var n=eb.hasTarget(e,t)&&eb.toSlateNode(e,t);return m.ML.isVoid(e,n)},androidScheduleFlush(e){var t;null==(t=M.get(e))||t()},androidPendingDiffs(e){return Q.get(e)}},ew=ev?u.useLayoutEffect:u.useEffect,e_=["anchor","focus"],eE=["anchor","focus"],eC=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),eB=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n],o=w(r,e_),a=w(i,eE);if(!m.e6.equals(r,i)||r[z]!==i[z]||!eC(o,a))return!1}return!0},ex=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,o=ek(),a=eb.findPath(o,i),s=m.y$.parent(a),l=!0===n[G];return o.isVoid(r)?u.createElement(eT,{length:m.NB.string(r).length}):""!==n.text||r.children[r.children.length-1]!==i||o.isInline(r)||""!==m.ML.string(o,s)?""===n.text?u.createElement(eT,{isMarkPlaceholder:l}):t&&"\n"===n.text.slice(-1)?u.createElement(eI,{isTrailing:!0,text:n.text}):u.createElement(eI,{text:n.text}):u.createElement(eT,{isLineBreak:!0,isMarkPlaceholder:l})},eI=e=>{var{text:t,isTrailing:n=!1}=e,r=(0,u.useRef)(null),i=()=>"".concat(null!=t?t:"").concat(n?"\n":"");return(ew(()=>{var e=i();r.current&&r.current.textContent!==e&&(r.current.textContent=e)}),r.current)?u.createElement("span",{"data-slate-string":!0,ref:r}):u.createElement("span",{"data-slate-string":!0,ref:r},i())},eT=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),u.createElement("span",Object.assign({},i),eu&&n?null:"\uFEFF",n?u.createElement("br",null):null)},eS=(0,u.createContext)(null),ek=()=>{var e=(0,u.useContext)(eS);if(!e)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},eN=u.memo(e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:o,renderLeaf:a=e=>u.createElement(eD,Object.assign({},e))}=e,s=(0,u.useRef)(null),l=ek(),c=(0,u.useRef)(null);(0,u.useEffect)(()=>()=>{c.current&&c.current.disconnect()},[]),(0,u.useEffect)(()=>{var e=null==s?void 0:s.current;if(e?T.set(l,e):T.delete(l),c.current?(c.current.disconnect(),e&&c.current.observe(e)):e&&(c.current=new ResizeObserver(e=>{var[{target:t}]=e,n=O.get(l);if(n){var r="".concat(t.clientHeight,"px");n.innerHTML=':where([data-slate-editor-id="'.concat(l.id,'"]) { min-height: ').concat(r,"; }")}}),c.current.observe(e)),!e){var t=O.get(l);t&&(t.innerHTML="")}return()=>{T.delete(l)}},[s,t]);var A=u.createElement(ex,{isLast:n,leaf:t,parent:i,text:r});if(t[z]){var d={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:s}};A=u.createElement(u.Fragment,null,o(d),A)}return a({attributes:{"data-slate-leaf":!0},children:A,leaf:t,text:r})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&m.xv.equals(t.leaf,e.leaf)&&t.leaf[z]===e.leaf[z]),eD=e=>{var{attributes:t,children:n}=e;return u.createElement("span",Object.assign({},t),n)},eO=u.memo(e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:o,text:a}=e,s=ek(),l=(0,u.useRef)(null),c=m.xv.decorations(a,t),A=eb.findKey(s,a),d=[],h=0;h<c.length;h++){var f=c[h];d.push(u.createElement(eN,{isLast:n&&h===c.length-1,key:"".concat(A.id,"-").concat(h),renderPlaceholder:i,leaf:f,text:a,parent:r,renderLeaf:o}))}return ew(()=>{var e=D.get(s);l.current?(null==e||e.set(A,l.current),k.set(a,l.current),S.set(l.current,a)):(null==e||e.delete(A),k.delete(a))}),u.createElement("span",{"data-slate-node":"text",ref:l},d)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&eB(t.decorations,e.decorations)),eR=u.memo(e=>{var{decorations:t,element:n,renderElement:r=e=>u.createElement(eF,Object.assign({},e)),renderPlaceholder:o,renderLeaf:a,selection:s}=e,l=ek(),c=eZ(),A=l.isInline(n),d=eb.findKey(l,n),h=(0,u.useCallback)(e=>{var t=D.get(l);e?(null==t||t.set(d,e),k.set(n,e),S.set(e,n)):(null==t||t.delete(d),k.delete(n))},[l,d,n]),f=eM({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:a,selection:s}),p={"data-slate-node":"element",ref:h};if(A&&(p["data-slate-inline"]=!0),!A&&m.ML.hasInlines(l,n)){var g=m.NB.string(n),v=i()(g);"rtl"===v&&(p.dir=v)}if(m.ML.isVoid(l,n)){p["data-slate-void"]=!0,!c&&A&&(p.contentEditable=!1);var[[y]]=m.NB.texts(n);f=u.createElement(A?"span":"div",{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},u.createElement(eO,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:y})),C.set(y,0),B.set(y,n)}return r({attributes:p,children:f,element:n})},(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&eB(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&m.e6.equals(e.selection,t.selection))),eF=e=>{var{attributes:t,children:n,element:r}=e,i=ek().isInline(r)?"span":"div";return u.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},eL=(0,u.createContext)(()=>[]),eU=(0,u.createContext)(!1),eP=()=>(0,u.useContext)(eU),eM=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:a}=e,s=(0,u.useContext)(eL),l=ek(),c=eb.findPath(l,n),A=[],d=m.W_.isElement(n)&&!l.isInline(n)&&m.ML.hasInlines(l,n),h=0;h<n.children.length;h++){var f=c.concat(h),p=n.children[h],g=eb.findKey(l,p),v=m.ML.range(l,f),y=a&&m.e6.intersection(v,a),b=s([p,f]);for(var w of t){var _=m.e6.intersection(w,v);_&&b.push(_)}m.W_.isElement(p)?A.push(u.createElement(eU.Provider,{key:"provider-".concat(g.id),value:!!y},u.createElement(eR,{decorations:b,element:p,key:g.id,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:y}))):A.push(u.createElement(eO,{decorations:b,key:g.id,isLast:d&&h===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:o,text:p})),C.set(p,h),B.set(p,n)}return A},ej=(0,u.createContext)(!1),eZ=()=>(0,u.useContext)(ej),eQ=(0,u.createContext)(null),eH=()=>{var e=(0,u.useContext)(eQ);if(!e)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t},eV={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},eK={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ez={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},eG=e=>{var t=eV[e],n=eK[e],r=ez[e],i=t&&(0,v.TB)(t),o=n&&(0,v.TB)(n),a=r&&(0,v.TB)(r);return e=>!!(i&&i(e)||el&&o&&o(e)||!el&&a&&a(e))},eW={isBold:eG("bold"),isCompose:eG("compose"),isMoveBackward:eG("moveBackward"),isMoveForward:eG("moveForward"),isDeleteBackward:eG("deleteBackward"),isDeleteForward:eG("deleteForward"),isDeleteLineBackward:eG("deleteLineBackward"),isDeleteLineForward:eG("deleteLineForward"),isDeleteWordBackward:eG("deleteWordBackward"),isDeleteWordForward:eG("deleteWordForward"),isExtendBackward:eG("extendBackward"),isExtendForward:eG("extendForward"),isExtendLineBackward:eG("extendLineBackward"),isExtendLineForward:eG("extendLineForward"),isItalic:eG("italic"),isMoveLineBackward:eG("moveLineBackward"),isMoveLineForward:eG("moveLineForward"),isMoveWordBackward:eG("moveWordBackward"),isMoveWordForward:eG("moveWordForward"),isRedo:eG("redo"),isSoftBreak:eG("insertSoftBreak"),isSplitBlock:eG("splitBlock"),isTransposeCharacter:eG("transposeCharacter"),isUndo:eG("undo")},eq={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class e$ extends u.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var e,{node:t}=this.props;if(!t.current)throw Error("Failed to attach MutationObserver, `node` is undefined");null==(e=this.mutationObserver)||e.observe(t.current,eq)}componentDidMount(){var e,t,{receivedUserInput:n}=this.props,r=this.context;this.manager=(e=[],{registerMutations:t=>{if(n.current){var i=t.filter(e=>eo(r,e,t));e.push(...i)}},restoreDOM:function(){e.reverse().forEach(e=>{if("characterData"===e.type){e.target.textContent=e.oldValue;return}e.removedNodes.forEach(t=>{e.target.insertBefore(t,e.nextSibling)}),e.addedNodes.forEach(t=>{e.target.removeChild(t)})}),t()},clear:t=()=>{e=[]}}),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,r,i=null==(e=this.mutationObserver)?void 0:e.takeRecords();return null!=i&&i.length&&(null==(r=this.manager)||r.registerMutations(i)),null==(t=this.mutationObserver)||t.disconnect(),null==(n=this.manager)||n.restoreDOM(),null}componentDidUpdate(){var e;null==(e=this.manager)||e.clear(),this.observe()}componentWillUnmount(){var e;null==(e=this.mutationObserver)||e.disconnect()}render(){return this.props.children}}e$.contextType=eS;var eY=eu?e$:e=>{var{children:t}=e;return u.createElement(u.Fragment,null,t)};function eJ(e,t){var{start:n,end:r,text:i}=t,o=e.slice(n,r),a=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}(o,i),s=Math.min(o.length-a,i.length-a),l=function(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}(o,i,s),u={start:n+a,end:r-l,text:i.slice(a,i.length-l)};return u.start===u.end&&0===u.text.length?null:u}function eX(e,t){var{path:n,offset:r}=t;if(!m.ML.hasPath(e,n))return null;var i=m.NB.get(e,n);if(!m.xv.isText(i))return null;var o=m.ML.above(e,{match:t=>m.ML.isBlock(e,t),at:n});if(!o)return null;for(;r>i.text.length;){var a=m.ML.next(e,{at:n,match:m.xv.isText});if(!a||!m.y$.isDescendant(a[1],o[1]))return null;r-=i.text.length,i=a[0],n=a[1]}return{path:n,offset:r}}function e0(e,t){var n=eX(e,t.anchor);if(!n)return null;if(m.e6.isCollapsed(t))return{anchor:n,focus:n};var r=eX(e,t.focus);return r?{anchor:n,focus:r}:null}function e1(e,t,n){var r=Q.get(e),i=null==r?void 0:r.find(e=>{var{path:n}=e;return m.y$.equals(n,t.path)});if(!i||t.offset<=i.diff.start)return m.E9.transform(t,n,{affinity:"backward"});var{diff:o}=i;if(t.offset<=o.start+o.text.length){var a={path:t.path,offset:o.start},s=m.E9.transform(a,n,{affinity:"backward"});return s?{path:s.path,offset:s.offset+t.offset-o.start}:null}var l={path:t.path,offset:t.offset-o.text.length+o.end-o.start},u=m.E9.transform(l,n,{affinity:"backward"});return u?"split_node"===n.type&&m.y$.equals(n.path,t.path)&&l.offset<n.position&&o.start<n.position?u:{path:u.path,offset:u.offset+o.text.length-o.end+o.start}:null}function e2(e,t,n){var r=e1(e,t.anchor,n);if(!r)return null;if(m.e6.isCollapsed(t))return{anchor:r,focus:r};var i=e1(e,t.focus,n);return i?{anchor:r,focus:i}:null}function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e5=function(){},e6=["node"];function e8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var e9={subtree:!0,childList:!0,characterData:!0},e7=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"],te=["text"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tr=e=>u.createElement(u.Fragment,null,eM(e)),ti=0,to=e=>{var t,n,r,o,{autoFocus:s,decorate:c=ts,onDOMBeforeInput:A,placeholder:d,readOnly:h=!1,renderElement:f,renderLeaf:p,renderPlaceholder:g=e=>u.createElement(ta,Object.assign({},e)),scrollSelectionIntoView:v=tl,style:y={},as:_="div"}=e,E=w(e,e7),C=eH(),[B,N]=(0,u.useState)(!1),D=(0,u.useRef)(null),P=(0,u.useRef)([]),{onUserInput:W,receivedUserInput:$}=(t=ek(),n=(0,u.useRef)(!1),r=(0,u.useRef)(0),o=(0,u.useCallback)(()=>{if(!n.current){n.current=!0;var e=eb.getWindow(t);e.cancelAnimationFrame(r.current),r.current=e.requestAnimationFrame(()=>{n.current=!1})}},[]),(0,u.useEffect)(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:n,onUserInput:o}),[,ee]=(0,u.useReducer)(e=>e+1,0);K.set(C,ee),R.set(C,h);var et=(0,u.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,u.useEffect)(()=>{D.current&&s&&D.current.focus()},[s]);var en=(0,u.useCallback)(l()(()=>{if((eu||!eb.isComposing(C))&&(!et.isUpdatingSelection||null!=ei&&ei.isFlushing())&&!et.isDraggingInternally){var e=eb.findDocumentOrShadowRoot(C),{activeElement:t}=e,n=eb.toDOMNode(C,C),r=e.getSelection();if(t===n?(et.latestElement=t,F.set(C,!0)):F.delete(C),!r)return m.YR.deselect(C);var{anchorNode:i,focusNode:o}=r,a=eb.hasEditableTarget(C,i)||eb.isTargetInsideNonReadonlyVoid(C,i),s=eb.hasEditableTarget(C,o)||eb.isTargetInsideNonReadonlyVoid(C,o);if(a&&s){var l=eb.toSlateRange(C,r,{exactMatch:!1,suppressThrow:!0});l&&(eb.isComposing(C)||null!=ei&&ei.hasPendingChanges()||null!=ei&&ei.isFlushing()?null==ei||ei.handleUserSelect(l):m.YR.select(C,l))}!h||a&&s||m.YR.deselect(C)}},100),[h]),er=(0,u.useMemo)(()=>a()(en,0),[en]),ei=function(e){var t,{node:n}=e,r=w(e,e6);if(!eu)return null;var i=ek(),o=(t=(0,u.useRef)(!1),(0,u.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current),[a]=(0,u.useState)(()=>(function(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,i=!1,o=null,a=null,s=null,l=0,u=!1,c=()=>{var e=V.get(t);if(V.delete(t),e){var{selection:n}=t,r=e0(t,e);!r||n&&m.e6.equals(r,n)||m.YR.select(t,r)}},A=()=>{if(a&&(clearTimeout(a),a=null),s&&(clearTimeout(s),s=null),!g()&&!p())return void c();i||(i=!0,setTimeout(()=>i=!1)),p()&&(i="action");var e=t.selection&&m.ML.rangeRef(t,t.selection,{affinity:"forward"});Z.set(t,t.marks),e5("flush",H.get(t),Q.get(t));for(var o=!!(null!=(l=Q.get(t))&&l.length);A=null==(d=Q.get(t))?void 0:d[0];){var l,A,d,h,f=j.get(t);void 0!==f&&(j.delete(t),t.marks=f),f&&!1===u&&(u=null);var v=function(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}(A);t.selection&&m.e6.equals(t.selection,v)||m.YR.select(t,v),A.diff.text?m.ML.insertText(t,A.diff.text):m.ML.deleteFragment(t),Q.set(t,null==(h=Q.get(t))?void 0:h.filter(e=>{var{id:t}=e;return t!==A.id})),!function(e,t){var{path:n,diff:r}=t;if(!m.ML.hasPath(e,n))return!1;var i=m.NB.get(e,n);if(!m.xv.isText(i))return!1;if(r.start!==i.text.length||0===r.text.length)return i.text.slice(r.start,r.start+r.text.length)===r.text;var o=m.y$.next(n);if(!m.ML.hasPath(e,o))return!1;var a=m.NB.get(e,o);return m.xv.isText(a)&&a.text.startsWith(r.text)}(t,A)&&(o=!1,H.delete(t),Z.delete(t),i="action",V.delete(t),n.cancel(),r.cancel(),null==e||e.unref())}var y=null==e?void 0:e.unref();if(!y||V.get(t)||t.selection&&m.e6.equals(y,t.selection)||m.YR.select(t,y),p())return void(()=>{var e=H.get(t);if(H.delete(t),e){if(e.at){var n=m.E9.isPoint(e.at)?eX(t,e.at):e0(t,e.at);if(!n)return;var r=m.ML.range(t,n);t.selection&&m.e6.equals(t.selection,r)||m.YR.select(t,n)}e.run()}})();o&&n(),n.flush(),r.flush(),c();var b=Z.get(t);Z.delete(t),void 0!==b&&(t.marks=b,t.onChange())},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=T.get(t);if(n){if(g()||e){n.style.display="none";return}n.style.removeProperty("display")}},h=(e,n)=>{var r,i,o,a,s,u,c,A,h=null!=(A=Q.get(t))?A:[];Q.set(t,h);var f=m.NB.leaf(t,e),p=h.findIndex(t=>m.y$.equals(t.path,e));if(p<0){eJ(f.text,n)&&h.push({path:e,diff:n,id:l++}),d();return}var g=(r=f.text,i=h[p].diff,o=Math.min(i.start,n.start),a=Math.max(0,Math.min(i.start+i.text.length,n.end)-n.start),s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end),e)}(r,i,n),u=Math.max(n.start+n.text.length,i.start+i.text.length+(i.start+i.text.length>n.start?n.text.length:0)-a),c=s.slice(o,u),eJ(r,{start:o,end:Math.max(i.end,n.end-i.text.length+(i.end-i.start)),text:c}));if(!g){h.splice(p,1),d();return}h[p]=e3(e3({},h[p]),{},{diff:g})},f=function(e){var{at:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u=!1,V.delete(t),n.cancel(),r.cancel(),p()&&A(),H.set(t,{at:i,run:e}),s=setTimeout(A)},p=()=>!!H.get(t),g=()=>{var e;return!!(null!=(e=Q.get(t))&&e.length)},v=()=>{p()||(s=setTimeout(A))};return{flush:A,scheduleFlush:v,hasPendingDiffs:g,hasPendingAction:p,hasPendingChanges:()=>p()||g(),isFlushing:()=>i,handleUserSelect:e=>{V.set(t,e),a&&(clearTimeout(a),a=null);var{selection:n}=t;if(e){var r=!n||!m.y$.equals(n.anchor.path,e.anchor.path),i=!n||!m.y$.equals(n.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(r&&u||i)&&(u=!1),(r||!g())&&(a=setTimeout(A,200))}},handleCompositionEnd:e=>{o&&clearTimeout(o),o=setTimeout(()=>{L.set(t,!1),A()},25)},handleCompositionStart:e=>{L.set(t,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:e=>{a&&(clearTimeout(a),a=null);var{inputType:n}=e,r=null,i=e.dataTransfer||e.data||void 0;!1!==u&&"insertText"!==n&&"insertCompositionText"!==n&&(u=!1);var[o]=e.getTargetRanges();o&&(r=eb.toSlateRange(t,o,{exactMatch:!1,suppressThrow:!0}));var s=eb.getWindow(t).getSelection();if(!r&&s&&(o=s,r=eb.toSlateRange(t,s,{exactMatch:!1,suppressThrow:!0})),r=null!=(w=r)?w:t.selection){if(m.e6.isExpanded(r)&&n.startsWith("delete")){var[l,c]=m.e6.edges(r);if(m.NB.leaf(t,l.path).text.length===l.offset&&0===c.offset){var A=m.ML.next(t,{at:l.path,match:m.xv.isText});A&&m.y$.equals(A[1],c.path)&&(r={anchor:c,focus:c})}}if(m.e6.isExpanded(r)&&n.startsWith("delete")){if(m.y$.equals(r.anchor.path,r.focus.path)){var[d,p]=m.e6.edges(r);return h(r.anchor.path,{text:"",end:p.offset,start:d.offset})}var g=n.endsWith("Backward")?"backward":"forward";return f(()=>m.ML.deleteFragment(t,{direction:g}),{at:r})}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return f(()=>m.ML.deleteFragment(t),{at:r});case"deleteContent":case"deleteContentForward":var{anchor:y}=r;if(m.e6.isCollapsed(r)){var b=m.NB.leaf(t,y.path);if(y.offset<b.text.length)return h(y.path,{text:"",start:y.offset,end:y.offset+1})}return f(()=>m.ML.deleteForward(t),{at:r});case"deleteContentBackward":var w,_,{anchor:E}=r;if((X(o)?o.isCollapsed:!!(null!=(_=o)&&_.collapsed))&&m.e6.isCollapsed(r)&&E.offset>0)return h(E.path,{text:"",start:E.offset-1,end:E.offset});return f(()=>m.ML.deleteBackward(t),{at:r});case"deleteEntireSoftLine":return f(()=>{m.ML.deleteBackward(t,{unit:"line"}),m.ML.deleteForward(t,{unit:"line"})},{at:r});case"deleteHardLineBackward":return f(()=>m.ML.deleteBackward(t,{unit:"block"}),{at:r});case"deleteSoftLineBackward":return f(()=>m.ML.deleteBackward(t,{unit:"line"}),{at:r});case"deleteHardLineForward":return f(()=>m.ML.deleteForward(t,{unit:"block"}),{at:r});case"deleteSoftLineForward":return f(()=>m.ML.deleteForward(t,{unit:"line"}),{at:r});case"deleteWordBackward":return f(()=>m.ML.deleteBackward(t,{unit:"word"}),{at:r});case"deleteWordForward":return f(()=>m.ML.deleteForward(t,{unit:"word"}),{at:r});case"insertLineBreak":return f(()=>m.ML.insertSoftBreak(t),{at:r});case"insertParagraph":return f(()=>m.ML.insertBreak(t),{at:r});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if((null==i?void 0:i.constructor.name)==="DataTransfer")return f(()=>eb.insertData(t,i),{at:r});if("string"==typeof i&&i.includes("\n"))return f(()=>m.ML.insertSoftBreak(t),{at:m.e6.end(r)});var C=null!=i?i:"";if(j.get(t)&&(C=C.replace("\uFEFF","")),m.y$.equals(r.anchor.path,r.focus.path)){var[B,x]=m.e6.edges(r),I={start:B.offset,end:x.offset,text:C};if(C&&u&&"insertCompositionText"===n){var T=u.start+u.text.search(/\S|$/);I.start+I.text.search(/\S|$/)===T+1&&I.end===u.start+u.text.length?(I.start-=1,u=null,v()):u=!1}else u="insertText"===n&&(null===u?I:!!(u&&m.e6.isCollapsed(r))&&u.end+u.text.length===B.offset&&e3(e3({},u),{},{text:u.text+C}));h(B.path,I);return}return f(()=>m.ML.insertText(t,C),{at:r})}}},handleKeyDown:e=>{g()||(d(!0),setTimeout(d))},handleDomMutations:e=>{if(!(g()||p())&&e.some(n=>eo(t,n,e))){var n;null==(n=K.get(t))||n()}},handleInput:()=>{(p()||!g())&&A()}}})(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({editor:i},r)));return!function(e,t,n){var[r]=(0,u.useState)(()=>new MutationObserver(t));ew(()=>{r.takeRecords()}),(0,u.useEffect)(()=>{if(!e.current)throw Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[])}(n,a.handleDomMutations,e9),M.set(i,a.scheduleFlush),o&&a.flush(),a}({node:D,onDOMSelectionChange:en,scheduleOnDOMSelectionChange:er});ew(()=>{D.current&&(e=q(D.current))?(x.set(C,e),I.set(C,D.current),k.set(C,D.current),S.set(D.current,C)):k.delete(C);var e,{selection:t}=C,n=eb.findDocumentOrShadowRoot(C).getSelection();if(!(!n||!eb.isFocused(C)||null!=ei&&ei.hasPendingAction())){var r=e=>{var r="None"!==n.type;if(t||r){var i=I.get(C),o=!1;if(i.contains(n.anchorNode)&&i.contains(n.focusNode)&&(o=!0),r&&o&&t&&!e){var a=eb.toSlateRange(C,n,{exactMatch:!0,suppressThrow:!0});if(a&&m.e6.equals(a,t)){if(!et.hasMarkPlaceholder)return;var s,{anchorNode:l}=n;if(null!=l&&null!=(s=l.parentElement)&&s.hasAttribute("data-slate-mark-placeholder"))return}}if(t&&!eb.hasRange(C,t)){C.selection=eb.toSlateRange(C,n,{exactMatch:!1,suppressThrow:!0});return}et.isUpdatingSelection=!0;var u=t&&eb.toDOMRange(C,t);return u?(m.e6.isBackward(t)?n.setBaseAndExtent(u.endContainer,u.endOffset,u.startContainer,u.startOffset):n.setBaseAndExtent(u.startContainer,u.startOffset,u.endContainer,u.endOffset),v(C,u)):n.removeAllRanges(),u}},i=r(),o=(null==ei?void 0:ei.isFlushing())==="action";if(!eu||!o)return void setTimeout(()=>{i&&ec&&eb.toDOMNode(C,C).focus(),et.isUpdatingSelection=!1});var a=null,s=requestAnimationFrame(()=>{if(o){var e=e=>{try{eb.toDOMNode(C,C).focus(),r(e)}catch(e){}};e(),a=setTimeout(()=>{e(!0),et.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(s),a&&clearTimeout(a)}}});var ea=(0,u.useCallback)(e=>{if(W(),!h&&eb.hasEditableTarget(C,e.target)&&!tc(e,A)){if(ei)return ei.handleDOMBeforeInput(e);er.flush(),en.flush();var{selection:t}=C,{inputType:n}=e,r=e.dataTransfer||e.data||void 0,i="insertCompositionText"===n||"deleteCompositionText"===n;if(!(i&&eb.isComposing(C))){var o=!1;if("insertText"===n&&t&&m.e6.isCollapsed(t)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==t.anchor.offset){o=!0,C.marks&&(o=!1);var{anchor:a}=t,[s,l]=eb.toDOMPoint(C,a),u=null==(f=s.parentElement)?void 0:f.closest("a"),c=eb.getWindow(C);if(o&&u&&eb.hasDOMNode(C,u)){var d,f,p,g,v=null==c?void 0:c.document.createTreeWalker(u,NodeFilter.SHOW_TEXT).lastChild();v===s&&(null==(g=v.textContent)?void 0:g.length)===l&&(o=!1)}if(o&&s.parentElement&&(null==c||null==(p=c.getComputedStyle(s.parentElement))?void 0:p.whiteSpace)==="pre"){var y=m.ML.above(C,{at:a.path,match:e=>m.ML.isBlock(C,e)});y&&m.NB.string(y[0]).includes("	")&&(o=!1)}}if(!n.startsWith("delete")||n.startsWith("deleteBy")){var[b]=e.getTargetRanges();if(b){var w=eb.toSlateRange(C,b,{exactMatch:!1,suppressThrow:!1});if(!t||!m.e6.equals(t,w)){o=!1;var _=!i&&C.selection&&m.ML.rangeRef(C,C.selection);m.YR.select(C,w),_&&U.set(C,_)}}}if(!i){if(o||e.preventDefault(),t&&m.e6.isExpanded(t)&&n.startsWith("delete")){var E=n.endsWith("Backward")?"backward":"forward";m.ML.deleteFragment(C,{direction:E});return}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":m.ML.deleteFragment(C);break;case"deleteContent":case"deleteContentForward":m.ML.deleteForward(C);break;case"deleteContentBackward":m.ML.deleteBackward(C);break;case"deleteEntireSoftLine":m.ML.deleteBackward(C,{unit:"line"}),m.ML.deleteForward(C,{unit:"line"});break;case"deleteHardLineBackward":m.ML.deleteBackward(C,{unit:"block"});break;case"deleteSoftLineBackward":m.ML.deleteBackward(C,{unit:"line"});break;case"deleteHardLineForward":m.ML.deleteForward(C,{unit:"block"});break;case"deleteSoftLineForward":m.ML.deleteForward(C,{unit:"line"});break;case"deleteWordBackward":m.ML.deleteBackward(C,{unit:"word"});break;case"deleteWordForward":m.ML.deleteForward(C,{unit:"word"});break;case"insertLineBreak":m.ML.insertSoftBreak(C);break;case"insertParagraph":m.ML.insertBreak(C);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===n&&eb.isComposing(C)&&(N(!1),L.set(C,!1)),(null==r?void 0:r.constructor.name)==="DataTransfer"?eb.insertData(C,r):"string"==typeof r&&(o?P.current.push(()=>m.ML.insertText(C,r)):m.ML.insertText(C,r))}var B=null==(d=U.get(C))?void 0:d.unref();U.delete(C),!B||C.selection&&m.e6.equals(C.selection,B)||m.YR.select(C,B)}}}},[h,A]);ew(()=>(D.current&&ey&&D.current.addEventListener("beforeinput",ea),()=>{D.current&&ey&&D.current.removeEventListener("beforeinput",ea)}),[ea]),ew(()=>{var e=eb.getWindow(C);return e.document.addEventListener("selectionchange",er),()=>{e.document.removeEventListener("selectionchange",er)}},[er]);var el=c([C,[]]);if(d&&1===C.children.length&&1===Array.from(m.NB.texts(C)).length&&""===m.NB.string(C)&&!B){var ed=m.ML.start(C,[]);el.push({[z]:!0,placeholder:d,anchor:ed,focus:ed})}var{marks:ef}=C;if(et.hasMarkPlaceholder=!1,C.selection&&m.e6.isCollapsed(C.selection)&&ef){var{anchor:e_}=C.selection,eE=m.NB.leaf(C,e_.path),eC=w(eE,te);if(!m.xv.equals(eE,ef,{loose:!0})){et.hasMarkPlaceholder=!0;var eB=Object.fromEntries(Object.keys(eC).map(e=>[e,null]));el.push(tn(tn(tn({[G]:!0},eB),ef),{},{anchor:e_,focus:e_}))}}return(0,u.useEffect)(()=>{setTimeout(()=>{var{selection:e}=C;if(e){var{anchor:t}=e,n=m.NB.leaf(C,t.path);if(ef&&!m.xv.equals(n,ef,{loose:!0}))return void j.set(C,ef)}j.delete(C)})}),(0,u.useEffect)(()=>{if(1==++ti){var e=document.createElement("style");e.setAttribute("data-slate-default-styles","true"),e.innerHTML=":where([data-slate-editor]) {position: relative;outline: none;white-space: pre-wrap;word-wrap: break-word;}",document.head.appendChild(e)}return()=>{var e;--ti<=0&&(null==(e=document.querySelector("style[data-slate-default-styles]"))||e.remove())}},[]),(0,u.useEffect)(()=>{var e=document.createElement("style");return document.head.appendChild(e),O.set(C,e),()=>{e.remove(),O.delete(C)}},[]),u.createElement(ej.Provider,{value:h},u.createElement(eL.Provider,{value:c},u.createElement(eY,{node:D,receivedUserInput:$},u.createElement(_,Object.assign({role:h?void 0:"textbox","aria-multiline":!h||void 0},E,{spellCheck:(!!ey||!ev)&&E.spellCheck,autoCorrect:ey||!ev?E.autoCorrect:"false",autoCapitalize:ey||!ev?E.autoCapitalize:"false","data-slate-editor":!0,"data-slate-editor-id":C.id,"data-slate-node":"value",contentEditable:!h,zindex:-1,suppressContentEditableWarning:!0,ref:D,style:y,onBeforeInput:(0,u.useCallback)(e=>{if(!ey&&!h&&!tu(e,E.onBeforeInput)&&eb.hasSelectableTarget(C,e.target)&&(e.preventDefault(),!eb.isComposing(C))){var t=e.data;m.ML.insertText(C,t)}},[h]),onInput:(0,u.useCallback)(e=>{if(ei)return void ei.handleInput();for(var t of P.current)t();P.current=[]},[]),onBlur:(0,u.useCallback)(e=>{if(h||et.isUpdatingSelection||!eb.hasSelectableTarget(C,e.target)||tu(e,E.onBlur))return;var t=eb.findDocumentOrShadowRoot(C);if(et.latestElement!==t.activeElement){var{relatedTarget:n}=e;if(n!==eb.toDOMNode(C,C)&&!(Y(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&J(n)&&eb.hasDOMNode(C,n)){var r=eb.toSlateNode(C,n);if(m.W_.isElement(r)&&!C.isVoid(r))return}if(eA){var i=t.getSelection();null==i||i.removeAllRanges()}F.delete(C)}}},[h,E.onBlur]),onClick:(0,u.useCallback)(e=>{if(eb.hasTarget(C,e.target)&&!tu(e,E.onClick)&&J(e.target)){var t=eb.toSlateNode(C,e.target),n=eb.findPath(C,t);if(m.ML.hasPath(C,n)&&m.NB.get(C,n)===t){if(3===e.detail&&n.length>=1){var r=n;if(!m.ML.isBlock(C,t)){var i,o=m.ML.above(C,{match:e=>m.ML.isBlock(C,e),at:n});r=null!=(i=null==o?void 0:o[1])?i:n.slice(0,1)}var a=m.ML.range(C,r);m.YR.select(C,a);return}if(!h){var s=m.ML.start(C,n),l=m.ML.end(C,n),u=m.ML.void(C,{at:s}),c=m.ML.void(C,{at:l});if(u&&c&&m.y$.equals(u[1],c[1])){var A=m.ML.range(C,s);m.YR.select(C,A)}}}}},[h,E.onClick]),onCompositionEnd:(0,u.useCallback)(e=>{if(eb.hasSelectableTarget(C,e.target)&&(eb.isComposing(C)&&(N(!1),L.set(C,!1)),null==ei||ei.handleCompositionEnd(e),!tu(e,E.onCompositionEnd)&&!eu&&!eA&&!ep&&!es&&!em&&!eg)&&e.data){var t=j.get(C);j.delete(C),void 0!==t&&(Z.set(C,C.marks),C.marks=t),m.ML.insertText(C,e.data);var n=Z.get(C);Z.delete(C),void 0!==n&&(C.marks=n)}},[E.onCompositionEnd]),onCompositionUpdate:(0,u.useCallback)(e=>{!eb.hasSelectableTarget(C,e.target)||tu(e,E.onCompositionUpdate)||eb.isComposing(C)||(N(!0),L.set(C,!0))},[E.onCompositionUpdate]),onCompositionStart:(0,u.useCallback)(e=>{if(eb.hasSelectableTarget(C,e.target)&&(null==ei||ei.handleCompositionStart(e),!tu(e,E.onCompositionStart)&&!eu)){N(!0);var{selection:t}=C;if(t){if(m.e6.isExpanded(t))return void m.ML.deleteFragment(C);var n=m.ML.above(C,{match:e=>m.ML.isInline(C,e),mode:"highest"});if(n){var[,r]=n;if(m.ML.isEnd(C,t.anchor,r)){var i=m.ML.after(C,r);m.YR.setSelection(C,{anchor:i,focus:i})}}}}},[E.onCompositionStart]),onCopy:(0,u.useCallback)(e=>{eb.hasSelectableTarget(C,e.target)&&!tu(e,E.onCopy)&&(e.preventDefault(),eb.setFragmentData(C,e.clipboardData,"copy"))},[E.onCopy]),onCut:(0,u.useCallback)(e=>{if(!h&&eb.hasSelectableTarget(C,e.target)&&!tu(e,E.onCut)){e.preventDefault(),eb.setFragmentData(C,e.clipboardData,"cut");var{selection:t}=C;if(t)if(m.e6.isExpanded(t))m.ML.deleteFragment(C);else{var n=m.NB.parent(C,t.anchor.path);m.ML.isVoid(C,n)&&m.YR.delete(C)}}},[h,E.onCut]),onDragOver:(0,u.useCallback)(e=>{if(eb.hasTarget(C,e.target)&&!tu(e,E.onDragOver)){var t=eb.toSlateNode(C,e.target);m.ML.isVoid(C,t)&&e.preventDefault()}},[E.onDragOver]),onDragStart:(0,u.useCallback)(e=>{if(!h&&eb.hasTarget(C,e.target)&&!tu(e,E.onDragStart)){var t=eb.toSlateNode(C,e.target),n=eb.findPath(C,t);if(m.ML.isVoid(C,t)||m.ML.void(C,{at:n,voids:!0})){var r=m.ML.range(C,n);m.YR.select(C,r)}et.isDraggingInternally=!0,eb.setFragmentData(C,e.dataTransfer,"drag")}},[h,E.onDragStart]),onDrop:(0,u.useCallback)(e=>{if(!h&&eb.hasTarget(C,e.target)&&!tu(e,E.onDrop)){e.preventDefault();var t=C.selection,n=eb.findEventRange(C,e),r=e.dataTransfer;m.YR.select(C,n),et.isDraggingInternally&&t&&!m.e6.equals(t,n)&&!m.ML.void(C,{at:n,voids:!0})&&m.YR.delete(C,{at:t}),eb.insertData(C,r),eb.isFocused(C)||eb.focus(C)}et.isDraggingInternally=!1},[h,E.onDrop]),onDragEnd:(0,u.useCallback)(e=>{!h&&et.isDraggingInternally&&E.onDragEnd&&eb.hasTarget(C,e.target)&&E.onDragEnd(e),et.isDraggingInternally=!1},[h,E.onDragEnd]),onFocus:(0,u.useCallback)(e=>{if(!h&&!et.isUpdatingSelection&&eb.hasEditableTarget(C,e.target)&&!tu(e,E.onFocus)){var t=eb.toDOMNode(C,C);if(et.latestElement=eb.findDocumentOrShadowRoot(C).activeElement,ec&&e.target!==t)return void t.focus();F.set(C,!0)}},[h,E.onFocus]),onKeyDown:(0,u.useCallback)(e=>{if(!h&&eb.hasEditableTarget(C,e.target)){null==ei||ei.handleKeyDown(e);var{nativeEvent:t}=e;if(eb.isComposing(C)&&!1===t.isComposing&&(L.set(C,!1),N(!1)),!(tu(e,E.onKeyDown)||eb.isComposing(C))){var{selection:n}=C,r=C.children[null!==n?n.focus.path[0]:0],o="rtl"===i()(m.NB.string(r));if(eW.isRedo(t)){e.preventDefault(),"function"==typeof C.redo&&C.redo();return}if(eW.isUndo(t)){e.preventDefault(),"function"==typeof C.undo&&C.undo();return}if(eW.isMoveLineBackward(t)){e.preventDefault(),m.YR.move(C,{unit:"line",reverse:!0});return}if(eW.isMoveLineForward(t)){e.preventDefault(),m.YR.move(C,{unit:"line"});return}if(eW.isExtendLineBackward(t)){e.preventDefault(),m.YR.move(C,{unit:"line",edge:"focus",reverse:!0});return}if(eW.isExtendLineForward(t)){e.preventDefault(),m.YR.move(C,{unit:"line",edge:"focus"});return}if(eW.isMoveBackward(t)){e.preventDefault(),n&&m.e6.isCollapsed(n)?m.YR.move(C,{reverse:!o}):m.YR.collapse(C,{edge:"start"});return}if(eW.isMoveForward(t)){e.preventDefault(),n&&m.e6.isCollapsed(n)?m.YR.move(C,{reverse:o}):m.YR.collapse(C,{edge:"end"});return}if(eW.isMoveWordBackward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)&&m.YR.collapse(C,{edge:"focus"}),m.YR.move(C,{unit:"word",reverse:!o});return}if(eW.isMoveWordForward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)&&m.YR.collapse(C,{edge:"focus"}),m.YR.move(C,{unit:"word",reverse:o});return}if(ey){if((eh||eA)&&n&&(eW.isDeleteBackward(t)||eW.isDeleteForward(t))&&m.e6.isCollapsed(n)){var a=m.NB.parent(C,n.anchor.path);if(m.W_.isElement(a)&&m.ML.isVoid(C,a)&&(m.ML.isInline(C,a)||m.ML.isBlock(C,a))){e.preventDefault(),m.ML.deleteBackward(C,{unit:"block"});return}}}else{if(eW.isBold(t)||eW.isItalic(t)||eW.isTransposeCharacter(t))return void e.preventDefault();if(eW.isSoftBreak(t)){e.preventDefault(),m.ML.insertSoftBreak(C);return}if(eW.isSplitBlock(t)){e.preventDefault(),m.ML.insertBreak(C);return}if(eW.isDeleteBackward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(C,{direction:"backward"}):m.ML.deleteBackward(C);return}if(eW.isDeleteForward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(C,{direction:"forward"}):m.ML.deleteForward(C);return}if(eW.isDeleteLineBackward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(C,{direction:"backward"}):m.ML.deleteBackward(C,{unit:"line"});return}if(eW.isDeleteLineForward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(C,{direction:"forward"}):m.ML.deleteForward(C,{unit:"line"});return}if(eW.isDeleteWordBackward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(C,{direction:"backward"}):m.ML.deleteBackward(C,{unit:"word"});return}if(eW.isDeleteWordForward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(C,{direction:"forward"}):m.ML.deleteForward(C,{unit:"word"});return}}}}},[h,E.onKeyDown]),onPaste:(0,u.useCallback)(e=>{let t;!h&&eb.hasSelectableTarget(C,e.target)&&!tu(e,E.onPaste)&&(!ey||(t=e.nativeEvent).clipboardData&&""!==t.clipboardData.getData("text/plain")&&1===t.clipboardData.types.length)&&(e.preventDefault(),eb.insertData(C,e.clipboardData))},[h,E.onPaste])}),u.createElement(tr,{decorations:el,node:C,renderElement:f,renderPlaceholder:g,renderLeaf:p,selection:C.selection})))))},ta=e=>{var{attributes:t,children:n}=e;return u.createElement("span",Object.assign({},t),n,eu&&u.createElement("br",null))},ts=()=>[],tl=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&m.e6.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),g(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},tu=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.isDefaultPrevented()||e.isPropagationStopped()},tc=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.defaultPrevented},tA=(0,u.createContext)(!1),td=()=>(0,u.useContext)(tA),th=(0,u.createContext)({}),tf=["editor","children","onChange","value"],tp=e=>{var t,n,r,{editor:i,children:o,onChange:a,value:s}=e,l=w(e,tf),c=(0,u.useRef)(!1),[A,d]=u.useState(()=>{if(!m.NB.isNodeList(s))throw Error("[Slate] value is invalid! Expected a list of elements but got: ".concat(m.o4.stringify(s)));if(!m.ML.isEditor(i))throw Error("[Slate] editor is invalid! You passed: ".concat(m.o4.stringify(i)));return i.children=s,Object.assign(i,l),{v:0,editor:i}}),{selectorContext:h,onChange:f}=(t=(0,u.useRef)([]).current,n=(0,u.useRef)({editor:i}).current,r=(0,u.useCallback)(e=>{n.editor=e,t.forEach(t=>t(e))},[]),{selectorContext:(0,u.useMemo)(()=>({getSlate:()=>n.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})}),[t,n]),onChange:r}),p=(0,u.useCallback)(()=>{a&&a(i.children),d(e=>({v:e.v+1,editor:i})),f(i)},[a]);P.set(i,p),(0,u.useEffect)(()=>()=>{P.set(i,()=>{}),c.current=!0},[]);var[g,v]=(0,u.useState)(eb.isFocused(i));return(0,u.useEffect)(()=>{v(eb.isFocused(i))}),ew(()=>{var e=()=>v(eb.isFocused(i));return ea?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})},[]),u.createElement(th.Provider,{value:h},u.createElement(eQ.Provider,{value:A},u.createElement(eS.Provider,{value:A.editor},u.createElement(tA.Provider,{value:g},o))))},tg=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},tm=(e,t,n)=>{var r=eb.toDOMRange(e,t).getBoundingClientRect(),i=eb.toDOMRange(e,n).getBoundingClientRect();return tg(r,i)&&tg(i,r)};function tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tb=e=>{var{apply:t,onChange:n,deleteBackward:r,addMark:i,removeMark:o}=e;return D.set(e,new WeakMap),e.addMark=(t,n)=>{var r,o;null==(r=M.get(e))||r(),!j.get(e)&&null!=(o=Q.get(e))&&o.length&&j.set(e,null),Z.delete(e),i(t,n)},e.removeMark=t=>{var n;!j.get(e)&&null!=(n=Q.get(e))&&n.length&&j.set(e,null),Z.delete(e),o(t)},e.deleteBackward=t=>{if("line"!==t)return r(t);if(e.selection&&m.e6.isCollapsed(e.selection)){var n=m.ML.above(e,{match:t=>m.ML.isBlock(e,t),at:e.selection});if(n){var[,i]=n,o=m.ML.range(e,i,e.selection.anchor),a=((e,t)=>{var n=m.ML.range(e,m.e6.end(t)),r=Array.from(m.ML.positions(e,{at:t})),i=0,o=r.length,a=Math.floor(o/2);if(tm(e,m.ML.range(e,r[i]),n))return m.ML.range(e,r[i],n);if(r.length<2)return m.ML.range(e,r[r.length-1],n);for(;a!==r.length&&a!==i;)tm(e,m.ML.range(e,r[a]),n)?o=a:i=a,a=Math.floor((i+o)/2);return m.ML.range(e,r[o],n)})(e,o);m.e6.isCollapsed(a)||m.YR.delete(e,{at:a})}}},e.apply=n=>{var r,i=[],o=Q.get(e);if(null!=o&&o.length){var a=o.map(e=>(function(e,t){var{path:n,diff:r,id:i}=e;switch(t.type){case"insert_text":if(!m.y$.equals(t.path,n)||t.offset>=r.end)return e;if(t.offset<=r.start)return{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n};return{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":if(!m.y$.equals(t.path,n)||t.offset>=r.end)return e;if(t.offset+t.text.length<=r.start)return{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n};return{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":if(!m.y$.equals(t.path,n)||t.position>=r.end)return{diff:r,id:i,path:m.y$.transform(n,t,{affinity:"backward"})};if(t.position>r.start)return{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n};return{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:m.y$.transform(n,t,{affinity:"forward"})};case"merge_node":if(!m.y$.equals(t.path,n))return{diff:r,id:i,path:m.y$.transform(n,t)};return{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:m.y$.transform(n,t)}}var o=m.y$.transform(n,t);return o?{diff:r,path:o,id:i}:null})(e,n)).filter(Boolean);Q.set(e,a)}var s=V.get(e);s&&V.set(e,e2(e,s,n));var l=H.get(e);if(null!=l&&l.at){var u=m.E9.isPoint(null==l?void 0:l.at)?e1(e,l.at,n):e2(e,l.at,n);H.set(e,u?ty(ty({},l),{},{at:u}):null)}switch(n.type){case"insert_text":case"remove_text":case"set_node":case"split_node":i.push(...tw(e,n.path));break;case"set_selection":null==(r=U.get(e))||r.unref(),U.delete(e);break;case"insert_node":case"remove_node":i.push(...tw(e,m.y$.parent(n.path)));break;case"merge_node":i.push(...tw(e,m.y$.previous(n.path)));break;case"move_node":i.push(...tw(e,m.y$.common(m.y$.parent(n.path),m.y$.parent(n.newPath))))}for(var[c,A]of(t(n),i)){var[d]=m.ML.node(e,c);N.set(d,A)}},e.setFragmentData=t=>{var{selection:n}=e;if(n){var[r,i]=m.e6.edges(n),o=m.ML.void(e,{at:r.path}),a=m.ML.void(e,{at:i.path});if(!m.e6.isCollapsed(n)||o){var s=eb.toDOMRange(e,n),l=s.cloneContents(),u=l.childNodes[0];if(l.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(u=e)}),a){var[c]=a,A=s.cloneRange(),d=eb.toDOMNode(e,c);A.setEndAfter(d),l=A.cloneContents()}if(o&&(u=l.querySelector("[data-slate-spacer]")),Array.from(l.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),ee(u)){var h=u.ownerDocument.createElement("span");h.style.whiteSpace="pre",h.appendChild(u),l.appendChild(h),u=h}var f=JSON.stringify(e.getFragment()),p=window.btoa(encodeURIComponent(f));u.setAttribute("data-slate-fragment",p),t.setData("application/x-slate-fragment",p);var g=l.ownerDocument.createElement("div");return g.appendChild(l),g.setAttribute("hidden","true"),l.ownerDocument.body.appendChild(g),t.setData("text/html",g.innerHTML),t.setData("text/plain",er(g)),l.ownerDocument.body.removeChild(g),t}}},e.insertData=t=>{e.insertFragmentData(t)||e.insertTextData(t)},e.insertFragmentData=t=>{var n=t.getData("application/x-slate-fragment")||(e=>{var[,t]=e.getData("text/html").match(ei)||[];return t})(t);if(n){var r=JSON.parse(decodeURIComponent(window.atob(n)));return e.insertFragment(r),!0}return!1},e.insertTextData=t=>{var n=t.getData("text/plain");if(n){var r=n.split(/\r\n|\r|\n/),i=!1;for(var o of r)i&&m.YR.splitNodes(e,{always:!0}),e.insertText(o),i=!0;return!0}return!1},e.onChange=()=>{y.unstable_batchedUpdates(()=>{var t=P.get(e);t&&t(),n()})},e},tw=(e,t)=>{var n=[];for(var[r,i]of m.ML.levels(e,{at:t})){var o=eb.findKey(e,r);n.push([i,o])}return n}},12995:function(e,t,n){"use strict";n.d(t,{ML:function(){return ez},W_:function(){return ej},NB:function(){return eY},OX:function(){return e0},y$:function(){return e1},E9:function(){return e5},e6:function(){return e7},o4:function(){return tn},xv:function(){return tl},YR:function(){return tw},Jh:function(){return ed}});var r,i,o=n(66439);function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function s(e){return!!e&&!!e[V]}function l(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===K}(e)||Array.isArray(e)||!!e[H]||!!(null==(t=e.constructor)?void 0:t[H])||h(e)||f(e))}function u(e,t,n){void 0===n&&(n=!1),0===c(e)?(n?Object.keys:z)(e).forEach(function(r){n&&"symbol"==typeof r||t(r,e[r],e)}):e.forEach(function(n,r){return t(r,n,e)})}function c(e){var t=e[V];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:3*!!f(e)}function A(e,t){return 2===c(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d(e,t,n){var r=c(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function h(e){return M&&e instanceof Map}function f(e){return j&&e instanceof Set}function p(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[V];for(var n=z(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),y(e)||s(e)||!l(e)||(c(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&u(e,function(e,t){return m(t,!0)},!0)),e}function v(){a(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=W[e];return t||a(18,e),t}function w(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function _(e){E(e),e.p.forEach(B),e.p=null}function E(e){e===U&&(U=e.l)}function C(e){return U={p:[],l:U,h:e,m:!0,_:0}}function B(e){var t=e[V];0===t.i||1===t.i?t.j():t.g=!0}function x(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,r),r?(n[V].P&&(_(t),a(4)),l(e)&&(e=I(t,e),t.l||S(t,e)),t.u&&b("Patches").M(n[V].t,e,t.u,t.s)):e=I(t,n,[]),_(t),t.u&&t.v(t.u,t.s),e!==Q?e:void 0}function I(e,t,n){if(y(t))return t;var r=t[V];if(!r)return u(t,function(i,o){return T(e,r,t,i,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return S(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=g(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),u(o,function(t,o){return T(e,r,i,t,o,n,a)}),S(e,i,!1),n&&e.u&&b("Patches").N(r,n,e.u,e.s)}return r.o}function T(e,t,n,r,i,o,a){if(s(i)){var u=I(e,i,o&&t&&3!==t.i&&!A(t.R,r)?o.concat(r):void 0);if(d(n,r,u),!s(u))return;e.m=!1}else a&&n.add(i);if(l(i)&&!y(i)){if(!e.h.D&&e._<1)return;I(e,i),t&&t.A.l||S(e,i)}}function S(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&m(t,n)}function k(e,t){var n=e[V];return(n?p(n):e)[t]}function N(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function O(e){e.o||(e.o=g(e.t))}function R(e,t,n){var r,i,o,a,s,l,u,c=h(t)?b("MapSet").F(t,n):f(t)?b("MapSet").T(t,n):e.O?(o=i={i:+!!(r=Array.isArray(t)),A:n?n.A:U,P:!1,I:!1,R:{},l:n,t:t,k:null,o:null,j:null,C:!1},a=q,r&&(o=[i],a=$),l=(s=Proxy.revocable(o,a)).revoke,i.k=u=s.proxy,i.j=l,u):b("ES5").J(t,n);return(n?n.A:U).p.push(c),c}function F(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}var L,U,P="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),M="undefined"!=typeof Map,j="undefined"!=typeof Set,Z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Q=P?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),H=P?Symbol.for("immer-draftable"):"__$immer_draftable",V=P?Symbol.for("immer-state"):"__$immer_state",K=""+Object.prototype.constructor,z="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,G=Object.getOwnPropertyDescriptors||function(e){var t={};return z(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},W={},q={get:function(e,t){if(t===V)return e;var n,r,i=p(e);if(!A(i,t))return(r=N(i,t))?"value"in r?r.value:null==(n=r.get)?void 0:n.call(e.k):void 0;var o=i[t];return e.I||!l(o)?o:o===k(e.t,t)?(O(e),e.o[t]=R(e.A.h,o,e)):o},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=N(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=k(p(e),t),o=null==i?void 0:i[V];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if((n===i?0!==n||1/n==1/i:n!=n&&i!=i)&&(void 0!==n||A(e.t,t)))return!0;O(e),D(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==k(e.t,t)||t in e.t?(e.R[t]=!1,O(e),D(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){a(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){a(12)}},$={};u(q,function(e,t){$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),$.deleteProperty=function(e,t){return $.set.call(this,e,t,void 0)},$.set=function(e,t,n){return q.set.call(this,e[0],t,n,e[0])};var Y=new(function(){function e(e){var t=this;this.O=Z,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i,o=n;return n=e,function(e){var r=this;void 0===e&&(e=o);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return t.produce(e,function(e){var t;return(t=n).call.apply(t,[r,e].concat(a))})}}if("function"!=typeof n&&a(6),void 0!==r&&"function"!=typeof r&&a(7),l(e)){var s=C(t),u=R(t,e,void 0),c=!0;try{i=n(u),c=!1}finally{c?_(s):E(s)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return w(s,r),x(e,s)},function(e){throw _(s),e}):(w(s,r),x(i,s))}if(!e||"object"!=typeof e){if(void 0===(i=n(e))&&(i=e),i===Q&&(i=void 0),t.D&&m(i,!0),r){var A=[],d=[];b("Patches").M(e,i,A,d),r(A,d)}return i}a(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,function(t){return e.apply(void 0,[t].concat(i))})};var r,i,o=t.produce(e,n,function(e,t){r=e,i=t});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return[e,r,i]}):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){l(e)||a(8),s(e)&&(s(t=e)||a(22,t),e=function e(t){if(!l(t))return t;var n,r=t[V],i=c(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=F(t,i),r.I=!1}else n=F(t,i);return u(n,function(t,i){var o;r&&(o=r.t,(2===c(o)?o.get(t):o[t])===i)||d(n,t,e(i))}),3===i?new Set(n):n}(t));var t,n=C(this),r=R(this,e,void 0);return r[V].C=!0,E(n),r},t.finishDraft=function(e,t){var n=(e&&e[V]).A;return w(n,t),x(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Z&&a(20),this.O=e},t.applyPatches=function(e,t){for(n=t.length-1;n>=0;n--){var n,r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=b("Patches").$;return s(e)?i(e,t):this.produce(e,function(e){return i(e,t)})},e}()),J=Y.produce,X=(Y.produceWithPatches.bind(Y),Y.setAutoFreeze.bind(Y),Y.setUseProxies.bind(Y),Y.applyPatches.bind(Y),Y.createDraft.bind(Y)),ee=Y.finishDraft.bind(Y);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en=new WeakMap,er=new WeakMap,ei=new WeakMap,eo=new WeakMap,ea=new WeakMap,es=new WeakMap,el=new WeakMap;function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eA=0,ed=()=>{var e={children:[],operations:[],selection:null,marks:null,id:eA++,isInline:()=>!1,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:t=>{for(var n of ez.pathRefs(e))e2.transform(n,t);for(var r of ez.pointRefs(e))e6.transform(r,t);for(var i of ez.rangeRefs(e))te.transform(i,t);var o,a,s=en.get(e)||[],l=er.get(e)||new Set,u=e=>{if(e){var t=e.join(",");a.has(t)||(a.add(t),o.push(e))}};if(e1.operationCanTransformPath(t))for(var c of(o=[],a=new Set,s))u(e1.transform(c,t));else o=s,a=l;for(var A of e.getDirtyPaths(t))u(A);en.set(e,o),er.set(e,a),tw.transform(e,t),e.operations.push(t),ez.normalize(e),"set_selection"===t.type&&(e.marks=null),ei.get(e)||(ei.set(e,!0),Promise.resolve().then(()=>{ei.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,n)=>{var{selection:r,markableVoid:i}=e;if(r){var o=(t,n)=>{if(!tl.isText(t))return!1;var[r,i]=ez.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},a=e7.isExpanded(r),s=!1;if(!a){var[l,u]=ez.node(e,r);if(l&&o(l,u)){var[c]=ez.parent(e,u);s=c&&e.markableVoid(c)}}if(a||s)tw.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var A=ec(ec({},ez.marks(e)||{}),{},{[t]:n});e.marks=A,ei.get(e)||e.onChange()}}},deleteBackward:t=>{var{selection:n}=e;n&&e7.isCollapsed(n)&&tw.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:n}=e;n&&e7.isCollapsed(n)&&tw.delete(e,{unit:t})},deleteFragment:t=>{var{selection:n}=e;n&&e7.isExpanded(n)&&tw.delete(e,{reverse:"backward"===t})},getFragment:()=>{var{selection:t}=e;return t?eY.fragment(e,t):[]},insertBreak:()=>{tw.splitNodes(e,{always:!0})},insertSoftBreak:()=>{tw.splitNodes(e,{always:!0})},insertFragment:t=>{tw.insertFragment(e,t)},insertNode:t=>{tw.insertNodes(e,t)},insertText:t=>{var{selection:n,marks:r}=e;if(n){if(r){var i=ec({text:t},r);tw.insertNodes(e,i)}else tw.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[n,r]=t;if(!tl.isText(n)){if(ej.isElement(n)&&0===n.children.length)return void tw.insertNodes(e,{text:""},{at:r.concat(0),voids:!0});for(var i=!ez.isEditor(n)&&ej.isElement(n)&&(e.isInline(n)||0===n.children.length||tl.isText(n.children[0])||e.isInline(n.children[0])),o=0,a=0;a<n.children.length;a++,o++){var s=eY.get(e,r);if(!tl.isText(s)){var l=n.children[a],u=s.children[o-1],c=a===n.children.length-1;if((tl.isText(l)||ej.isElement(l)&&e.isInline(l))!==i)tw.removeNodes(e,{at:r.concat(o),voids:!0}),o--;else if(ej.isElement(l)){if(e.isInline(l))if(null!=u&&tl.isText(u)){if(c){var A={text:""};tw.insertNodes(e,A,{at:r.concat(o+1),voids:!0}),o++}}else{var d={text:""};tw.insertNodes(e,d,{at:r.concat(o),voids:!0}),o++}}else null!=u&&tl.isText(u)&&(tl.equals(l,u,{loose:!0})?(tw.mergeNodes(e,{at:r.concat(o),voids:!0}),o--):""===u.text?(tw.removeNodes(e,{at:r.concat(o-1),voids:!0}),o--):""===l.text&&(tw.removeNodes(e,{at:r.concat(o),voids:!0}),o--))}}}},removeMark:t=>{var{selection:n}=e;if(n){var r=(t,n)=>{if(!tl.isText(t))return!1;var[r,i]=ez.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},i=e7.isExpanded(n),o=!1;if(!i){var[a,s]=ez.node(e,n);if(a&&r(a,s)){var[l]=ez.parent(e,s);o=l&&e.markableVoid(l)}}if(i||o)tw.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=ec({},ez.marks(e)||{});delete u[t],e.marks=u,ei.get(e)||e.onChange()}}},getDirtyPaths:e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return e1.levels(t);case"insert_node":var{node:n,path:r}=e;return[...e1.levels(r),...tl.isText(n)?[]:Array.from(eY.nodes(n),e=>{var[,t]=e;return r.concat(t)})];case"merge_node":var{path:i}=e;return[...e1.ancestors(i),e1.previous(i)];case"move_node":var{path:o,newPath:a}=e;if(e1.equals(o,a))return[];var s=[],l=[];for(var u of e1.ancestors(o)){var c=e1.transform(u,e);s.push(c)}for(var A of e1.ancestors(a)){var d=e1.transform(A,e);l.push(d)}var h=l[l.length-1],f=a[a.length-1];return[...s,...l,h.concat(f)];case"remove_node":var{path:p}=e;return[...e1.ancestors(p)];case"split_node":var{path:g}=e;return[...e1.levels(g),e1.next(g)];default:return[]}}};return e};function eh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ef=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!t,r=t?ew(e):e,o=i.None,a=i.None,s=0,l=null;for(var u of r){var c=u.codePointAt(0);if(!c)break;var A=eO(u,c);if([o,a]=n?[a,A]:[A,o],(o&i.ZWJ)!=0&&(a&i.ExtPict)!=0&&!(n?eL(e.substring(0,s)):eL(e.substring(0,e.length-s))))break;if((o&i.RI)!=0&&(a&i.RI)!=0&&!(l=null!==l?!l:!!n||eP(e.substring(0,e.length-s)))||o!==i.None&&a!==i.None&&function(e,t){return -1===eR.findIndex(n=>(e&n[0])!=0&&(t&n[1])!=0)}(o,a))break;s+=u.length}return s||1},ep=/\s/,eg=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,em=/['\u2018\u2019]/,ev=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var i=ef(e,t),[o,a]=ey(e,i,t);if(eb(o,a,t))r=!0,n+=i;else if(r)break;else n+=i;e=a}return n},ey=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},eb=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ep.test(t))return!1;if(em.test(t)){var i=ef(n,r),[o,a]=ey(n,i,r);if(e(o,a,r))return!0}return!eg.test(t)},ew=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var r=e.charAt(t-n);if(eE(r.charCodeAt(0))){var i=e.charAt(t-n-1);if(e_(i.charCodeAt(0))){yield i+r,n++;continue}}yield r}},e_=e=>e>=55296&&e<=56319,eE=e=>e>=56320&&e<=57343;(r=i||(i={}))[r.None=0]="None",r[r.Extend=1]="Extend",r[r.ZWJ=2]="ZWJ",r[r.RI=4]="RI",r[r.Prepend=8]="Prepend",r[r.SpacingMark=16]="SpacingMark",r[r.L=32]="L",r[r.V=64]="V",r[r.T=128]="T",r[r.LV=256]="LV",r[r.LVT=512]="LVT",r[r.ExtPict=1024]="ExtPict",r[r.Any=2048]="Any";var eC=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,eB=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,ex=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,eI=/^[\u1100-\u115F\uA960-\uA97C]$/,eT=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,eS=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,ek=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,eN=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,eD=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,eO=(e,t)=>{var n=i.Any;return -1!==e.search(eC)&&(n|=i.Extend),8205===t&&(n|=i.ZWJ),t>=127462&&t<=127487&&(n|=i.RI),-1!==e.search(eB)&&(n|=i.Prepend),-1!==e.search(ex)&&(n|=i.SpacingMark),-1!==e.search(eI)&&(n|=i.L),-1!==e.search(eT)&&(n|=i.V),-1!==e.search(eS)&&(n|=i.T),-1!==e.search(ek)&&(n|=i.LV),-1!==e.search(eN)&&(n|=i.LVT),-1!==e.search(eD)&&(n|=i.ExtPict),n},eR=[[i.L,i.L|i.V|i.LV|i.LVT],[i.LV|i.V,i.V|i.T],[i.LVT|i.T,i.T],[i.Any,i.Extend|i.ZWJ],[i.Any,i.SpacingMark],[i.Prepend,i.Any],[i.ZWJ,i.ExtPict],[i.RI,i.RI]],eF=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,eL=e=>-1!==e.search(eF),eU=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,eP=e=>{var t=e.match(eU);return null!==t&&t[0].length/2%2==1},eM=e=>(0,o.P)(e)&&eY.isNodeList(e.children)&&!ez.isEditor(e),ej={isAncestor(e){return(0,o.P)(e)&&eY.isNodeList(e.children)},isElement:eM,isElementList(e){return Array.isArray(e)&&e.every(e=>ej.isElement(e))},isElementProps(e){return void 0!==e.children},isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return eM(e)&&e[n]===t},matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},eZ=["text"],eQ=["text"];function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eK=new WeakMap,ez={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:i=e.selection,match:o}=t;if(i){var a=ez.path(e,i);for(var[s,l]of ez.levels(e,{at:a,voids:n,match:o,reverse:"lowest"===r}))if(!tl.isText(s)){if(e7.isRange(i)){if(e1.isAncestor(l,i.anchor.path)&&e1.isAncestor(l,i.focus.path))return[s,l]}else if(!e1.equals(a,l))return[s,l]}}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ez.point(e,t,{edge:"end"}),o=ez.end(e,[]),{distance:a=1}=r,s=0;for(var l of ez.positions(e,eV(eV({},r),{},{at:{anchor:i,focus:o}}))){if(s>a)break;0!==s&&(n=l),s++}return n},before(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ez.start(e,[]),o=ez.point(e,t,{edge:"start"}),{distance:a=1}=r,s=0;for(var l of ez.positions(e,eV(eV({},r),{},{at:{anchor:i,focus:o},reverse:!0}))){if(s>a)break;0!==s&&(n=l),s++}return n},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{direction:n="forward"}=t;e.deleteFragment(n)},edges(e,t){return[ez.start(e,t),ez.end(e,t)]},end(e,t){return ez.point(e,t,{edge:"end"})},first(e,t){var n=ez.path(e,t,{edge:"start"});return ez.node(e,n)},fragment(e,t){var n=ez.range(e,t);return eY.fragment(e,n)},hasBlocks(e,t){return t.children.some(t=>ez.isBlock(e,t))},hasInlines(e,t){return t.children.some(t=>tl.isText(t)||ez.isInline(e,t))},hasTexts(e,t){return t.children.every(e=>tl.isText(e))},insertBreak(e){e.insertBreak()},insertSoftBreak(e){e.insertSoftBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock(e,t){return ej.isElement(t)&&!e.isInline(t)},isEditor(e){var t=eK.get(e);if(void 0!==t)return t;if(!(0,o.P)(e))return!1;var n="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||(0,o.P)(e.marks))&&(null===e.selection||e7.isRange(e.selection))&&eY.isNodeList(e.children)&&e0.isOperationList(e.operations);return eK.set(e,n),n},isEnd(e,t,n){var r=ez.end(e,n);return e5.equals(t,r)},isEdge(e,t,n){return ez.isStart(e,t,n)||ez.isEnd(e,t,n)},isEmpty(e,t){var{children:n}=t,[r]=n;return 0===n.length||1===n.length&&tl.isText(r)&&""===r.text&&!e.isVoid(t)},isInline(e,t){return ej.isElement(t)&&e.isInline(t)},isNormalizing(e){var t=eo.get(e);return void 0===t||t},isStart(e,t,n){if(0!==t.offset)return!1;var r=ez.start(e,n);return e5.equals(t,r)},isVoid(e,t){return ej.isElement(t)&&e.isVoid(t)},last(e,t){var n=ez.path(e,t,{edge:"end"});return ez.node(e,n)},leaf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ez.path(e,t,n);return[eY.leaf(e,r),r]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:o}=t;if(null==o&&(o=()=>!0),n){var a=[],s=ez.path(e,n);for(var[l,u]of eY.levels(e,s))if(o(l,u)&&(a.push([l,u]),!i&&ez.isVoid(e,l)))break;r&&a.reverse(),yield*a}},marks(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(e7.isExpanded(n)){var[r]=ez.nodes(e,{match:tl.isText});if(!r)return{};var[i]=r;return eh(i,eZ)}var{anchor:o}=n,{path:a}=o,[s]=ez.leaf(e,a);if(0===o.offset){var l=ez.previous(e,{at:a,match:tl.isText});if(!ez.above(e,{match:t=>ez.isVoid(e,t)&&e.markableVoid(t)})){var u=ez.above(e,{match:t=>ez.isBlock(e,t)});if(l&&u){var[c,A]=l,[,d]=u;e1.isAncestor(d,A)&&(s=c)}}}return eh(s,eQ)},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection}=t;if(o){var a=ez.after(e,o,{voids:r});if(a){var[,s]=ez.last(e,[]),l=[a.path,s];if(e1.isPath(o)&&0===o.length)throw Error("Cannot get the next node from the root node!");if(null==i)if(e1.isPath(o)){var[u]=ez.parent(e,o);i=e=>u.children.includes(e)}else i=()=>!0;var[c]=ez.nodes(e,{at:l,match:i,mode:n,voids:r});return c}}},node(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ez.path(e,t,n);return[eY.get(e,r),r]},*nodes(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:o=e.selection,mode:a="all",universal:s=!1,reverse:l=!1,voids:u=!1}=i,{match:c}=i;if(c||(c=()=>!0),o){if(eG.isSpan(o))t=o[0],n=o[1];else{var A=ez.path(e,o,{edge:"start"}),d=ez.path(e,o,{edge:"end"});t=l?d:A,n=l?A:d}var h=eY.nodes(e,{reverse:l,from:t,to:n,pass:t=>{var[n]=t;return!u&&ez.isVoid(e,n)}}),f=[];for(var[p,g]of h){var m=r&&0===e1.compare(g,r[1]);if("highest"!==a||!m){if(!c(p,g))if(s&&!m&&tl.isText(p))return;else continue;if("lowest"===a&&m){r=[p,g];continue}var v="lowest"===a?r:[p,g];v&&(s?f.push(v):yield v),r=[p,g]}}"lowest"===a&&r&&(s?f.push(r):yield r),s&&(yield*f)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1}=t,r=e=>en.get(e)||[],i=e=>{var t=r(e).pop(),n=t.join(",");return(er.get(e)||new Set).delete(n),t};if(ez.isNormalizing(e)){if(n){var o=Array.from(eY.nodes(e),e=>{var[,t]=e;return t}),a=new Set(o.map(e=>e.join(",")));en.set(e,o),er.set(e,a)}0!==r(e).length&&ez.withoutNormalizing(e,()=>{for(var t of r(e))if(eY.has(e,t)){var n=ez.node(e,t),[o,a]=n;ej.isElement(o)&&0===o.children.length&&e.normalizeNode(n)}for(var s=42*r(e).length,l=0;0!==r(e).length;){if(l>s)throw Error("\n            Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var u=i(e);if(eY.has(e,u)){var c=ez.node(e,u);e.normalizeNode(c)}l++}})}},parent(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ez.path(e,t,n),i=e1.parent(r);return ez.node(e,i)},path(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:i}=n;if(e1.isPath(t)){if("start"===i){var[,o]=eY.first(e,t);t=o}else if("end"===i){var[,a]=eY.last(e,t);t=a}}return e7.isRange(t)&&(t="start"===i?e7.start(t):"end"===i?e7.end(t):e1.common(t.anchor.path,t.focus.path)),e5.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath(e,t){return eY.has(e,t)},pathRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return ez.pathRefs(e).delete(i),i.current=null,t}};return ez.pathRefs(e).add(i),i},pathRefs(e){var t=ea.get(e);return t||(t=new Set,ea.set(e,t)),t},point(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(e1.isPath(t)){if("end"===r){var i,[,o]=eY.last(e,t);i=o}else{var[,a]=eY.first(e,t);i=a}var s=eY.get(e,i);if(!tl.isText(s))throw Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:i,offset:"end"===r?s.text.length:0}}if(e7.isRange(t)){var[l,u]=e7.edges(t);return"start"===r?l:u}return t},pointRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return ez.pointRefs(e).delete(i),i.current=null,t}};return ez.pointRefs(e).add(i),i},pointRefs(e){var t=es.get(e);return t||(t=new Set,es.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:i=!1,voids:o=!1}=t;if(n){var a=ez.range(e,n),[s,l]=e7.edges(a),u=i?l:s,c=!1,A="",d=0,h=0,f=0;for(var[p,g]of ez.nodes(e,{at:n,reverse:i,voids:o})){if(ej.isElement(p)){if(!o&&e.isVoid(p)){yield ez.start(e,g);continue}if(e.isInline(p))continue;if(ez.hasInlines(e,p)){var m=e1.isAncestor(g,l.path)?l:ez.end(e,g),v=e1.isAncestor(g,s.path)?s:ez.start(e,g);A=ez.string(e,{anchor:v,focus:m},{voids:o}),c=!0}}if(tl.isText(p)){var y,b,w,_=e1.equals(g,u.path);for(_?(h=i?u.offset:p.text.length-u.offset,f=u.offset):(h=p.text.length,f=i?h:0),(_||c||"offset"===r)&&(yield{path:g,offset:f},c=!1);;){if(0===d){if(""===A)break;y=A,b=r,w=i,A=ey(A,d="character"===b?ef(y,w):"word"===b?ev(y,w):"line"===b||"block"===b?y.length:1,i)[1]}if(f=i?f-d:f+d,(h-=d)<0){d=-h;break}d=0,yield{path:g,offset:f}}}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection}=t;if(o){var a=ez.before(e,o,{voids:r});if(a){var[,s]=ez.first(e,[]),l=[a.path,s];if(e1.isPath(o)&&0===o.length)throw Error("Cannot get the previous node from the root node!");if(null==i)if(e1.isPath(o)){var[u]=ez.parent(e,o);i=e=>u.children.includes(e)}else i=()=>!0;var[c]=ez.nodes(e,{reverse:!0,at:l,match:i,mode:n,voids:r});return c}}},range(e,t,n){return e7.isRange(t)&&!n?t:{anchor:ez.start(e,t),focus:ez.end(e,n||t)}},rangeRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return ez.rangeRefs(e).delete(i),i.current=null,t}};return ez.rangeRefs(e).add(i),i},rangeRefs(e){var t=el.get(e);return t||(t=new Set,el.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){eo.set(e,t)},start(e,t){return ez.point(e,t,{edge:"start"})},string(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,i=ez.range(e,t),[o,a]=e7.edges(i),s="";for(var[l,u]of ez.nodes(e,{at:i,match:tl.isText,voids:r})){var c=l.text;e1.equals(u,a.path)&&(c=c.slice(0,a.offset)),e1.equals(u,o.path)&&(c=c.slice(o.offset)),s+=c}return s},unhangRange(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[i,o]=e7.edges(t);if(0!==i.offset||0!==o.offset||e7.isCollapsed(t)||e1.hasPrevious(o.path))return t;var a=ez.above(e,{at:o,match:t=>ez.isBlock(e,t),voids:r}),s=a?a[1]:[],l={anchor:ez.start(e,i),focus:o},u=!0;for(var[c,A]of ez.nodes(e,{at:l,match:tl.isText,reverse:!0,voids:r})){if(u){u=!1;continue}if(""!==c.text||e1.isBefore(A,s)){o={path:A,offset:c.text.length};break}}return{anchor:i,focus:o}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ez.above(e,eV(eV({},t),{},{match:t=>ez.isVoid(e,t)}))},withoutNormalizing(e,t){var n=ez.isNormalizing(e);ez.setNormalizing(e,!1);try{t()}finally{ez.setNormalizing(e,n)}ez.normalize(e)}},eG={isSpan(e){return Array.isArray(e)&&2===e.length&&e.every(e1.isPath)}},eW=["children"],eq=["text"],e$=new WeakMap,eY={ancestor(e,t){var n=eY.get(e,t);if(tl.isText(n))throw Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(tn.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of e1.ancestors(t,n)){var i=[eY.ancestor(e,r),r];yield i}},child(e,t){if(tl.isText(e))throw Error("Cannot get the child of a text node: ".concat(tn.stringify(e)));var n=e.children[t];if(null==n)throw Error("Cannot get child at index `".concat(t,"` in node: ").concat(tn.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:r=!1}=n,i=eY.ancestor(e,t),{children:o}=i,a=r?o.length-1:0;r?a>=0:a<o.length;){var s=eY.child(i,a),l=t.concat(a);yield[s,l],a=r?a-1:a+1}},common(e,t,n){var r=e1.common(t,n);return[eY.get(e,r),r]},descendant(e,t){var n=eY.get(e,t);if(ez.isEditor(n))throw Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(tn.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of eY.nodes(e,t))0!==r.length&&(yield[n,r])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of eY.nodes(e,t))ej.isElement(n)&&(yield[n,r])},extractProps(e){if(ej.isAncestor(e)){var t=eh(e,eW);return t}var t=eh(e,eq);return t},first(e,t){for(var n=t.slice(),r=eY.get(e,n);r;)if(tl.isText(r)||0===r.children.length)break;else r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(tl.isText(e))throw Error("Cannot get a fragment starting from a root text node: ".concat(tn.stringify(e)));return J({children:e.children},e=>{var[n,r]=e7.edges(t);for(var[,i]of eY.nodes(e,{reverse:!0,pass:e=>{var[,n]=e;return!e7.includes(t,n)}})){if(!e7.includes(t,i)){var o=eY.parent(e,i),a=i[i.length-1];o.children.splice(a,1)}if(e1.equals(i,r.path)){var s=eY.leaf(e,i);s.text=s.text.slice(0,r.offset)}if(e1.equals(i,n.path)){var l=eY.leaf(e,i);l.text=l.text.slice(n.offset)}}ez.isEditor(e)&&(e.selection=null)}).children},get(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(tl.isText(n)||!n.children[i])throw Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(tn.stringify(e)));n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(tl.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(e){return tl.isText(e)||ej.isElement(e)||ez.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=e$.get(e);if(void 0!==t)return t;var n=e.every(e=>eY.isNode(e));return e$.set(e,n),n},last(e,t){for(var n=t.slice(),r=eY.get(e,n);r;)if(tl.isText(r)||0===r.children.length)break;else{var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=eY.get(e,t);if(!tl.isText(n))throw Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(tn.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of e1.levels(t,n)){var i=eY.get(e,r);yield[i,r]}},matches(e,t){return ej.isElement(e)&&ej.isElementProps(t)&&ej.matches(e,t)||tl.isText(e)&&tl.isTextProps(t)&&tl.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:i=[],to:o}=t,a=new Set,s=[],l=e;!(o&&(r?e1.isBefore(s,o):e1.isAfter(s,o)));){if(a.has(l)||(yield[l,s]),!a.has(l)&&!tl.isText(l)&&0!==l.children.length&&(null==n||!1===n([l,s]))){a.add(l);var u=r?l.children.length-1:0;e1.isAncestor(s,i)&&(u=i[s.length]),s=s.concat(u),l=eY.get(e,s);continue}if(0===s.length)break;if(!r){var c=e1.next(s);if(eY.has(e,c)){s=c,l=eY.get(e,s);continue}}if(r&&0!==s[s.length-1]){s=e1.previous(s),l=eY.get(e,s);continue}s=e1.parent(s),l=eY.get(e,s),a.add(l)}},parent(e,t){var n=e1.parent(t),r=eY.get(e,n);if(tl.isText(r))throw Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return tl.isText(e)?e.text:e.children.map(eY.string).join("")},*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of eY.nodes(e,t))tl.isText(n)&&(yield[n,r])}};function eJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eJ(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e0={isNodeOperation(e){return e0.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!(0,o.P)(e))return!1;switch(e.type){case"insert_node":case"remove_node":return e1.isPath(e.path)&&eY.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&e1.isPath(e.path);case"merge_node":return"number"==typeof e.position&&e1.isPath(e.path)&&(0,o.P)(e.properties);case"move_node":return e1.isPath(e.path)&&e1.isPath(e.newPath);case"set_node":return e1.isPath(e.path)&&(0,o.P)(e.properties)&&(0,o.P)(e.newProperties);case"set_selection":return null===e.properties&&e7.isRange(e.newProperties)||null===e.newProperties&&e7.isRange(e.properties)||(0,o.P)(e.properties)&&(0,o.P)(e.newProperties);case"split_node":return e1.isPath(e.path)&&"number"==typeof e.position&&(0,o.P)(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(e=>e0.isOperation(e))},isSelectionOperation(e){return e0.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return e0.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return eX(eX({},e),{},{type:"remove_node"});case"insert_text":return eX(eX({},e),{},{type:"remove_text"});case"merge_node":return eX(eX({},e),{},{type:"split_node",path:e1.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;if(e1.equals(t,n))return e;if(e1.isSibling(n,t))return eX(eX({},e),{},{path:t,newPath:n});var r=e1.transform(n,e),i=e1.transform(e1.next(n),e);return eX(eX({},e),{},{path:r,newPath:i});case"remove_node":return eX(eX({},e),{},{type:"insert_node"});case"remove_text":return eX(eX({},e),{},{type:"insert_text"});case"set_node":var{properties:o,newProperties:a}=e;return eX(eX({},e),{},{properties:a,newProperties:o});case"set_selection":var{properties:s,newProperties:l}=e;if(null==s)return eX(eX({},e),{},{properties:l,newProperties:null});if(null==l)return eX(eX({},e),{},{properties:null,newProperties:s});return eX(eX({},e),{},{properties:l,newProperties:s});case"split_node":return eX(eX({},e),{},{type:"merge_node",path:e1.next(e.path)})}}},e1={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=e1.levels(e,t);return n?r.slice(1):r.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r];if(i!==t[r])break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return -1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return e1.equals(r,i)&&o>a},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return e1.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return e1.equals(r,i)&&o<a},equals(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return 1===e1.compare(e,t)},isAncestor(e,t){return e.length<t.length&&0===e1.compare(e,t)},isBefore(e,t){return -1===e1.compare(e,t)},isChild(e,t){return e.length===t.length+1&&0===e1.compare(e,t)},isCommon(e,t){return e.length<=t.length&&0===e1.compare(e,t)},isDescendant(e,t){return e.length>t.length&&0===e1.compare(e,t)},isParent(e,t){return e.length+1===t.length&&0===e1.compare(e,t)},isPath(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&e1.equals(n,r)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(0===e.length)throw Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!e1.isAncestor(t,e)&&!e1.equals(e,t))throw Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:i="forward"}=n;if(0===e.length)return r;switch(t.type){case"insert_node":var{path:o}=t;(e1.equals(o,r)||e1.endsBefore(o,r)||e1.isAncestor(o,r))&&(r[o.length-1]+=1);break;case"remove_node":var{path:a}=t;if(e1.equals(a,r)||e1.isAncestor(a,r))return null;e1.endsBefore(a,r)&&(r[a.length-1]-=1);break;case"merge_node":var{path:s,position:l}=t;e1.equals(s,r)||e1.endsBefore(s,r)?r[s.length-1]-=1:e1.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=l);break;case"split_node":var{path:u,position:c}=t;if(e1.equals(u,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else e1.endsBefore(u,r)?r[u.length-1]+=1:e1.isAncestor(u,r)&&e[u.length]>=c&&(r[u.length-1]+=1,r[u.length]-=c);break;case"move_node":var{path:A,newPath:d}=t;if(e1.equals(A,d))break;if(e1.isAncestor(A,r)||e1.equals(A,r)){var h=d.slice();return e1.endsBefore(A,d)&&A.length<d.length&&(h[A.length-1]-=1),h.concat(r.slice(A.length))}e1.isSibling(A,d)&&(e1.isAncestor(d,r)||e1.equals(d,r))?e1.endsBefore(A,r)?r[A.length-1]-=1:r[A.length-1]+=1:e1.endsBefore(d,r)||e1.equals(d,r)||e1.isAncestor(d,r)?(e1.endsBefore(A,r)&&(r[A.length-1]-=1),r[d.length-1]+=1):e1.endsBefore(A,r)&&(e1.equals(d,r)&&(r[d.length-1]+=1),r[A.length-1]-=1)}return r}},e2={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=e1.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}};function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e5={compare(e,t){var n=e1.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:+(e.offset>t.offset):n},isAfter(e,t){return 1===e5.compare(e,t)},isBefore(e,t){return -1===e5.compare(e,t)},equals(e,t){return e.offset===t.offset&&e1.equals(e.path,t.path)},isPoint(e){return(0,o.P)(e)&&"number"==typeof e.offset&&e1.isPath(e.path)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return J(e,e=>{if(null===e)return null;var{affinity:r="forward"}=n,{path:i,offset:o}=e;switch(t.type){case"insert_node":case"move_node":e.path=e1.transform(i,t,n);break;case"insert_text":e1.equals(t.path,i)&&(t.offset<o||t.offset===o&&"forward"===r)&&(e.offset+=t.text.length);break;case"merge_node":e1.equals(t.path,i)&&(e.offset+=t.position),e.path=e1.transform(i,t,n);break;case"remove_text":e1.equals(t.path,i)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if(e1.equals(t.path,i)||e1.isAncestor(t.path,i))return null;e.path=e1.transform(i,t,n);break;case"split_node":if(e1.equals(t.path,i))if(t.position===o&&null==r)return null;else(t.position<o||t.position===o&&"forward"===r)&&(e.offset-=t.position,e.path=e1.transform(i,t,e3(e3({},n),{},{affinity:"forward"})));else e.path=e1.transform(i,t,n)}})}},e6={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=e5.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},e8=["anchor","focus"];function e9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var e7={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return e7.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=e7.edges(e);return t},equals(e,t){return e5.equals(e.anchor,t.anchor)&&e5.equals(e.focus,t.focus)},includes(e,t){if(e7.isRange(t)){if(e7.includes(e,t.anchor)||e7.includes(e,t.focus))return!0;var[n,r]=e7.edges(e),[i,o]=e7.edges(t);return e5.isBefore(n,i)&&e5.isAfter(r,o)}var[a,s]=e7.edges(e),l=!1,u=!1;return e5.isPoint(t)?(l=e5.compare(t,a)>=0,u=0>=e5.compare(t,s)):(l=e1.compare(t,a.path)>=0,u=0>=e1.compare(t,s.path)),l&&u},intersection(e,t){var n=eh(e,e8),[r,i]=e7.edges(e),[o,a]=e7.edges(t),s=e5.isBefore(r,o)?o:r,l=e5.isBefore(i,a)?i:a;return e5.isBefore(l,s)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e9(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({anchor:s,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return e5.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return e5.equals(t,n)},isExpanded(e){return!e7.isCollapsed(e)},isForward(e){return!e7.isBackward(e)},isRange(e){return(0,o.P)(e)&&e5.isPoint(e.anchor)&&e5.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=e7.edges(e);return t},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return J(e,e=>{if(null===e)return null;var r,i,{affinity:o="inward"}=n;if("inward"===o){var a=e7.isCollapsed(e);e7.isForward(e)?(r="forward",i=a?r:"backward"):(r="backward",i=a?r:"forward")}else"outward"===o?e7.isForward(e)?(r="backward",i="forward"):(r="forward",i="backward"):(r=o,i=o);var s=e5.transform(e.anchor,t,{affinity:r}),l=e5.transform(e.focus,t,{affinity:i});if(!s||!l)return null;e.anchor=s,e.focus=l})}},te={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=e7.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},tt=void 0,tn={setScrubber(e){tt=e},stringify(e){return JSON.stringify(e,tt)}},tr=(e,t)=>{for(var n in e){var r=e[n],i=t[n];if((0,o.P)(r)&&(0,o.P)(i)){if(!tr(r,i))return!1}else if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(r[a]!==i[a])return!1}else if(r!==i)return!1}for(var s in t)if(void 0===e[s]&&void 0!==t[s])return!1;return!0},ti=["text"],to=["anchor","focus"];function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tl={equals(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;return tr(r?eh(e,ti):e,r?eh(t,ti):t)},isText(e){return(0,o.P)(e)&&"string"==typeof e.text},isTextList(e){return Array.isArray(e)&&e.every(e=>tl.isText(e))},isTextProps(e){return void 0!==e.text},matches(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[ts({},e)];for(var r of t){var i=eh(r,to),[o,a]=e7.edges(r),s=[],l=0,u=o.offset,c=a.offset;for(var A of n){var{length:d}=A.text,h=l;if(l+=d,u<=h&&l<=c){Object.assign(A,i),s.push(A);continue}if(u!==c&&(u===l||c===h)||u>l||c<h||c===h&&0!==h){s.push(A);continue}var f=A,p=void 0,g=void 0;if(c<l){var m=c-h;g=ts(ts({},f),{},{text:f.text.slice(m)}),f=ts(ts({},f),{},{text:f.text.slice(0,m)})}if(u>h){var v=u-h;p=ts(ts({},f),{},{text:f.text.slice(0,v)}),f=ts(ts({},f),{},{text:f.text.slice(v)})}Object.assign(f,i),p&&s.push(p),s.push(f),g&&s.push(g)}n=s}return n}};function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tA=["text"],td=["children"];function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tp=(e,t)=>ej.isElement(t)?!!ez.isVoid(e,t)||1===t.children.length&&tp(e,t.children[0]):!ez.isEditor(t)&&!0,tg=(e,t)=>{var[n]=ez.node(e,t);return e=>e===n};function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tw=tb(tb(tb(tb({},{transform(e,t){e.children=X(e.children);var n=e.selection&&X(e.selection);try{n=((e,t,n)=>{switch(n.type){case"insert_node":var{path:r,node:i}=n,o=eY.parent(e,r),a=r[r.length-1];if(a>o.children.length)throw Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(o.children.splice(a,0,i),t)for(var[s,l]of e7.points(t))t[l]=e5.transform(s,n);break;case"insert_text":var{path:u,offset:c,text:A}=n;if(0===A.length)break;var d=eY.leaf(e,u),h=d.text.slice(0,c),f=d.text.slice(c);if(d.text=h+A+f,t)for(var[p,g]of e7.points(t))t[g]=e5.transform(p,n);break;case"merge_node":var{path:m}=n,v=eY.get(e,m),y=e1.previous(m),b=eY.get(e,y),w=eY.parent(e,m),_=m[m.length-1];if(tl.isText(v)&&tl.isText(b))b.text+=v.text;else if(tl.isText(v)||tl.isText(b))throw Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(tn.stringify(v)," ").concat(tn.stringify(b)));else b.children.push(...v.children);if(w.children.splice(_,1),t)for(var[E,C]of e7.points(t))t[C]=e5.transform(E,n);break;case"move_node":var{path:B,newPath:x}=n;if(e1.isAncestor(B,x))throw Error("Cannot move a path [".concat(B,"] to new path [").concat(x,"] because the destination is inside itself."));var I=eY.get(e,B),T=eY.parent(e,B),S=B[B.length-1];T.children.splice(S,1);var k=e1.transform(B,n),N=eY.get(e,e1.parent(k)),D=k[k.length-1];if(N.children.splice(D,0,I),t)for(var[O,R]of e7.points(t))t[R]=e5.transform(O,n);break;case"remove_node":var{path:F}=n,L=F[F.length-1];if(eY.parent(e,F).children.splice(L,1),t)for(var[U,P]of e7.points(t)){var M=e5.transform(U,n);if(null!=t&&null!=M)t[P]=M;else{var j=void 0,Z=void 0;for(var[Q,H]of eY.texts(e))if(-1===e1.compare(H,F))j=[Q,H];else{Z=[Q,H];break}var V=!1;j&&Z&&(V=e1.equals(Z[1],F)?!e1.hasPrevious(Z[1]):e1.common(j[1],F).length<e1.common(Z[1],F).length),j&&!V?(U.path=j[1],U.offset=j[0].text.length):Z?(U.path=Z[1],U.offset=0):t=null}}break;case"remove_text":var{path:K,offset:z,text:G}=n;if(0===G.length)break;var W=eY.leaf(e,K),q=W.text.slice(0,z),$=W.text.slice(z+G.length);if(W.text=q+$,t)for(var[Y,J]of e7.points(t))t[J]=e5.transform(Y,n);break;case"set_node":var{path:X,properties:ee,newProperties:et}=n;if(0===X.length)throw Error("Cannot set properties on the root node!");var en=eY.get(e,X);for(var er in et){if("children"===er||"text"===er)throw Error('Cannot set the "'.concat(er,'" property of nodes!'));var ei=et[er];null==ei?delete en[er]:en[er]=ei}for(var eo in ee)et.hasOwnProperty(eo)||delete en[eo];break;case"set_selection":var{newProperties:ea}=n;if(null==ea)t=ea;else{if(null==t){if(!e7.isRange(ea))throw Error('Cannot apply an incomplete "set_selection" operation properties '.concat(tn.stringify(ea)," when there is no current selection."));t=tc({},ea)}for(var es in ea){var el=ea[es];if(null==el){if("anchor"===es||"focus"===es)throw Error('Cannot remove the "'.concat(es,'" selection property'));delete t[es]}else t[es]=el}}break;case"split_node":var eu,{path:ec,position:eA,properties:ed}=n;if(0===ec.length)throw Error('Cannot apply a "split_node" operation at path ['.concat(ec,"] because the root node cannot be split."));var eh=eY.get(e,ec),ef=eY.parent(e,ec),ep=ec[ec.length-1];if(tl.isText(eh)){var eg=eh.text.slice(0,eA),em=eh.text.slice(eA);eh.text=eg,eu=tc(tc({},ed),{},{text:em})}else{var ev=eh.children.slice(0,eA),ey=eh.children.slice(eA);eh.children=ev,eu=tc(tc({},ed),{},{children:ey})}if(ef.children.splice(ep+1,0,eu),t)for(var[eb,ew]of e7.points(t))t[ew]=e5.transform(eb,n)}return t})(e,n,t)}finally{e.children=ee(e.children),n?e.selection=s(n)?ee(n):n:e.selection=null}}}),{insertNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ez.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:i=!1,mode:o="lowest"}=n,{at:a,match:s,select:l}=n;if(eY.isNode(t)&&(t=[t]),0!==t.length){var[u]=t;if(a||(a=e.selection?e.selection:e.children.length>0?ez.end(e,[]):[0],l=!0),null==l&&(l=!1),e7.isRange(a))if(r||(a=ez.unhangRange(e,a,{voids:i})),e7.isCollapsed(a))a=a.anchor;else{var[,c]=e7.edges(a),A=ez.pointRef(e,c);tw.delete(e,{at:a}),a=A.unref()}if(e5.isPoint(a)){null==s&&(s=tl.isText(u)?e=>tl.isText(e):e.isInline(u)?t=>tl.isText(t)||ez.isInline(e,t):t=>ez.isBlock(e,t));var[d]=ez.nodes(e,{at:a.path,match:s,mode:o,voids:i});if(!d)return;var[,h]=d,f=ez.pathRef(e,h),p=ez.isEnd(e,a,h);tw.splitNodes(e,{at:a,match:s,mode:o,voids:i});var g=f.unref();a=p?e1.next(g):g}var m=e1.parent(a),v=a[a.length-1];if(!(!i&&ez.void(e,{at:m}))){for(var y of t){var b=m.concat(v);v++,e.apply({type:"insert_node",path:b,node:y}),a=e1.next(a)}if(a=e1.previous(a),l){var w=ez.end(e,a);w&&tw.select(e,w)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ez.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:r="lowest",voids:i=!1}=t,{match:o}=t;if(null==o&&(o=e1.isPath(n)?tg(e,n):t=>ez.isBlock(e,t)),n)for(var a of Array.from(ez.nodes(e,{at:n,match:o,mode:r,voids:i}),t=>{var[,n]=t;return ez.pathRef(e,n)})){var s=a.unref();if(s.length<2)throw Error("Cannot lift node at a path [".concat(s,"] because it has a depth of less than `2`."));var[l,u]=ez.node(e,e1.parent(s)),c=s[s.length-1],{length:A}=l.children;if(1===A){var d=e1.next(u);tw.moveNodes(e,{at:s,to:d,voids:i}),tw.removeNodes(e,{at:u,voids:i})}else if(0===c)tw.moveNodes(e,{at:s,to:u,voids:i});else if(c===A-1){var h=e1.next(u);tw.moveNodes(e,{at:s,to:h,voids:i})}else{var f=e1.next(s),p=e1.next(u);tw.splitNodes(e,{at:f,voids:i}),tw.moveNodes(e,{at:s,to:p,voids:i})}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ez.withoutNormalizing(e,()=>{var n,r,{match:i,at:o=e.selection}=t,{hanging:a=!1,voids:s=!1,mode:l="lowest"}=t;if(o){if(null==i)if(e1.isPath(o)){var[u]=ez.parent(e,o);i=e=>u.children.includes(e)}else i=t=>ez.isBlock(e,t);if(!a&&e7.isRange(o)&&(o=ez.unhangRange(e,o,{voids:s})),e7.isRange(o))if(e7.isCollapsed(o))o=o.anchor;else{var[,c]=e7.edges(o),A=ez.pointRef(e,c);tw.delete(e,{at:o}),o=A.unref(),null==t.at&&tw.select(e,o)}var[d]=ez.nodes(e,{at:o,match:i,voids:s,mode:l}),h=ez.previous(e,{at:o,match:i,voids:s,mode:l});if(d&&h){var[f,p]=d,[g,m]=h;if(0!==p.length&&0!==m.length){var v=e1.next(m),y=e1.common(p,m),b=e1.isSibling(p,m),w=Array.from(ez.levels(e,{at:p}),e=>{var[t]=e;return t}).slice(y.length).slice(0,-1),_=ez.above(e,{at:p,mode:"highest",match:t=>w.includes(t)&&tp(e,t)}),E=_&&ez.pathRef(e,_[1]);if(tl.isText(f)&&tl.isText(g)){var C=eh(f,tA);r=g.text.length,n=C}else if(ej.isElement(f)&&ej.isElement(g)){var C=eh(f,td);r=g.children.length,n=C}else throw Error("Cannot merge the node at path [".concat(p,"] with the previous sibling because it is not the same kind: ").concat(tn.stringify(f)," ").concat(tn.stringify(g)));b||tw.moveNodes(e,{at:p,to:v,voids:s}),E&&tw.removeNodes(e,{at:E.current,voids:s}),ej.isElement(g)&&ez.isEmpty(e,g)||tl.isText(g)&&""===g.text&&0!==m[m.length-1]?tw.removeNodes(e,{at:m,voids:s}):e.apply({type:"merge_node",path:v,position:r,properties:n}),E&&E.unref()}}}})},moveNodes(e,t){ez.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:o=!1}=t,{match:a}=t;if(r){null==a&&(a=e1.isPath(r)?tg(e,r):t=>ez.isBlock(e,t));var s=ez.pathRef(e,n);for(var l of Array.from(ez.nodes(e,{at:r,match:a,mode:i,voids:o}),t=>{var[,n]=t;return ez.pathRef(e,n)})){var u=l.unref(),c=s.current;0!==u.length&&e.apply({type:"move_node",path:u,newPath:c}),s.current&&e1.isSibling(c,u)&&e1.isAfter(c,u)&&(s.current=e1.next(s.current))}s.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ez.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:r=!1,mode:i="lowest"}=t,{at:o=e.selection,match:a}=t;if(o)for(var s of(null==a&&(a=e1.isPath(o)?tg(e,o):t=>ez.isBlock(e,t)),!n&&e7.isRange(o)&&(o=ez.unhangRange(e,o,{voids:r})),Array.from(ez.nodes(e,{at:o,match:a,mode:i,voids:r}),t=>{var[,n]=t;return ez.pathRef(e,n)}))){var l=s.unref();if(l){var[u]=ez.node(e,l);e.apply({type:"remove_node",path:l,node:u})}}})},setNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ez.withoutNormalizing(e,()=>{var{match:r,at:i=e.selection,compare:o,merge:a}=n,{hanging:s=!1,mode:l="lowest",split:u=!1,voids:c=!1}=n;if(i){if(null==r&&(r=e1.isPath(i)?tg(e,i):t=>ez.isBlock(e,t)),!s&&e7.isRange(i)&&(i=ez.unhangRange(e,i,{voids:c})),u&&e7.isRange(i)){if(e7.isCollapsed(i)&&ez.leaf(e,i.anchor)[0].text.length>0)return;var A=ez.rangeRef(e,i,{affinity:"inward"}),[d,h]=e7.edges(i),f="lowest"===l?"lowest":"highest",p=ez.isEnd(e,h,h.path);tw.splitNodes(e,{at:h,match:r,mode:f,voids:c,always:!p});var g=ez.isStart(e,d,d.path);tw.splitNodes(e,{at:d,match:r,mode:f,voids:c,always:!g}),i=A.unref(),null==n.at&&tw.select(e,i)}for(var[m,v]of(o||(o=(e,t)=>e!==t),ez.nodes(e,{at:i,match:r,mode:l,voids:c}))){var y={},b={};if(0!==v.length){var w=!1;for(var _ in t)"children"!==_&&"text"!==_&&o(t[_],m[_])&&(w=!0,m.hasOwnProperty(_)&&(y[_]=m[_]),a?null!=t[_]&&(b[_]=a(m[_],t[_])):null!=t[_]&&(b[_]=t[_]));w&&e.apply({type:"set_node",path:v,properties:y,newProperties:b})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ez.withoutNormalizing(e,()=>{var n,r,{mode:i="lowest",voids:o=!1}=t,{match:a,at:s=e.selection,height:l=0,always:u=!1}=t;if(null==a&&(a=t=>ez.isBlock(e,t)),e7.isRange(s)&&(s=((e,t)=>{if(e7.isCollapsed(t))return t.anchor;var[,n]=e7.edges(t),r=ez.pointRef(e,n);return tw.delete(e,{at:t}),r.unref()})(e,s)),e1.isPath(s)){var c=s,A=ez.point(e,c),[d]=ez.parent(e,c);a=e=>e===d,l=A.path.length-c.length+1,s=A,u=!0}if(s){var h=ez.pointRef(e,s,{affinity:"backward"});try{var[f]=ez.nodes(e,{at:s,match:a,mode:i,voids:o});if(!f)return;var p=ez.void(e,{at:s,mode:"highest"});if(!o&&p){var[g,m]=p;if(ej.isElement(g)&&e.isInline(g)){var v=ez.after(e,m);if(!v){var y=e1.next(m);tw.insertNodes(e,{text:""},{at:y,voids:o}),v=ez.point(e,y)}s=v,u=!0}l=s.path.length-m.length+1,u=!0}n=ez.pointRef(e,s);var b=s.path.length-l,[,w]=f,_=s.path.slice(0,b),E=0===l?s.offset:s.path[b]+0;for(var[C,B]of ez.levels(e,{at:_,reverse:!0,voids:o})){var x=!1;if(B.length<w.length||0===B.length||!o&&ez.isVoid(e,C))break;var I=h.current,T=ez.isEnd(e,I,B);if(u||!h||!ez.isEdge(e,I,B)){x=!0;var S=eY.extractProps(C);e.apply({type:"split_node",path:B,position:E,properties:S})}E=B[B.length-1]+(x||T?1:0)}if(null==t.at){var k=n.current||ez.end(e,[]);tw.select(e,k)}}finally{h.unref(),null==(r=n)||r.unref()}}})},unsetNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var i of t)r[i]=null;tw.setNodes(e,r,n)},unwrapNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ez.withoutNormalizing(e,()=>{var{mode:n="lowest",split:r=!1,voids:i=!1}=t,{at:o=e.selection,match:a}=t;if(o){null==a&&(a=e1.isPath(o)?tg(e,o):t=>ez.isBlock(e,t)),e1.isPath(o)&&(o=ez.range(e,o));var s=e7.isRange(o)?ez.rangeRef(e,o):null;for(var l of Array.from(ez.nodes(e,{at:o,match:a,mode:n,voids:i}),t=>{var[,n]=t;return ez.pathRef(e,n)}).reverse())!function(t){var n=t.unref(),[o]=ez.node(e,n),a=ez.range(e,n);r&&s&&(a=e7.intersection(s.current,a)),tw.liftNodes(e,{at:a,match:e=>ej.isAncestor(o)&&o.children.includes(e),voids:i})}(l);s&&s.unref()}})},wrapNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ez.withoutNormalizing(e,()=>{var{mode:r="lowest",split:i=!1,voids:o=!1}=n,{match:a,at:s=e.selection}=n;if(s){if(null==a&&(a=e1.isPath(s)?tg(e,s):e.isInline(t)?t=>ez.isInline(e,t)||tl.isText(t):t=>ez.isBlock(e,t)),i&&e7.isRange(s)){var[l,u]=e7.edges(s),c=ez.rangeRef(e,s,{affinity:"inward"});tw.splitNodes(e,{at:u,match:a,voids:o}),tw.splitNodes(e,{at:l,match:a,voids:o}),s=c.unref(),null==n.at&&tw.select(e,s)}for(var[,A]of Array.from(ez.nodes(e,{at:s,match:e.isInline(t)?t=>ez.isBlock(e,t):e=>ez.isEditor(e),mode:"lowest",voids:o}))){var d=e7.isRange(s)?e7.intersection(s,ez.range(e,A)):s;if(d){var h=Array.from(ez.nodes(e,{at:d,match:a,mode:r,voids:o}));if(h.length>0&&"continue"===function(){var[n]=h,r=h[h.length-1],[,i]=n,[,a]=r;if(0===i.length&&0===a.length)return"continue";var s=e1.equals(i,a)?e1.parent(i):e1.common(i,a),l=ez.range(e,i,a),[u]=ez.node(e,s),c=s.length+1,A=e1.next(a.slice(0,c)),d=tf(tf({},t),{},{children:[]});tw.insertNodes(e,d,{at:A,voids:o}),tw.moveNodes(e,{at:l,match:e=>ej.isAncestor(u)&&u.children.includes(e),to:A.concat(0),voids:o})}())continue}}}})}}),{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r){if("anchor"===n)tw.select(e,r.anchor);else if("focus"===n)tw.select(e,r.focus);else if("start"===n){var[i]=e7.edges(r);tw.select(e,i)}else if("end"===n){var[,o]=e7.edges(r);tw.select(e,o)}}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:i="character",reverse:o=!1}=t,{edge:a=null}=t;if(n){"start"===a&&(a=e7.isBackward(n)?"focus":"anchor"),"end"===a&&(a=e7.isBackward(n)?"anchor":"focus");var{anchor:s,focus:l}=n,u={distance:r,unit:i},c={};if(null==a||"anchor"===a){var A=o?ez.before(e,s,u):ez.after(e,s,u);A&&(c.anchor=A)}if(null==a||"focus"===a){var d=o?ez.before(e,l,u):ez.after(e,l,u);d&&(c.focus=d)}tw.setSelection(e,c)}},select(e,t){var{selection:n}=e;if(t=ez.range(e,t),n)return void tw.setSelection(e,t);if(!e7.isRange(t))throw Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(tn.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})},setPoint(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r}=e,{edge:i="both"}=n;if(r){"start"===i&&(i=e7.isBackward(r)?"focus":"anchor"),"end"===i&&(i=e7.isBackward(r)?"anchor":"focus");var{anchor:o,focus:a}=r,s="anchor"===i?o:a;tw.setSelection(e,{["anchor"===i?"anchor":"focus"]:tv(tv({},s),t)})}},setSelection(e,t){var{selection:n}=e,r={},i={};if(n){for(var o in t)("anchor"!==o||null==t.anchor||e5.equals(t.anchor,n.anchor))&&("focus"!==o||null==t.focus||e5.equals(t.focus,n.focus))&&("anchor"===o||"focus"===o||t[o]===n[o])||(r[o]=n[o],i[o]=t[o]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}}}),{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ez.withoutNormalizing(e,()=>{var n,{reverse:r=!1,unit:i="character",distance:o=1,voids:a=!1}=t,{at:s=e.selection,hanging:l=!1}=t;if(s){var u=!1;if(e7.isRange(s)&&e7.isCollapsed(s)&&(u=!0,s=s.anchor),e5.isPoint(s)){var c=ez.void(e,{at:s,mode:"highest"});if(!a&&c){var[,A]=c;s=A}else{var d={unit:i,distance:o},h=r?ez.before(e,s,d)||ez.start(e,[]):ez.after(e,s,d)||ez.end(e,[]);s={anchor:s,focus:h},l=!0}}if(e1.isPath(s))return void tw.removeNodes(e,{at:s,voids:a});if(!e7.isCollapsed(s)){if(!l){var[,f]=e7.edges(s),p=ez.end(e,[]);e5.equals(f,p)||(s=ez.unhangRange(e,s,{voids:a}))}var[g,m]=e7.edges(s),v=ez.above(e,{match:t=>ez.isBlock(e,t),at:g,voids:a}),y=ez.above(e,{match:t=>ez.isBlock(e,t),at:m,voids:a}),b=v&&y&&!e1.equals(v[1],y[1]),w=e1.equals(g.path,m.path),_=a?null:ez.void(e,{at:g,mode:"highest"}),E=a?null:ez.void(e,{at:m,mode:"highest"});if(_){var C=ez.before(e,g);C&&v&&e1.isAncestor(v[1],C.path)&&(g=C)}if(E){var B=ez.after(e,m);B&&y&&e1.isAncestor(y[1],B.path)&&(m=B)}var x=[];for(var I of ez.nodes(e,{at:s,voids:a})){var[T,S]=I;n&&0===e1.compare(S,n)||(!a&&ez.isVoid(e,T)||!e1.isCommon(S,g.path)&&!e1.isCommon(S,m.path))&&(x.push(I),n=S)}var k=Array.from(x,t=>{var[,n]=t;return ez.pathRef(e,n)}),N=ez.pointRef(e,g),D=ez.pointRef(e,m),O="";if(!w&&!_){var R=N.current,[F]=ez.leaf(e,R),{path:L}=R,{offset:U}=g,P=F.text.slice(U);P.length>0&&(e.apply({type:"remove_text",path:L,offset:U,text:P}),O=P)}if(k.reverse().map(e=>e.unref()).filter(e=>null!==e).forEach(t=>tw.removeNodes(e,{at:t,voids:a})),!E){var M=D.current,[j]=ez.leaf(e,M),{path:Z}=M,Q=w?g.offset:0,H=j.text.slice(Q,m.offset);H.length>0&&(e.apply({type:"remove_text",path:Z,offset:Q,text:H}),O=H)}!w&&b&&D.current&&N.current&&tw.mergeNodes(e,{at:D.current,hanging:!0,voids:a}),u&&r&&"character"===i&&O.length>1&&O.match(/[\u0E00-\u0E7F]+/)&&tw.insertText(e,O.slice(0,O.length-o));var V=N.unref(),K=D.unref(),z=r?V||K:K||V;null==t.at&&z&&tw.select(e,z)}}})},insertFragment(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ez.withoutNormalizing(e,()=>{var r,{hanging:i=!1,voids:o=!1}=n,{at:a=e.selection}=n;if(t.length){if(a){if(e7.isRange(a))if(i||(a=ez.unhangRange(e,a,{voids:o})),e7.isCollapsed(a))a=a.anchor;else{var[,s]=e7.edges(a);if(!o&&ez.void(e,{at:s}))return;var l=ez.pointRef(e,s);tw.delete(e,{at:a}),a=l.unref()}else e1.isPath(a)&&(a=ez.start(e,a));if(!(!o&&ez.void(e,{at:a}))){var u=ez.above(e,{at:a,match:t=>ez.isInline(e,t),mode:"highest",voids:o});if(u){var[,c]=u;ez.isEnd(e,a,c)?a=ez.after(e,c):ez.isStart(e,a,c)&&(a=ez.before(e,c))}var[,A]=ez.above(e,{match:t=>ez.isBlock(e,t),at:a,voids:o}),d=ez.isStart(e,a,A),h=ez.isEnd(e,a,A),f=d&&h,p=!d||d&&h,g=!h,[,m]=eY.first({children:t},[]),[,v]=eY.last({children:t},[]),y=[],b=t=>{var[n,r]=t;return 0!==r.length&&(!!f||!(p&&e1.isAncestor(r,m)&&ej.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)||g&&e1.isAncestor(r,v)&&ej.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)))};for(var w of eY.nodes({children:t},{pass:b}))b(w)&&y.push(w);var _=[],E=[],C=[],B=!0,x=!1;for(var[I]of y)ej.isElement(I)&&!e.isInline(I)?(B=!1,x=!0,E.push(I)):B?_.push(I):C.push(I);var[T]=ez.nodes(e,{at:a,match:t=>tl.isText(t)||ez.isInline(e,t),mode:"highest",voids:o}),[,S]=T,k=ez.isStart(e,a,S),N=ez.isEnd(e,a,S),D=ez.pathRef(e,h&&!C.length?e1.next(A):A),O=ez.pathRef(e,N?e1.next(S):S);tw.splitNodes(e,{at:a,match:t=>x?ez.isBlock(e,t):tl.isText(t)||ez.isInline(e,t),mode:x?"lowest":"highest",always:x&&(!d||_.length>0)&&(!h||C.length>0),voids:o});var R=ez.pathRef(e,!k||k&&N?e1.next(S):S);if(tw.insertNodes(e,_,{at:R.current,match:t=>tl.isText(t)||ez.isInline(e,t),mode:"highest",voids:o}),f&&!_.length&&E.length&&!C.length&&tw.delete(e,{at:A,voids:o}),tw.insertNodes(e,E,{at:D.current,match:t=>ez.isBlock(e,t),mode:"lowest",voids:o}),tw.insertNodes(e,C,{at:O.current,match:t=>tl.isText(t)||ez.isInline(e,t),mode:"highest",voids:o}),!n.at&&(C.length>0&&O.current?r=e1.previous(O.current):E.length>0&&D.current?r=e1.previous(D.current):R.current&&(r=e1.previous(R.current)),r)){var F=ez.end(e,r);tw.select(e,F)}R.unref(),D.unref(),O.unref()}}}})},insertText(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ez.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:i=e.selection}=n;if(i){if(e1.isPath(i)&&(i=ez.range(e,i)),e7.isRange(i))if(e7.isCollapsed(i))i=i.anchor;else{var o=e7.end(i);if(!r&&ez.void(e,{at:o}))return;var a=e7.start(i),s=ez.pointRef(e,a),l=ez.pointRef(e,o);tw.delete(e,{at:i,voids:r});var u=s.unref(),c=l.unref();i=u||c,tw.setSelection(e,{anchor:i,focus:i})}if(!(!r&&ez.void(e,{at:i}))){var{path:A,offset:d}=i;t.length>0&&e.apply({type:"insert_text",path:A,offset:d,text:t})}}})}})},42294:function(e,t,n){"use strict";var r=n(81867);e.exports=function(e,t){var n=String(e),i=String(t),o=r.pseudoRandomBytes(32);return function(e,t){if(e.length!==t.length)return!1;if(r.timingSafeEqual)return r.timingSafeEqual(e,t);for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(r.createHmac("sha256",o).update(n).digest(),r.createHmac("sha256",o).update(i).digest())&&e===t}},99642:function(e){e.exports="/_next/static/images/eraser-og-ai-5f2e6c94f2dfe2392c4b5207b91a5181.png"},20452:function(e,t,n){"use strict";var r=n(2784),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s(function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})},[e,n,t]),a(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},43100:function(e,t,n){"use strict";e.exports=n(20452)},35580:function(){},98554:function(){},81867:function(){},2947:function(e){class t{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(e,...t){let n=Object.create(null);for(let t in e)n[t]=e[t];return t.forEach(function(e){for(let t in e)n[t]=e[t]}),n}class i{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=n(e)}openNode(e){if(!e.scope)return;let t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){e.scope&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}let o=(e={})=>{let t={children:[]};return Object.assign(t,e),t};class a{constructor(){this.rootNode=o(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let t=o({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"==typeof e||e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{a._collapse(e)}))}}class s extends a{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){let n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new i(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function l(e){return e?"string"==typeof e?e:e.source:null}function u(e){return d("(?=",e,")")}function c(e){return d("(?:",e,")*")}function A(e){return d("(?:",e,")?")}function d(...e){return e.map(e=>l(e)).join("")}function h(...e){let t;return"("+(("object"==typeof(t=e[e.length-1])&&t.constructor===Object?(e.splice(e.length-1,1),t):{}).capture?"":"?:")+e.map(e=>l(e)).join("|")+")"}function f(e){return RegExp(e.toString()+"|").exec("").length-1}let p=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function g(e,{joinWith:t}){let n=0;return e.map(e=>{let t=n+=1,r=l(e),i="";for(;r.length>0;){let e=p.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i}).map(e=>`(${e})`).join(t)}let m="[a-zA-Z]\\w*",v="[a-zA-Z_]\\w*",y="\\b\\d+(\\.\\d+)?",b="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",w="\\b(0b[01]+)",_={begin:"\\\\[\\s\\S]",relevance:0},E=function(e,t,n={}){let i=r({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let o=h("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:d(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},C=E("//","$"),B=E("/\\*","\\*/"),x=E("#","$");var I=Object.freeze({__proto__:null,APOS_STRING_MODE:{scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[_]},BACKSLASH_ESCAPE:_,BINARY_NUMBER_MODE:{scope:"number",begin:w,relevance:0},BINARY_NUMBER_RE:w,COMMENT:E,C_BLOCK_COMMENT_MODE:B,C_LINE_COMMENT_MODE:C,C_NUMBER_MODE:{scope:"number",begin:b,relevance:0},C_NUMBER_RE:b,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:x,IDENT_RE:m,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:{begin:"\\.\\s*"+v,relevance:0},NUMBER_MODE:{scope:"number",begin:y,relevance:0},NUMBER_RE:y,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:{scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[_]},REGEXP_MODE:{scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[_,{begin:/\[/,end:/\]/,relevance:0,contains:[_]}]},RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{let t=/^#![ ]*\//;return e.binary&&(e.begin=d(t,/.*\b/,e.binary,/\b.*/)),r({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:{scope:"title",begin:m,relevance:0},UNDERSCORE_IDENT_RE:v,UNDERSCORE_TITLE_MODE:{scope:"title",begin:v,relevance:0}});function T(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function S(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function k(e,t){!t||e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=T,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function N(e,t){Array.isArray(e.illegal)&&(e.illegal=h(...e.illegal))}function D(e,t){if(e.match){if(e.begin||e.end)throw Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function O(e,t){void 0===e.relevance&&(e.relevance=1)}let R=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw Error("beforeMatch cannot be used with starts");let n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=d(n.beforeMatch,u(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},F=["of","and","for","in","not","or","if","then","parent","list","value"],L={},U=e=>{console.error(e)},P=(e,...t)=>{console.log(`WARN: ${e}`,...t)},M=(e,t)=>{L[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),L[`${e}/${t}`]=!0)},j=Error();function Z(e,t,{key:n}){let r=0,i=e[n],o={},a={};for(let e=1;e<=t.length;e++)a[e+r]=i[e],o[e+r]=!0,r+=f(t[e-1]);e[n]=a,e[n]._emit=o,e[n]._multi=!0}function Q(e){if(e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw U("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),j;if("object"!=typeof e.beginScope||null===e.beginScope)throw U("beginScope must be object"),j;Z(e,e.begin,{key:"beginScope"}),e.begin=g(e.begin,{joinWith:""})}if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw U("skip, excludeEnd, returnEnd not compatible with endScope: {}"),j;if("object"!=typeof e.endScope||null===e.endScope)throw U("endScope must be object"),j;Z(e,e.end,{key:"endScope"}),e.end=g(e.end,{joinWith:""})}}class H extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}let V=Symbol("nomatch"),K=function(e){let i=Object.create(null),o=Object.create(null),a=[],p=!0,m="Could not find the language '{}', did you forget to load/include a language module?",v={disableAutodetect:!0,name:"Plain text",contains:[]},y={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:s};function b(e){return y.noHighlightRe.test(e)}function w(e,t,n){let r="",i="";"object"==typeof t?(r=e,n=t.ignoreIllegals,i=t.language):(M("10.7.0","highlight(lang, code, ...args) has been deprecated."),M("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,r=t),void 0===n&&(n=!0);let o={code:r,language:i};Z("before:highlight",o);let a=o.result?o.result:_(o.language,o.code,n);return a.code=o.code,Z("after:highlight",a),a}function _(e,o,a,s){let u=Object.create(null);function c(){if(!I.keywords)return void P.addText(j);let e=0;I.keywordPatternRe.lastIndex=0;let t=I.keywordPatternRe.exec(j),n="";for(;t;){n+=j.substring(e,t.index);let r=C.case_insensitive?t[0].toLowerCase():t[0],i=I.keywords[r];if(i){let[e,o]=i;if(P.addText(n),n="",u[r]=(u[r]||0)+1,u[r]<=7&&(Z+=o),e.startsWith("_"))n+=t[0];else{let n=C.classNameAliases[e]||e;d(t[0],n)}}else n+=t[0];e=I.keywordPatternRe.lastIndex,t=I.keywordPatternRe.exec(j)}n+=j.substring(e),P.addText(n)}function A(){null!=I.subLanguage?function(){if(""===j)return;let e=null;if("string"==typeof I.subLanguage){if(!i[I.subLanguage])return P.addText(j);e=_(I.subLanguage,j,!0,L[I.subLanguage]),L[I.subLanguage]=e._top}else e=E(j,I.subLanguage.length?I.subLanguage:null);I.relevance>0&&(Z+=e.relevance),P.__addSublanguage(e._emitter,e.language)}():c(),j=""}function d(e,t){""!==e&&(P.startScope(t),P.addText(e),P.endScope())}function h(e,t){let n=1,r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}let r=C.classNameAliases[e[n]]||e[n],i=t[n];r?d(i,r):(j=i,c(),j=""),n++}}function v(e,t){return e.scope&&"string"==typeof e.scope&&P.openNode(C.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(d(j,C.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),j=""):e.beginScope._multi&&(h(e.beginScope,t),j="")),I=Object.create(e,{parent:{value:I}})}let b={};function w(n,r){let i=r&&r[0];if(j+=n,null==i)return A(),0;if("begin"===b.type&&"end"===r.type&&b.index===r.index&&""===i){if(j+=o.slice(r.index,r.index+1),!p){let t=Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=b.rule,t}return 1}if(b=r,"begin"===r.type){let e=r[0],n=r.rule,i=new t(n);for(let t of[n.__beforeBegin,n["on:begin"]])if(t&&(t(r,i),i.isMatchIgnored))return 0===I.matcher.regexIndex?(j+=e[0],1):(z=!0,0);return n.skip?j+=e:(n.excludeBegin&&(j+=e),A(),n.returnBegin||n.excludeBegin||(j=e)),v(n,r),n.returnBegin?0:e.length}if("illegal"!==r.type||a){if("end"===r.type){let e=function(e){let n=e[0],r=o.substring(e.index),i=function e(n,r,i){var o;let a,s=(o=n.endRe,(a=o&&o.exec(i))&&0===a.index);if(s){if(n["on:end"]){let e=new t(n);n["on:end"](r,e),e.isMatchIgnored&&(s=!1)}if(s){for(;n.endsParent&&n.parent;)n=n.parent;return n}}if(n.endsWithParent)return e(n.parent,r,i)}(I,e,r);if(!i)return V;let a=I;I.endScope&&I.endScope._wrap?(A(),d(n,I.endScope._wrap)):I.endScope&&I.endScope._multi?(A(),h(I.endScope,e)):a.skip?j+=n:(a.returnEnd||a.excludeEnd||(j+=n),A(),a.excludeEnd&&(j=n));do I.scope&&P.closeNode(),I.skip||I.subLanguage||(Z+=I.relevance),I=I.parent;while(I!==i.parent);return i.starts&&v(i.starts,e),a.returnEnd?0:n.length}(r);if(e!==V)return e}}else{let e=Error('Illegal lexeme "'+i+'" for mode "'+(I.scope||"<unnamed>")+'"');throw e.mode=I,e}if("illegal"===r.type&&""===i)return j+="\n",1;if(K>1e5&&K>3*r.index)throw Error("potential infinite loop, way more iterations than matches");return j+=i,i.length}let C=T(e);if(!C)throw U(m.replace("{}",e)),Error('Unknown language: "'+e+'"');let B=function(e){function t(t,n){return RegExp(l(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=f(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);let e=this.regexes.map(e=>e[1]);this.matcherRe=t(g(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;let t=this.matcherRe.exec(e);if(!t)return null;let n=t.findIndex((e,t)=>t>0&&void 0!==e),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];let t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){let t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{let t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=r(e.classNameAliases||{}),function n(o,a){let s;if(o.isCompiled)return o;[S,D,Q,R].forEach(e=>e(o,a)),e.compilerExtensions.forEach(e=>e(o,a)),o.__beforeBegin=null,[k,N,O].forEach(e=>e(o,a)),o.isCompiled=!0;let u=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=function e(t,n,r="keyword"){let i=Object.create(null);return"string"==typeof t?o(r,t.split(" ")):Array.isArray(t)?o(r,t):Object.keys(t).forEach(function(r){Object.assign(i,e(t[r],n,r))}),i;function o(e,t){n&&(t=t.map(e=>e.toLowerCase())),t.forEach(function(t){var n,r,o;let a=t.split("|");i[a[0]]=[e,(n=a[0],(r=a[1])?Number(r):+(o=n,!F.includes(o.toLowerCase())))]})}}(o.keywords,e.case_insensitive)),o.keywordPatternRe=t(u,!0),a&&(o.begin||(o.begin=/\B|\b/),o.beginRe=t(o.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(o.endRe=t(o.end)),o.terminatorEnd=l(o.end)||"",o.endsWithParent&&a.terminatorEnd&&(o.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(o.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(e){var t;return((t="self"===e?o:e).variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return r(t,{variants:null},e)})),t.cachedVariants)?t.cachedVariants:!function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(t)?Object.isFrozen(t)?r(t):t:r(t,{starts:t.starts?r(t.starts):null})})),o.contains.forEach(function(e){n(e,o)}),o.starts&&n(o.starts,a),s=new i,o.contains.forEach(e=>s.addRule(e.begin,{rule:e,type:"begin"})),o.terminatorEnd&&s.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&s.addRule(o.illegal,{type:"illegal"}),o.matcher=s,o}(e)}(C),x="",I=s||B,L={},P=new y.__emitter(y),M=[];for(let e=I;e!==C;e=e.parent)e.scope&&M.unshift(e.scope);M.forEach(e=>P.openNode(e));let j="",Z=0,H=0,K=0,z=!1;try{if(C.__emitTokens)C.__emitTokens(o,P);else{for(I.matcher.considerAll();;){K++,z?z=!1:I.matcher.considerAll(),I.matcher.lastIndex=H;let e=I.matcher.exec(o);if(!e)break;let t=o.substring(H,e.index),n=w(t,e);H=e.index+n}w(o.substring(H))}return P.finalize(),x=P.toHTML(),{language:e,value:x,relevance:Z,illegal:!1,_emitter:P,_top:I}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:n(o),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:H,context:o.slice(H-100,H+100),mode:t.mode,resultSoFar:x},_emitter:P};if(p)return{language:e,value:n(o),illegal:!1,relevance:0,errorRaised:t,_emitter:P,_top:I};throw t}}function E(e,t){let r;t=t||y.languages||Object.keys(i);let o=((r={value:n(e),illegal:!1,relevance:0,_top:v,_emitter:new y.__emitter(y)})._emitter.addText(e),r),a=t.filter(T).filter(j).map(t=>_(t,e,!1));a.unshift(o);let[s,l]=a.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(T(e.language).supersetOf===t.language)return 1;else if(T(t.language).supersetOf===e.language)return -1}return 0});return s.secondBest=l,s}function C(e){var t;let n,r=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";let n=y.languageDetectRe.exec(t);if(n){let t=T(n[1]);return t||(P(m.replace("{}",n[1])),P("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>b(e)||T(e))}(e);if(b(r))return;if(Z("before:highlightElement",{el:e,language:r}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(y.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),y.throwUnescapedHTML))throw new H("One of your code blocks includes unescaped HTML.",e.innerHTML);let i=e.textContent,a=r?w(i,{language:r,ignoreIllegals:!0}):E(i);e.innerHTML=a.value,e.dataset.highlighted="yes",t=a.language,n=r&&o[r]||t,e.classList.add("hljs"),e.classList.add(`language-${n}`),e.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(e.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),Z("after:highlightElement",{el:e,result:a,text:i})}let B=!1;function x(){if("loading"===document.readyState){B||window.addEventListener("DOMContentLoaded",function(){x()},!1),B=!0;return}document.querySelectorAll(y.cssSelector).forEach(C)}function T(e){return i[e=(e||"").toLowerCase()]||i[o[e]]}function L(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{o[e.toLowerCase()]=t})}function j(e){let t=T(e);return t&&!t.disableAutodetect}function Z(e,t){a.forEach(function(n){n[e]&&n[e](t)})}for(let t in Object.assign(e,{highlight:w,highlightAuto:E,highlightAll:x,highlightElement:C,highlightBlock:function(e){return M("10.7.0","highlightBlock will be removed entirely in v12.0"),M("10.7.0","Please use highlightElement now."),C(e)},configure:function(e){y=r(y,e)},initHighlighting:()=>{x(),M("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){x(),M("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,n){let r=null;try{r=n(e)}catch(e){if(U("Language definition for '{}' could not be registered.".replace("{}",t)),p)U(e);else throw e;r=v}r.name||(r.name=t),i[t]=r,r.rawDefinition=n.bind(null,e),r.aliases&&L(r.aliases,{languageName:t})},unregisterLanguage:function(e){for(let t of(delete i[e],Object.keys(o)))o[t]===e&&delete o[t]},listLanguages:function(){return Object.keys(i)},getLanguage:T,registerAliases:L,autoDetection:j,inherit:r,addPlugin:function(e){var t;(t=e)["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))}),a.push(e)},removePlugin:function(e){let t=a.indexOf(e);-1!==t&&a.splice(t,1)}}),e.debugMode=function(){p=!1},e.safeMode=function(){p=!0},e.versionString="11.11.1",e.regex={concat:d,lookahead:u,either:h,optional:A,anyNumberOfTimes:c},I)"object"==typeof I[t]&&function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(n=>{let r=t[n],i=typeof r;"object"!==i&&"function"!==i||Object.isFrozen(r)||e(r)}),t}(I[t]);return Object.assign(e,I),e},z=K({});z.newInstance=()=>K({}),e.exports=z,z.HighlightJS=z,z.default=z},84282:function(e,t,n){"use strict";let r,i,o;n.d(t,{Jn:function(){return L},qX:function(){return D},rh:function(){return O},Xd:function(){return N},Mq:function(){return P},C6:function(){return M},ZF:function(){return U},KN:function(){return j},Ub:function(){return Z}});var a=n(31437),s=n(43745),l=n(93980);let u=new WeakMap,c=new WeakMap,A=new WeakMap,d=new WeakMap,h=new WeakMap,f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||A.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function p(e){if(e instanceof IDBRequest){let t;return(t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(p(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)})).then(t=>{t instanceof IDBCursor&&u.set(t,e)}).catch(()=>{}),h.set(t,e),t}if(d.has(e))return d.get(e);let t=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(g(this),t),p(u.get(this))}:function(...t){return p(e.apply(g(this),t))}:function(t,...n){let r=e.call(g(this),t,...n);return A.set(r,t.sort?t.sort():[t]),p(r)};return e instanceof IDBTransaction&&function(e){if(c.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});c.set(e,t)}(e),(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,f):e}(e);return t!==e&&(d.set(e,t),h.set(t,e)),t}let g=e=>h.get(e),m=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],y=new Map;function b(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(y.get(t))return y.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||m.includes(n)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return y.set(t,o),o}f={...o=f,get:(e,t,n)=>b(e,t)||o.get(e,t,n),has:(e,t)=>!!b(e,t)||o.has(e,t)};class w{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{let t;if(t=e.getComponent(),t?.type!=="VERSION")return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let _="@firebase/app",E="0.14.7",C=new s.Yd("@firebase/app"),B="[DEFAULT]",x={[_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},I=new Map,T=new Map,S=new Map;function k(e,t){try{e.container.addComponent(t)}catch(n){C.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function N(e){let t=e.name;if(S.has(t))return C.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(S.set(t,e),I.values()))k(n,e);for(let t of T.values())k(t,e);return!0}function D(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function O(e){return null!=e&&void 0!==e.settings}let R=new l.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class F{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new a.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw R.create("app-deleted",{appName:this._name})}}let L="12.8.0";function U(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r={name:B,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw R.create("bad-app-name",{appName:String(i)});if(n||(n=(0,l.aH)()),!n)throw R.create("no-options");let o=I.get(i);if(o)if((0,l.vZ)(n,o.options)&&(0,l.vZ)(r,o.config))return o;else throw R.create("duplicate-app",{appName:i});let s=new a.H0(i);for(let e of S.values())s.addComponent(e);let u=new F(n,r,s);return I.set(i,u),u}function P(e=B){let t=I.get(e);if(!t&&e===B&&(0,l.aH)())return U();if(!t)throw R.create("no-app",{appName:e});return t}function M(){return Array.from(I.values())}function j(e,t,n){let r=x[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),C.warn(e.join(" "));return}N(new a.wA(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function Z(e){(0,s.Ub)(e)}let Q="firebase-heartbeat-store",H=null;function V(){return H||(H=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(e,1),s=p(a);return r&&a.addEventListener("upgradeneeded",e=>{r(p(a.result),e.oldVersion,e.newVersion,p(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Q)}catch(e){console.warn(e)}}}).catch(e=>{throw R.create("idb-open",{originalErrorMessage:e.message})})),H}async function K(e){try{let t=(await V()).transaction(Q),n=await t.objectStore(Q).get(G(e));return await t.done,n}catch(e){if(e instanceof l.ZR)C.warn(e.message);else{let t=R.create("idb-get",{originalErrorMessage:e?.message});C.warn(t.message)}}}async function z(e,t){try{let n=(await V()).transaction(Q,"readwrite"),r=n.objectStore(Q);await r.put(t,G(e)),await n.done}catch(e){if(e instanceof l.ZR)C.warn(e.message);else{let t=R.create("idb-set",{originalErrorMessage:e?.message});C.warn(t.message)}}}function G(e){return`${e.name}!${e.options.appId}`}class W{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=q();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){C.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=q(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Y(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,l.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return C.warn(e),""}}}function q(){return new Date().toISOString().substring(0,10)}class ${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,l.hl)()&&(0,l.eu)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await K(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return z(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return z(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Y(e){return(0,l.L)(JSON.stringify({version:2,heartbeats:e})).length}N(new a.wA("platform-logger",e=>new w(e),"PRIVATE")),N(new a.wA("heartbeat",e=>new W(e),"PRIVATE")),j(_,E,""),j(_,E,"esm2020"),j("fire-js","")},31437:function(e,t,n){"use strict";n.d(t,{H0:function(){return s},wA:function(){return i}});var r=n(93980);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}if(n)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===o?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},43745:function(e,t,n){"use strict";var r,i;n.d(t,{Ub:function(){return A},Yd:function(){return c},in:function(){return r}});let o=[];(i=r||(r={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";let a={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},s=r.INFO,l={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=l[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=u,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function A(e){o.forEach(t=>{t.setLogLevel(e)})}},30630:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},18770:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},13706:function(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},98788:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return i}})},90581:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},45605:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(501);function i(e,t,n){return(i=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r.Z)(o,n.prototype),o}:Reflect.construct).apply(null,arguments)}function o(e,t,n){return i.apply(null,arguments)}},27805:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return i}})},39309:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(34067),i=n(13706),o=n(1899);function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,r.Z)(e);return n=t?Reflect.construct(a,arguments,(0,r.Z)(this).constructor):a.apply(this,arguments),n&&("object"===(0,o.Z)(n)||"function"==typeof n)?n:(0,i.Z)(this)}}},47842:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},11389:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(34067);function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n||e):o.value}})(e,t,n)}function o(e,t,n){return i(e,t,n)}},34067:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return r(e)}n.d(t,{Z:function(){return i}})},21218:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(501);function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},42838:function(e,t,n){"use strict";function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}n.d(t,{Z:function(){return r}})},33579:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},93520:function(e,t,n){"use strict";function r(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},70865:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(47842);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){(0,r.Z)(e,t,n[t])})}return e}},96670:function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,{Z:function(){return r}})},26297:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},501:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){return r(e,t)}n.d(t,{Z:function(){return i}})},87394:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(18770),i=n(33579),o=n(93520),a=n(15459);function s(e,t){return(0,r.Z)(e)||(0,i.Z)(e,t)||(0,a.Z)(e,t)||(0,o.Z)()}},50930:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(30630),i=n(33579),o=n(15459);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1899:function(e,t,n){"use strict";function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{Z:function(){return r}})},15459:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30630);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return(0,r.Z)(e,t)}}},20624:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(45605),i=n(34067),o=n(501);function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,r.Z)(e,arguments,(0,i.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,o.Z)(n,e)})(e)}function s(e){return a(e)}},9648:function(e,t,n){"use strict";n.d(t,{Z:function(){return tr}});var r=(e,t=0,n=1)=>c(A(t,e),n),i=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=r(e[t],0,255)):3===t&&(e[t]=r(e[t],0,1));return e};let o={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])o[`[object ${e}]`]=e.toLowerCase();function a(e){return o[Object.prototype.toString.call(e)]||"object"}var s=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):"object"==a(e[0])&&t?t.split("").filter(t=>void 0!==e[0][t]).map(t=>e[0][t]):e[0],l=e=>{if(e.length<2)return null;let t=e.length-1;return"string"==a(e[t])?e[t].toLowerCase():null};let{PI:u,min:c,max:A}=Math,d=2*u,h=u/3,f=u/180,p=180/u;var g={format:{},autodetect:[]},m=class{constructor(...e){if("object"===a(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let t=l(e),n=!1;if(!t){for(let r of(n=!0,g.sorted||(g.autodetect=g.autodetect.sort((e,t)=>t.p-e.p),g.sorted=!0),g.autodetect))if(t=r.test(...e))break}if(g.format[t]){const r=g.format[t].apply(null,n?e:e.slice(0,-1));this._rgb=i(r)}else throw Error("unknown format: "+e);3===this._rgb.length&&this._rgb.push(1)}toString(){return"function"==a(this.hex)?this.hex():`[${this._rgb.join(",")}]`}};let v=(...e)=>new v.Color(...e);v.Color=m,v.version="2.6.0";let{max:y}=Math;m.prototype.cmyk=function(){return((...e)=>{let[t,n,r]=s(e,"rgb"),i=1-y(t/=255,y(n/=255,r/=255)),o=i<1?1/(1-i):0;return[(1-t-i)*o,(1-n-i)*o,(1-r-i)*o,i]})(this._rgb)},v.cmyk=(...e)=>new m(...e,"cmyk"),g.format.cmyk=(...e)=>{let[t,n,r,i]=e=s(e,"cmyk"),o=e.length>4?e[4]:1;return 1===i?[0,0,0,o]:[t>=1?0:255*(1-t)*(1-i),n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),o]},g.autodetect.push({p:2,test:(...e)=>{if("array"===a(e=s(e,"cmyk"))&&4===e.length)return"cmyk"}});let b=e=>Math.round(100*e)/100;var w=(...e)=>{let t,n,[r,i,o]=e=s(e,"rgba"),a=c(r/=255,i/=255,o/=255),l=A(r,i,o),u=(l+a)/2;return(l===a?(t=0,n=NaN):t=u<.5?(l-a)/(l+a):(l-a)/(2-l-a),r==l?n=(i-o)/(l-a):i==l?n=2+(o-r)/(l-a):o==l&&(n=4+(r-i)/(l-a)),(n*=60)<0&&(n+=360),e.length>3&&void 0!==e[3])?[n,t,u,e[3]]:[n,t,u]};let{round:_}=Math,{round:E}=Math;var C=(...e)=>{let t,n,r,[i,o,a]=e=s(e,"hsl");if(0===o)t=n=r=255*a;else{let e=[0,0,0],s=[0,0,0],l=a<.5?a*(1+o):a+o-a*o,u=2*a-l,c=i/360;e[0]=c+1/3,e[1]=c,e[2]=c-1/3;for(let t=0;t<3;t++)e[t]<0&&(e[t]+=1),e[t]>1&&(e[t]-=1),6*e[t]<1?s[t]=u+(l-u)*6*e[t]:2*e[t]<1?s[t]=l:3*e[t]<2?s[t]=u+(l-u)*(2/3-e[t])*6:s[t]=u;[t,n,r]=[E(255*s[0]),E(255*s[1]),E(255*s[2])]}return e.length>3?[t,n,r,e[3]]:[t,n,r,1]};let B=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,x=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,I=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,T=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,S=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,k=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,{round:N}=Math,D=e=>{let t;if(e=e.toLowerCase().trim(),g.format.named)try{return g.format.named(e)}catch(e){}if(t=e.match(B)){let e=t.slice(1,4);for(let t=0;t<3;t++)e[t]=+e[t];return e[3]=1,e}if(t=e.match(x)){let e=t.slice(1,5);for(let t=0;t<4;t++)e[t]=+e[t];return e}if(t=e.match(I)){let e=t.slice(1,4);for(let t=0;t<3;t++)e[t]=N(2.55*e[t]);return e[3]=1,e}if(t=e.match(T)){let e=t.slice(1,5);for(let t=0;t<3;t++)e[t]=N(2.55*e[t]);return e[3]=+e[3],e}if(t=e.match(S)){let e=t.slice(1,4);e[1]*=.01,e[2]*=.01;let n=C(e);return n[3]=1,n}if(t=e.match(k)){let e=t.slice(1,4);e[1]*=.01,e[2]*=.01;let n=C(e);return n[3]=+t[4],n}};D.test=e=>B.test(e)||x.test(e)||I.test(e)||T.test(e)||S.test(e)||k.test(e),m.prototype.css=function(e){return((...e)=>{let t=s(e,"rgba"),n=l(e)||"rgb";return"hsl"==n.substr(0,3)?((...e)=>{let t=s(e,"hsla"),n=l(e)||"lsa";return t[0]=b(t[0]||0),t[1]=b(100*t[1])+"%",t[2]=b(100*t[2])+"%","hsla"===n||t.length>3&&t[3]<1?(t[3]=t.length>3?t[3]:1,n="hsla"):t.length=3,`${n}(${t.join(",")})`})(w(t),n):(t[0]=_(t[0]),t[1]=_(t[1]),t[2]=_(t[2]),("rgba"===n||t.length>3&&t[3]<1)&&(t[3]=t.length>3?t[3]:1,n="rgba"),`${n}(${t.slice(0,"rgb"===n?3:4).join(",")})`)})(this._rgb,e)},v.css=(...e)=>new m(...e,"css"),g.format.css=D,g.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&"string"===a(e)&&D.test(e))return"css"}}),g.format.gl=(...e)=>{let t=s(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t},v.gl=(...e)=>new m(...e,"gl"),m.prototype.gl=function(){let e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};let{floor:O}=Math;m.prototype.hcg=function(){return((...e)=>{let t,[n,r,i]=s(e,"rgb"),o=c(n,r,i),a=A(n,r,i),l=a-o;return 0===l?t=NaN:(n===a&&(t=(r-i)/l),r===a&&(t=2+(i-n)/l),i===a&&(t=4+(n-r)/l),(t*=60)<0&&(t+=360)),[t,100*l/255,o/(255-l)*100]})(this._rgb)},v.hcg=(...e)=>new m(...e,"hcg"),g.format.hcg=(...e)=>{let t,n,r,[i,o,a]=e=s(e,"hcg");a*=255;let l=255*o;if(0===o)t=n=r=a;else{360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360);let e=O(i/=60),s=i-e,u=a*(1-o),c=u+l*(1-s),A=u+l*s,d=u+l;switch(e){case 0:[t,n,r]=[d,A,u];break;case 1:[t,n,r]=[c,d,u];break;case 2:[t,n,r]=[u,d,A];break;case 3:[t,n,r]=[u,c,d];break;case 4:[t,n,r]=[A,u,d];break;case 5:[t,n,r]=[d,u,c]}}return[t,n,r,e.length>3?e[3]:1]},g.autodetect.push({p:1,test:(...e)=>{if("array"===a(e=s(e,"hcg"))&&3===e.length)return"hcg"}});let R=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,F=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;var L=e=>{if(e.match(R)){(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(F)){(5===e.length||9===e.length)&&(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=parseInt(e,16),n=Math.round((255&t)/255*100)/100;return[t>>24&255,t>>16&255,t>>8&255,n]}throw Error(`unknown hex color: ${e}`)};let{round:U}=Math;var P=(...e)=>{let[t,n,r,i]=s(e,"rgba"),o=l(e)||"auto";void 0===i&&(i=1),"auto"===o&&(o=i<1?"rgba":"rgb"),t=U(t);let a="000000"+(t<<16|(n=U(n))<<8|(r=U(r))).toString(16);a=a.substr(a.length-6);let u="0"+U(255*i).toString(16);switch(u=u.substr(u.length-2),o.toLowerCase()){case"rgba":return`#${a}${u}`;case"argb":return`#${u}${a}`;default:return`#${a}`}};m.prototype.hex=function(e){return P(this._rgb,e)},v.hex=(...e)=>new m(...e,"hex"),g.format.hex=L,g.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&"string"===a(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});let{cos:M}=Math,{min:j,sqrt:Z,acos:Q}=Math;m.prototype.hsi=function(){return((...e)=>{let t,[n,r,i]=s(e,"rgb"),o=j(n/=255,r/=255,i/=255),a=(n+r+i)/3,l=a>0?1-o/a:0;return 0===l?t=NaN:(t=Q(t=(n-r+(n-i))/2/Z((n-r)*(n-r)+(n-i)*(r-i))),i>r&&(t=d-t),t/=d),[360*t,l,a]})(this._rgb)},v.hsi=(...e)=>new m(...e,"hsi"),g.format.hsi=(...e)=>{let t,n,i,[o,a,l]=e=s(e,"hsi");return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?n=1-((i=(1-a)/3)+(t=(1+a*M(d*o)/M(h-d*o))/3)):o<2/3?(o-=1/3,i=1-((t=(1-a)/3)+(n=(1+a*M(d*o)/M(h-d*o))/3))):(o-=2/3,t=1-((n=(1-a)/3)+(i=(1+a*M(d*o)/M(h-d*o))/3))),t=r(l*t*3),[255*t,255*(n=r(l*n*3)),255*(i=r(l*i*3)),e.length>3?e[3]:1]},g.autodetect.push({p:2,test:(...e)=>{if("array"===a(e=s(e,"hsi"))&&3===e.length)return"hsi"}}),m.prototype.hsl=function(){return w(this._rgb)},v.hsl=(...e)=>new m(...e,"hsl"),g.format.hsl=C,g.autodetect.push({p:2,test:(...e)=>{if("array"===a(e=s(e,"hsl"))&&3===e.length)return"hsl"}});let{floor:H}=Math,{min:V,max:K}=Math;m.prototype.hsv=function(){return((...e)=>{let t,n,[r,i,o]=e=s(e,"rgb"),a=V(r,i,o),l=K(r,i,o),u=l-a;return 0===l?(t=NaN,n=0):(n=u/l,r===l&&(t=(i-o)/u),i===l&&(t=2+(o-r)/u),o===l&&(t=4+(r-i)/u),(t*=60)<0&&(t+=360)),[t,n,l/255]})(this._rgb)},v.hsv=(...e)=>new m(...e,"hsv"),g.format.hsv=(...e)=>{let t,n,r,[i,o,a]=e=s(e,"hsv");if(a*=255,0===o)t=n=r=a;else{360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360);let e=H(i/=60),s=i-e,l=a*(1-o),u=a*(1-o*s),c=a*(1-o*(1-s));switch(e){case 0:[t,n,r]=[a,c,l];break;case 1:[t,n,r]=[u,a,l];break;case 2:[t,n,r]=[l,a,c];break;case 3:[t,n,r]=[l,u,a];break;case 4:[t,n,r]=[c,l,a];break;case 5:[t,n,r]=[a,l,u]}}return[t,n,r,e.length>3?e[3]:1]},g.autodetect.push({p:2,test:(...e)=>{if("array"===a(e=s(e,"hsv"))&&3===e.length)return"hsv"}});let{pow:z}=Math,G=e=>255*(e<=.00304?12.92*e:1.055*z(e,1/2.4)-.055),W=e=>e>.206896552?e*e*e:.12841855*(e-.137931034);var q=(...e)=>{let t,n,r,i,[o,a,l]=e=s(e,"lab");return n=(o+16)/116,t=isNaN(a)?n:n+a/500,r=isNaN(l)?n:n-l/200,n=+W(n),i=G(3.2404542*(t=.95047*W(t))-1.5371385*n-.4985314*(r=1.08883*W(r))),[i,G(-.969266*t+1.8760108*n+.041556*r),G(.0556434*t-.2040259*n+1.0572252*r),e.length>3?e[3]:1]};let{pow:$}=Math,Y=e=>(e/=255)<=.04045?e/12.92:$((e+.055)/1.055,2.4),J=e=>e>.008856452?$(e,1/3):e/.12841855+.137931034;var X=(...e)=>{var t,n,r;let[i,o,a]=s(e,"rgb"),[l,u,c]=(t=i,n=o,r=a,[J((.4124564*(t=Y(t))+.3575761*(n=Y(n))+.1804375*(r=Y(r)))/.95047),J((.2126729*t+.7151522*n+.072175*r)/1),J((.0193339*t+.119192*n+.9503041*r)/1.08883)]),A=116*u-16;return[A<0?0:A,500*(l-u),200*(u-c)]};m.prototype.lab=function(){return X(this._rgb)},v.lab=(...e)=>new m(...e,"lab"),g.format.lab=q,g.autodetect.push({p:2,test:(...e)=>{if("array"===a(e=s(e,"lab"))&&3===e.length)return"lab"}});let{sin:ee,cos:et}=Math;var en=(...e)=>{let[t,n,r]=s(e,"lch");return isNaN(r)&&(r=0),[t,et(r*=f)*n,ee(r)*n]},er=(...e)=>{let[t,n,r]=e=s(e,"lch"),[i,o,a]=en(t,n,r),[l,u,c]=q(i,o,a);return[l,u,c,e.length>3?e[3]:1]};let{sqrt:ei,atan2:eo,round:ea}=Math;var es=(...e)=>{let[t,n,r]=s(e,"lab"),i=ei(n*n+r*r),o=(eo(r,n)*p+360)%360;return 0===ea(1e4*i)&&(o=NaN),[t,i,o]},el=(...e)=>{let[t,n,r]=s(e,"rgb"),[i,o,a]=X(t,n,r);return es(i,o,a)};m.prototype.lch=function(){return el(this._rgb)},m.prototype.hcl=function(){return el(this._rgb).reverse()},v.lch=(...e)=>new m(...e,"lch"),v.hcl=(...e)=>new m(...e,"hcl"),g.format.lch=er,g.format.hcl=(...e)=>er(...s(e,"hcl").reverse()),["lch","hcl"].forEach(e=>g.autodetect.push({p:2,test:(...t)=>{if("array"===a(t=s(t,e))&&3===t.length)return e}}));var eu={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};m.prototype.name=function(){let e=P(this._rgb,"rgb");for(let t of Object.keys(eu))if(eu[t]===e)return t.toLowerCase();return e},g.format.named=e=>{if(eu[e=e.toLowerCase()])return L(eu[e]);throw Error("unknown color name: "+e)},g.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&"string"===a(e)&&eu[e.toLowerCase()])return"named"}}),m.prototype.num=function(){return((...e)=>{let[t,n,r]=s(e,"rgb");return(t<<16)+(n<<8)+r})(this._rgb)},v.num=(...e)=>new m(...e,"num"),g.format.num=e=>{if("number"==a(e)&&e>=0&&e<=0xffffff)return[e>>16,e>>8&255,255&e,1];throw Error("unknown num color: "+e)},g.autodetect.push({p:5,test:(...e)=>{if(1===e.length&&"number"===a(e[0])&&e[0]>=0&&e[0]<=0xffffff)return"num"}});let{round:ec}=Math;m.prototype.rgb=function(e=!0){return!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ec)},m.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,n)=>n<3?!1===e?t:ec(t):t)},v.rgb=(...e)=>new m(...e,"rgb"),g.format.rgb=(...e)=>{let t=s(e,"rgba");return void 0===t[3]&&(t[3]=1),t},g.autodetect.push({p:3,test:(...e)=>{if("array"===a(e=s(e,"rgba"))&&(3===e.length||4===e.length&&"number"==a(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});let{log:eA}=Math;var ed=e=>{let t,n,r,i=e/100;return i<66?(t=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*eA(n),r=i<20?0:-254.76935184120902+.8274096064007395*(r=i-10)+115.67994401066147*eA(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*eA(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*eA(n),r=255),[t,n,r,1]};let{round:eh}=Math;m.prototype.temp=m.prototype.kelvin=m.prototype.temperature=function(){return((...e)=>{let t,n=s(e,"rgb"),r=n[0],i=n[2],o=1e3,a=4e4;for(;a-o>.4;){let e=ed(t=(a+o)*.5);e[2]/e[0]>=i/r?a=t:o=t}return eh(t)})(this._rgb)},v.temp=v.kelvin=v.temperature=(...e)=>new m(...e,"temp"),g.format.temp=g.format.kelvin=g.format.temperature=ed;let{pow:ef,sign:ep}=Math;var eg=(...e)=>{let[t,n,r]=e=s(e,"lab"),i=ef(t+.3963377774*n+.2158037573*r,3),o=ef(t-.1055613458*n-.0638541728*r,3),a=ef(t-.0894841775*n-1.291485548*r,3);return[255*em(4.0767416621*i-3.3077115913*o+.2309699292*a),255*em(-1.2684380046*i+2.6097574011*o-.3413193965*a),255*em(-.0041960863*i-.7034186147*o+1.707614701*a),e.length>3?e[3]:1]};function em(e){let t=Math.abs(e);return t>.0031308?(ep(e)||1)*(1.055*ef(t,1/2.4)-.055):12.92*e}let{cbrt:ev,pow:ey,sign:eb}=Math;var ew=(...e)=>{let[t,n,r]=s(e,"rgb"),[i,o,a]=[e_(t/255),e_(n/255),e_(r/255)],l=ev(.4122214708*i+.5363325363*o+.0514459929*a),u=ev(.2119034982*i+.6806995451*o+.1073969566*a),c=ev(.0883024619*i+.2817188376*o+.6299787005*a);return[.2104542553*l+.793617785*u-.0040720468*c,1.9779984951*l-2.428592205*u+.4505937099*c,.0259040371*l+.7827717662*u-.808675766*c]};function e_(e){let t=Math.abs(e);return t<.04045?e/12.92:(eb(e)||1)*ey((t+.055)/1.055,2.4)}m.prototype.oklab=function(){return ew(this._rgb)},v.oklab=(...e)=>new m(...e,"oklab"),g.format.oklab=eg,g.autodetect.push({p:3,test:(...e)=>{if("array"===a(e=s(e,"oklab"))&&3===e.length)return"oklab"}}),m.prototype.oklch=function(){return((...e)=>{let[t,n,r]=s(e,"rgb"),[i,o,a]=ew(t,n,r);return es(i,o,a)})(this._rgb)},v.oklch=(...e)=>new m(...e,"oklch"),g.format.oklch=(...e)=>{let[t,n,r]=e=s(e,"lch"),[i,o,a]=en(t,n,r),[l,u,c]=eg(i,o,a);return[l,u,c,e.length>3?e[3]:1]},g.autodetect.push({p:3,test:(...e)=>{if("array"===a(e=s(e,"oklch"))&&3===e.length)return"oklch"}}),m.prototype.alpha=function(e,t=!1){return void 0!==e&&"number"===a(e)?t?(this._rgb[3]=e,this):new m([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},m.prototype.clipped=function(){return this._rgb._clipped||!1},m.prototype.darken=function(e=1){let t=this.lab();return t[0]-=18*e,new m(t,"lab").alpha(this.alpha(),!0)},m.prototype.brighten=function(e=1){return this.darken(-e)},m.prototype.darker=m.prototype.darken,m.prototype.brighter=m.prototype.brighten,m.prototype.get=function(e){let[t,n]=e.split("."),r=this[t]();if(!n)return r;{let e=t.indexOf(n)-2*("ok"===t.substr(0,2));if(e>-1)return r[e];throw Error(`unknown channel ${n} in mode ${t}`)}};let{pow:eE}=Math;m.prototype.luminance=function(e,t="rgb"){if(void 0!==e&&"number"===a(e)){if(0===e)return new m([0,0,0,this._rgb[3]],"rgb");if(1===e)return new m([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=20,i=(n,o)=>{let a=n.interpolate(o,.5,t),s=a.luminance();return!(1e-7>Math.abs(e-s))&&r--?s>e?i(n,a):i(a,o):a},o=(n>e?i(new m([0,0,0]),this):i(this,new m([255,255,255]))).rgb();return new m([...o,this._rgb[3]])}return eC(...this._rgb.slice(0,3))};let eC=(e,t,n)=>(e=eB(e),.2126*e+.7152*(t=eB(t))+.0722*(n=eB(n))),eB=e=>(e/=255)<=.03928?e/12.92:eE((e+.055)/1.055,2.4);var ex={},eI=(e,t,n=.5,...r)=>{let i=r[0]||"lrgb";if(ex[i]||r.length||(i=Object.keys(ex)[0]),!ex[i])throw Error(`interpolation mode ${i} is not defined`);return"object"!==a(e)&&(e=new m(e)),"object"!==a(t)&&(t=new m(t)),ex[i](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};m.prototype.mix=m.prototype.interpolate=function(e,t=.5,...n){return eI(this,e,t,...n)},m.prototype.premultiply=function(e=!1){let t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new m([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},m.prototype.saturate=function(e=1){let t=this.lch();return t[1]+=18*e,t[1]<0&&(t[1]=0),new m(t,"lch").alpha(this.alpha(),!0)},m.prototype.desaturate=function(e=1){return this.saturate(-e)},m.prototype.set=function(e,t,n=!1){let[r,i]=e.split("."),o=this[r]();if(!i)return o;{let e=r.indexOf(i)-2*("ok"===r.substr(0,2));if(e>-1){if("string"==a(t))switch(t.charAt(0)){case"+":case"-":o[e]+=+t;break;case"*":o[e]*=t.substr(1);break;case"/":o[e]/=t.substr(1);break;default:o[e]=+t}else if("number"===a(t))o[e]=t;else throw Error("unsupported value for Color.set");let i=new m(o,r);return n?(this._rgb=i._rgb,this):i}throw Error(`unknown channel ${i} in mode ${r}`)}},m.prototype.tint=function(e=.5,...t){return eI(this,"white",e,...t)},m.prototype.shade=function(e=.5,...t){return eI(this,"black",e,...t)},ex.rgb=(e,t,n)=>{let r=e._rgb,i=t._rgb;return new m(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};let{sqrt:eT,pow:eS}=Math;ex.lrgb=(e,t,n)=>{let[r,i,o]=e._rgb,[a,s,l]=t._rgb;return new m(eT(eS(r,2)*(1-n)+eS(a,2)*n),eT(eS(i,2)*(1-n)+eS(s,2)*n),eT(eS(o,2)*(1-n)+eS(l,2)*n),"rgb")},ex.lab=(e,t,n)=>{let r=e.lab(),i=t.lab();return new m(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var ek=(e,t,n,r)=>{let i,o,a,s,l,u,c,A,d,h,f,p;return"hsl"===r?(i=e.hsl(),o=t.hsl()):"hsv"===r?(i=e.hsv(),o=t.hsv()):"hcg"===r?(i=e.hcg(),o=t.hcg()):"hsi"===r?(i=e.hsi(),o=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",i=e.hcl(),o=t.hcl()):"oklch"===r&&(i=e.oklch().reverse(),o=t.oklch().reverse()),("h"===r.substr(0,1)||"oklch"===r)&&([a,l,c]=i,[s,u,A]=o),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?h=NaN:(h=s,(1==c||0==c)&&"hsv"!=r&&(d=u)):(h=a,(1==A||0==A)&&"hsv"!=r&&(d=l)):(p=s>a&&s-a>180?s-(a+360):s<a&&a-s>180?s+360-a:s-a,h=a+n*p),void 0===d&&(d=l+n*(u-l)),f=c+n*(A-c),"oklch"===r?new m([f,d,h],r):new m([h,d,f],r)};let eN=(e,t,n)=>ek(e,t,n,"lch");ex.lch=eN,ex.hcl=eN,ex.num=(e,t,n)=>{let r=e.num();return new m(r+n*(t.num()-r),"num")},ex.hcg=(e,t,n)=>ek(e,t,n,"hcg"),ex.hsi=(e,t,n)=>ek(e,t,n,"hsi"),ex.hsl=(e,t,n)=>ek(e,t,n,"hsl"),ex.hsv=(e,t,n)=>ek(e,t,n,"hsv"),ex.oklab=(e,t,n)=>{let r=e.oklab(),i=t.oklab();return new m(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")},ex.oklch=(e,t,n)=>ek(e,t,n,"oklch");let{pow:eD,sqrt:eO,PI:eR,cos:eF,sin:eL,atan2:eU}=Math,{pow:eP}=Math;function eM(e){let t="rgb",n=v("#ccc"),i=0,o=[0,1],s=[],l=[0,0],u=!1,c=[],A=!1,d=0,h=1,f=!1,p={},g=!0,m=1,y=function(e){if("string"===a(e=e||["#fff","#000"])&&v.brewer&&v.brewer[e.toLowerCase()]&&(e=v.brewer[e.toLowerCase()]),"array"===a(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(let t=0;t<e.length;t++)e[t]=v(e[t]);s.length=0;for(let t=0;t<e.length;t++)s.push(t/(e.length-1))}return C(),c=e},b=function(e){if(null!=u){let t=u.length-1,n=0;for(;n<t&&e>=u[n];)n++;return n-1}return 0},w=e=>e,_=e=>e,E=function(e,i){let o,A;if(null==i&&(i=!1),isNaN(e)||null===e)return n;A=i?e:u&&u.length>2?b(e)/(u.length-2):h!==d?(e-d)/(h-d):1,A=_(A),i||(A=w(A)),1!==m&&(A=eP(A,m));let f=Math.floor(1e4*(A=r(A=l[0]+A*(1-l[0]-l[1]),0,1)));if(g&&p[f])o=p[f];else{if("array"===a(c))for(let e=0;e<s.length;e++){let n=s[e];if(A<=n||A>=n&&e===s.length-1){o=c[e];break}if(A>n&&A<s[e+1]){A=(A-n)/(s[e+1]-n),o=v.interpolate(c[e],c[e+1],A,t);break}}else"function"===a(c)&&(o=c(A));g&&(p[f]=o)}return o};var C=()=>p={};y(e);let B=function(e){let t=v(E(e));return A&&t[A]?t[A]():t};return B.classes=function(e){if(null!=e){if("array"===a(e))u=e,o=[e[0],e[e.length-1]];else{let t=v.analyze(o);u=0===e?[t.min,t.max]:v.limits(t,"e",e)}return B}return u},B.domain=function(e){if(!arguments.length)return o;d=e[0],h=e[e.length-1],s=[];let t=c.length;if(e.length===t&&d!==h)for(let t of Array.from(e))s.push((t-d)/(h-d));else{for(let e=0;e<t;e++)s.push(e/(t-1));if(e.length>2){let t=e.map((t,n)=>n/(e.length-1)),n=e.map(e=>(e-d)/(h-d));n.every((e,n)=>t[n]===e)||(_=e=>{if(e<=0||e>=1)return e;let r=0;for(;e>=n[r+1];)r++;let i=(e-n[r])/(n[r+1]-n[r]);return t[r]+i*(t[r+1]-t[r])})}}return o=[d,h],B},B.mode=function(e){return arguments.length?(t=e,C(),B):t},B.range=function(e,t){return y(e,t),B},B.out=function(e){return A=e,B},B.spread=function(e){return arguments.length?(i=e,B):i},B.correctLightness=function(e){return null==e&&(e=!0),f=e,C(),w=f?function(e){let t=E(0,!0).lab()[0],n=E(1,!0).lab()[0],r=t>n,i=E(e,!0).lab()[0],o=t+(n-t)*e,a=i-o,s=0,l=1,u=20;for(;Math.abs(a)>.01&&u-- >0;)r&&(a*=-1),a<0?(s=e,e+=(l-e)*.5):(l=e,e+=(s-e)*.5),a=(i=E(e,!0).lab()[0])-o;return e}:e=>e,B},B.padding=function(e){return null!=e?("number"===a(e)&&(e=[e,e]),l=e,B):l},B.colors=function(t,n){arguments.length<2&&(n="hex");let r=[];if(0==arguments.length)r=c.slice(0);else if(1===t)r=[B(.5)];else if(t>1){let e=o[0],n=o[1]-e;r=(function(e,t,n){let r=[],i=0<t,o=n?i?t+1:t-1:t;for(let e=0;i?e<o:e>o;i?e++:e--)r.push(e);return r})(0,t,!1).map(r=>B(e+r/(t-1)*n))}else{e=[];let t=[];if(u&&u.length>2)for(let e=1,n=u.length,r=1<=n;r?e<n:e>n;r?e++:e--)t.push((u[e-1]+u[e])*.5);else t=o;r=t.map(e=>B(e))}return v[n]&&(r=r.map(e=>e[n]())),r},B.cache=function(e){return null!=e?(g=e,B):g},B.gamma=function(e){return null!=e?(m=e,B):m},B.nodata=function(e){return null!=e?(n=v(e),B):n},B}let ej=function(e){let t=[1,1];for(let n=1;n<e;n++){let e=[1];for(let n=1;n<=t.length;n++)e[n]=(t[n]||0)+t[n-1];t=e}return t},eZ=function(e){let t,n,r,i;if(2===(e=e.map(e=>new m(e))).length)[n,r]=e.map(e=>e.lab()),t=function(e){return new m([0,1,2].map(t=>n[t]+e*(r[t]-n[t])),"lab")};else if(3===e.length)[n,r,i]=e.map(e=>e.lab()),t=function(e){return new m([0,1,2].map(t=>(1-e)*(1-e)*n[t]+2*(1-e)*e*r[t]+e*e*i[t]),"lab")};else if(4===e.length){let o;[n,r,i,o]=e.map(e=>e.lab()),t=function(e){return new m([0,1,2].map(t=>(1-e)*(1-e)*(1-e)*n[t]+3*(1-e)*(1-e)*e*r[t]+3*(1-e)*e*e*i[t]+e*e*e*o[t]),"lab")}}else if(e.length>=5){let n,r,i;n=e.map(e=>e.lab()),r=ej(i=e.length-1),t=function(e){let t=1-e;return new m([0,1,2].map(o=>n.reduce((n,a,s)=>n+r[s]*t**(i-s)*e**s*a[o],0)),"lab")}}else throw RangeError("No point in running bezier with only one color.");return t},eQ=(e,t,n)=>{if(!eQ[n])throw Error("unknown blend mode "+n);return eQ[n](e,t)},eH=e=>(t,n)=>{let r=v(n).rgb(),i=v(t).rgb();return v.rgb(e(r,i))},eV=e=>(t,n)=>{let r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r};eQ.normal=eH(eV(e=>e)),eQ.multiply=eH(eV((e,t)=>e*t/255)),eQ.screen=eH(eV((e,t)=>255*(1-(1-e/255)*(1-t/255)))),eQ.overlay=eH(eV((e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)))),eQ.darken=eH(eV((e,t)=>e>t?t:e)),eQ.lighten=eH(eV((e,t)=>e>t?e:t)),eQ.dodge=eH(eV((e,t)=>255===e||(e=t/255*255/(1-e/255))>255?255:e)),eQ.burn=eH(eV((e,t)=>255*(1-(1-t/255)/(e/255))));let{pow:eK,sin:ez,cos:eG}=Math,{floor:eW,random:eq}=Math,{log:e$,pow:eY,floor:eJ,abs:eX}=Math;function e0(e,t=null){let n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(e)&&(e=Object.values(e)),e.forEach(e=>{t&&"object"===a(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(e,t)=>e1(n,e,t),n}function e1(e,t="equal",n=7){"array"==a(e)&&(e=e0(e));let{min:r,max:i}=e,o=e.values.sort((e,t)=>e-t);if(1===n)return[r,i];let s=[];if("c"===t.substr(0,1)&&(s.push(r),s.push(i)),"e"===t.substr(0,1)){s.push(r);for(let e=1;e<n;e++)s.push(r+e/n*(i-r));s.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw Error("Logarithmic scales are only possible for values > 0");let e=Math.LOG10E*e$(r),t=Math.LOG10E*e$(i);s.push(r);for(let r=1;r<n;r++)s.push(eY(10,e+r/n*(t-e)));s.push(i)}else if("q"===t.substr(0,1)){s.push(r);for(let e=1;e<n;e++){let t=(o.length-1)*e/n,r=eJ(t);if(r===t)s.push(o[r]);else{let e=t-r;s.push(o[r]*(1-e)+o[r+1]*e)}}s.push(i)}else if("k"===t.substr(0,1)){let e,t=o.length,a=Array(t),l=Array(n),u=!0,c=0,A=null;(A=[]).push(r);for(let e=1;e<n;e++)A.push(r+e/n*(i-r));for(A.push(i);u;){for(let e=0;e<n;e++)l[e]=0;for(let e=0;e<t;e++){let t,r=o[e],i=Number.MAX_VALUE;for(let o=0;o<n;o++){let n=eX(A[o]-r);n<i&&(i=n,t=o),l[t]++,a[e]=t}}let r=Array(n);for(let e=0;e<n;e++)r[e]=null;for(let n=0;n<t;n++)null===r[e=a[n]]?r[e]=o[n]:r[e]+=o[n];for(let e=0;e<n;e++)r[e]*=1/l[e];u=!1;for(let e=0;e<n;e++)if(r[e]!==A[e]){u=!0;break}A=r,++c>200&&(u=!1)}let d={};for(let e=0;e<n;e++)d[e]=[];for(let n=0;n<t;n++)d[e=a[n]].push(o[n]);let h=[];for(let e=0;e<n;e++)h.push(d[e][0]),h.push(d[e][d[e].length-1]);h=h.sort((e,t)=>e-t),s.push(h[0]);for(let e=1;e<h.length;e+=2){let t=h[e];isNaN(t)||-1!==s.indexOf(t)||s.push(t)}}return s}let{sqrt:e2,pow:e4,min:e3,max:e5,atan2:e6,abs:e8,cos:e9,sin:e7,exp:te,PI:tt}=Math,tn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]};for(let e of Object.keys(tn))tn[e.toLowerCase()]=tn[e];Object.assign(v,{average:(e,t="lrgb",n=null)=>{let r=e.length;n||(n=Array.from(Array(r)).map(()=>1));let o=r/n.reduce(function(e,t){return e+t});if(n.forEach((e,t)=>{n[t]*=o}),e=e.map(e=>new m(e)),"lrgb"===t)return((e,t)=>{let n=e.length,r=[0,0,0,0];for(let i=0;i<e.length;i++){let o=e[i],a=t[i]/n,s=o._rgb;r[0]+=eD(s[0],2)*a,r[1]+=eD(s[1],2)*a,r[2]+=eD(s[2],2)*a,r[3]+=s[3]*a}return r[0]=eO(r[0]),r[1]=eO(r[1]),r[2]=eO(r[2]),r[3]>.9999999&&(r[3]=1),new m(i(r))})(e,n);let a=e.shift(),s=a.get(t),l=[],u=0,c=0;for(let e=0;e<s.length;e++)if(s[e]=(s[e]||0)*n[0],l.push(isNaN(s[e])?0:n[0]),"h"===t.charAt(e)&&!isNaN(s[e])){let t=s[e]/180*eR;u+=eF(t)*n[0],c+=eL(t)*n[0]}let A=a.alpha()*n[0];e.forEach((e,r)=>{let i=e.get(t);A+=e.alpha()*n[r+1];for(let e=0;e<s.length;e++)if(!isNaN(i[e]))if(l[e]+=n[r+1],"h"===t.charAt(e)){let t=i[e]/180*eR;u+=eF(t)*n[r+1],c+=eL(t)*n[r+1]}else s[e]+=i[e]*n[r+1]});for(let e=0;e<s.length;e++)if("h"===t.charAt(e)){let t=eU(c/l[e],u/l[e])/eR*180;for(;t<0;)t+=360;for(;t>=360;)t-=360;s[e]=t}else s[e]=s[e]/l[e];return A/=r,new m(s,t).alpha(A>.99999?1:A,!0)},bezier:e=>{let t=eZ(e);return t.scale=()=>eM(t),t},blend:eQ,cubehelix:function(e=300,t=-1.5,n=1,r=1,o=[0,1]){let s=0,l;"array"===a(o)?l=o[1]-o[0]:(l=0,o=[o,o]);let u=function(a){let u=d*((e+120)/360+t*a),c=eK(o[0]+l*a,r),A=(0!==s?n[0]+a*s:n)*c*(1-c)/2,h=eG(u),f=ez(u);return v(i([255*(c+A*(-.14861*h+1.78277*f)),255*(c+A*(-.29227*h-.90649*f)),255*(c+1.97294*h*A),1]))};return u.start=function(t){return null==t?e:(e=t,u)},u.rotations=function(e){return null==e?t:(t=e,u)},u.gamma=function(e){return null==e?r:(r=e,u)},u.hue=function(e){return null==e?n:("array"===a(n=e)?0==(s=n[1]-n[0])&&(n=n[1]):s=0,u)},u.lightness=function(e){return null==e?o:("array"===a(e)?(o=e,l=e[1]-e[0]):(o=[e,e],l=0),u)},u.scale=()=>v.scale(u),u.hue(n),u},mix:eI,interpolate:eI,random:()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789abcdef".charAt(eW(16*eq()));return new m(e,"hex")},scale:eM,analyze:e0,contrast:(e,t)=>{e=new m(e),t=new m(t);let n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},deltaE:function(e,t,n=1,r=1,i=1){var o=function(e){return 360*e/(2*tt)},a=function(e){return 2*tt*e/360};e=new m(e),t=new m(t);let[s,l,u]=Array.from(e.lab()),[c,A,d]=Array.from(t.lab()),h=(s+c)/2,f=(e2(e4(l,2)+e4(u,2))+e2(e4(A,2)+e4(d,2)))/2,p=.5*(1-e2(e4(f,7)/(e4(f,7)+e4(25,7)))),g=l*(1+p),v=A*(1+p),y=e2(e4(g,2)+e4(u,2)),b=e2(e4(v,2)+e4(d,2)),w=(y+b)/2,_=o(e6(u,g)),E=o(e6(d,v)),C=_>=0?_:_+360,B=E>=0?E:E+360,x=e8(C-B)>180?(C+B+360)/2:(C+B)/2,I=1-.17*e9(a(x-30))+.24*e9(a(2*x))+.32*e9(a(3*x+6))-.2*e9(a(4*x-63)),T=B-C;T=180>=e8(T)?T:B<=C?T+360:T-360,T=2*e2(y*b)*e7(a(T)/2);let S=b-y,k=1+.015*e4(h-50,2)/e2(20+e4(h-50,2)),N=1+.045*w,D=1+.015*w*I,O=30*te(-e4((x-275)/25,2)),R=-(2*e2(e4(w,7)/(e4(w,7)+e4(25,7))))*e7(2*a(O));return e5(0,e3(100,e2(e4((c-s)/(n*k),2)+e4(S/(r*N),2)+e4(T/(i*D),2)+S/(r*N)*R*(T/(i*D)))))},distance:function(e,t,n="lab"){e=new m(e),t=new m(t);let r=e.get(n),i=t.get(n),o=0;for(let e in r){let t=(r[e]||0)-(i[e]||0);o+=t*t}return Math.sqrt(o)},limits:e1,valid:(...e)=>{try{return new m(...e),!0}catch(e){return!1}},scales:{cool(){return eM([v.hsl(180,1,.9),v.hsl(250,.7,.4)])},hot(){return eM(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}},input:g,colors:eu,brewer:tn});var tr=v},72813:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return et}});let{entries:r,setPrototypeOf:i,isFrozen:o,getPrototypeOf:a,getOwnPropertyDescriptor:s}=Object,{freeze:l,seal:u,create:c}=Object,{apply:A,construct:d}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),u||(u=function(e){return e}),A||(A=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),d||(d=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});let h=I(Array.prototype.forEach),f=I(Array.prototype.lastIndexOf),p=I(Array.prototype.pop),g=I(Array.prototype.push),m=I(Array.prototype.splice),v=I(String.prototype.toLowerCase),y=I(String.prototype.toString),b=I(String.prototype.match),w=I(String.prototype.replace),_=I(String.prototype.indexOf),E=I(String.prototype.trim),C=I(Object.prototype.hasOwnProperty),B=I(RegExp.prototype.test),x=(Y=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(Y,t)});function I(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return A(e,t,r)}}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;i&&i(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){let e=n(i);e!==i&&(o(t)||(t[r]=e),i=e)}e[i]=!0}return e}function S(e){let t=c(null);for(let[n,i]of r(e))C(e,n)&&(Array.isArray(i)?t[n]=function(e){for(let t=0;t<e.length;t++)C(e,t)||(e[t]=null);return e}(i):i&&"object"==typeof i&&i.constructor===Object?t[n]=S(i):t[n]=i);return t}function k(e,t){for(;null!==e;){let n=s(e,t);if(n){if(n.get)return I(n.get);if("function"==typeof n.value)return I(n.value)}e=a(e)}return function(){return null}}let N=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),L=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=l(["#text"]),P=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),M=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Z=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Q=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),H=u(/<%[\w\W]*|[\w\W]*%>/gm),V=u(/\$\{[\w\W]*/gm),K=u(/^data-[\-\w.\u00B7-\uFFFF]+$/),z=u(/^aria-[\-\w]+$/),G=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=u(/^(?:\w+script|data):/i),q=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$=u(/^html$/i);var Y,J=Object.freeze({__proto__:null,ARIA_ATTR:z,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:u(/^[a-z][.\w]*(-[.\w]+)+$/i),DATA_ATTR:K,DOCTYPE_NAME:$,ERB_EXPR:H,IS_ALLOWED_URI:G,IS_SCRIPT_OR_DATA:W,MUSTACHE_EXPR:Q,TMPLIT_EXPR:V});let X=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},ee=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};var et=function e(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,i=t=>e(t);if(i.version="3.3.0",i.removed=[],!n||!n.document||9!==n.document.nodeType||!n.Element)return i.isSupported=!1,i;let{document:o}=n,a=o,s=a.currentScript,{DocumentFragment:u,HTMLTemplateElement:A,Node:d,Element:I,NodeFilter:Q,NamedNodeMap:H=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:V,DOMParser:K,trustedTypes:z}=n,W=I.prototype,q=k(W,"cloneNode"),Y=k(W,"remove"),et=k(W,"nextSibling"),en=k(W,"childNodes"),er=k(W,"parentNode");if("function"==typeof A){let e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let ei="",{implementation:eo,createNodeIterator:ea,createDocumentFragment:es,getElementsByTagName:el}=o,{importNode:eu}=a,ec=ee();i.isSupported="function"==typeof r&&"function"==typeof er&&eo&&void 0!==eo.createHTMLDocument;let{MUSTACHE_EXPR:eA,ERB_EXPR:ed,TMPLIT_EXPR:eh,DATA_ATTR:ef,ARIA_ATTR:ep,IS_SCRIPT_OR_DATA:eg,ATTR_WHITESPACE:em,CUSTOM_ELEMENT:ev}=J,{IS_ALLOWED_URI:ey}=J,eb=null,ew=T({},[...N,...D,...O,...F,...U]),e_=null,eE=T({},[...P,...M,...j,...Z]),eC=Object.seal(c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eB=null,ex=null,eI=Object.seal(c(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),eT=!0,eS=!0,ek=!1,eN=!0,eD=!1,eO=!0,eR=!1,eF=!1,eL=!1,eU=!1,eP=!1,eM=!1,ej=!0,eZ=!1,eQ=!0,eH=!1,eV={},eK=null,ez=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eG=null,eW=T({},["audio","video","img","source","image","track"]),eq=null,e$=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eY="http://www.w3.org/1998/Math/MathML",eJ="http://www.w3.org/2000/svg",eX="http://www.w3.org/1999/xhtml",e0=eX,e1=!1,e2=null,e4=T({},[eY,eJ,eX],y),e3=T({},["mi","mo","mn","ms","mtext"]),e5=T({},["annotation-xml"]),e6=T({},["title","style","font","a","script"]),e8=null,e9=["application/xhtml+xml","text/html"],e7=null,te=null,tt=o.createElement("form"),tn=function(e){return e instanceof RegExp||e instanceof Function},tr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!te||te!==e){if(e&&"object"==typeof e||(e={}),e=S(e),e7="application/xhtml+xml"===(e8=-1===e9.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?y:v,eb=C(e,"ALLOWED_TAGS")?T({},e.ALLOWED_TAGS,e7):ew,e_=C(e,"ALLOWED_ATTR")?T({},e.ALLOWED_ATTR,e7):eE,e2=C(e,"ALLOWED_NAMESPACES")?T({},e.ALLOWED_NAMESPACES,y):e4,eq=C(e,"ADD_URI_SAFE_ATTR")?T(S(e$),e.ADD_URI_SAFE_ATTR,e7):e$,eG=C(e,"ADD_DATA_URI_TAGS")?T(S(eW),e.ADD_DATA_URI_TAGS,e7):eW,eK=C(e,"FORBID_CONTENTS")?T({},e.FORBID_CONTENTS,e7):ez,eB=C(e,"FORBID_TAGS")?T({},e.FORBID_TAGS,e7):S({}),ex=C(e,"FORBID_ATTR")?T({},e.FORBID_ATTR,e7):S({}),eV=!!C(e,"USE_PROFILES")&&e.USE_PROFILES,eT=!1!==e.ALLOW_ARIA_ATTR,eS=!1!==e.ALLOW_DATA_ATTR,ek=e.ALLOW_UNKNOWN_PROTOCOLS||!1,eN=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,eD=e.SAFE_FOR_TEMPLATES||!1,eO=!1!==e.SAFE_FOR_XML,eR=e.WHOLE_DOCUMENT||!1,eU=e.RETURN_DOM||!1,eP=e.RETURN_DOM_FRAGMENT||!1,eM=e.RETURN_TRUSTED_TYPE||!1,eL=e.FORCE_BODY||!1,ej=!1!==e.SANITIZE_DOM,eZ=e.SANITIZE_NAMED_PROPS||!1,eQ=!1!==e.KEEP_CONTENT,eH=e.IN_PLACE||!1,ey=e.ALLOWED_URI_REGEXP||G,e0=e.NAMESPACE||eX,e3=e.MATHML_TEXT_INTEGRATION_POINTS||e3,e5=e.HTML_INTEGRATION_POINTS||e5,eC=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&tn(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eC.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&tn(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eC.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eC.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eD&&(eS=!1),eP&&(eU=!0),eV&&(eb=T({},U),e_=[],!0===eV.html&&(T(eb,N),T(e_,P)),!0===eV.svg&&(T(eb,D),T(e_,M),T(e_,Z)),!0===eV.svgFilters&&(T(eb,O),T(e_,M),T(e_,Z)),!0===eV.mathMl&&(T(eb,F),T(e_,j),T(e_,Z))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?eI.tagCheck=e.ADD_TAGS:(eb===ew&&(eb=S(eb)),T(eb,e.ADD_TAGS,e7))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?eI.attributeCheck=e.ADD_ATTR:(e_===eE&&(e_=S(e_)),T(e_,e.ADD_ATTR,e7))),e.ADD_URI_SAFE_ATTR&&T(eq,e.ADD_URI_SAFE_ATTR,e7),e.FORBID_CONTENTS&&(eK===ez&&(eK=S(eK)),T(eK,e.FORBID_CONTENTS,e7)),eQ&&(eb["#text"]=!0),eR&&T(eb,["html","head","body"]),eb.table&&(T(eb,["tbody"]),delete eB.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ei=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=X(z,s)),null!==t&&"string"==typeof ei&&(ei=t.createHTML(""));l&&l(e),te=e}},ti=T({},[...D,...O,...R]),to=T({},[...F,...L]),ta=function(e){let t=er(e);t&&t.tagName||(t={namespaceURI:e0,tagName:"template"});let n=v(e.tagName),r=v(t.tagName);return!!e2[e.namespaceURI]&&(e.namespaceURI===eJ?t.namespaceURI===eX?"svg"===n:t.namespaceURI===eY?"svg"===n&&("annotation-xml"===r||e3[r]):!!ti[n]:e.namespaceURI===eY?t.namespaceURI===eX?"math"===n:t.namespaceURI===eJ?"math"===n&&e5[r]:!!to[n]:e.namespaceURI===eX?(t.namespaceURI!==eJ||!!e5[r])&&(t.namespaceURI!==eY||!!e3[r])&&!to[n]&&(e6[n]||!ti[n]):"application/xhtml+xml"===e8&&!!e2[e.namespaceURI])},ts=function(e){g(i.removed,{element:e});try{er(e).removeChild(e)}catch(t){Y(e)}},tl=function(e,t){try{g(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(eU||eP)try{ts(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},tu=function(e){let n=null,r=null;if(eL)e="<remove></remove>"+e;else{let t=b(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===e8&&e0===eX&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let i=t?t.createHTML(e):e;if(e0===eX)try{n=new K().parseFromString(i,e8)}catch(e){}if(!n||!n.documentElement){n=eo.createDocument(e0,"template",null);try{n.documentElement.innerHTML=e1?ei:i}catch(e){}}let a=n.body||n.documentElement;return(e&&r&&a.insertBefore(o.createTextNode(r),a.childNodes[0]||null),e0===eX)?el.call(n,eR?"html":"body")[0]:eR?n.documentElement:a},tc=function(e){return ea.call(e.ownerDocument||e,e,Q.SHOW_ELEMENT|Q.SHOW_COMMENT|Q.SHOW_TEXT|Q.SHOW_PROCESSING_INSTRUCTION|Q.SHOW_CDATA_SECTION,null)},tA=function(e){return e instanceof V&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof H)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},td=function(e){return"function"==typeof d&&e instanceof d};function th(e,t,n){h(e,e=>{e.call(i,t,n,te)})}let tf=function(e){let t=null;if(th(ec.beforeSanitizeElements,e,null),tA(e))return ts(e),!0;let n=e7(e.nodeName);if(th(ec.uponSanitizeElement,e,{tagName:n,allowedTags:eb}),eO&&e.hasChildNodes()&&!td(e.firstElementChild)&&B(/<[/\w!]/g,e.innerHTML)&&B(/<[/\w!]/g,e.textContent)||7===e.nodeType||eO&&8===e.nodeType&&B(/<[/\w]/g,e.data))return ts(e),!0;if(!(eI.tagCheck instanceof Function&&eI.tagCheck(n))&&(!eb[n]||eB[n])){if(!eB[n]&&tg(n)&&(eC.tagNameCheck instanceof RegExp&&B(eC.tagNameCheck,n)||eC.tagNameCheck instanceof Function&&eC.tagNameCheck(n)))return!1;if(eQ&&!eK[n]){let t=er(e)||e.parentNode,n=en(e)||e.childNodes;if(n&&t){let r=n.length;for(let i=r-1;i>=0;--i){let r=q(n[i],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,et(e))}}}return ts(e),!0}return e instanceof I&&!ta(e)||("noscript"===n||"noembed"===n||"noframes"===n)&&B(/<\/no(script|embed|frames)/i,e.innerHTML)?(ts(e),!0):(eD&&3===e.nodeType&&(t=e.textContent,h([eA,ed,eh],e=>{t=w(t,e," ")}),e.textContent!==t&&(g(i.removed,{element:e.cloneNode()}),e.textContent=t)),th(ec.afterSanitizeElements,e,null),!1)},tp=function(e,t,n){if(ej&&("id"===t||"name"===t)&&(n in o||n in tt))return!1;if(eS&&!ex[t]&&B(ef,t));else if(eT&&B(ep,t));else if(eI.attributeCheck instanceof Function&&eI.attributeCheck(t,e));else if(!e_[t]||ex[t]){if(!(tg(e)&&(eC.tagNameCheck instanceof RegExp&&B(eC.tagNameCheck,e)||eC.tagNameCheck instanceof Function&&eC.tagNameCheck(e))&&(eC.attributeNameCheck instanceof RegExp&&B(eC.attributeNameCheck,t)||eC.attributeNameCheck instanceof Function&&eC.attributeNameCheck(t,e))||"is"===t&&eC.allowCustomizedBuiltInElements&&(eC.tagNameCheck instanceof RegExp&&B(eC.tagNameCheck,n)||eC.tagNameCheck instanceof Function&&eC.tagNameCheck(n))))return!1}else if(eq[t]);else if(B(ey,w(n,em,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===_(n,"data:")&&eG[e]);else if(ek&&!B(eg,w(n,em,"")));else if(n)return!1;return!0},tg=function(e){return"annotation-xml"!==e&&b(e,ev)},tm=function(e){th(ec.beforeSanitizeAttributes,e,null);let{attributes:n}=e;if(!n||tA(e))return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:e_,forceKeepAttr:void 0},o=n.length;for(;o--;){let{name:a,namespaceURI:s,value:l}=n[o],u=e7(a),c="value"===a?l:E(l);if(r.attrName=u,r.attrValue=c,r.keepAttr=!0,r.forceKeepAttr=void 0,th(ec.uponSanitizeAttribute,e,r),c=r.attrValue,eZ&&("id"===u||"name"===u)&&(tl(a,e),c="user-content-"+c),eO&&B(/((--!?|])>)|<\/(style|title|textarea)/i,c)||"attributename"===u&&b(c,"href")){tl(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr||!eN&&B(/\/>/i,c)){tl(a,e);continue}eD&&h([eA,ed,eh],e=>{c=w(c,e," ")});let A=e7(e.nodeName);if(!tp(A,u,c)){tl(a,e);continue}if(t&&"object"==typeof z&&"function"==typeof z.getAttributeType)if(s);else switch(z.getAttributeType(A,u)){case"TrustedHTML":c=t.createHTML(c);break;case"TrustedScriptURL":c=t.createScriptURL(c)}if(c!==l)try{s?e.setAttributeNS(s,a,c):e.setAttribute(a,c),tA(e)?ts(e):p(i.removed)}catch(t){tl(a,e)}}th(ec.afterSanitizeAttributes,e,null)},tv=function e(t){let n=null,r=tc(t);for(th(ec.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)th(ec.uponSanitizeShadowNode,n,null),tf(n),tm(n),n.content instanceof u&&e(n.content);th(ec.afterSanitizeShadowDOM,t,null)};return i.sanitize=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,l=null;if((e1=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!td(e))if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw x("dirty is not a string, aborting")}else throw x("toString is not a function");if(!i.isSupported)return e;if(eF||tr(n),i.removed=[],"string"==typeof e&&(eH=!1),eH){if(e.nodeName){let t=e7(e.nodeName);if(!eb[t]||eB[t])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)1===(o=(r=tu("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!eU&&!eD&&!eR&&-1===e.indexOf("<"))return t&&eM?t.createHTML(e):e;if(!(r=tu(e)))return eU?null:eM?ei:""}r&&eL&&ts(r.firstChild);let c=tc(eH?e:r);for(;s=c.nextNode();)tf(s),tm(s),s.content instanceof u&&tv(s.content);if(eH)return e;if(eU){if(eP)for(l=es.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(e_.shadowroot||e_.shadowrootmode)&&(l=eu.call(a,l,!0)),l}let A=eR?r.outerHTML:r.innerHTML;return eR&&eb["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&B($,r.ownerDocument.doctype.name)&&(A="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+A),eD&&h([eA,ed,eh],e=>{A=w(A,e," ")}),t&&eM?t.createHTML(A):A},i.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tr(e),eF=!0},i.clearConfig=function(){te=null,eF=!1},i.isValidAttribute=function(e,t,n){return te||tr({}),tp(e7(e),e7(t),n)},i.addHook=function(e,t){"function"==typeof t&&g(ec[e],t)},i.removeHook=function(e,t){if(void 0!==t){let n=f(ec[e],t);return -1===n?void 0:m(ec[e],n,1)[0]}return p(ec[e])},i.removeHooks=function(e){ec[e]=[]},i.removeAllHooks=function(){ec=ee()},i}()},30686:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r=n(10161);t.Z=r},28667:function(e,t,n){"use strict";n.d(t,{w9:function(){return e1},hJ:function(){return e6},O4:function(){return e3},S$:function(){return eR},Xb:function(){return tm},gK:function(){return tS},v0:function(){return nZ},cx:function(){return nf},k9:function(){return nr},Aj:function(){return tN},MX:function(){return tk},aF:function(){return td},LS:function(){return tg},XB:function(){return tn},_p:function(){return tf},e5:function(){return tv},rh:function(){return nn},F6:function(){return nd},w7:function(){return tD},qB:function(){return ta},gQ:function(){return tw},ck:function(){return tb}});var r,i=n(84282),o=n(93980),a=n(43745),s=n(31437);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let u=new o.LL("auth","Firebase",l()),c=new a.Yd("@firebase/auth");function A(e,...t){c.logLevel<=a.in.ERROR&&c.error(`Auth (${i.Jn}): ${e}`,...t)}function d(e,...t){throw m(e,...t)}function h(e,...t){return m(e,...t)}function f(e,t,n){let r={...l(),[t]:n};return new o.LL("auth","Firebase",r).create(t,{appName:e.name})}function p(e){return f(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&d(e,"argument-error"),f(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return u.create(e,...t)}function v(e,t,...n){if(!e)throw m(t,...n)}function y(e){let t="INTERNAL ASSERTION FAILED: "+e;throw A(t),Error(t)}function b(){return"undefined"!=typeof self&&self.location?.href||""}function w(){return"undefined"!=typeof self&&self.location?.protocol||null}class _{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||y(n),this.isMobile=(0,o.uI)()||(0,o.b$)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===w()||"https:"===w()||(0,o.ru)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function E(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||y(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class C{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let B={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},x=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I=new _(3e4,6e4);function T(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function S(e,t,n,r,i={}){return k(e,i,async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});let s=(0,o.xO)({key:e.config.apiKey,...a}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let u={method:t,headers:l,...i};return(0,o.L_)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,o.Xx)(e.emulatorConfig.host)&&(u.credentials="include"),C.fetch()(await D(e,e.config.apiHost,n,s),u)})}async function k(e,t,n){e._canInitEmulator=!1;let r={...B,...t};try{let t=new O(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let o=await i.json();if("needConfirmation"in o)throw R(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{let[t,n]=(i.ok?o.errorMessage:o.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw R(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===t)throw R(e,"email-already-in-use",o);if("USER_DISABLED"===t)throw R(e,"user-disabled",o);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw f(e,a,n);d(e,a)}}catch(t){if(t instanceof o.ZR)throw t;d(e,"network-request-failed",{message:String(t)})}}async function N(e,t,n,r,i={}){let o=await S(e,t,n,r,i);return"mfaPendingCredential"in o&&d(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function D(e,t,n,r){let i=`${t}${n}?${r}`,o=e.config.emulator?E(e.config,i):`${e.config.apiScheme}://${i}`;return x.includes(n)&&(await e._persistenceManagerAvailable,"COOKIE"===e._getPersistenceType())?e._getPersistence()._getFinalTarget(o).toString():o}class O{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(h(this.auth,"network-request-failed")),I.get())})}}function R(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=h(e,t,r);return i.customData._tokenResponse=n,i}function F(e){return void 0!==e&&void 0!==e.enterprise}class L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)switch(t.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U(e,t){return S(e,"GET","/v2/recaptchaConfig",T(e,t))}async function P(e,t){return S(e,"POST","/v1/accounts:delete",t)}async function M(e,t){return S(e,"POST","/v1/accounts:update",t)}async function j(e,t){return S(e,"POST","/v1/accounts:lookup",t)}function Z(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function Q(e,t=!1){let n=(0,o.m9)(e),r=await n.getIdToken(t),i=V(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let a="object"==typeof i.firebase?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:r,authTime:Z(H(i.auth_time)),issuedAtTime:Z(H(i.iat)),expirationTime:Z(H(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function H(e){return 1e3*Number(e)}function V(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return A("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,o.tV)(n);if(!e)return A("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return A("Caught error parsing JWT payload as JSON",e?.toString()),null}}function K(e){let t=V(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function z(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof o.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(!e)return this.errorBackoff=3e4,Math.max(0,(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class W{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Z(this.lastLoginAt),this.creationTime=Z(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function q(e){var t,n;let r=e.auth,i=await e.getIdToken(),o=await z(e,j(r,{idToken:i}));v(o?.users.length,r,"internal-error");let a=o.users[0];e._notifyReloadListener(a);let s=a.providerUserInfo?.length?Y(a.providerUserInfo):[],l=(t=e.providerData,n=s,[...t.filter(e=>!n.some(t=>t.providerId===e.providerId)),...n]),u=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!l?.length;Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new W(a.createdAt,a.lastLoginAt),isAnonymous:!!u&&c})}async function $(e){let t=(0,o.m9)(e);await q(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Y(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function J(e,t){let n=await k(e,{},async()=>{let n=(0,o.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await D(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,o.Xx)(e.emulatorConfig.host)&&(l.credentials="include"),C.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X(e,t){return S(e,"POST","/v2/accounts:revokeToken",T(e,t))}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):K(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");let t=K(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await J(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ee;return n&&(v("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return y("not implemented")}}function et(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class en{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new W(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await z(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Q(this,e)}reload(){return $(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new en({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,i.rh)(this.auth.app))return Promise.reject(p(this.auth));let e=await this.getIdToken();return await z(this,P(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,o=t.photoURL??void 0,a=t.tenantId??void 0,s=t._redirectEventId??void 0,l=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:c,emailVerified:A,isAnonymous:d,providerData:h,stsTokenManager:f}=t;v(c&&f,e,"internal-error");let p=ee.fromJSON(this.name,f);v("string"==typeof c,e,"internal-error"),et(n,e.name),et(r,e.name),v("boolean"==typeof A,e,"internal-error"),v("boolean"==typeof d,e,"internal-error"),et(i,e.name),et(o,e.name),et(a,e.name),et(s,e.name),et(l,e.name),et(u,e.name);let g=new en({uid:c,auth:e,email:r,emailVerified:A,displayName:n,isAnonymous:d,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:p,createdAt:l,lastLoginAt:u});return h&&Array.isArray(h)&&(g.providerData=h.map(e=>({...e}))),s&&(g._redirectEventId=s),g}static async _fromIdTokenResponse(e,t,n=!1){let r=new ee;r.updateFromServerResponse(t);let i=new en({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await q(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];v(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?Y(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!i?.length,a=new ee;a.updateFromIdToken(n);let s=new en({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o});return Object.assign(s,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new W(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length}),s}}let er=new Map;function ei(e){var t,n;t="Expected a class definition",e instanceof Function||y(t);let r=er.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||y(n)):(r=new e,er.set(e,r)),r}class eo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function ea(e,t,n){return`firebase:${e}:${t}:${n}`}eo.type="NONE";class es{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ea(this.userKey,r.apiKey,i),this.fullPersistenceKey=ea("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){let t=await j(this.auth,{idToken:e}).catch(()=>void 0);return t?en._fromGetAccountInfoResponse(this.auth,t,e):null}return en._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new es(ei(eo),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||ei(eo),o=ea(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(o);if(t){let r;if("string"==typeof t){let n=await j(e,{idToken:t}).catch(()=>void 0);if(!n)break;r=await en._fromGetAccountInfoResponse(e,n,t)}else r=en._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch{}let s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length&&(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch{}}))),new es(i,e,n)}}function el(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(ed(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ef(t))return"Blackberry";if(ep(t))return"Webos";if(ec(t))return"Safari";if((t.includes("chrome/")||eA(t))&&!t.includes("edge/"))return"Chrome";if(eh(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(n?.length===2)return n[1]}return"Other"}function eu(e=(0,o.z$)()){return/firefox\//i.test(e)}function ec(e=(0,o.z$)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eA(e=(0,o.z$)()){return/crios\//i.test(e)}function ed(e=(0,o.z$)()){return/iemobile/i.test(e)}function eh(e=(0,o.z$)()){return/android/i.test(e)}function ef(e=(0,o.z$)()){return/blackberry/i.test(e)}function ep(e=(0,o.z$)()){return/webos/i.test(e)}function eg(e=(0,o.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function em(e=(0,o.z$)()){return eg(e)||eh(e)||ep(e)||ef(e)||/windows phone/i.test(e)||ed(e)}function ev(e,t=[]){let n;switch(e){case"Browser":n=el((0,o.z$)());break;case"Worker":n=`${el((0,o.z$)())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${r}`}class ey{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}async function eb(e,t={}){return S(e,"GET","/v2/passwordPolicy",T(e,t))}class ew{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class e_{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eC(this),this.idTokenSubscription=new eC(this),this.beforeStateQueue=new ey(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted){if(this.persistenceManager=await es.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await j(this,{idToken:e}),n=await en._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,i.rh)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,o=await this.tryRedirectSignIn(e);(!t||t===i)&&o?.user&&(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await q(e)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,i.rh)(this.app))return Promise.reject(p(this));let t=e?(0,o.m9)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,i.rh)(this.app)?Promise.reject(p(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,i.rh)(this.app)?Promise.reject(p(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new ew(await eb(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new o.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await X(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ei(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await es.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return(this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e)?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{let n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ev(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if((0,i.rh)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&function(e,...t){c.logLevel<=a.in.WARN&&c.warn(`Auth (${i.Jn}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function eE(e){return(0,o.m9)(e)}class eC{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,o.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eB={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ex(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eI{constructor(){this.enterprise=new eT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eT{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}let eS="NO_RECAPTCHA";class ek{constructor(e){this.type="recaptcha-enterprise",this.auth=eE(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{U(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new L(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;F(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(eS)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eI().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&F(window.grecaptcha))r(n,e,i);else{var o;if("undefined"==typeof window)return void i(Error("RecaptchaVerifier is only supported in browser"));let t=eB.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(o=t,eB.loadJS(o)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function eN(e,t,n,r=!1,i=!1){let o,a=new ek(e);if(i)o=eS;else try{o=await a.verify(n)}catch(e){o=await a.verify(n,!0)}let s={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function eD(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i)if(!e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await eN(e,t,n,"getOobCode"===n);return r(e,i)}});else{let i=await eN(e,t,n,"getOobCode"===n);return r(e,i)}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let i=await eN(e,t,n);return r(e,i).catch(async i=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await eN(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await eN(e,t,n,!1,!0);return r(e,i)}}async function eO(e){let t=eE(e),n=new L(await U(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new ek(t).verify()}function eR(e,t,n){let r=eE(e);v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,a=eF(t),{host:s,port:l}=function(e){let t=eF(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:eL(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:eL(t)}}}(t),u=null===l?"":`:${l}`,c={url:`${a}//${s}${u}/`},A=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){v(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),v((0,o.vZ)(c,r.config.emulator)&&(0,o.vZ)(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,(0,o.Xx)(s)?((0,o.Uo)(`${a}//${s}${u}`),(0,o.dp)("Auth",!0)):i||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eF(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eL(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class eU{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return y("not implemented")}_getIdTokenResponse(e){return y("not implemented")}_linkToIdToken(e,t){return y("not implemented")}_getReauthenticationResolver(e){return y("not implemented")}}async function eP(e,t){return S(e,"POST","/v1/accounts:update",t)}async function eM(e,t){return S(e,"POST","/v1/accounts:signUp",t)}async function ej(e,t){return N(e,"POST","/v1/accounts:signInWithPassword",T(e,t))}async function eZ(e,t){return S(e,"POST","/v1/accounts:sendOobCode",T(e,t))}async function eQ(e,t){return eZ(e,t)}async function eH(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",T(e,t))}async function eV(e,t){return N(e,"POST","/v1/accounts:signInWithEmailLink",T(e,t))}class eK extends eU{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new eK(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new eK(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return eD(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ej,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eH(e,{email:this._email,oobCode:this._password});default:d(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return eD(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eV(e,{idToken:t,email:this._email,oobCode:this._password});default:d(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ez(e,t){return N(e,"POST","/v1/accounts:signInWithIdp",T(e,t))}class eG extends eU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eG(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):d("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let{providerId:t,signInMethod:n,...r}="string"==typeof e?JSON.parse(e):e;if(!t||!n)return null;let i=new eG(t,n);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){return ez(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,ez(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ez(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,o.xO)(t)}return e}}async function eW(e,t){return S(e,"POST","/v1/accounts:sendVerificationCode",T(e,t))}async function eq(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,t))}async function e$(e,t){let n=await N(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,t));if(n.temporaryProof)throw R(e,"account-exists-with-different-credential",n);return n}let eY={USER_NOT_FOUND:"user-not-found"};async function eJ(e,t){return N(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,{...t,operation:"REAUTH"}),eY)}class eX extends eU{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eX({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eX({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return eq(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return e$(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return eJ(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new eX({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class e0{constructor(e){const t=(0,o.zd)((0,o.pd)(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);v(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t,n,r,i=(n=(t=(0,o.zd)((0,o.pd)(e)).link)?(0,o.zd)((0,o.pd)(t)).deep_link_id:null,((r=(0,o.zd)((0,o.pd)(e)).deep_link_id)?(0,o.zd)((0,o.pd)(r)).link:null)||r||n||t||e);try{return new e0(i)}catch{return null}}}class e1{constructor(){this.providerId=e1.PROVIDER_ID}static credential(e,t){return eK._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=e0.parseLink(t);return v(n,"argument-error"),eK._fromEmailAndCode(e,n.code,n.tenantId)}}e1.PROVIDER_ID="password",e1.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e1.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class e2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class e4 extends e2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class e3 extends e4{static credentialFromJSON(e){let t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),eG._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),eG._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return e3.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return e3.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:a}=e;if(!n&&!r&&!t&&!i||!a)return null;try{return new e3(a)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}class e5 extends e4{constructor(){super("facebook.com")}static credential(e){return eG._fromParams({providerId:e5.PROVIDER_ID,signInMethod:e5.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e5.credentialFromTaggedObject(e)}static credentialFromError(e){return e5.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e5.credential(e.oauthAccessToken)}catch{return null}}}e5.FACEBOOK_SIGN_IN_METHOD="facebook.com",e5.PROVIDER_ID="facebook.com";class e6 extends e4{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eG._fromParams({providerId:e6.PROVIDER_ID,signInMethod:e6.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return e6.credentialFromTaggedObject(e)}static credentialFromError(e){return e6.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return e6.credential(t,n)}catch{return null}}}e6.GOOGLE_SIGN_IN_METHOD="google.com",e6.PROVIDER_ID="google.com";class e8 extends e4{constructor(){super("github.com")}static credential(e){return eG._fromParams({providerId:e8.PROVIDER_ID,signInMethod:e8.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e8.credentialFromTaggedObject(e)}static credentialFromError(e){return e8.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e8.credential(e.oauthAccessToken)}catch{return null}}}e8.GITHUB_SIGN_IN_METHOD="github.com",e8.PROVIDER_ID="github.com";class e9 extends e4{constructor(){super("twitter.com")}static credential(e,t){return eG._fromParams({providerId:e9.PROVIDER_ID,signInMethod:e9.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return e9.credentialFromTaggedObject(e)}static credentialFromError(e){return e9.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return e9.credential(t,n)}catch{return null}}}async function e7(e,t){return N(e,"POST","/v1/accounts:signUp",T(e,t))}e9.TWITTER_SIGN_IN_METHOD="twitter.com",e9.PROVIDER_ID="twitter.com";class te{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new te({user:await en._fromIdTokenResponse(e,n,r),providerId:tt(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new te({user:e,providerId:tt(n),_tokenResponse:n,operationType:t})}}function tt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function tn(e){if((0,i.rh)(e.app))return Promise.reject(p(e));let t=eE(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new te({user:t.currentUser,providerId:null,operationType:"signIn"});let n=await e7(t,{returnSecureToken:!0}),r=await te._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}class tr extends o.ZR{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tr.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tr(e,t,n,r)}}function ti(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw tr._fromErrorAndOperation(e,n,t,r);throw n})}function to(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function ta(e,t){let n=(0,o.m9)(e);await tl(!0,n,t);let{providerUserInfo:r}=await M(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=to(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ts(e,t,n=!1){let r=await z(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return te._forOperation(e,"link",r)}async function tl(e,t,n){await q(t),v(to(t.providerData).has(n)===e,t.auth,!1===e?"provider-already-linked":"no-such-provider")}async function tu(e,t,n=!1){let{auth:r}=e;if((0,i.rh)(r.app))return Promise.reject(p(r));let o="reauthenticate";try{let i=await z(e,ti(r,o,t,e),n);v(i.idToken,r,"internal-error");let a=V(i.idToken);v(a,r,"internal-error");let{sub:s}=a;return v(e.uid===s,r,"user-mismatch"),te._forOperation(e,o,i)}catch(e){throw e?.code==="auth/user-not-found"&&d(r,"user-mismatch"),e}}async function tc(e,t,n=!1){if((0,i.rh)(e.app))return Promise.reject(p(e));let r="signIn",o=await ti(e,r,t),a=await te._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(a.user),a}async function tA(e,t){return tc(eE(e),t)}async function td(e,t){return tu((0,o.m9)(e),t)}async function th(e,t){return N(e,"POST","/v1/accounts:signInWithCustomToken",T(e,t))}async function tf(e,t){if((0,i.rh)(e.app))return Promise.reject(p(e));let n=eE(e),r=await th(n,{token:t,returnSecureToken:!0}),o=await te._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(o.user),o}async function tp(e){let t=eE(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function tg(e,t,n){let r=eE(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&(v(n.url?.length>0,r,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),v(void 0===n.linkDomain||n.linkDomain.length>0,r,"invalid-hosting-link-domain"),i.continueUrl=n.url,i.dynamicLinkDomain=n.dynamicLinkDomain,i.linkDomain=n.linkDomain,i.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),i.iOSBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,r,"missing-android-pkg-name"),i.androidInstallApp=n.android.installApp,i.androidMinimumVersionCode=n.android.minimumVersion,i.androidPackageName=n.android.packageName)),await eD(r,i,"getOobCode",eQ,"EMAIL_PASSWORD_PROVIDER")}async function tm(e,t,n){if((0,i.rh)(e.app))return Promise.reject(p(e));let r=eE(e),o=eD(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e7,"EMAIL_PASSWORD_PROVIDER"),a=await o.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tp(e),t}),s=await te._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function tv(e,t,n){return(0,i.rh)(e.app)?Promise.reject(p(e)):tA((0,o.m9)(e),e1.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tp(e),t})}async function ty(e,t){return S(e,"POST","/v1/accounts:update",t)}async function tb(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;let r=(0,o.m9)(e),i=await r.getIdToken(),a=await z(r,ty(r.auth,{idToken:i,displayName:t,photoUrl:n,returnSecureToken:!0}));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;let s=r.providerData.find(({providerId:e})=>"password"===e);s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function tw(e,t){return t_((0,o.m9)(e),null,t)}async function t_(e,t,n){let{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);let o=await z(e,eP(r,i));await e._updateTokensIfNecessary(o,!0)}class tE{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class tC extends tE{constructor(e,t,n,r){super(e,t,n),this.username=r}}class tB extends tE{constructor(e,t){super(e,"facebook.com",t)}}class tx extends tC{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class tI extends tE{constructor(e,t){super(e,"google.com",t)}}class tT extends tC{constructor(e,t,n){super(e,"twitter.com",t,n)}}function tS(e){let{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){if(!e)return null;let{providerId:t}=e,n=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},r=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!t&&e?.idToken){let t=V(e.idToken)?.firebase?.sign_in_provider;if(t)return new tE(r,"anonymous"!==t&&"custom"!==t?t:null)}if(!t)return null;switch(t){case"facebook.com":return new tB(r,n);case"github.com":return new tx(r,n);case"google.com":return new tI(r,n);case"twitter.com":return new tT(r,n,e.screenName||null);case"custom":case"anonymous":return new tE(r,null);default:return new tE(r,t,n)}}(n)}function tk(e,t,n,r){return(0,o.m9)(e).onIdTokenChanged(t,n,r)}function tN(e,t,n,r){return(0,o.m9)(e).onAuthStateChanged(t,n,r)}function tD(e){return(0,o.m9)(e).signOut()}function tO(e,t){return S(e,"POST","/v2/accounts/mfaEnrollment:start",T(e,t))}new WeakMap;let tR="__sak";class tF{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(tR,"1"),this.storage.removeItem(tR),Promise.resolve(!0)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tL extends tF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=em(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,o.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tL.type="LOCAL";class tU extends tF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tU.type="SESSION";class tP{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new tP(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!i?.size)return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let o=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(o.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function tM(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}tP.receivers=[];class tj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i,o="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!o)throw Error("connection_unavailable");return new Promise((a,s)=>{let l=tM("",20);o.port1.start();let u=setTimeout(()=>{s(Error("unsupported_event"))},n);i={messageChannel:o,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{s(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(u),clearTimeout(r),s(Error("invalid_response"))}}},this.handlers.add(i),o.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[o.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function tZ(){return window}function tQ(){return void 0!==tZ().WorkerGlobalScope&&"function"==typeof tZ().importScripts}async function tH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}let tV="firebaseLocalStorageDb",tK="firebaseLocalStorage",tz="fbase_key";class tG{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tW(e,t){return e.transaction([tK],t?"readwrite":"readonly").objectStore(tK)}function tq(){let e=indexedDB.open(tV,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(tK,{keyPath:tz})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(tK)?t(n):(n.close(),await new tG(indexedDB.deleteDatabase(tV)).toPromise(),t(await tq()))})})}async function t$(e,t,n){return new tG(tW(e,!0).put({[tz]:t,value:n})).toPromise()}async function tY(e,t){let n=tW(e,!1).get(t),r=await new tG(n).toPromise();return void 0===r?null:r.value}function tJ(e,t){return new tG(tW(e,!0).delete(t)).toPromise()}class tX{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await tq()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tQ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tP._getInstance(tQ()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tH(),!this.activeServiceWorker)return;this.sender=new tj(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tq();return await t$(e,tR,"1"),await tJ(e,tR),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>t$(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>tY(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tJ(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new tG(tW(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function t0(e,t){return S(e,"POST","/v2/accounts/mfaSignIn:start",T(e,t))}tX.type="LOCAL",ex("rcb"),new _(3e4,6e4);let t1="recaptcha";async function t2(e,t,n){if(!e._getRecaptchaConfig())try{await eO(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){let t=r.session;if("phoneNumber"in r){v("enroll"===t.type,e,"internal-error");let i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===eS){v(n?.type===t1,e,"argument-error");let r=await t4(e,t,n);return tO(e,r)}return tO(e,t)},a=eD(e,i,"mfaSmsEnrollment",o,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");let i=r.multiFactorHint?.uid||r.multiFactorUid;v(i,e,"missing-multi-factor-info");let o={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===eS){v(n?.type===t1,e,"argument-error");let r=await t4(e,t,n);return t0(e,r)}return t0(e,t)},s=eD(e,o,"mfaSmsSignIn",a,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=async(e,t)=>{if(t.captchaResponse===eS){v(n?.type===t1,e,"argument-error");let r=await t4(e,t,n);return eW(e,r)}return eW(e,t)},o=eD(e,t,"sendVerificationCode",i,"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function t4(e,t,n){v(n.type===t1,e,"argument-error");let r=await n.verify();v("string"==typeof r,e,"argument-error");let i={...t};if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}class t3{constructor(e){this.providerId=t3.PROVIDER_ID,this.auth=eE(e)}verifyPhoneNumber(e,t){return t2(this.auth,e,(0,o.m9)(t))}static credential(e,t){return eX._fromVerification(e,t)}static credentialFromResult(e){return t3.credentialFromTaggedObject(e)}static credentialFromError(e){return t3.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?eX._fromTokenResponse(t,n):null}}function t5(e,t){return t?ei(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}t3.PROVIDER_ID="phone",t3.PHONE_SIGN_IN_METHOD="phone";class t6 extends eU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ez(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ez(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ez(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function t8(e){return tc(e.auth,new t6(e),e.bypassAuthState)}function t9(e){let{auth:t,user:n}=e;return v(n,t,"internal-error"),tu(n,new t6(e),e.bypassAuthState)}async function t7(e){let{auth:t,user:n}=e;return v(n,t,"internal-error"),ts(n,new t6(e),e.bypassAuthState)}class ne{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t8;case"linkViaPopup":case"linkViaRedirect":return t7;case"reauthViaPopup":case"reauthViaRedirect":return t9;default:d(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||y(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||y(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let nt=new _(2e3,1e4);async function nn(e,t,n){if((0,i.rh)(e.app))return Promise.reject(h(e,"operation-not-supported-in-this-environment"));let r=eE(e);g(e,t,e2);let o=t5(r,n);return new ni(r,"signInViaPopup",t,o).executeNotNull()}async function nr(e,t,n){let r=(0,o.m9)(e);g(r.auth,t,e2);let i=t5(r.auth,n);return new ni(r.auth,"linkViaPopup",t,i,r).executeNotNull()}class ni extends ne{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ni.currentPopupAction&&ni.currentPopupAction.cancel(),ni.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||y(t);let n=tM();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(h(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(h(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ni.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(h(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nt.get())};e()}}ni.currentPopupAction=null;let no=new Map;class na extends ne{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=no.get(this.auth._key());if(!e){try{let t=await ns(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}no.set(this.auth._key(),e)}return this.bypassAuthState||no.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ns(e,t){let n=nA(t),r=nc(e);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}async function nl(e,t){return nc(e)._set(nA(t),"true")}function nu(e,t){no.set(e._key(),t)}function nc(e){return ei(e._redirectPersistence)}function nA(e){return ea("pendingRedirect",e.config.apiKey,e.name)}function nd(e,t,n){return nh(e,t,n)}async function nh(e,t,n){if((0,i.rh)(e.app))return Promise.reject(p(e));let r=eE(e);g(e,t,e2),await r._initializationPromise;let o=t5(r,n);return await nl(o,r),o._openRedirect(r,t,"signInViaRedirect")}async function nf(e,t){return await eE(e)._initializationPromise,np(e,t,!1)}async function np(e,t,n=!1){if((0,i.rh)(e.app))return Promise.reject(p(e));let r=eE(e),o=t5(r,t),a=new na(r,o,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ng{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nv(e)){let n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(h(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nm(e))}saveEventToCache(e){this.cachedEventUids.add(nm(e)),this.lastProcessedEventTime=Date.now()}}function nm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function nv({type:e,error:t}){return"unknown"===e&&t?.code==="auth/no-auth-event"}async function ny(e,t={}){return S(e,"GET","/v1/projects",t)}let nb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nw=/^https?/;async function n_(e){if(e.config.emulator)return;let{authorizedDomains:t}=await ny(e);for(let e of t)try{if(function(e){let t=b(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!nw.test(n))return!1;if(nb.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch{}d(e,"unauthorized-domain")}let nE=new _(3e4,6e4);function nC(){let e=tZ().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let nB=null,nx=new _(5e3,15e3),nI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function nS(e){let t,n,r,a,s,l=await (nB=nB||new Promise((t,n)=>{function r(){nC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nC(),n(h(e,"network-request-failed"))},timeout:nE.get()})}if(tZ().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(tZ().gapi?.load)r();else{var i;let t=ex("iframefcb");return tZ()[t]=()=>{gapi.load?r():n(h(e,"network-request-failed"))},(i=`${eB.gapiScript}?onload=${t}`,eB.loadJS(i)).catch(e=>n(e))}}).catch(e=>{throw nB=null,e})),u=tZ().gapi;return v(u,e,"internal-error"),l.open({where:document.body,url:(v((t=e.config).authDomain,e,"auth-domain-config-required"),n=t.emulator?E(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:i.Jn},(a=nT.get(e.config.apiHost))&&(r.eid=a),(s=e._getFrameworks()).length&&(r.fw=s.join(",")),`${n}?${(0,o.xO)(r).slice(1)}`),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nI,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=h(e,"network-request-failed"),o=tZ().setTimeout(()=>{r(i)},nx.get());function a(){tZ().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}let nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let nD=encodeURIComponent("fac");async function nO(e,t,n,r,a,s){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:i.Jn,eventId:a};if(t instanceof e2)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,o.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))l[n]=r;if(t instanceof e4){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}for(let t of(e.tenantId&&(l.tid=e.tenantId),Object.keys(l)))void 0===l[t]&&delete l[t];let u=await e._getAppCheckToken(),c=u?`#${nD}=${encodeURIComponent(u)}`:"";return`${function({config:e}){return e.emulator?E(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,o.xO)(l).slice(1)}${c}`}let nR="webStorageSupport",nF=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tU,this._completeRedirectFn=np,this._overrideRedirectResult=nu}async _openPopup(e,t,n,r){var i,a;i=this.eventManagers[e._key()]?.manager,a="_initialize() not called before _openPopup()",i||y(a);let s=await nO(e,t,n,b(),r);return function(e,t,n,r=500,i=600){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",u={...nk,width:r.toString(),height:i.toString(),top:a,left:s},c=(0,o.z$)().toLowerCase();n&&(l=eA(c)?"_blank":n),eu(c)&&(t=t||"http://localhost",u.scrollbars="yes");let A=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,o.z$)()){return eg(e)&&!!window.navigator?.standalone}(c)&&"_self"!==l){var d,h;let e,n;return d=t||"",h=l,(e=document.createElement("a")).href=d,e.target=h,(n=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n),new nN(null)}let f=window.open(t||"",l,A);v(f,e,"popup-blocked");try{f.focus()}catch(e){}return new nN(f)}(e,s,tM())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await nO(e,t,n,b(),r),tZ().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||y(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await nS(e),n=new ng(e);return t.register("authEvent",t=>(v(t?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nR,{type:nR},n=>{let r=n?.[0]?.[nR];void 0!==r&&t(!!r),d(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=n_(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return em()||ec()||eg()}};var nL="@firebase/auth",nU="1.12.0";class nP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let nM=(0,o.Pz)("authIdTokenMaxAge")||300,nj=null;function nZ(e=(0,i.Mq)()){let t=(0,i.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=(0,i.qX)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if((0,o.vZ)(r,t??{}))return e;d(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:nF,persistence:[tX,tL,tU]}),r=(0,o.Pz)("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t,r=(t=e.toString(),async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nM)return;let i=n?.token;nj!==i&&(nj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});(0,o.m9)(n).beforeAuthStateChanged(r,()=>r(n.currentUser)),tk(n,e=>r(e))}}let a=(0,o.q4)("auth");return a&&eR(n,`http://${a}`),n}eB={loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{let t=h("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},r="Browser",(0,i.Xd)(new s.wA("auth",(e,{options:t})=>{let n,i,o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=o.options;v(l&&!l.includes(":"),"invalid-api-key",{appName:o.name});let c=new e_(o,a,s,{apiKey:l,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ev(r)});return i=(Array.isArray(n=t?.persistence||[])?n:[n]).map(ei),t?.errorMap&&c._updateErrorMap(t.errorMap),c._initializeWithPersistence(i,t?.popupRedirectResolver),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,i.Xd)(new s.wA("auth-internal",e=>new nP(eE(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(nL,nU,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(r)),(0,i.KN)(nL,nU,"esm2020")},84215:function(e,t,n){"use strict";let r,i,o,a,s,l,u,c,A,d,h,f,p;n.d(t,{iU:function(){return rU},dH:function(){return r6},U2:function(){return rQ},N8:function(){return r5},S1:function(){return r$},yv:function(){return rG},Jr:function(){return rW},MQ:function(){return rq},ae:function(){return rP},jM:function(){return rz},R:function(){return r1},VF:function(){return rM},IO:function(){return r2},iH:function(){return rL},Od:function(){return rj},i3:function(){return ie},Bt:function(){return r9},t8:function(){return rZ},TQ:function(){return rX}});var g,m,v=n(84282),y=n(31437),b=n(93980),w=n(43745),_=n(34406);let E="@firebase/database",C="1.1.0",B="";class x{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,b.Wl)(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,b.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class I{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,b.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}let T=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new x(t)}}catch(e){}return new I},S=T("localStorage"),k=T("sessionStorage"),N=new w.Yd("@firebase/database"),D=(h=1,function(){return h++}),O=function(e){let t=(0,b.dS)(e),n=new b.gQ;n.update(t);let r=n.digest();return b.US.encodeByteArray(r)},R=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=R.apply(null,r):"object"==typeof r?t+=(0,b.Wl)(r):t+=r,t+=" "}return t},F=null,L=!0,U=function(e,t){(0,b.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(N.logLevel=w.in.VERBOSE,F=N.log.bind(N),t&&k.set("logging_enabled",!0)):"function"==typeof e?F=e:(F=null,k.remove("logging_enabled"))},P=function(...e){if(!0===L&&(L=!1,null===F&&!0===k.get("logging_enabled")&&U(!0)),F){let t=R.apply(null,e);F(t)}},M=function(e){return function(...t){P(e,...t)}},j=function(...e){let t="FIREBASE INTERNAL ERROR: "+R(...e);N.error(t)},Z=function(...e){let t=`FIREBASE FATAL ERROR: ${R(...e)}`;throw N.error(t),Error(t)},Q=function(...e){let t="FIREBASE WARNING: "+R(...e);N.warn(t)},H=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},V=function(e){return"number"==typeof e&&(e!=e||e===1/0||e===-1/0)},K=function(e){if((0,b.Yr)()||"complete"===document.readyState)e();else{let t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},z="[MIN_NAME]",G="[MAX_NAME]",W=function(e,t){if(e===t)return 0;{if(e===z||t===G)return -1;if(t===z||e===G)return 1;let n=en(e),r=en(t);if(null!==n)if(null!==r)return n-r==0?e.length-t.length:n-r;else return -1;return null!==r?1:e<t?-1:1}},q=function(e,t){return e===t?0:e<t?-1:1},$=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+(0,b.Wl)(t))},Y=function(e){if("object"!=typeof e||null===e)return(0,b.Wl)(e);let t=[];for(let n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,b.Wl)(t[r]),n+=":",n+=Y(e[t[r]]);return n+"}"},J=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function X(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}let ee=function(e){let t,n,r,i,o;(0,b.hu)(!V(e),"Invalid JSON number");0===e?(n=0,r=0,t=+(1/e==-1/0)):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-0x10000000000000)):(n=0,r=Math.round(e/5e-324)));let a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(+!!t),a.reverse();let s=a.join(""),l="";for(o=0;o<64;o+=8){let e=parseInt(s.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},et=RegExp("^-?(0*)\\d{1,10}$"),en=function(e){if(et.test(e)){let t=Number(e);if(t>=-0x80000000&&t<=0x7fffffff)return t}return null},er=function(e){try{e()}catch(e){setTimeout(()=>{throw Q("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ei=function(e,t){let n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class eo{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,(0,v.rh)(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Q(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ea{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(P("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Q(e)}}class es{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}es.OWNER="owner";let el=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eu="websocket",ec="long_polling";class eA{constructor(e,t,n,r,i=!1,o="",a=!1,s=!1,l=null){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=S.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&S.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function ed(e,t,n){let r;if((0,b.hu)("string"==typeof t,"typeof type must == string"),(0,b.hu)("object"==typeof n,"typeof params must == object"),t===eu)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===ec)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);let i=[];return X(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class eh{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,b.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,b.p$)(this.counters_)}}let ef={},ep={};function eg(e){let t=e.toString();return ef[t]||(ef[t]=new eh),ef[t]}class em{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&er(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}let ev="start";class ey{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=M(e),this.stats_=eg(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),ed(t,ec,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new em(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),K(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eb((...e)=>{let[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ev)this.id=n,this.password=r;else if("close"===t)n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+t)},(...e)=>{let[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);let e={};e[ev]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&el.test(location.hostname)&&(e.r="f");let t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ey.forceAllow_=!0}static forceDisallow(){ey.forceDisallow_=!0}static isAvailable(){return!(0,b.Yr)()&&(!!ey.forceAllow_||!ey.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&("object"!=typeof Windows||"object"!=typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=(0,b.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=J((0,b.h$)(t),1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,b.Yr)())return;this.myDisconnFrame=document.createElement("iframe");let n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=(0,b.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class eb{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,b.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=D(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=eb.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){P("frame writing exception"),e.stack&&P(e.stack),P(e)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||P("No IE domain setting required")}catch(t){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+n.length<=1870){let e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}else break;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,b.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{P("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}let ew=null;"undefined"!=typeof MozWebSocket?ew=MozWebSocket:"undefined"!=typeof WebSocket&&(ew=WebSocket);class e_{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=M(this.connId),this.stats_=eg(t),this.connURL=e_.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){let o={};return o.v="5",!(0,b.Yr)()&&"undefined"!=typeof location&&location.hostname&&el.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),i&&(o.p=i),ed(e,eu,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,S.set("previous_websocket_failure",!0);try{let e;if((0,b.Yr)()){let t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${B}/${_.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);let n=_.env,r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new ew(this.connURL,[],e)}catch(t){this.log_("Error instantiating WebSocket.");let e=t.message||t.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){e_.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==ew&&!e_.forceDisallow_}static previouslyFailed(){return S.isInMemoryStorage||!0===S.get("previous_websocket_failure")}markConnectionHealthy(){S.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join("");this.frames=null;let t=(0,b.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,b.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=(0,b.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=J(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e_.responsesRequiredToBeHealthy=2,e_.healthyTimeout=3e4;class eE{static get ALL_TRANSPORTS(){return[ey,e_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let t=e_&&e_.isAvailable(),n=t&&!e_.previouslyFailed();if(e.webSocketOnly&&(t||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[e_];else{let e=this.transports_=[];for(let t of eE.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);eE.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}eE.globalTransportInitialized_=!1;class eC{constructor(e,t,n,r,i,o,a,s,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=M("c:"+this.id+":"),this.transportManager_=new eE(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ei(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){let t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=$("t",e),n=$("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=$("t",e),n=$("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=$("t",e);if("d"in e){let n=e.d;if("h"===t){let e={...n};this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?j("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Q("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),ei(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ei(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(S.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eB{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class ex{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,b.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){(0,b.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class eI extends ex{static getInstance(){return new eI}constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,b.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return(0,b.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class eT{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function eS(){return new eT("")}function ek(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function eN(e){return e.pieces_.length-e.pieceNum_}function eD(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new eT(e.pieces_,t)}function eO(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function eR(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function eF(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new eT(t,0)}function eL(e,t){let n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof eT)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{let e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new eT(n,0)}function eU(e){return e.pieceNum_>=e.pieces_.length}function eP(e,t){let n=ek(e),r=ek(t);if(null===n)return t;if(n===r)return eP(eD(e),eD(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function eM(e,t){let n=eR(e,0),r=eR(t,0);for(let e=0;e<n.length&&e<r.length;e++){let t=W(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function ej(e,t){if(eN(e)!==eN(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function eZ(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(eN(e)>eN(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class eQ{constructor(e,t){this.errorPrefix_=t,this.parts_=eR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=(0,b.ug)(this.parts_[e]);eH(this)}}function eH(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+eV(e))}function eV(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class eK extends ex{static getInstance(){return new eK}constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return(0,b.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}class ez extends eB{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=ez.nextPersistentConnectionId_++,this.log_=M("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!(0,b.Yr)())throw Error("Auth override specified in options, but not supported on non Node.js platforms");eK.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&eI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){let r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,b.Wl)(i)),(0,b.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();let t=new b.BH,n={p:e._path.toString(),q:e._queryObject};this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{let n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++;let r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();let i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),(0,b.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,b.hu)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");let a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){let t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);let i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{let o=i.d,a=i.s;ez.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,b.r3)(e,"w")){let n=(0,b.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){let e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Q(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,b.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=(0,b.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{let n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,b.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);let i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){let i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();let o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;let a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){let t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,b.Wl)(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):j("Unrecognized action received from server: "+(0,b.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,b.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ez.nextConnectionId_++,i=this.lastSessionId,o=!1,a=null,s=function(){a?a.close():(o=!0,n())};this.realtime_={close:s,sendRequest:function(e){(0,b.hu)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)}};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[s,u]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?P("getToken() completed but was canceled"):(P("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=u&&u.token,a=new eC(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Q(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&Q(e),s())}}}interrupt(e){P("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){P("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,b.xb)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Y(e)).join("$"):"default";let r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){let n,r=new eT(e).toString();if(this.listens.has(r)){let e=this.listens.get(r);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(r)}else n=void 0;return n}onAuthRevoked_(e,t){P("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){P("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let e of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";(0,b.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+B.replace(/\./g,"-")]=1,(0,b.uI)()?e["framework.cordova"]=1:(0,b.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=eI.getInstance().currentlyOnline();return(0,b.xb)(this.interruptReasons_)&&e}}ez.nextPersistentConnectionId_=0,ez.nextConnectionId_=0;class eG{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new eG(e,t)}}class eW{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new eG(z,e),r=new eG(z,t);return 0!==this.compare(n,r)}minPost(){return eG.MIN}}class eq extends eW{static get __EMPTY_NODE(){return r}static set __EMPTY_NODE(e){r=e}compare(e,t){return W(e.name,t.name)}isDefinedOn(e){throw(0,b.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return eG.MIN}maxPost(){return new eG(G,r)}makePost(e,t){return(0,b.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new eG(e,r)}toString(){return".key"}}let e$=new eq;class eY{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else if(0===o){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){let e;if(0===this.nodeStack_.length)return null;let t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class eJ{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:eJ.RED,this.left=null!=r?r:eX.EMPTY_NODE,this.right=null!=i?i:eX.EMPTY_NODE}copy(e,t,n,r,i){return new eJ(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}removeMin_(){if(this.left.isEmpty())return eX.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let n,r;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key))if(n.right.isEmpty())return eX.EMPTY_NODE;else r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_());n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,eJ.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,eJ.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){return Math.pow(2,this.check_())<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e===this.right.check_())return e+ +!this.isRed_();throw Error("Black depths differ")}}eJ.RED=!0,eJ.BLACK=!1;class eX{constructor(e,t=eX.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new eX(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,eJ.BLACK,null,null))}remove(e){return new eX(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,eJ.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))if(n.left.isEmpty())if(r)return r.key;else return null;else{for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new eY(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new eY(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new eY(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new eY(this.root_,null,this.comparator_,!0,e)}}function e0(e,t){return W(e.name,t.name)}function e1(e,t){return W(e,t)}eX.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new eJ(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};let e2=function(e){return"number"==typeof e?"number:"+ee(e):"string:"+e},e4=function(e){if(e.isLeafNode()){let t=e.val();(0,b.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,b.r3)(t,".sv"),"Priority must be a string or number.")}else(0,b.hu)(e===i||e.isEmpty(),"priority of unexpected type.");(0,b.hu)(e===i||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class e3{static set __childrenNodeConstructor(e){o=e}static get __childrenNodeConstructor(){return o}constructor(e,t=e3.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,b.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),e4(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new e3(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:e3.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return eU(e)?this:".priority"===ek(e)?this.priorityNode_:e3.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:e3.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let n=ek(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,b.hu)(".priority"!==n||1===eN(e),".priority must be the last token in a path"),this.updateImmediateChild(n,e3.__childrenNodeConstructor.EMPTY_NODE.updateChild(eD(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+e2(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":","number"===t?e+=ee(this.value_):e+=this.value_,this.lazyHash_=O(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===e3.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof e3.__childrenNodeConstructor?-1:((0,b.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,n=typeof this.value_,r=e3.VALUE_TYPE_ORDER.indexOf(t),i=e3.VALUE_TYPE_ORDER.indexOf(n);return((0,b.hu)(r>=0,"Unknown leaf type: "+t),(0,b.hu)(i>=0,"Unknown leaf type: "+n),r!==i)?i-r:"object"===n?0:this.value_<e.value_?-1:1*(this.value_!==e.value_)}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}e3.VALUE_TYPE_ORDER=["object","boolean","number","string"];let e5=new class extends eW{compare(e,t){let n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?W(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return eG.MIN}maxPost(){return new eG(G,new e3("[PRIORITY-POST]",s))}makePost(e,t){return new eG(t,new e3("[PRIORITY-POST]",a(e)))}toString(){return".priority"}},e6=Math.log(2);class e8{constructor(e){this.count=parseInt(Math.log(e+1)/e6,10),this.current_=this.count-1;const t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}}let e9=function(e,t,n,r){e.sort(t);let i=function(t,r){let o,a=r-t;if(0===a)return null;if(1===a)return o=e[t],new eJ(n?n(o):o,o.node,eJ.BLACK,null,null);{let s=parseInt(a/2,10)+t,l=i(t,s),u=i(s+1,r);return o=e[s],new eJ(n?n(o):o,o.node,eJ.BLACK,l,u)}};return new eX(r||t,function(t){let r=null,o=null,a=e.length,s=function(t,r){let o=a-t,s=a;a-=t;let u=i(o+1,s),c=e[o];l(new eJ(n?n(c):c,c.node,r,null,u))},l=function(e){r?r.left=e:o=e,r=e};for(let e=0;e<t.count;++e){let n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,eJ.BLACK):(s(r,eJ.BLACK),s(r,eJ.RED))}return o}(new e8(e.length)))},e7={};class te{static get Default(){return(0,b.hu)(e7&&e5,"ChildrenNode.ts has not been loaded"),l=l||new te({".priority":e7},{".priority":e5})}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=(0,b.DV)(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof eX?t:null}hasIndex(e){return(0,b.r3)(this.indexSet_,e.toString())}addIndex(e,t){let n;(0,b.hu)(e!==e$,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=t.getIterator(eG.Wrap),a=o.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();n=i?e9(r,e.getCompare()):e7;let s=e.toString(),l={...this.indexSet_};l[s]=e;let u={...this.indexes_};return u[s]=n,new te(u,l)}addToIndexes(e,t){return new te((0,b.UI)(this.indexes_,(n,r)=>{let i=(0,b.DV)(this.indexSet_,r);if((0,b.hu)(i,"Missing index implementation for "+r),n===e7)if(!i.isDefinedOn(e.node))return e7;else{let n=[],r=t.getIterator(eG.Wrap),o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),e9(n,i.getCompare())}{let r=t.get(e.name),i=n;return r&&(i=i.remove(new eG(e.name,r))),i.insert(e,e.node)}}),this.indexSet_)}removeFromIndexes(e,t){return new te((0,b.UI)(this.indexes_,n=>{if(n===e7)return n;{let r=t.get(e.name);return r?n.remove(new eG(e.name,r)):n}}),this.indexSet_)}}class tt{static get EMPTY_NODE(){return u||(u=new tt(new eX(e1),null,te.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&e4(this.priorityNode_),this.children_.isEmpty()&&(0,b.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||u}updatePriority(e){return this.children_.isEmpty()?this:new tt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{let t=this.children_.get(e);return null===t?u:t}}getChild(e){let t=ek(e);return null===t?this:this.getImmediateChild(t).getChild(eD(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,b.hu)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{let n,r,i=new eG(e,t);t.isEmpty()?(n=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(n=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));let o=n.isEmpty()?u:this.priorityNode_;return new tt(n,o,r)}}updateChild(e,t){let n=ek(e);if(null===n)return t;{(0,b.hu)(".priority"!==ek(e)||1===eN(e),".priority must be the last token in a path");let r=this.getImmediateChild(n).updateChild(eD(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},n=0,r=0,i=!0;if(this.forEachChild(e5,(o,a)=>{t[o]=a.val(e),n++,i&&tt.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),e||!i||!(r<2*n))return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t;{let e=[];for(let n in t)e[n]=t[n];return e}}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+e2(this.getPriority().val())+":"),this.forEachChild(e5,(t,n)=>{let r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":O(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let r=this.resolveIndex_(n);if(!r)return this.children_.getPredecessorKey(e);{let n=r.getPredecessorKey(new eG(e,t));return n?n.name:null}}getFirstChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.minKey();{let e=t.minKey();return e&&e.name}}getFirstChild(e){let t=this.getFirstChildName(e);return t?new eG(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();{let e=t.maxKey();return e&&e.name}}getLastChild(e){let t=this.getLastChildName(e);return t?new eG(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{let n=this.children_.getIteratorFrom(e.name,eG.Wrap),r=n.peek();for(;null!=r&&0>t.compare(r,e);)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{let n=this.children_.getReverseIteratorFrom(e.name,eG.Wrap),r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){if(this.isEmpty())if(e.isEmpty())return 0;else return -1;return e.isLeafNode()||e.isEmpty()?1:e===tn?-1:0}withIndex(e){if(e===e$||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new tt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===e$||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority()))return!1;if(this.children_.count()!==e.children_.count())return!1;{let t=this.getIterator(e5),n=e.getIterator(e5),r=t.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}}resolveIndex_(e){return e===e$?null:this.indexMap_.get(e.toString())}}tt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;let tn=new class extends tt{constructor(){super(new eX(e1),tt.EMPTY_NODE,te.Default)}compareTo(e){return+(e!==this)}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tt.EMPTY_NODE}isEmpty(){return!1}};function tr(e,t=null){if(null===e)return tt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,b.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new e3(e,tr(t));if(e instanceof Array){let n=tt.EMPTY_NODE;return X(e,(t,r)=>{if((0,b.r3)(e,t)&&"."!==t.substring(0,1)){let e=tr(r);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(tr(t))}{let n=[],r=!1;if(X(e,(e,t)=>{if("."!==e.substring(0,1)){let i=tr(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new eG(e,i)))}}),0===n.length)return tt.EMPTY_NODE;let i=e9(n,e0,e=>e.name,e1);if(!r)return new tt(i,tr(t),te.Default);{let e=e9(n,e5.getCompare());return new tt(i,tr(t),new te({".priority":e},{".priority":e5}))}}}Object.defineProperties(eG,{MIN:{value:new eG(z,tt.EMPTY_NODE)},MAX:{value:new eG(G,tn)}}),eq.__EMPTY_NODE=tt.EMPTY_NODE,e3.__childrenNodeConstructor=tt,i=tn,s=tn,a=tr;class ti extends eW{constructor(e){super(),this.indexPath_=e,(0,b.hu)(!eU(e)&&".priority"!==ek(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?W(e.name,t.name):i}makePost(e,t){let n=tr(e);return new eG(t,tt.EMPTY_NODE.updateChild(this.indexPath_,n))}maxPost(){return new eG(G,tt.EMPTY_NODE.updateChild(this.indexPath_,tn))}toString(){return eR(this.indexPath_,0).join("/")}}let to=new class extends eW{compare(e,t){let n=e.node.compareTo(t.node);return 0===n?W(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return eG.MIN}maxPost(){return eG.MAX}makePost(e,t){return new eG(t,tr(e))}toString(){return".value"}};function ta(e){return{type:"value",snapshotNode:e}}function ts(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function tl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tu(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class tc{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){(0,b.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()||(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(tl(t,a)):(0,b.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ts(t,n)):o.trackChildChange(tu(t,n,a))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(e5,(e,r)=>{t.hasChild(e)||n.trackChildChange(tl(e,r))}),t.isLeafNode()||t.forEachChild(e5,(t,r)=>{if(e.hasChild(t)){let i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(tu(t,r,i))}else n.trackChildChange(ts(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tA{constructor(e){this.indexedFilter_=new tc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tA.getStartPost_(e),this.endPost_=tA.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),e):0>this.index_.compare(this.getStartPost(),e),n=this.endIsInclusive_?0>=this.index_.compare(e,this.getEndPost()):0>this.index_.compare(e,this.getEndPost());return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new eG(t,n))||(n=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=tt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(tt.EMPTY_NODE);let i=this;return t.forEachChild(e5,(e,t)=>{i.matches(new eG(e,t))||(r=r.updateImmediateChild(e,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(!e.hasStart())return e.getIndex().minPost();{let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}}static getEndPost_(e){if(!e.hasEnd())return e.getIndex().maxPost();{let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}}}class td{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new tA(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return(this.rangedFilter_.matches(new eG(t,n))||(n=tt.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=tt.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t))if(this.withinDirectionalEnd(t))r=r.updateImmediateChild(t.name,t.node),n++;else break}}else{let e;r=(r=t.withIndex(this.index_)).updatePriority(tt.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){let t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){let e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();(0,b.hu)(e.numChildren()===this.limit_,"");let a=new eG(t,n),s=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),l=this.rangedFilter_.matches(a);if(e.hasChild(t)){let u=e.getImmediateChild(t),c=r.getChildAfterChild(this.index_,s,this.reverse_);for(;null!=c&&(c.name===t||e.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);let A=null==c?1:o(c,a);if(l&&!n.isEmpty()&&A>=0)return null!=i&&i.trackChildChange(tu(t,n,u)),e.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(tl(t,u));let n=e.updateImmediateChild(t,tt.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(ts(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:l?o(s,a)>=0?(null!=i&&(i.trackChildChange(tl(s.name,s.node)),i.trackChildChange(ts(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(s.name,tt.EMPTY_NODE)):e:e}}class th{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=e5}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,b.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return((0,b.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:z}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,b.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return((0,b.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:G}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,b.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===e5}copy(){let e=new th;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tf(e,t,n){let r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function tp(e){let t,n={};if(e.isDefault())return n;if(e.index_===e5?t="$priority":e.index_===to?t="$value":e.index_===e$?t="$key":((0,b.hu)(e.index_ instanceof ti,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,b.Wl)(t),e.startSet_){let t=e.startAfterSet_?"startAfter":"startAt";n[t]=(0,b.Wl)(e.indexStartValue_),e.startNameSet_&&(n[t]+=","+(0,b.Wl)(e.indexStartName_))}if(e.endSet_){let t=e.endBeforeSet_?"endBefore":"endAt";n[t]=(0,b.Wl)(e.indexEndValue_),e.endNameSet_&&(n[t]+=","+(0,b.Wl)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function tg(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==e5&&(t.i=e.index_.toString()),t}class tm extends eB{reportStats(e){throw Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,b.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=M("p:rest:"),this.listens_={}}listen(e,t,n,r){let i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);let o=tm.getListenId_(e,n),a={};this.listens_[o]=a;let s=tp(e._queryParams);this.restRequest_(i+".json",s,(e,t)=>{let s=t;(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),(0,b.DV)(this.listens_,o)===a)&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}unlisten(e,t){let n=tm.getListenId_(e,t);delete this.listens_[n]}get(e){let t=tp(e._queryParams),n=e._path.toString(),r=new b.BH;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,b.xO)(t);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=(0,b.cI)(a.responseText)}catch(e){Q("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Q("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})}}class tv{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ty(){return{value:null,children:new Map}}function tb(e,t,n){if(eU(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{let r=ek(t);e.children.has(r)||e.children.set(r,ty()),tb(e.children.get(r),t=eD(t),n)}}function tw(e,t,n){var r,i;null!==e.value?n(t,e.value):(r=e,i=(e,r)=>{tw(r,new eT(t.toString()+"/"+e),n)},r.children.forEach((e,t)=>{i(t,e)}))}class t_{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t={...e};return this.last_&&X(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class tE{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new t_(e);const n=1e4+2e4*Math.random();ei(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;X(e,(e,r)=>{r>0&&(0,b.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),ei(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function tC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tB(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(g=m||(m={}))[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class tI{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=m.ACK_USER_WRITE,this.source=tC()}operationForChild(e){if(!eU(this.path))return(0,b.hu)(ek(this.path)===e,"operationForChild called for unrelated child."),new tI(eD(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return(0,b.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new eT(e));return new tI(eS(),t,this.revert)}}}class tT{constructor(e,t){this.source=e,this.path=t,this.type=m.LISTEN_COMPLETE}operationForChild(e){return eU(this.path)?new tT(this.source,eS()):new tT(this.source,eD(this.path))}}class tS{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=m.OVERWRITE}operationForChild(e){return eU(this.path)?new tS(this.source,eS(),this.snap.getImmediateChild(e)):new tS(this.source,eD(this.path),this.snap)}}class tk{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=m.MERGE}operationForChild(e){if(!eU(this.path))return(0,b.hu)(ek(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tk(this.source,eD(this.path),this.children);{let t=this.children.subtree(new eT(e));return t.isEmpty()?null:t.value?new tS(this.source,eS(),t.value):new tk(this.source,eS(),t)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tN{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(eU(e))return this.isFullyInitialized()&&!this.filtered_;let t=ek(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class tD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tO(e,t,n,r,i,o){let a=r.filter(e=>e.type===n);a.sort((t,n)=>(function(e,t,n){if(null==t.childName||null==n.childName)throw(0,b.g5)("Should only compare child_ events.");let r=new eG(t.childName,t.snapshotNode),i=new eG(n.childName,n.snapshotNode);return e.index_.compare(r,i)})(e,t,n)),a.forEach(n=>{var r,a,s;let l=(r=e,a=n,s=o,"value"===a.type||"child_removed"===a.type||(a.prevName=s.getPredecessorChildName(a.childName,a.snapshotNode,r.index_)),a);i.forEach(r=>{r.respondsTo(n.type)&&t.push(r.createEvent(l,e.query_))})})}function tR(e,t){return{eventCache:e,serverCache:t}}function tF(e,t,n,r){return tR(new tN(t,n,r),e.serverCache)}function tL(e,t,n,r){return tR(e.eventCache,new tN(t,n,r))}function tU(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tP(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}class tM{static fromObject(e){let t=new tM(null);return X(e,(e,n)=>{t=t.set(new eT(e),n)}),t}constructor(e,t=(!c&&(c=new eX(q)),c)){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:eS(),value:this.value};{if(eU(e))return null;let n=ek(e),r=this.children.get(n);if(null===r)return null;{let i=r.findRootMostMatchingPathAndValue(eD(e),t);return null!=i?{path:eL(new eT(n),i.path),value:i.value}:null}}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(eU(e))return this;{let t=ek(e),n=this.children.get(t);return null!==n?n.subtree(eD(e)):new tM(null)}}set(e,t){if(eU(e))return new tM(t,this.children);{let n=ek(e),r=(this.children.get(n)||new tM(null)).set(eD(e),t),i=this.children.insert(n,r);return new tM(this.value,i)}}remove(e){if(eU(e))if(this.children.isEmpty())return new tM(null);else return new tM(null,this.children);{let t=ek(e),n=this.children.get(t);if(!n)return this;{let r,i=n.remove(eD(e));return(r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty())?new tM(null):new tM(this.value,r)}}}get(e){if(eU(e))return this.value;{let t=ek(e),n=this.children.get(t);return n?n.get(eD(e)):null}}setTree(e,t){if(eU(e))return t;{let n,r=ek(e),i=(this.children.get(r)||new tM(null)).setTree(eD(e),t);return n=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new tM(this.value,n)}}fold(e){return this.fold_(eS(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(eL(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,eS(),t)}findOnPath_(e,t,n){let r=!!this.value&&n(t,this.value);if(r)return r;{if(eU(e))return null;let r=ek(e),i=this.children.get(r);return i?i.findOnPath_(eD(e),eL(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,eS(),t)}foreachOnPath_(e,t,n){if(eU(e))return this;{this.value&&n(t,this.value);let r=ek(e),i=this.children.get(r);return i?i.foreachOnPath_(eD(e),eL(t,r),n):new tM(null)}}foreach(e){this.foreach_(eS(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(eL(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class tj{constructor(e){this.writeTree_=e}static empty(){return new tj(new tM(null))}}function tZ(e,t,n){if(eU(t))return new tj(new tM(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){let i=r.path,o=r.value,a=eP(i,t);return o=o.updateChild(a,n),new tj(e.writeTree_.set(i,o))}{let r=new tM(n);return new tj(e.writeTree_.setTree(t,r))}}}function tQ(e,t,n){let r=e;return X(n,(e,n)=>{r=tZ(r,eL(t,e),n)}),r}function tH(e,t){return eU(t)?tj.empty():new tj(e.writeTree_.setTree(t,new tM(null)))}function tV(e,t){return null!=tK(e,t)}function tK(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(eP(n.path,t)):null}function tz(e){let t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(e5,(e,n)=>{t.push(new eG(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new eG(e,n.value))}),t}function tG(e,t){if(eU(t))return e;{let n=tK(e,t);return new tj(null!=n?new tM(n):e.writeTree_.subtree(t))}}function tW(e){return e.writeTree_.isEmpty()}function tq(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((n,o)=>{".priority"===n?((0,b.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(eL(t,n),o,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(eL(t,".priority"),i)),r}}(eS(),e.writeTree_,t)}function t$(e){return e.visible}function tY(e,t,n){let r=tj.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let e,t=o.path;if(o.snap)eZ(n,t)?r=tZ(r,e=eP(n,t),o.snap):eZ(t,n)&&(e=eP(t,n),r=tZ(r,eS(),o.snap.getChild(e)));else if(o.children){if(eZ(n,t))r=tQ(r,e=eP(n,t),o.children);else if(eZ(t,n))if(eU(e=eP(t,n)))r=tQ(r,eS(),o.children);else{let t=(0,b.DV)(o.children,ek(e));if(t){let n=t.getChild(eD(e));r=tZ(r,eS(),n)}}}else throw(0,b.g5)("WriteRecord should have .snap or .children")}}return r}function tJ(e,t,n,r,i){if(r||i){let o=tG(e.visibleWrites,t);return!i&&tW(o)?n:i||null!=n||tV(o,eS())?tq(tY(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(eZ(e.path,t)||eZ(t,e.path))},t),n||tt.EMPTY_NODE):null}{let r=tK(e.visibleWrites,t);if(null!=r)return r;{let r=tG(e.visibleWrites,t);return tW(r)?n:null!=n||tV(r,eS())?tq(r,n||tt.EMPTY_NODE):null}}}function tX(e,t,n,r){return tJ(e.writeTree,e.treePath,t,n,r)}function t0(e,t){return function(e,t,n){let r=tt.EMPTY_NODE,i=tK(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(e5,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(!n)return tz(tG(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r;{let i=tG(e.visibleWrites,t);return n.forEachChild(e5,(e,t)=>{let n=tq(tG(i,new eT(e)),t);r=r.updateImmediateChild(e,n)}),tz(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}}(e.writeTree,e.treePath,t)}function t1(e,t,n,r){return function(e,t,n,r,i){(0,b.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=eL(t,n);if(tV(e.visibleWrites,o))return null;{let t=tG(e.visibleWrites,o);return tW(t)?i.getChild(n):tq(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function t2(e,t){var n,r;return n=e.writeTree,r=eL(e.treePath,t),tK(n.visibleWrites,r)}function t4(e,t,n){var r,i;let o,a;return r=e.writeTree,i=e.treePath,o=eL(i,t),null!=(a=tK(r.visibleWrites,o))?a:n.isCompleteForChild(t)?tq(tG(r.visibleWrites,o),n.getNode().getImmediateChild(t)):null}function t3(e,t){return t5(eL(e.treePath,t),e.writeTree)}function t5(e,t){return{treePath:e,writeTree:t}}class t6{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;(0,b.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,b.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,tu(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,tl(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ts(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===i)this.changeMap.set(n,tu(n,e.snapshotNode,r.oldSnap));else throw(0,b.g5)("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}let t8=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class t9{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=null!=this.optCompleteServerCache_?new tN(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return t4(this.writes_,e,t)}}getChildAfterChild(e,t,n){var r;let i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tP(this.viewCache_),o=(r=this.writes_,function(e,t,n,r,i,o,a){let s,l=tG(e.visibleWrites,t),u=tK(l,eS());if(null!=u)s=u;else{if(null==n)return[];s=tq(l,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];{let e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}(r.writeTree,r.treePath,i,t,1,n,e));return 0===o.length?null:o[0]}}function t7(e,t,n,r,i,o){let a=t.eventCache;if(null!=t2(r,n))return t;{let s,l;if(eU(n))if((0,b.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let n=tP(t),i=t0(r,n instanceof tt?n:tt.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{let n=tX(r,tP(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{let u=ek(n);if(".priority"===u){(0,b.hu)(1===eN(n),"Can't have a priority with additional path components");let i=a.getNode(),o=t1(r,n,i,l=t.serverCache.getNode());s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{let c,A=eD(n);if(a.isCompleteForChild(u)){l=t.serverCache.getNode();let e=t1(r,n,a.getNode(),l);c=null!=e?a.getNode().getImmediateChild(u).updateChild(A,e):a.getNode().getImmediateChild(u)}else c=t4(r,u,t.serverCache);s=null!=c?e.filter.updateChild(a.getNode(),u,c,A,i,o):a.getNode()}}return tF(t,s,a.isFullyInitialized()||eU(n),e.filter.filtersNodes())}}function ne(e,t,n,r,i,o,a,s){let l,u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(eU(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){let e=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),e,null)}else{let e=ek(n);if(!u.isCompleteForPath(n)&&eN(n)>1)return t;let i=eD(n),o=u.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?c.updatePriority(u.getNode(),o):c.updateChild(u.getNode(),e,o,i,t8,null)}let A=tL(t,l,u.isFullyInitialized()||eU(n),c.filtersNodes()),d=new t9(i,A,o);return t7(e,A,n,i,d,s)}function nt(e,t,n,r,i,o,a){let s,l,u=t.eventCache,c=new t9(i,t,o);if(eU(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=tF(t,l,!0,e.filter.filtersNodes());else{let i=ek(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),s=tF(t,l,u.isFullyInitialized(),u.isFiltered());else{let o,l=eD(n),A=u.getNode().getImmediateChild(i);if(eU(l))o=r;else{let e=c.getCompleteChild(i);o=null!=e?".priority"===eO(l)&&e.getChild(eF(l)).isEmpty()?e:e.updateChild(l,r):tt.EMPTY_NODE}s=A.equals(o)?t:tF(t,e.filter.updateChild(u.getNode(),i,o,l,c,a),u.isFullyInitialized(),e.filter.filtersNodes())}}return s}function nn(e,t){return e.eventCache.isCompleteForChild(t)}function nr(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function ni(e,t,n,r,i,o,a,s){let l;if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t;l=eU(n)?r:new tM(null).setTree(n,r);let c=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(c.hasChild(n)){let l=nr(e,t.serverCache.getNode().getImmediateChild(n),r);u=ne(e,u,new eT(n),l,i,o,a,s)}}),l.children.inorderTraversal((n,r)=>{let l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){let l=nr(e,t.serverCache.getNode().getImmediateChild(n),r);u=ne(e,u,new eT(n),l,i,o,a,s)}}),u}class no{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new tc(n.getIndex()),i=function(e){return e.loadsAllData()?new tc(e.getIndex()):e.hasLimit()?new td(e):new tA(e)}(n);this.processor_={filter:i};const o=t.serverCache,a=t.eventCache,s=r.updateFullNode(tt.EMPTY_NODE,o.getNode(),null),l=i.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),u=new tN(s,o.isFullyInitialized(),r.filtersNodes()),c=new tN(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=tR(c,u),this.eventGenerator_=new tD(this.query_)}get query(){return this.query_}}function na(e){return 0===e.eventRegistrations_.length}function ns(e,t,n){let r=[];if(n){(0,b.hu)(null==t,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){let i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function nl(e,t,n,r){var i,o;t.type===m.MERGE&&null!==t.source.queryId&&((0,b.hu)(tP(e.viewCache_),"We should always have a full cache before handling merges"),(0,b.hu)(tU(e.viewCache_),"Missing event cache, even though we have a server cache"));let a=e.viewCache_,s=function(e,t,n,r,i){var o,a,s,l,u,c,A,d,h,f,p,g;let v,y,w=new t6;if(n.type===m.OVERWRITE)n.source.fromUser?v=nt(e,t,n.path,n.snap,r,i,w):((0,b.hu)(n.source.fromServer,"Unknown source."),y=n.source.tagged||t.serverCache.isFiltered()&&!eU(n.path),v=ne(e,t,n.path,n.snap,r,i,y,w));else if(n.type===m.MERGE){let d;n.source.fromUser?(o=e,a=t,s=n.path,l=n.children,u=r,c=i,A=w,d=a,l.foreach((e,t)=>{let n=eL(s,e);nn(a,ek(n))&&(d=nt(o,d,n,t,u,c,A))}),l.foreach((e,t)=>{let n=eL(s,e);nn(a,ek(n))||(d=nt(o,d,n,t,u,c,A))}),v=d):((0,b.hu)(n.source.fromServer,"Unknown source."),y=n.source.tagged||t.serverCache.isFiltered(),v=ni(e,t,n.path,n.children,r,i,y,w))}else if(n.type===m.ACK_USER_WRITE)v=n.revert?function(e,t,n,r,i,o){let a;if(null!=t2(r,n))return t;{let s,l=new t9(r,t,i),u=t.eventCache.getNode();if(eU(n)||".priority"===ek(n)){let n;if(t.serverCache.isFullyInitialized())n=tX(r,tP(t));else{let e=t.serverCache.getNode();(0,b.hu)(e instanceof tt,"serverChildren would be complete if leaf node"),n=t0(r,e)}s=e.filter.updateFullNode(u,n,o)}else{let i=ek(n),c=t4(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=u.getImmediateChild(i)),(s=null!=c?e.filter.updateChild(u,i,c,eD(n),l,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,tt.EMPTY_NODE,eD(n),l,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=tX(r,tP(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,a,o))}return a=t.serverCache.isFullyInitialized()||null!=t2(r,eS()),tF(t,s,a,e.filter.filtersNodes())}}(e,t,n.path,r,i,w):function(e,t,n,r,i,o,a){if(null!=t2(i,n))return t;let s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value)if(eU(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ne(e,t,n,l.getNode().getChild(n),i,o,s,a);else{if(!eU(n))return t;let r=new tM(null);return l.getNode().forEachChild(e$,(e,t)=>{r=r.set(new eT(e),t)}),ni(e,t,n,r,i,o,s,a)}{let u=new tM(null);return r.foreach((e,t)=>{let r=eL(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))}),ni(e,t,n,u,i,o,s,a)}}(e,t,n.path,n.affectedTree,r,i,w);else if(n.type===m.LISTEN_COMPLETE){let i;d=e,h=t,f=n.path,p=r,g=w,i=h.serverCache,v=t7(d,tL(h,i.getNode(),i.isFullyInitialized()||eU(f),i.isFiltered()),f,p,t8,g)}else throw(0,b.g5)("Unknown operation type: "+n.type);let _=w.getChanges();return function(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=tU(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!i||r.getNode().equals(o))&&r.getNode().getPriority().equals(o.getPriority())||n.push(ta(tU(t)))}}(t,v,_),{viewCache:v,changes:_}}(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,(0,b.hu)(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,b.hu)(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,b.hu)(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,nu(e,s.changes,s.viewCache.eventCache.getNode(),null)}function nu(e,t,n,r){var i;let o,a,s=r?[r]:e.eventRegistrations_;return i=e.eventGenerator_,o=[],a=[],t.forEach(e=>{var t;"child_changed"===e.type&&i.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&a.push((t=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:t}))}),tO(i,o,"child_removed",t,s,n),tO(i,o,"child_added",t,s,n),tO(i,o,"child_moved",a,s,n),tO(i,o,"child_changed",t,s,n),tO(i,o,"value",t,s,n),o}class nc{constructor(){this.views=new Map}}function nA(e,t,n,r){let i=t.source.queryId;if(null!==i){let o=e.views.get(i);return(0,b.hu)(null!=o,"SyncTree gave us an op for an invalid query."),nl(o,t,n,r)}{let i=[];for(let o of e.views.values())i=i.concat(nl(o,t,n,r));return i}}function nd(e,t,n,r,i){let o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=tX(n,i?r:null),o=!1;return e?o=!0:(e=r instanceof tt?t0(n,r):tt.EMPTY_NODE,o=!1),new no(t,tR(new tN(e,o,!1),new tN(r,i,!1)))}return a}function nh(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function nf(e,t){let n=null;for(let r of e.views.values())n=n||function(e,t){let n=tP(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!eU(t)&&!n.getImmediateChild(ek(t)).isEmpty())?n.getChild(t):null}(r,t);return n}function np(e,t){if(t._queryParams.loadsAllData())return nm(e);{let n=t._queryIdentifier;return e.views.get(n)}}function ng(e){return null!=nm(e)}function nm(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let nv=1;class ny{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tM(null),this.pendingWriteTree_={visibleWrites:tj.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nb(e,t,n,r,i){var o,a;return(o=e.pendingWriteTree_,a=i,(0,b.hu)(r>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),o.allWrites.push({path:t,snap:n,writeId:r,visible:a}),a&&(o.visibleWrites=tZ(o.visibleWrites,t,n)),o.lastWriteId=r,i)?nI(e,new tS(tC(),t,n)):[]}function nw(e,t,n=!1){let r=function(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(!function(e,t){var n;let r=e.allWrites.findIndex(e=>e.writeId===t);(0,b.hu)(r>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[r];e.allWrites.splice(r,1);let o=i.visible,a=!1,s=e.allWrites.length-1;for(;o&&s>=0;){let t=e.allWrites[s];t.visible&&(s>=r&&function(e,t){if(e.snap)return eZ(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&eZ(eL(e.path,n),t))return!0;return!1}(t,i.path)?o=!1:eZ(i.path,t.path)&&(a=!0)),s--}return!!o&&(a?((n=e).visibleWrites=tY(n.allWrites,t$,eS()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1):i.snap?e.visibleWrites=tH(e.visibleWrites,i.path):X(i.children,t=>{e.visibleWrites=tH(e.visibleWrites,eL(i.path,t))}),!0)}(e.pendingWriteTree_,t))return[];{let t=new tM(null);return null!=r.snap?t=t.set(eS(),!0):X(r.children,e=>{t=t.set(new eT(e),!0)}),nI(e,new tI(r.path,t,n))}}function n_(e,t,n){return nI(e,new tS(tB(),t,n))}function nE(e,t,n,r,i=!1){let o=t._path,a=e.syncPointTree_.get(o),s=[];if(a&&("default"===t._queryIdentifier||null!=np(a,t))){let c=function(e,t,n,r){let i=t._queryIdentifier,o=[],a=[],s=ng(e);if("default"===i)for(let[t,i]of e.views.entries())a=a.concat(ns(i,n,r)),na(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{let t=e.views.get(i);t&&(a=a.concat(ns(t,n,r)),na(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!ng(e)&&o.push(new((0,b.hu)(A,"Reference.ts has not been loaded"),A)(t._repo,t._path)),{removed:o,events:a}}(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));let d=c.removed;if(s=c.events,!i){let n=-1!==d.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(o,(e,t)=>ng(t));if(n&&!i){let t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){let n=t.fold((e,t,n)=>{if(t&&ng(t))return[nm(t)];{let e=[];return t&&(e=nh(t)),X(n,(t,n)=>{e=e.concat(n)}),e}});for(let t=0;t<n.length;++t){let r=n[t],i=r.query,o=nT(e,r);e.listenProvider_.startListening(nR(i),nS(e,i),o.hashFn,o.onComplete)}}}i||!(d.length>0)||r||(n?e.listenProvider_.stopListening(nR(t),null):d.forEach(t=>{let n=e.queryToTagMap.get(nk(t));e.listenProvider_.stopListening(nR(t),n)}))}var l=e,u=d;for(let e=0;e<u.length;++e){let t=u[e];if(!t._queryParams.loadsAllData()){let e=nk(t),n=l.queryToTagMap.get(e);l.queryToTagMap.delete(e),l.tagToQueryMap.delete(n)}}}return s}function nC(e,t,n,r){let i=nN(e,r);if(null==i)return[];{let r=nD(i),o=r.path,a=r.queryId,s=eP(o,t);return nO(e,o,new tS(tx(a),s,n))}}function nB(e,t,n,r=!1){var i;let o,a,s,l,u=t._path,c=null,A=!1;e.syncPointTree_.foreachOnPath(u,(e,t)=>{let n=eP(e,u);c=c||nf(t,n),A=A||ng(t)});let d=e.syncPointTree_.get(u);d?(A=A||ng(d),c=c||nf(d,eS())):(d=new nc,e.syncPointTree_=e.syncPointTree_.set(u,d)),null!=c?o=!0:(o=!1,c=tt.EMPTY_NODE,e.syncPointTree_.subtree(u).foreachChild((e,t)=>{let n=nf(t,eS());n&&(c=c.updateImmediateChild(e,n))}));let h=null!=np(d,t);if(!h&&!t._queryParams.loadsAllData()){let n=nk(t);(0,b.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");let r=nv++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let f=t5(u,e.pendingWriteTree_),p=(a=nd(i=d,t,f,c,o),i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,a),a.eventRegistrations_.push(n),s=a.viewCache_.eventCache,l=[],s.getNode().isLeafNode()||s.getNode().forEachChild(e5,(e,t)=>{l.push(ts(e,t))}),s.isFullyInitialized()&&l.push(ta(s.getNode())),nu(a,l,s.getNode(),n));if(!h&&!A&&!r){let n=np(d,t);p=p.concat(function(e,t,n){let r=t._path,i=nS(e,t),o=nT(e,n),a=e.listenProvider_.startListening(nR(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)(0,b.hu)(!ng(s.value),"If we're adding a query, it shouldn't be shadowed");else{let t=s.fold((e,t,n)=>{if(!eU(e)&&t&&ng(t))return[nm(t).query];{let e=[];return t&&(e=e.concat(nh(t).map(e=>e.query))),X(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){let r=t[n];e.listenProvider_.stopListening(nR(r),nS(e,r))}}return a}(e,t,n))}return p}function nx(e,t,n){let r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{let r=nf(n,eP(e,t));if(r)return r});return tJ(r,t,i,n,!0)}function nI(e,t){var n;return function e(t,n,r,i){if(eU(t.path))return function e(t,n,r,i){let o=n.get(eS());null==r&&null!=o&&(r=nf(o,eS()));let a=[];return n.children.inorderTraversal((n,o)=>{let s=r?r.getImmediateChild(n):null,l=t3(i,n),u=t.operationForChild(n);u&&(a=a.concat(e(u,o,s,l)))}),o&&(a=a.concat(nA(o,t,i,r))),a}(t,n,r,i);{let o=n.get(eS());null==r&&null!=o&&(r=nf(o,eS()));let a=[],s=ek(t.path),l=t.operationForChild(s),u=n.children.get(s);if(u&&l){let t=r?r.getImmediateChild(s):null,n=t3(i,s);a=a.concat(e(l,u,t,n))}return o&&(a=a.concat(nA(o,t,i,r))),a}}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,t5(eS(),n)))}function nT(e,t){let n=t.query,r=nS(e,n);return{hashFn:()=>(t.viewCache_.serverCache.getNode()||tt.EMPTY_NODE).hash(),onComplete:t=>{var i;if("ok"===t)if(r)return function(e,t,n){let r=nN(e,n);if(!r)return[];{let n=nD(r),i=n.path,o=n.queryId,a=eP(i,t);return nO(e,i,new tT(tx(o),a))}}(e,n._path,r);else return i=n._path,nI(e,new tT(tB(),i));{let r,i,o=(r="Unknown Error","too_big"===t?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?r="Client doesn't have permission to access the desired data.":"unavailable"===t&&(r="The service is unavailable"),(i=Error(t+" at "+n._path.toString()+": "+r)).code=t.toUpperCase(),i);return nE(e,n,null,o)}}}}function nS(e,t){let n=nk(t);return e.queryToTagMap.get(n)}function nk(e){return e._path.toString()+"$"+e._queryIdentifier}function nN(e,t){return e.tagToQueryMap.get(t)}function nD(e){let t=e.indexOf("$");return(0,b.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new eT(e.substr(0,t))}}function nO(e,t,n){let r=e.syncPointTree_.get(t);return(0,b.hu)(r,"Missing sync point for query tag that we're tracking"),nA(r,n,t5(t,e.pendingWriteTree_),null)}function nR(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,b.hu)(d,"Reference.ts has not been loaded"),d)(e._repo,e._path):e}class nF{constructor(e){this.node_=e}getImmediateChild(e){return new nF(this.node_.getImmediateChild(e))}node(){return this.node_}}class nL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=eL(this.path_,e);return new nL(this.syncTree_,t)}node(){return nx(this.syncTree_,this.path_)}}let nU=function(e,t,n){return e&&"object"==typeof e?((0,b.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?nP(e[".sv"],t,n):"object"==typeof e[".sv"]?nM(e[".sv"],t):void(0,b.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},nP=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,b.hu)(!1,"Unexpected server value: "+e)},nM=function(e,t,n){e.hasOwnProperty("increment")||(0,b.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;"number"!=typeof r&&(0,b.hu)(!1,"Unexpected increment value: "+r);let i=t.node();if((0,b.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return"number"!=typeof o?r:o+r},nj=function(e,t,n){return nZ(e,new nF(t),n)};function nZ(e,t,n){let r,i=nU(e.getPriority().val(),t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return r=e,i!==e.getPriority().val()&&(r=r.updatePriority(new e3(i))),e.forEachChild(e5,(e,i)=>{let o=nZ(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))}),r;{let r=nU(e.getValue(),t,n);return r!==e.getValue()||i!==e.getPriority().val()?new e3(r,tr(i)):e}}class nQ{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function nH(e,t){let n=t instanceof eT?t:new eT(t),r=e,i=ek(n);for(;null!==i;){let e=(0,b.DV)(r.node.children,i)||{children:{},childCount:0};r=new nQ(i,r,e),i=ek(n=eD(n))}return r}function nV(e){return e.node.value}function nK(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){let i=void 0===nV(r)&&!nz(r),o=(0,b.r3)(t.node.children,n);i&&o?(delete t.node.children[n],t.node.childCount--,e(t)):i||o||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function nz(e){return e.node.childCount>0}function nG(e,t){X(e.node.children,(n,r)=>{t(new nQ(n,e,r))})}function nW(e){return new eT(null===e.parent?e.name:nW(e.parent)+"/"+e.name)}let nq=/[\[\].#$\/\u0000-\u001F\u007F]/,n$=/[\[\].#$\u0000-\u001F\u007F]/,nY=function(e){return"string"==typeof e&&0!==e.length&&!nq.test(e)},nJ=function(e){return"string"==typeof e&&0!==e.length&&!n$.test(e)},nX=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!V(e)||e&&"object"==typeof e&&(0,b.r3)(e,".sv")},n0=function(e,t,n,r){r&&void 0===t||n1((0,b.gK)(e,"value"),t,n)},n1=function(e,t,n){let r=n instanceof eT?new eQ(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+eV(r));if("function"==typeof t)throw Error(e+"contains a function "+eV(r)+" with contents = "+t.toString());if(V(t))throw Error(e+"contains "+t.toString()+" "+eV(r));if("string"==typeof t&&t.length>3495253.3333333335&&(0,b.ug)(t)>0xa00000)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+eV(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(X(t,(t,o)=>{let a;if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!nY(t)))throw Error(e+" contains an invalid key ("+t+") "+eV(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,b.ug)(t),eH(r),n1(e,o,r),a=r.parts_.pop(),r.byteLength_-=(0,b.ug)(a),r.parts_.length>0&&(r.byteLength_-=1)}),n&&i)throw Error(e+' contains ".value" child '+eV(r)+" in addition to actual children.")}},n2=function(e,t){let n,r;for(n=0;n<t.length;n++){let i=eR(r=t[n]);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!nY(i[t]))throw Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(eM);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&eZ(i,r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},n4=function(e,t,n,r){if(r&&void 0===t)return;let i=(0,b.gK)(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(i+" must be an object containing the children to replace.");let o=[];X(t,(e,t)=>{let r=new eT(e);if(n1(i,t,eL(n,r)),".priority"===eO(r)&&!nX(t))throw Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),n2(i,o)},n3=function(e,t,n){if(!n||void 0!==t){if(V(t))throw Error((0,b.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nX(t))throw Error((0,b.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},n5=function(e,t,n,r){if((!r||void 0!==n)&&!nY(n))throw Error((0,b.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},n6=function(e,t,n,r){if((!r||void 0!==n)&&!nJ(n))throw Error((0,b.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},n8=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),n6(e,t,n,r)},n9=function(e,t){if(".info"===ek(t))throw Error(e+" failed = Can't modify data under /.info/")},n7=function(e,t){var n;let r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!nY(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&((n=r)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!nJ(n)))throw Error((0,b.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class re{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rt(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();null===n||ej(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function rn(e,t,n){rt(e,n),ri(e,e=>ej(e,t))}function rr(e,t,n){rt(e,n),ri(e,e=>eZ(e,t)||eZ(t,e))}function ri(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(null!==n){e.events[t]=null;let r=n.getEventRunner();F&&P("event: "+n.toString()),er(r)}}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}class ro{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new re,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ty(),this.transactionQueueTree_=new nQ,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ra(e){let t=e.infoData_.getNode(new eT(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function rs(e){var t;return(t=t={timestamp:ra(e)}).timestamp=t.timestamp||new Date().getTime(),t}function rl(e,t,n,r,i){e.dataUpdateCount++;let o=new eT(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){let t=(0,b.UI)(n,e=>tr(e));a=function(e,t,n,r){let i=nN(e,r);if(!i)return[];{let r=nD(i),o=r.path,a=r.queryId,s=eP(o,t),l=tM.fromObject(n);return nO(e,o,new tk(tx(a),s,l))}}(e.serverSyncTree_,o,t,i)}else{let t=tr(n);a=nC(e.serverSyncTree_,o,t,i)}else if(r){var s;let t,r=(0,b.UI)(n,e=>tr(e));s=e.serverSyncTree_,t=tM.fromObject(r),a=nI(s,new tk(tB(),o,t))}else{let t=tr(n);a=n_(e.serverSyncTree_,o,t)}let l=o;a.length>0&&(l=rv(e,o)),rr(e.eventQueue_,l,a)}function ru(e,t){var n;let r,i,o;rc(e,"connected",t),!1===t&&(rf(n=e,"onDisconnectEvents"),r=rs(n),i=ty(),tw(n.onDisconnect_,eS(),(e,t)=>{var o;let a=(o=n.serverSyncTree_,nZ(t,new nL(o,e),r));tb(i,e,a)}),o=[],tw(i,eS(),(e,t)=>{o=o.concat(n_(n.serverSyncTree_,e,t));let r=r_(n,e);rv(n,r)}),n.onDisconnect_=ty(),rr(n.eventQueue_,eS(),o))}function rc(e,t,n){let r=new eT("/.info/"+t),i=tr(n);e.infoData_.updateSnapshot(r,i);let o=n_(e.infoSyncTree_,r,i);rr(e.eventQueue_,r,o)}function rA(e){return e.nextWriteId_++}function rd(e,t,n,r){let i=tr(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,o)=>{"ok"===n&&tb(e.onDisconnect_,t,i),rp(e,r,n,o)})}function rh(e,t,n){let r;r=".info"===ek(t._path)?nE(e.infoSyncTree_,t,n):nE(e.serverSyncTree_,t,n),rn(e.eventQueue_,t._path,r)}function rf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),P(n,...t)}function rp(e,t,n,r){t&&er(()=>{if("ok"===n)t(null);else{let e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);let o=Error(i);o.code=e,t(o)}})}function rg(e,t,n){return nx(e.serverSyncTree_,t,n)||tt.EMPTY_NODE}function rm(e,t=e.transactionQueueTree_){if(t||rw(e,t),nV(t)){let n=rb(e,t);(0,b.hu)(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&function(e,t,n){let r=rg(e,t,n.map(e=>e.currentWriteId)),i=r,o=r.hash();for(let e=0;e<n.length;e++){let r=n[e];(0,b.hu)(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;let o=eP(t,r.path);i=i.updateChild(o,r.currentOutputSnapshotRaw)}let a=i.val(!0);e.server_.put(t.toString(),a,r=>{rf(e,"transaction put response",{path:t.toString(),status:r});let i=[];if("ok"===r){let r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(nw(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();rw(e,nH(e.transactionQueueTree_,t)),rm(e,e.transactionQueueTree_),rr(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)er(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Q("transaction at "+t.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}rv(e,t)}},o)}(e,nW(t),n)}else nz(t)&&nG(t,t=>{rm(e,t)})}function rv(e,t){let n=ry(e,t),r=nW(n),i=rb(e,n);return function(e,t,n){if(0===t.length)return;let r=[],i=[],o=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){let s=t[a],l=eP(n,s.path),u=!1,c;if((0,b.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,c=s.abortReason,i=i.concat(nw(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,c="maxretry",i=i.concat(nw(e.serverSyncTree_,s.currentWriteId,!0));else{let n=rg(e,s.path,o);s.currentInputSnapshot=n;let r=t[a].update(n.val());if(void 0!==r){n1("transaction failed: Data returned ",r,s.path);let t=tr(r);"object"==typeof r&&null!=r&&(0,b.r3)(r,".priority")||(t=t.updatePriority(n.getPriority()));let a=s.currentWriteId,l=nj(t,n,rs(e));s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=l,s.currentWriteId=rA(e),o.splice(o.indexOf(a),1),i=(i=i.concat(nb(e.serverSyncTree_,s.path,l,s.currentWriteId,s.applyLocally))).concat(nw(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(nw(e.serverSyncTree_,s.currentWriteId,!0))}rr(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(Error(c),!1,null))))}rw(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)er(r[e]);rm(e,e.transactionQueueTree_)}(e,i,r),r}function ry(e,t){let n,r=e.transactionQueueTree_;for(n=ek(t);null!==n&&void 0===nV(r);)r=nH(r,n),n=ek(t=eD(t));return r}function rb(e,t){let n=[];return function e(t,n,r){let i=nV(n);if(i)for(let e=0;e<i.length;e++)r.push(i[e]);nG(n,n=>{e(t,n,r)})}(e,t,n),n.sort((e,t)=>e.order-t.order),n}function rw(e,t){let n=nV(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,nK(t,n.length>0?n:void 0)}nG(t,t=>{rw(e,t)})}function r_(e,t){let n=nW(ry(e,t)),r=nH(e.transactionQueueTree_,t);return!function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{rE(e,t)}),rE(e,r),!function e(t,n,r,i){r&&!i&&n(t),nG(t,t=>{e(t,n,!0,i)}),r&&i&&n(t)}(r,t=>{rE(e,t)}),n}function rE(e,t){let n=nV(t);if(n){let r=[],i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,b.hu)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,b.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(nw(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,Error("set"),!1,null))));-1===o?nK(t,void 0):n.length=o+1,rr(e.eventQueue_,nW(t),i);for(let e=0;e<r.length;e++)er(r[e])}}let rC=function(e,t){let n=rB(e),r=n.namespace;"firebase.com"===n.domain&&Z(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Z("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||H();let i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new eA(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new eT(n.pathString)}},rB=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(s=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let A=e.indexOf("?");-1===A&&(A=e.length),t=e.substring(0,Math.min(c,A)),c<A&&(i=function(e){let t="",n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,A)));let d=function(e){let t={};for(let n of("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&"))){if(0===n.length)continue;let r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Q(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,A)));(u=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(u+1),10)):u=t.length;let h=t.slice(0,u);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{let e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},rx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rI=(f=0,p=[],function(e){let t,n=e===f;f=e;let r=Array(8);for(t=7;t>=0;t--)r[t]=rx.charAt(e%64),e=Math.floor(e/64);(0,b.hu)(0===e,"Cannot push at time == 0");let i=r.join("");if(n){for(t=11;t>=0&&63===p[t];t--)p[t]=0;p[t]++}else for(t=0;t<12;t++)p[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=rx.charAt(p[t]);return(0,b.hu)(20===i.length,"nextPushId: Length should be 20."),i});class rT{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){let e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,b.Wl)(this.snapshot.exportVal())}}class rS{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class rk{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,b.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class rN{constructor(e,t){this._repo=e,this._path=t}cancel(){var e,t,n;let r=new b.BH;return e=this._repo,t=this._path,n=r.wrapCallback(()=>{}),e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&function e(t,n){if(eU(n))return t.value=null,t.children.clear(),!0;if(null!==t.value)if(t.value.isLeafNode())return!1;else{let r=t.value;return t.value=null,r.forEachChild(e5,(e,n)=>{tb(t,new eT(e),n)}),e(t,n)}if(!(t.children.size>0))return!0;{let r=ek(n);return n=eD(n),t.children.has(r)&&e(t.children.get(r),n)&&t.children.delete(r),0===t.children.size}}(e.onDisconnect_,t),rp(e,n,r,i)}),r.promise}remove(){n9("OnDisconnect.remove",this._path);let e=new b.BH;return rd(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){n9("OnDisconnect.set",this._path),n0("OnDisconnect.set",e,this._path,!1);let t=new b.BH;return rd(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){var n,r,i;let o;n9("OnDisconnect.setWithPriority",this._path),n0("OnDisconnect.setWithPriority",e,this._path,!1),n3("OnDisconnect.setWithPriority",t,!1);let a=new b.BH;return n=this._repo,r=this._path,i=a.wrapCallback(()=>{}),o=tr(e,t),n.server_.onDisconnectPut(r.toString(),o.val(!0),(e,t)=>{"ok"===e&&tb(n.onDisconnect_,r,o),rp(n,i,e,t)}),a.promise}update(e){n9("OnDisconnect.update",this._path),n4("OnDisconnect.update",e,this._path,!1);let t=new b.BH;return!function(e,t,n,r){if((0,b.xb)(n)){P("onDisconnect().update() called with empty data.  Don't do anything."),rp(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{"ok"===i&&X(n,(n,r)=>{let i=tr(r);tb(e.onDisconnect_,eL(t,n),i)}),rp(e,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class rD{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return eU(this._path)?null:eO(this._path)}get ref(){return new rR(this._repo,this._path)}get _queryIdentifier(){let e=Y(tg(this._queryParams));return"{}"===e?"default":e}get _queryObject(){return tg(this._queryParams)}isEqual(e){if(!((e=(0,b.m9)(e))instanceof rD))return!1;let t=this._repo===e._repo,n=ej(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function rO(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===e$){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==z)throw Error(r);if("string"!=typeof t)throw Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==G)throw Error(r);if("string"!=typeof n)throw Error(i)}}else if(e.getIndex()===e5){if(null!=t&&!nX(t)||null!=n&&!nX(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,b.hu)(e.getIndex()instanceof ti||e.getIndex()===to,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class rR extends rD{constructor(e,t){super(e,t,new th,!1)}get parent(){let e=eF(this._path);return null===e?null:new rR(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class rF{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new eT(e),n=rU(this.ref,e);return new rF(this._node.getChild(t),n,e5)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new rF(n,rU(this.ref,t),e5)))}hasChild(e){let t=new eT(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rL(e,t){return(e=(0,b.m9)(e))._checkNotDeleted("ref"),void 0!==t?rU(e._root,t):e._root}function rU(e,t){return null===ek((e=(0,b.m9)(e))._path)?n8("child","path",t,!1):n6("child","path",t,!1),new rR(e._repo,eL(e._path,t))}function rP(e){return new rN((e=(0,b.m9)(e))._repo,e._path)}function rM(e,t){let n;n9("push",(e=(0,b.m9)(e))._path),n0("push",t,e._path,!0);let r=rI(ra(e._repo)),i=rU(e,r),o=rU(e,r);return i.then=(n=null!=t?rZ(o,t).then(()=>o):Promise.resolve(o)).then.bind(n),i.catch=n.then.bind(n,void 0),i}function rj(e){return n9("remove",e._path),rZ(e,null)}function rZ(e,t){var n,r,i;let o,a,s,l,u,c;n9("set",(e=(0,b.m9)(e))._path),n0("set",t,e._path,!1);let A=new b.BH;return n=e._repo,r=e._path,i=A.wrapCallback(()=>{}),rf(n,"set",{path:r.toString(),value:t,priority:null}),o=rs(n),s=nj(a=tr(t,null),nx(n.serverSyncTree_,r),o),l=rA(n),u=nb(n.serverSyncTree_,r,s,l,!0),rt(n.eventQueue_,u),n.server_.put(r.toString(),a.val(!0),(e,t)=>{let o="ok"===e;o||Q("set at "+r+" failed: "+e);let a=nw(n.serverSyncTree_,l,!o);rr(n.eventQueue_,r,a),rp(n,i,e,t)}),c=r_(n,r),rv(n,c),rr(n.eventQueue_,c,[]),A.promise}function rQ(e){var t,n,r,i,o;let a,s,l,u,c,A,d;e=(0,b.m9)(e);let h=new rH(new rk(()=>{}));return(t=e._repo,n=e,r=t.serverSyncTree_,s=(i=n)._path,l=null,r.syncPointTree_.foreachOnPath(s,(e,t)=>{let n=eP(e,s);l=l||nf(t,n)}),(u=r.syncPointTree_.get(s))?l=l||nf(u,eS()):(u=new nc,r.syncPointTree_=r.syncPointTree_.set(s,u)),A=(c=null!=l)?new tN(l,!0,!1):null,d=(o=r.pendingWriteTree_,t5(i._path,o)),null!=(a=tU(nd(u,i,d,c?A.getNode():tt.EMPTY_NODE,c).viewCache_))?Promise.resolve(a):t.server_.get(n).then(e=>{let r,i=tr(e).withIndex(n._queryParams.getIndex());if(nB(t.serverSyncTree_,n,h,!0),n._queryParams.loadsAllData())r=n_(t.serverSyncTree_,n._path,i);else{let e=nS(t.serverSyncTree_,n);r=nC(t.serverSyncTree_,n._path,i,e)}return rr(t.eventQueue_,n._path,r),nE(t.serverSyncTree_,n,h,null,!0),i},e=>(rf(t,"get for query "+(0,b.Wl)(n)+" failed: "+e),Promise.reject(Error(e))))).then(t=>new rF(t,new rR(e._repo,e._path),e._queryParams.getIndex()))}class rH{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){let n=t._queryParams.getIndex();return new rT("value",this,new rF(e.snapshotNode,new rR(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new rS(this,e,t):null}matches(e){return e instanceof rH&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class rV{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new rS(this,e,t):null}createEvent(e,t){(0,b.hu)(null!=e.childName,"Child events should have a childName.");let n=rU(new rR(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new rT(e.type,this,new rF(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof rV&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function rK(e,t,n,r,i){var o;let a,s;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){let t=n,r=(n,r)=>{rh(e._repo,e,u),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}let l=new rk(n,a||void 0),u="value"===t?new rH(l):new rV(t,l);return o=e._repo,s=".info"===ek(e._path)?nB(o.infoSyncTree_,e,u):nB(o.serverSyncTree_,e,u),rn(o.eventQueue_,e._path,s),()=>rh(e._repo,e,u)}function rz(e,t,n,r){return rK(e,"value",t,n,r)}function rG(e,t,n,r){return rK(e,"child_added",t,n,r)}function rW(e,t,n,r){return rK(e,"child_changed",t,n,r)}function rq(e,t,n,r){return rK(e,"child_removed",t,n,r)}function r$(e,t,n){let r=null,i=n?new rk(n):null;"value"===t?r=new rH(i):t&&(r=new rV(t,i)),rh(e._repo,e,r)}class rY{}class rJ extends rY{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){var t,n,r;let i;n0("startAfter",this._value,e._path,!1);let o=(t=e._queryParams,n=this._value,r=this._key,(i=t.index_===e$||r?tf(t,n,r):tf(t,n,G)).startAfterSet_=!0,i);if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.");if(rO(o),e._queryParams.hasStart())throw Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new rD(e._repo,e._path,o,e._orderByCalled)}}function rX(e,t){return n5("startAfter","key",t,!0),new rJ(e,t)}class r0 extends rY{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){var t;let n;if(!0===e._orderByCalled)throw Error("orderByKey: You can't combine multiple orderBy calls.");let r=(t=e._queryParams,(n=t.copy()).index_=e$,n);return rO(r),new rD(e._repo,e._path,r,!0)}}function r1(){return new r0}function r2(e,...t){let n=(0,b.m9)(e);for(let e of t)n=e._apply(n);return n}(0,b.hu)(!A,"__referenceConstructor has already been defined"),A=rR,(0,b.hu)(!d,"__referenceConstructor has already been defined"),d=rR;let r4={};class r3{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(!function(e,t,n){var r;let i;if(e.stats_=eg(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new tm(e.repoInfo_,(t,n,r,i)=>{rl(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>ru(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,b.Wl)(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new ez(e.repoInfo_,t,(t,n,r,i)=>{rl(e,t,n,r,i)},t=>{ru(e,t)},t=>{var n;n=e,X(t,(e,t)=>{rc(n,e,t)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),r=e.repoInfo_,ep[i=r.toString()]||(ep[i]=(()=>new tE(e.stats_,e.server_))()),e.statsReporter_=ep[i],e.infoData_=new tv,e.infoSyncTree_=new ny({startListening:(t,n,r,i)=>{let o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=n_(e.infoSyncTree_,t._path,a),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),rc(e,"connected",!1),e.serverSyncTree_=new ny({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{let o=i(n,r);rr(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rR(this._repo,eS())),this._rootInternal}_delete(){if(null!==this._rootInternal){var e,t;let n;e=this._repo,(n=r4[t=this.app.name])&&n[e.key]===e||Z(`Database ${t}(${e.repoInfo_}) has already been deleted.`),e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt"),delete n[e.key],this._repoInternal=null,this._rootInternal=null}return Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Z("Cannot call "+e+" on a deleted database.")}}function r5(e=(0,v.Mq)(),t){let n=(0,v.qX)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let e=(0,b.P0)("database");e&&r6(n,...e)}return n}function r6(e,t,n,r={}){var i;let o,a,s;(e=(0,b.m9)(e))._checkNotDeleted("useEmulator");let l=`${t}:${n}`,u=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&(0,b.vZ)(r,u.repoInfo_.emulatorOptions))return;Z("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}u.repoInfo_.nodeAdmin?(r.mockUserToken&&Z('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new es(es.OWNER)):r.mockUserToken&&(o=new es("string"==typeof r.mockUserToken?r.mockUserToken:(0,b.Sg)(r.mockUserToken,e.app.options.projectId))),(0,b.Xx)(t)&&((0,b.Uo)(t),(0,b.dp)("Database",!0)),i=o,a=l.lastIndexOf(":"),s=l.substring(0,a),u.repoInfo_=new eA(l,(0,b.Xx)(s),u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0,r),i&&(u.authTokenProvider_=i)}let r8={".sv":"timestamp"};function r9(){return r8}class r7{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function ie(e,t,n){if(n9("Reference.transaction",(e=(0,b.m9)(e))._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=n?.applyLocally??!0,i=new b.BH,o=rz(e,()=>{});return!function(e,t,n,r,i,o){rf(e,"transaction on "+t);let a={path:t,update:n,onComplete:r,status:null,order:D(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=rg(e,t,void 0);a.currentInputSnapshot=s;let l=a.update(s.val());if(void 0===l)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{let n;n1("transaction failed: Data returned ",l,a.path),a.status=0;let r=nH(e.transactionQueueTree_,t),i=nV(r)||[];i.push(a),nK(r,i),"object"==typeof l&&null!==l&&(0,b.r3)(l,".priority")?(n=(0,b.DV)(l,".priority"),(0,b.hu)(nX(n),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):n=(nx(e.serverSyncTree_,t)||tt.EMPTY_NODE).getPriority().val();let o=rs(e),u=tr(l,n),c=nj(u,s,o);a.currentOutputSnapshotRaw=u,a.currentOutputSnapshotResolved=c,a.currentWriteId=rA(e);let A=nb(e.serverSyncTree_,t,c,a.currentWriteId,a.applyLocally);rr(e.eventQueue_,t,A),rm(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(t,n,r)=>{let o=null;t?i.reject(t):(o=new rF(r,new rR(e._repo,e._path),e5),i.resolve(new r7(n,o)))},o,r),i.promise}ez.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ez.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},B=v.Jn,(0,v.Xd)(new y.wA("database",(e,{instanceIdentifier:t})=>{var n,r,i,o;let a,s,l,u,c,A,d,h=e.getProvider("app").getImmediate(),f=e.getProvider("auth-internal"),p=e.getProvider("app-check-internal");return void 0===(l=t||h.options.databaseURL)&&(h.options.projectId||Z("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),P("Using default host for project ",h.options.projectId),l=`${h.options.projectId}-default-rtdb.firebaseio.com`),c=(u=rC(l,void 0)).repoInfo,void 0!==_&&_.env&&(A=_.env.FIREBASE_DATABASE_EMULATOR_HOST),A?c=(u=rC(l=`http://${A}?ns=${c.namespace}`,void 0)).repoInfo:!u.repoInfo.secure,d=new ea(h.name,h.options,f),n7("Invalid Firebase Database URL",u),eU(u.path)||Z("Database URL must point to the root of a Firebase Database (not including a child path)."),new r3((n=c,r=h,i=d,o=new eo(h,p),(a=r4[r.name])||(a={},r4[r.name]=a),(s=a[n.toURLString()])&&Z("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ro(n,!1,i,o),a[n.toURLString()]=s,s),h)},"PUBLIC").setMultipleInstances(!0)),(0,v.KN)(E,C,void 0),(0,v.KN)(E,C,"esm2020")},78549:function(e,t,n){"use strict";n.d(t,{EK:function(){return ep},vr:function(){return lW},hJ:function(){return lA},at:function(){return ls},oe:function(){return uC},JU:function(){return ld},QT:function(){return uv},kl:function(){return uy},PL:function(){return ub},zN:function(){return uw},ad:function(){return lv},LV:function(){return lm},b9:function(){return ue},ms:function(){return us},cf:function(){return uB},Xo:function(){return l9},j5:function(){return ul},n3:function(){return uA},IO:function(){return l4},pl:function(){return u_},Ub:function(){return N},r7:function(){return uE},ar:function(){return l5},qs:function(){return uT}});var r,i,o,a,s,l,u,c,A,d,h,f,p,g,m=n(84282),v=n(31437),y=n(93980),b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},w={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}var t=function(){this.blockSize=-1};function n(){}function o(e,t,n){n||(n=0);let r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o=e.g[3],a;a=t+(o^n&(i^o))+r[0]+0xd76aa478|0,a=o+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[1]+0xe8c7b756|0,a=i+(n^(o=t+(a<<12|a>>>20))&(t^n))+r[2]+0x242070db|0,a=n+(t^(i=o+(a<<17|a>>>15))&(o^t))+r[3]+0xc1bdceee|0,a=t+(o^(n=i+(a<<22|a>>>10))&(i^o))+r[4]+0xf57c0faf|0,a=o+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[5]+0x4787c62a|0,a=i+(n^(o=t+(a<<12|a>>>20))&(t^n))+r[6]+0xa8304613|0,a=n+(t^(i=o+(a<<17|a>>>15))&(o^t))+r[7]+0xfd469501|0,a=t+(o^(n=i+(a<<22|a>>>10))&(i^o))+r[8]+0x698098d8|0,a=o+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[9]+0x8b44f7af|0,a=i+(n^(o=t+(a<<12|a>>>20))&(t^n))+r[10]+0xffff5bb1|0,a=n+(t^(i=o+(a<<17|a>>>15))&(o^t))+r[11]+0x895cd7be|0,a=t+(o^(n=i+(a<<22|a>>>10))&(i^o))+r[12]+0x6b901122|0,a=o+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[13]+0xfd987193|0,a=i+(n^(o=t+(a<<12|a>>>20))&(t^n))+r[14]+0xa679438e|0,a=n+(t^(i=o+(a<<17|a>>>15))&(o^t))+r[15]+0x49b40821|0,n=i+(a<<22|a>>>10),a=t+(i^o&(n^i))+r[1]+0xf61e2562|0,t=n+(a<<5|a>>>27),a=o+(n^i&(t^n))+r[6]+0xc040b340|0,o=t+(a<<9|a>>>23),a=i+(t^n&(o^t))+r[11]+0x265e5a51|0,i=o+(a<<14|a>>>18),a=n+(o^t&(i^o))+r[0]+0xe9b6c7aa|0,n=i+(a<<20|a>>>12),a=t+(i^o&(n^i))+r[5]+0xd62f105d|0,t=n+(a<<5|a>>>27),a=o+(n^i&(t^n))+r[10]+0x2441453|0,o=t+(a<<9|a>>>23),a=i+(t^n&(o^t))+r[15]+0xd8a1e681|0,i=o+(a<<14|a>>>18),a=n+(o^t&(i^o))+r[4]+0xe7d3fbc8|0,n=i+(a<<20|a>>>12),a=t+(i^o&(n^i))+r[9]+0x21e1cde6|0,t=n+(a<<5|a>>>27),a=o+(n^i&(t^n))+r[14]+0xc33707d6|0,o=t+(a<<9|a>>>23),a=i+(t^n&(o^t))+r[3]+0xf4d50d87|0,i=o+(a<<14|a>>>18),a=n+(o^t&(i^o))+r[8]+0x455a14ed|0,n=i+(a<<20|a>>>12),a=t+(i^o&(n^i))+r[13]+0xa9e3e905|0,t=n+(a<<5|a>>>27),a=o+(n^i&(t^n))+r[2]+0xfcefa3f8|0,o=t+(a<<9|a>>>23),a=i+(t^n&(o^t))+r[7]+0x676f02d9|0,i=o+(a<<14|a>>>18),a=n+(o^t&(i^o))+r[12]+0x8d2a4c8a|0,a=t+((n=i+(a<<20|a>>>12))^i^o)+r[5]+0xfffa3942|0,a=o+((t=n+(a<<4|a>>>28))^n^i)+r[8]+0x8771f681|0,a=i+((o=t+(a<<11|a>>>21))^t^n)+r[11]+0x6d9d6122|0,a=n+((i=o+(a<<16|a>>>16))^o^t)+r[14]+0xfde5380c|0,a=t+((n=i+(a<<23|a>>>9))^i^o)+r[1]+0xa4beea44|0,a=o+((t=n+(a<<4|a>>>28))^n^i)+r[4]+0x4bdecfa9|0,a=i+((o=t+(a<<11|a>>>21))^t^n)+r[7]+0xf6bb4b60|0,a=n+((i=o+(a<<16|a>>>16))^o^t)+r[10]+0xbebfbc70|0,a=t+((n=i+(a<<23|a>>>9))^i^o)+r[13]+0x289b7ec6|0,a=o+((t=n+(a<<4|a>>>28))^n^i)+r[0]+0xeaa127fa|0,a=i+((o=t+(a<<11|a>>>21))^t^n)+r[3]+0xd4ef3085|0,a=n+((i=o+(a<<16|a>>>16))^o^t)+r[6]+0x4881d05|0,a=t+((n=i+(a<<23|a>>>9))^i^o)+r[9]+0xd9d4d039|0,a=o+((t=n+(a<<4|a>>>28))^n^i)+r[12]+0xe6db99e5|0,a=i+((o=t+(a<<11|a>>>21))^t^n)+r[15]+0x1fa27cf8|0,a=n+((i=o+(a<<16|a>>>16))^o^t)+r[2]+0xc4ac5665|0,n=i+(a<<23|a>>>9),a=t+(i^(n|~o))+r[0]+0xf4292244|0,t=n+(a<<6|a>>>26),a=o+(n^(t|~i))+r[7]+0x432aff97|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~n))+r[14]+0xab9423a7|0,i=o+(a<<15|a>>>17),a=n+(o^(i|~t))+r[5]+0xfc93a039|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~o))+r[12]+0x655b59c3|0,t=n+(a<<6|a>>>26),a=o+(n^(t|~i))+r[3]+0x8f0ccc92|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~n))+r[10]+0xffeff47d|0,i=o+(a<<15|a>>>17),a=n+(o^(i|~t))+r[1]+0x85845dd1|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~o))+r[8]+0x6fa87e4f|0,t=n+(a<<6|a>>>26),a=o+(n^(t|~i))+r[15]+0xfe2ce6e0|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~n))+r[6]+0xa3014314|0,i=o+(a<<15|a>>>17),a=n+(o^(i|~t))+r[13]+0x4e0811a1|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~o))+r[4]+0xf7537e82|0,t=n+(a<<6|a>>>26),a=o+(n^(t|~i))+r[11]+0xbd3af235|0,o=t+(a<<10|a>>>22),a=i+(t^(o|~n))+r[2]+0x2ad7d2bb|0,i=o+(a<<15|a>>>17),a=n+(o^(i|~t))+r[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(a<<21|a>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+o|0}function a(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)},e.prototype.u=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.v=function(e,t){void 0===t&&(t=e.length);let n=t-this.blockSize,r=this.C,i=this.h,a=0;for(;a<t;){if(0==i)for(;a<=n;)o(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){o(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){o(this,r),i=0;break}}this.h=i,this.o+=t},e.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s,l={};function u(e){var t;return -128<=e&&e<128?(t=function(e){return new a([0|e],e<0?-1:0)},Object.prototype.hasOwnProperty.call(l,e)?l[e]:l[e]=t(e)):new a([0|e],e<0?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return A;if(e<0)return g(c(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=0x100000000;return new a(t,0)}var A=u(0),d=u(1),h=u(0x1000000);function f(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return -1==e.h}function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new a(n,~e.h).add(d)}function m(e,t){return e.add(g(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new y(A,A);if(p(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(p(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=_(n),r=_(r);var i=E(n,1),o=E(r,1);for(r=E(r,2),n=E(n,2);!f(r);){var a=o.add(r);0>=a.l(e)&&(i=i.add(n),o=a),r=E(r,1),n=E(n,1)}return t=m(e,i.j(t)),new y(i,t)}for(i=A;e.l(t)>=0;){for(r=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))<=48?1:Math.pow(2,r-48),a=(o=c(n)).j(t);p(a)||a.l(e)>0;)n-=r,a=(o=c(n)).j(t);f(o)&&(o=d),i=i.add(o),e=m(e,a)}return new y(i,e)}function _(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new a(n,e.h)}function E(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let o=0;o<r;o++)i[o]=t>0?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new a(i,e.h)}(s=a.prototype).m=function(){if(p(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:0x100000000+r)*t,t*=0x100000000}return e},s.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+g(this).toString(e);let t=c(Math.pow(e,6));var n=this;let r="";for(;;){let i=b(n,t).g,o=(((n=m(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},s.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},s.l=function(e){return p(e=m(this,e))?-1:+!f(e)},s.abs=function(){return p(this)?g(this):this},s.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),o=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,t&=65535,o&=65535,n[i]=o<<16|t}return new a(n,-0x80000000&n[n.length-1]?-1:0)},s.j=function(e){if(f(this)||f(e))return A;if(p(this))return p(e)?g(this).j(g(e)):g(g(this).j(e));if(p(e))return g(this.j(g(e)));if(0>this.l(h)&&0>e.l(h))return c(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,o=65535&this.i(r),a=e.i(t)>>>16,s=65535&e.i(t);n[2*r+2*t]+=o*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=o*a,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*a,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new a(n,0)},s.B=function(e){return b(this,e).h},s.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new a(n,this.h&e.h)},s.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new a(n,this.h|e.h)},s.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new a(n,this.h^e.h)},e.prototype.digest=e.prototype.A,e.prototype.reset=e.prototype.u,e.prototype.update=e.prototype.v,i=w.Md5=e,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');let r=c(Math.pow(n,8)),i=A;for(let e=0;e<t.length;e+=8){var o=Math.min(8,t.length-e);let a=parseInt(t.substring(e,e+o),n);o<8?(o=c(Math.pow(n,o)),i=i.j(o).add(c(a))):i=(i=i.j(r)).add(c(a))}return i},r=w.Integer=a}).apply(void 0!==b?b:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _=n(43745),E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C={};(function(){var e,t,n=Object.defineProperty,r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof E&&E];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function i(e,t){if(t)e:{var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(t=t(o=i[e=e[e.length-1]]))!=o&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}i("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var h=h||{},f=this||self;function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){return(m=g).apply(null,arguments)}function v(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function y(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var b="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function w(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if("array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}var B=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new x,e=>e.reset());class x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,T=!1,S=new class{constructor(){this.h=this.g=null}add(e,t){let n=B.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},k=()=>{let e=Promise.resolve(void 0);I=()=>{e.then(N)}};function N(){let e;for(var t;e=null,S.g&&(e=S.g,S.g=S.g.next,S.g||(S.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){f.setTimeout(()=>{throw e},0)}(e)}B.j(t),B.h<100&&(B.h++,t.next=B.g,B.g=t)}T=!1}function D(){this.u=this.u,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};f.addEventListener("test",e,t),f.removeEventListener("test",e,t)}catch(e){}return e}();function F(e){return/^[\s\xa0]*$/.test(e)}function L(e,t){O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}y(L,O),L.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),P=0;function M(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++P,this.da=this.fa=!1}function j(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Z(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function Q(e){let t={};for(let n in e)t[n]=e[n];return t}let H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<H.length;t++)n=H[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function K(e){this.src=e,this.g={},this.h=0}function z(e,t){let n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(j(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function G(e,t,n,r){for(let i=0;i<e.length;++i){let o=e[i];if(!o.da&&o.listener==t&&!!n==o.capture&&o.ha==r)return i}return -1}K.prototype.add=function(e,t,n,r,i){let o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);let a=G(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new M(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function $(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");let a=p(i)?!!i.capture:!!i,s=ee(e);if(s||(e[W]=s=new K(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function e(t){return X.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Y(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[U])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ee(t))?(z(n,e),0==n.h&&(n.src=null,t[W]=null)):j(e)}}}function J(e){return e in q?q[e]:q[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function ee(e){return(e=e[W])instanceof K?e:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(e){return"function"==typeof e?e:(e[et]||(e[et]=function(t){return e.handleEvent(t)}),e[et])}function er(){D.call(this),this.i=new K(this),this.M=this,this.G=null}function ei(e,t){let n,r;var i,o=e.G;if(o)for(i=[];o;o=o.G)i.push(o);if(e=e.M,o=t.type||t,"string"==typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var a=t;V(t=new O(o,e),a)}if(a=!0,i)for(r=i.length-1;r>=0;r--)a=eo(n=t.g=i[r],o,!0,t)&&a;if(a=eo(n=t.g=e,o,!0,t)&&a,a=eo(n,o,!1,t)&&a,i)for(r=0;r<i.length;r++)a=eo(n=t.g=i[r],o,!1,t)&&a}function eo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){let a=t[o];if(a&&!a.da&&a.capture==n){let t=a.listener,n=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}y(er,D),er.prototype[U]=!0,er.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else(i=p(i)?!!i.capture:!!i,r=en(r),t&&t[U])?(t=t.i,(a=String(n).toString())in t.g&&(r=G(n=t.g[a],r,i,o))>-1&&(j(n[r]),Array.prototype.splice.call(n,r,1),0==n.length&&(delete t.g[a],t.h--))):t&&(t=ee(t))&&(n=t.g[n.toString()],t=-1,n&&(t=G(n,r,i,o)),(r=t>-1?n[t]:null)&&Y(r))}(this,e,t,n,r)},er.prototype.N=function(){if(er.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)j(n[e]);delete e.g[t],e.h--}}this.G=null},er.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},er.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ea extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=function(e,t){if("function"!=typeof e)if(e&&"function"==typeof e.handleEvent)e=m(e.handleEvent,e);else throw Error("Invalid listener argument");return Number(t)>0x7fffffff?-1:f.setTimeout(e,t||0)}(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(e){D.call(this),this.h=e,this.g={}}y(es,D);var el=[];function eu(e){Z(e.g,function(e,t){this.g.hasOwnProperty(t)&&Y(e)},e),e.g={}}es.prototype.N=function(){es.Z.N.call(this),eu(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ec=f.JSON.stringify,eA=f.JSON.parse,ed=class{stringify(e){return f.JSON.stringify(e,void 0)}parse(e){return f.JSON.parse(e,void 0)}};function eh(){}function ef(){}var ep={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function eg(){O.call(this,"d")}function em(){O.call(this,"c")}y(eg,O),y(em,O);var ev={},ey=null;function eb(){return ey=ey||new er}function ew(e){O.call(this,ev.Ia,e)}function e_(e){let t=eb();ei(t,new ew(t))}function eE(e,t){O.call(this,ev.STAT_EVENT,e),this.stat=t}function eC(e){let t=eb();ei(t,new eE(t,e))}function eB(e,t){O.call(this,ev.Ja,e),this.size=t}function ex(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){e()},t)}function eI(){this.g=!0}function eT(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{let o=JSON.parse(t);if(o){for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}}return ec(o)}catch(e){return t}}(e,n)+(r?" "+r:"")})}ev.Ia="serverreachability",y(ew,O),ev.STAT_EVENT="statevent",y(eE,O),ev.Ja="timingevent",y(eB,O),eI.prototype.ua=function(){this.g=!1},eI.prototype.info=function(){};var eS={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ek={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function eN(){}function eD(e){return encodeURIComponent(String(e))}function eO(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new eR}function eR(){this.i=null,this.g="",this.h=!1}y(eN,eh),eN.prototype.g=function(){return new XMLHttpRequest},e=new eN;var eF={},eL={};function eU(e,t,n){e.M=1,e.A=e8(e2(t)),e.u=n,e.R=!0,eP(e,null)}function eP(e,t){e.F=Date.now(),ej(e),e.B=e2(e.A);var n,r,i,o,a,s,l=e.B,u=e.S;Array.isArray(u)||(u=[String(u)]),tA(l.i,"t",u),e.C=0,l=e.j.L,e.h=new eR,e.g=tY(e.j,l?t:null,!e.u),e.P>0&&(e.O=new ea(m(e.Y,e,e.g),e.P)),t=e.V,l=e.g,u=e.ba;var c="readystatechange";Array.isArray(c)||(c&&(el[0]=c.toString()),c=el);for(let e=0;e<c.length;e++){let n=function e(t,n,r,i,o){if(i&&i.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(let a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=en(r),t&&t[U]?t.K(n,r,p(i)?!!i.capture:!!i,o):$(t,n,r,!0,i,o)}(t,n,r,i,o);if(Array.isArray(n)){for(let a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=en(r),t&&t[U]?t.J(n,r,p(i)?!!i.capture:!!i,o):$(t,n,r,!1,i,o)}(l,c[e],u||t.handleEvent,!1,t.h||t);if(!n)break;t.g[n.key]=n}t=e.J?Q(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),e_(),n=e.i,r=e.v,i=e.B,o=e.l,a=e.S,s=e.u,n.info(function(){if(n.g)if(s){var e="",t=s.split("&");for(let n=0;n<t.length;n++){var l=t[n].split("=");if(l.length>1){let t=l[0];l=l[1];let n=t.split("_");e=n.length>=2&&"type"==n[1]?e+(t+"=")+l+"&":e+(t+"=redacted&")}}}else e=null;else e=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e})}function eM(e){return!!e.g&&"GET"==e.v&&2!=e.M&&e.j.Aa}function ej(e){e.T=Date.now()+e.H,eZ(e,e.H)}function eZ(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=ex(m(e.aa,e),t)}function eQ(e){e.D&&(f.clearTimeout(e.D),e.D=null)}function eH(e){0==e.j.I||e.K||tz(e.j,e)}function eV(e){eQ(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,eu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function eK(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||e$(n.h,e))){if(!e.L&&e$(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)tK(n),tF(n);else break e;tQ(n),eC(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=ex(m(n.Va,n),6e3));1>=eq(n.h)&&n.ta&&(n.ta=void 0)}else tW(n,11)}else if((e.L||n.g==e)&&tK(n),!F(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let s=i[t],l=s[0];if(!(l<=n.K))if(n.K=l,s=s[1],2==n.I)if("c"==s[0]){n.M=s[1],n.ba=s[2];let t=s[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));let i=s[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));let l=s[5];null!=l&&"number"==typeof l&&l>0&&(n.O=r=1.5*l,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(eY(o,o.h),o.h=null))}if(r.G){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,e6(r.J,r.G,e))}}if(n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms")),(r=n).na=t$(r,r.L?r.ba:null,r.W),e.L){eJ(r.h,e);var a=r.O;a&&(e.H=a),e.D&&(eQ(e),ej(e)),r.g=e}else tZ(r);n.i.length>0&&tU(n)}else"stop"!=s[0]&&"close"!=s[0]||tW(n,7);else 3==n.I&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?tW(n,7):tR(n):"noop"!=s[0]&&n.l&&n.l.qa(s),n.A=0)}}e_(4)}catch(e){}}eO.prototype.ba=function(e){e=e.target;let t=this.O;t&&3==tk(e)?t.j():this.Y(e)},eO.prototype.Y=function(e){try{if(e==this.g)e:{let d=tk(this.g),h=this.g.ya(),p=this.g.ca();if(!(d<3)&&(3!=d||this.g&&(this.h.h||this.g.la()||tN(this.g)))){this.K||4!=d||7==h||(8==h||p<=0?e_(3):e_(2)),eQ(this);var t=this.g.ca();this.X=t;var n=function(e){if(!eM(e))return e.g.la();let t=tN(e.g);if(""===t)return"";let n="",r=t.length,i=4==tk(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return eV(e),eH(e),"";e.h.i=new f.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,r=this.i,i=this.v,o=this.B,a=this.l,s=this.S,r.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+s+"]: "+i+"\n"+o+"\n"+d+" "+t}),this.o){if(this.U&&!this.L){i:{if(this.g){var r,i,o,a,s,l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(l)){var c=l;break i}}c=null}if(e=c)eT(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,eK(this,e);else{this.o=!1,this.m=3,eC(12),eV(this),eH(this);break e}}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;)if((t=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?eL:isNaN(n=Number(t.substring(n,r)))?eF:(r+=1)+n>t.length?eL:(t=t.slice(r,r+n),e.C=r+n,t)}(this,n))==eL){4==d&&(this.m=4,eC(14),e=!1),eT(this.i,this.l,null,"[Incomplete Response]");break}else if(t==eF){this.m=4,eC(15),eT(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}else eT(this.i,this.l,t,null),eK(this,t);if(eM(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=n.length||this.h.h||(this.m=1,eC(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var A=this.j;A.g==this&&A.aa&&!A.P&&(A.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tH(A),A.P=!0,eC(11))}}else eT(this.i,this.l,n,"[Invalid Chunked Response]"),eV(this),eH(this)}else eT(this.i,this.l,n,null),eK(this,n);4==d&&eV(this),this.o&&!this.K&&(4==d?tz(this.j,this):(this.o=!1,ej(this)))}else(function(e){let t={};e=(e.g&&tk(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(F(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let o=t[i]||[];t[i]=o,o.push(n)}var r=function(e){return e.join(", ")};for(let e in t)r.call(void 0,t[e],e,t)})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,eC(12)):(this.m=0,eC(13)),eV(this),eH(this)}}}catch(e){}finally{}},eO.prototype.cancel=function(){this.K=!0,eV(this)},eO.prototype.aa=function(){var e,t;this.D=null;let n=Date.now();n-this.T>=0?(e=this.i,t=this.B,e.info(function(){return"TIMEOUT: "+t}),2!=this.M&&(e_(),eC(17)),eV(this),this.m=2,eH(this)):eZ(this,this.T-n)};var ez=class{constructor(e,t){this.g=e,this.map=t}};function eG(e){this.l=e||10,e=f.PerformanceNavigationTiming?(e=f.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eW(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eq(e){return e.h?1:e.g?e.g.size:0}function e$(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eY(e,t){e.g?e.g.add(t):e.h=t}function eJ(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function eX(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return w(e.i)}eG.prototype.cancel=function(){if(this.i=eX(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e1(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof e1?(this.l=e.l,e4(this,e.j),this.o=e.o,this.g=e.g,e3(this,e.u),this.h=e.h,e5(this,td(e.i)),this.m=e.m):e&&(t=String(e).match(e0))?(this.l=!1,e4(this,t[1]||"",!0),this.o=e9(t[2]||""),this.g=e9(t[3]||"",!0),e3(this,t[4]),this.h=e9(t[5]||"",!0),e5(this,t[6]||"",!0),this.m=e9(t[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}function e2(e){return new e1(e)}function e4(e,t,n){e.j=n?e9(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function e3(e,t){if(t){if(isNaN(t=Number(t))||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function e5(e,t,n){var r,i;t instanceof ta?(e.i=t,r=e.i,(i=e.l)&&!r.j&&(ts(r),r.i=null,r.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(tl(this,t),tA(this,n,e))},r)),r.j=i):(n||(t=e7(t,ti)),e.i=new ta(t,e.l))}function e6(e,t,n){e.i.set(t,n)}function e8(e){return e6(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function e9(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function e7(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,te),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function te(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e1.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(e7(t,tt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(e7(t,tt,!0),"@"),e.push(eD(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(e7(n,"/"==n.charAt(0)?tr:tn,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",e7(n,to)),e.join("")},e1.prototype.resolve=function(e){let t=e2(this),n=!!e.j;n?e4(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)e3(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");let e=[];for(let t=0;t<i.length;){let n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?e5(t,td(e.i)):n=!!e.m,n&&(t.m=e.m),t};var tt=/[#\/\?@]/g,tn=/[#\?:]/g,tr=/[#\?]/g,ti=/[#\?@]/g,to=/#/g;function ta(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ts(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){let r=e[n].indexOf("="),i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tl(e,t){ts(e),t=th(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tu(e,t){return ts(e),t=th(e,t),e.g.has(t)}function tc(e,t){ts(e);let n=[];if("string"==typeof t)tu(e,t)&&(n=n.concat(e.g.get(th(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function tA(e,t,n){tl(e,t),n.length>0&&(e.i=null,e.g.set(th(e,t),w(n)),e.h+=n.length)}function td(e){let t=new ta;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function th(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tf(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function tp(){this.g=new ed}function tg(e){this.i=e.Sb||null,this.h=e.ab||!1}function tm(e,t){er.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function tv(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function ty(e){e.readyState=4,e.l=null,e.j=null,e.B=null,tb(e)}function tb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tw(e){let t="";return Z(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function t_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tw(n),"string"==typeof e?null!=n&&eD(n):e6(e,t,n))}function tE(e){er.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(t=ta.prototype).add=function(e,t){ts(this),this.i=null,e=th(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},t.forEach=function(e,t){ts(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},t.set=function(e,t){return ts(this),this.i=null,tu(this,e=th(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&(e=tc(this,e)).length>0?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=eD(n);n=tc(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+eD(n[t])),e.push(r)}}return this.i=e.join("&")},y(tg,eh),tg.prototype.g=function(){return new tm(this.i,this.h)},y(tm,er),(t=tm.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,tb(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||f).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,ty(this)),this.readyState=0},t.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tb(this)),this.g&&(this.readyState=3,tb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==f.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tv(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},t.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ty(this):tb(this),3==this.readyState&&tv(this)}},t.Oa=function(e){this.g&&(this.response=this.responseText=e,ty(this))},t.Na=function(e){this.g&&(this.response=e,ty(this))},t.ga=function(){this.g&&ty(this)},t.setRequestHeader=function(e,t){this.A.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),y(tE,er);var tC=/^https?$/i,tB=["POST","PUT"];function tx(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,tI(e),tS(e)}function tI(e){e.A||(e.A=!0,ei(e,"complete"),ei(e,"error"))}function tT(e){if(e.h&&void 0!==h){if(e.v&&4==tk(e))setTimeout(e.Ca.bind(e),0);else if(ei(e,"readystatechange"),4==tk(e)){e.h=!1;try{let o=e.ca();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===o){let t=String(e.D).match(e0)[1]||null;!t&&f.self&&f.self.location&&(t=f.self.location.protocol.slice(0,-1)),n=!tC.test(t?t.toLowerCase():"")}t=n}if(t)ei(e,"complete"),ei(e,"success");else{e.o=6;try{var i=tk(e)>2?e.g.statusText:""}catch(e){i=""}e.l=i+" ["+e.ca()+"]",tI(e)}}finally{tS(e)}}}}function tS(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);let n=e.g;e.g=null,t||ei(e,"ready");try{n.onreadystatechange=null}catch(e){}}}function tk(e){return e.g?e.g.readyState:0}function tN(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tD(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tO(e){this.za=0,this.i=[],this.j=new eI,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tD("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tD("baseRetryDelayMs",5e3,e),this.Za=tD("retryDelaySeedMs",1e4,e),this.Ta=tD("forwardChannelMaxRetries",2,e),this.va=tD("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new eG(e&&e.concurrentRequestLimit),this.Ba=new tp,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function tR(e){if(tL(e),3==e.I){var t=e.V++,n=e2(e.J);if(e6(n,"SID",e.M),e6(n,"RID",t),e6(n,"TYPE","terminate"),tM(e,n),(t=new eO(e,e.j,t)).M=2,t.A=e8(e2(n)),n=!1,f.navigator&&f.navigator.sendBeacon)try{n=f.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!n&&f.Image&&((new Image).src=t.A,n=!0),n||(t.g=tY(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ej(t)}tq(e)}function tF(e){e.g&&(tH(e),e.g.cancel(),e.g=null)}function tL(e){tF(e),e.v&&(f.clearTimeout(e.v),e.v=null),tK(e),e.h.cancel(),e.m&&("number"==typeof e.m&&f.clearTimeout(e.m),e.m=null)}function tU(e){if(!eW(e.h)&&!e.m){e.m=!0;var t=e.Ea;I||k(),T||(I(),T=!0),S.add(t,e),e.D=0}}function tP(e,t){var n;n=t?t.l:e.V++;let r=e2(e.J);e6(r,"SID",e.M),e6(r,"RID",n),e6(r,"AID",e.K),tM(e,r),e.u&&e.o&&t_(r,e.u,e.o),n=new eO(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=tj(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),eY(e.h,n),eU(n,r,t)}function tM(e,t){e.H&&Z(e.H,function(e,n){e6(t,n,e)}),e.l&&Z({},function(e,n){e6(t,n,e)})}function tj(e,t,n){n=Math.min(e.i.length,n);let r=e.l?m(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let l=0;l<n;l++){var o=i[l].g;let n=i[l].map;if((o-=t)<0)t=Math.max(0,i[l].g-100),s=!1;else try{o="req"+o+"_";try{var a=n instanceof Map?n:Object.entries(n);for(let[t,n]of a){let r=n;p(n)&&(r=ec(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(t){throw e.push(o+"type="+encodeURIComponent("_badmap")),t}}catch(e){r&&r(n)}}if(s){a=e.join("&");break e}}a=void 0}return t.G=e=e.i.splice(0,n),a}function tZ(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;I||k(),T||(I(),T=!0),S.add(t,e),e.A=0}}function tQ(e){return!e.g&&!e.v&&!(e.A>=3)&&(e.Y++,e.v=ex(m(e.Da,e),tG(e,e.A)),e.A++,!0)}function tH(e){null!=e.B&&(f.clearTimeout(e.B),e.B=null)}function tV(e){e.g=new eO(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=e2(e.na);e6(t,"RID","rpc"),e6(t,"SID",e.M),e6(t,"AID",e.K),e6(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&e6(t,"TO",e.ia),e6(t,"TYPE","xmlhttp"),tM(e,t),e.u&&e.o&&t_(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=e8(e2(t)),n.u=null,n.R=!0,eP(n,e)}function tK(e){null!=e.C&&(f.clearTimeout(e.C),e.C=null)}function tz(e,t){var n,r=null;if(e.g==t){tK(e),tH(e),e.g=null;var i=2}else{if(!e$(e.h,t))return;r=t.G,eJ(e.h,t),i=1}if(0!=e.I){if(t.o)if(1==i){r=t.u?t.u.length:0,t=Date.now()-t.F;var o=e.D;ei(i=eb(),new eB(i,r)),tU(e)}else tZ(e);else if(3==(o=t.m)||0==o&&t.X>0||!(1==i&&(n=t,!(eq(e.h)>=e.h.j-!!e.m)&&(e.m?(e.i=n.G.concat(e.i),!0):1!=e.I&&2!=e.I&&!(e.D>=(e.Sa?0:e.Ta))&&(e.m=ex(m(e.Ea,e,n),tG(e,e.D)),e.D++,!0)))||2==i&&tQ(e)))switch(r&&r.length>0&&((t=e.h).i=t.i.concat(r)),o){case 1:tW(e,5);break;case 4:tW(e,10);break;case 3:tW(e,6);break;default:tW(e,2)}}}function tG(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function tW(e,t){if(e.j.info("Error code "+t),2==t){let t,o,a;var n,r=m(e.bb,e),i=e.Ua;let s=!i;i=new e1(i||"//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||e4(i,"https"),e8(i),s?function(e,t){let n=new eI;if(f.Image){let r=new Image;r.onload=v(tf,n,"TestLoadImage: loaded",!0,t,r),r.onerror=v(tf,n,"TestLoadImage: error",!1,t,r),r.onabort=v(tf,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=v(tf,n,"TestLoadImage: timeout",!1,t,r),f.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(i.toString(),r):(n=i.toString(),t=new eI,o=new AbortController,a=setTimeout(()=>{o.abort(),tf(t,"TestPingServer: timeout",!1,r)},1e4),fetch(n,{signal:o.signal}).then(e=>{clearTimeout(a),e.ok?tf(t,"TestPingServer: ok",!0,r):tf(t,"TestPingServer: server error",!1,r)}).catch(()=>{clearTimeout(a),tf(t,"TestPingServer: error",!1,r)}))}else eC(2);e.I=0,e.l&&e.l.pa(t),tq(e),tL(e)}function tq(e){if(e.I=0,e.ja=[],e.l){let t=eX(e.h);(0!=t.length||0!=e.i.length)&&(_(e.ja,t),_(e.ja,e.i),e.h.i.length=0,w(e.i),e.i.length=0),e.l.oa()}}function t$(e,t,n){var r=n instanceof e1?e2(n):new e1(n);if(""!=r.g)t&&(r.g=t+"."+r.g),e3(r,r.u);else{var i=f.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;let e=new e1(null);r&&e4(e,r),t&&(e.g=t),i&&e3(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&e6(r,n,t),e6(r,"VER",e.ka),tM(e,r),r}function tY(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tE(e.Aa&&!e.ma?new tg({ab:n}):e.ma)).Fa(e.L),t}function tJ(){}function tX(){}function t0(e,t){er.call(this),this.g=new tO(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!F(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!F(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t4(this)}function t1(e){eg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t2(){em.call(this),this.status=1}function t4(e){this.g=e}(t=tE.prototype).Fa=function(e){this.H=e},t.ea=function(t,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);n=n?n.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():e.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(n,String(t),!0),this.B=!1}catch(e){tx(this,e);return}if(t=r||"",r=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)r.set(o,i[o]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())r.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[e,a]of(i=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),o=f.FormData&&t instanceof f.FormData,!(Array.prototype.indexOf.call(tB,n,void 0)>=0)||i||o||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(e,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(e){tx(this,e)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ei(this,"complete"),ei(this,"abort"),tS(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tS(this,!0)),tE.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tT(this):this.Xa())},t.Xa=function(){tT(this)},t.isActive=function(){return!!this.g},t.ca=function(){try{return tk(this)>2?this.g.status:-1}catch(e){return -1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},t.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),eA(t)}},t.ya=function(){return this.o},t.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=tO.prototype).ka=8,t.I=1,t.connect=function(e,t,n,r){eC(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=t$(this,null,this.W),tU(this)},t.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;let i=new eO(this,this.j,e),o=this.o;if(this.U&&(o?V(o=Q(o),this.U):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){i:{var r=this.i[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break i}r=void 0}if(void 0===r)break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tj(this,i,t),e6(n=e2(this.J),"RID",e),e6(n,"CVER",22),this.G&&e6(n,"X-HTTP-Session-Id",this.G),tM(this,n),o&&(this.R?t="headers="+eD(tw(o))+"&"+t:this.u&&t_(n,this.u,o)),eY(this.h,i),this.Ra&&e6(n,"TYPE","init"),this.S?(e6(n,"$req",t),e6(n,"SID","null"),i.U=!0,eU(i,n,null)):eU(i,n,t),this.I=2}}else 3==this.I&&(e?tP(this,e):0==this.i.length||eW(this.h)||tP(this))},t.Da=function(){if(this.v=null,tV(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=ex(m(this.Wa,this),e)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,eC(10),tF(this),tV(this))},t.Va=function(){null!=this.C&&(this.C=null,tF(this),tQ(this),eC(19))},t.bb=function(e){e?(this.j.info("Successfully pinged google.com"),eC(2)):(this.j.info("Failed to ping google.com"),eC(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=tJ.prototype).ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){},tX.prototype.g=function(e,t){return new t0(e,t)},y(t0,er),t0.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},t0.prototype.close=function(){tR(this.g)},t0.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ec(e),e=n);t.i.push(new ez(t.Ya++,e)),3==t.I&&tU(t)},t0.prototype.N=function(){this.g.l=null,delete this.j,tR(this.g),delete this.g,t0.Z.N.call(this)},y(t1,eg),y(t2,em),y(t4,tJ),t4.prototype.ra=function(){ei(this.g,"a")},t4.prototype.qa=function(e){ei(this.g,new t1(e))},t4.prototype.pa=function(e){ei(this.g,new t2)},t4.prototype.oa=function(){ei(this.g,"b")},tX.prototype.createWebChannel=tX.prototype.g,t0.prototype.send=t0.prototype.o,t0.prototype.open=t0.prototype.m,t0.prototype.close=t0.prototype.close,d=C.createWebChannelTransport=function(){return new tX},A=C.getStatEventTarget=function(){return eb()},c=C.Event=ev,u=C.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},eS.NO_ERROR=0,eS.TIMEOUT=8,eS.HTTP_ERROR=6,l=C.ErrorCode=eS,ek.COMPLETE="complete",s=C.EventType=ek,ef.EventType=ep,ep.OPEN="a",ep.CLOSE="b",ep.ERROR="c",ep.MESSAGE="d",er.prototype.listen=er.prototype.J,a=C.WebChannel=ef,C.FetchXmlHttpFactory=tg,tE.prototype.listenOnce=tE.prototype.K,tE.prototype.getLastError=tE.prototype.Ha,tE.prototype.getLastErrorCode=tE.prototype.ya,tE.prototype.getStatus=tE.prototype.ca,tE.prototype.getResponseJson=tE.prototype.La,tE.prototype.getResponseText=tE.prototype.la,tE.prototype.send=tE.prototype.ea,tE.prototype.setWithCredentials=tE.prototype.Fa,o=C.XhrIo=tE}).apply(void 0!==E?E:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var B=n(34406),x=n(48834).lW;class I{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}I.UNAUTHENTICATED=new I(null),I.GOOGLE_CREDENTIALS=new I("google-credentials-uid"),I.FIRST_PARTY=new I("first-party-uid"),I.MOCK_USER=new I("mock-user");let T="12.8.0",S=new _.Yd("@firebase/firestore");function k(){return S.logLevel}function N(e){S.setLogLevel(e)}function D(e,...t){if(S.logLevel<=_.in.DEBUG){let n=t.map(F);S.debug(`Firestore (${T}): ${e}`,...n)}}function O(e,...t){if(S.logLevel<=_.in.ERROR){let n=t.map(F);S.error(`Firestore (${T}): ${e}`,...n)}}function R(e,...t){if(S.logLevel<=_.in.WARN){let n=t.map(F);S.warn(`Firestore (${T}): ${e}`,...n)}}function F(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function L(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,U(e,r,n)}function U(e,t,n){let r=`FIRESTORE (${T}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw O(r),Error(r)}function P(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||U(t,i,r)}let M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends y.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Z{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Q{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(I.UNAUTHENTICATED))}shutdown(){}}class V{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class K{constructor(e){this.t=e,this.currentUser=I.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){P(void 0===this.o,42304);let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new Z;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Z,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Z)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(P("string"==typeof t.accessToken,31837,{l:t}),new Q(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e,2055,{h:e}),new I(e)}}class z{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=I.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class G{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new z(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(I.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,m.rh)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){P(void 0===this.o,3512);let n=e=>{null!=e.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,D("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(P("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new W(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class ${static newId(){let e=62*Math.floor(256/62),t="";for(;t.length<20;){let n=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(0);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Y(e,t){return e<t?-1:+(e>t)}function J(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return X(n)===X(i)?Y(n,i):X(n)?1:-1}return Y(e.length,t.length)}function X(e){let t=e.charCodeAt(0);return t>=55296&&t<=57343}function ee(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}let et="__name__";class en{constructor(e,t,n){void 0===t?t=0:t>e.length&&L(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&L(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===en.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof en?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=en.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Y(e.length,t.length)}static compareSegments(e,t){let n=en.isNumericId(e),r=en.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?en.extractNumericId(e).compare(en.extractNumericId(t)):J(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class er extends en{construct(e,t,n){return new er(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new j(M.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new er(t)}static emptyPath(){return new er([])}}let ei=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eo extends en{construct(e,t,n){return new eo(e,t,n)}static isValidIdentifier(e){return ei.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===et}static keyField(){return new eo([et])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new j(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},o=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new j(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new j(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?o=!o:"."!==t||o?n+=t:i(),r++}if(i(),o)throw new j(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new eo(t)}static emptyPath(){return new eo([])}}class ea{constructor(e){this.path=e}static fromPath(e){return new ea(er.fromString(e))}static fromName(e){return new ea(er.fromString(e).popFirst(5))}static empty(){return new ea(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===er.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return er.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ea(new er(e.slice()))}}function es(e,t,n){if(!n)throw new j(M.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function el(e){if(!ea.isDocumentKey(e))throw new j(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function eu(e){if(ea.isDocumentKey(e))throw new j(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ec(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function eA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":L(12329,{type:typeof e})}function ed(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=eA(e);throw new j(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function eh(e,t){let n={typeString:e};return t&&(n.value=t),n}function ef(e,t){let n;if(!ec(e))throw new j(M.INVALID_ARGUMENT,"JSON must be an object");for(let r in t)if(t[r]){let i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new j(M.INVALID_ARGUMENT,n);return!0}class ep{static now(){return ep.fromMillis(Date.now())}static fromDate(e){return ep.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*1e6);return new ep(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ep._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ef(e,ep._jsonSchema))return new ep(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ep._jsonSchemaVersion="firestore/timestamp/1.0",ep._jsonSchema={type:eh("string",ep._jsonSchemaVersion),seconds:eh("number"),nanoseconds:eh("number")};class eg{static fromTimestamp(e){return new eg(e)}static min(){return new eg(new ep(0,0))}static max(){return new eg(new ep(0x3afff4417f,0x3b9ac9ff))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class em{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ev(e){return e.fields.find(e=>2===e.kind)}function ey(e){return e.fields.filter(e=>2!==e.kind)}em.UNKNOWN_ID=-1;class eb{constructor(e,t){this.fieldPath=e,this.kind=t}}class ew{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ew(0,eC.min())}}function e_(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new eC(eg.fromTimestamp(1e9===r?new ep(n+1,0):new ep(n,r)),ea.empty(),t)}function eE(e){return new eC(e.readTime,e.key,-1)}class eC{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new eC(eg.min(),ea.empty(),-1)}static max(){return new eC(eg.max(),ea.empty(),-1)}}function eB(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=ea.comparator(e.documentKey,t.documentKey))?n:Y(e.largestBatchId,t.largestBatchId)}let ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function eT(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==ex)throw e;D("LocalStore","Unexpectedly lost primary lease")}class eS{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&L(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new eS((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof eS?t:eS.resolve(t)}catch(e){return eS.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):eS.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):eS.reject(t)}static resolve(e){return new eS((t,n)=>{t(e)})}static reject(e){return new eS((t,n)=>{n(e)})}static waitFor(e){return new eS((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=eS.resolve(!1);for(let n of e)t=t.next(e=>e?eS.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new eS((n,r)=>{let i=e.length,o=Array(i),a=0;for(let s=0;s<i;s++){let l=s;t(e[l]).next(e=>{o[l]=e,++a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new eS((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}let ek="SimpleDb";class eN{static open(e,t,n,r){try{return new eN(t,e.transaction(r,n))}catch(e){throw new eF(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Z,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new eF(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{let n=ej(t.target.error);this.S.reject(new eF(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(D(ek,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new eU(this.transaction.objectStore(e))}}class eD{static delete(e){return D(ek,"Removing database:",e),eP((0,y.Rd)().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!(0,y.hl)())return!1;if(eD.F())return!0;let e=(0,y.z$)(),t=eD.M(e),n=eO(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<t&&t<10||0<n&&n<4.5)}static F(){return void 0!==B&&"YES"===B.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE}static O(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===eD.M((0,y.z$)())&&O("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(D(ek,"Opening database:",this.name),this.db=await new Promise((t,n)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{t(e.target.result)},r.onblocked=()=>{n(new eF(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{let r=t.target.error;"VersionError"===r.name?n(new j(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new j(M.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new eF(e,r))},r.onupgradeneeded=e=>{D(ek,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next(()=>{D(ek,"Database upgrade to version "+this.version+" complete")})}})),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){let i="readonly"===t,o=0;for(;;){++o;try{this.db=await this.L(e);let t=eN.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),eS.reject(e))).toPromise();return o.catch(()=>{}),await t.D,o}catch(t){let e="FirebaseError"!==t.name&&o<3;if(D(ek,"Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eO(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class eR{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return eP(this.U.delete())}}class eF extends j{constructor(e,t){super(M.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function eL(e){return"IndexedDbTransactionError"===e.name}class eU{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(D(ek,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(D(ek,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),eP(n)}add(e){return D(ek,"ADD",this.store.name,e,e),eP(this.store.add(e))}get(e){return eP(this.store.get(e)).next(t=>(void 0===t&&(t=null),D(ek,"GET",this.store.name,e,t),t))}delete(e){return D(ek,"DELETE",this.store.name,e),eP(this.store.delete(e))}count(){return D(ek,"COUNT",this.store.name),eP(this.store.count())}H(e,t){let n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){let e=r.getAll(n.range);return new eS((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(n),t=[];return this.J(e,(e,n)=>{t.push(n)}).next(()=>t)}}Z(e,t){let n=this.store.getAll(e,null===t?void 0:t);return new eS((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}X(e,t){D(ek,"DELETE ALL",this.store.name);let n=this.options(e,t);n.Y=!1;let r=this.cursor(n);return this.J(r,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);let r=this.cursor(n);return this.J(r,t)}te(e){let t=this.cursor({});return new eS((n,r)=>{t.onerror=e=>{r(ej(e.target.error))},t.onsuccess=t=>{let r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}J(e,t){let n=[];return new eS((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i)return void r();let o=new eR(i),a=t(i.primaryKey,i.value,o);if(a instanceof eS){let e=a.catch(e=>(o.done(),eS.reject(e)));n.push(e)}o.isDone?r():null===o.G?i.continue():i.continue(o.G)}}).next(()=>eS.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function eP(e){return new eS((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{n(ej(e.target.error))}})}let eM=!1;function ej(e){let t=eD.M((0,y.z$)());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new j("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eM||(eM=!0,setTimeout(()=>{throw e},0)),e}}return e}let eZ="IndexBackfiller";class eQ{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){D(eZ,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.ne.ie();D(eZ,`Documents written: ${e}`)}catch(e){eL(e)?D(eZ,"Ignoring IndexedDB error during index backfill: ",e):await eT(e)}await this.re(6e4)})}}class eH{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){let n=new Set,r=t,i=!0;return eS.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return D(eZ,`Processing collection: ${t}`),this.oe(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{let i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(r,n)).next(n=>(D(eZ,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{let r=eE(t);eB(r,n)>0&&(n=r)}),new eC(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class eV{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}eV.ce=-1;function eK(e){return 0===e&&1/e==-1/0}function ez(e){return"number"==typeof e&&Number.isInteger(e)&&!eK(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function eG(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=r}}return n}(e.get(n),t);return t+"\x01\x01"}function eW(e){let t=e.length;if(P(t>=2,64408,{path:e}),2===t)return P("\x01"===e.charAt(0)&&"\x01"===e.charAt(1),56145,{path:e}),er.emptyPath();let n=t-2,r=[],i="";for(let o=0;o<t;){let t=e.indexOf("\x01",o);switch((t<0||t>n)&&L(50515,{path:e}),e.charAt(t+1)){case"\x01":let a,s=e.substring(o,t);0===i.length?a=s:(i+=s,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:L(61167,{path:e})}o=t+2}return new er(r)}let eq="remoteDocuments",e$="owner",eY="owner",eJ="mutationQueues",eX="mutations",e0="batchId",e1="userMutationsIndex",e2=["userId","batchId"],e4={},e3="documentMutations",e5="remoteDocumentsV14",e6=["prefixPath","collectionGroup","readTime","documentId"],e8="documentKeyIndex",e9=["prefixPath","collectionGroup","documentId"],e7="collectionGroupIndex",te=["collectionGroup","readTime","prefixPath","documentId"],tt="remoteDocumentGlobal",tn="remoteDocumentGlobalKey",tr="targets",ti="queryTargetsIndex",to=["canonicalId","targetId"],ta="targetDocuments",ts=["targetId","path"],tl="documentTargetsIndex",tu=["path","targetId"],tc="targetGlobalKey",tA="targetGlobal",td="collectionParents",th=["collectionId","parent"],tf="clientMetadata",tp="bundles",tg="namedQueries",tm="indexConfiguration",tv="collectionGroupIndex",ty="indexState",tb=["indexId","uid"],tw="sequenceNumberIndex",t_=["uid","sequenceNumber"],tE="indexEntries",tC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tB="documentKeyIndex",tx=["indexId","uid","orderedDocumentKey"],tI="documentOverlays",tT=["userId","collectionPath","documentId"],tS="collectionPathOverlayIndex",tk=["userId","collectionPath","largestBatchId"],tN="collectionGroupOverlayIndex",tD=["userId","collectionGroup","largestBatchId"],tO="globals",tR=[eJ,eX,e3,eq,tr,e$,tA,ta,tf,tt,td,tp,tg],tF=[...tR,tI],tL=[eJ,eX,e3,e5,tr,e$,tA,ta,tf,tt,td,tp,tg,tI],tU=[...tL,tm,ty,tE],tP=[...tU,tO];class tM extends eI{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function tj(e,t){return eD.O(e.le,t)}function tZ(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tQ(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tH(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tV{constructor(e,t){this.comparator=e,this.root=t||tz.EMPTY}insert(e,t){return new tV(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tz.BLACK,null,null))}remove(e){return new tV(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tz.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tK(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tK(this.root,e,this.comparator,!1)}getReverseIterator(){return new tK(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tK(this.root,e,this.comparator,!0)}}class tK{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tz{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:tz.RED,this.left=null!=r?r:tz.EMPTY,this.right=null!=i?i:tz.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new tz(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return tz.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return tz.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,tz.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,tz.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw L(43730,{key:this.key,value:this.value});if(this.right.isRed())throw L(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw L(27949);return e+ +!this.isRed()}}tz.EMPTY=null,tz.RED=!0,tz.BLACK=!1,tz.EMPTY=new class{constructor(){this.size=0}get key(){throw L(57766)}get value(){throw L(16141)}get color(){throw L(16727)}get left(){throw L(29726)}get right(){throw L(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new tz(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tG{constructor(e){this.comparator=e,this.data=new tV(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tW(this.data.getIterator())}getIteratorFrom(e){return new tW(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof tG)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new tG(this.comparator);return t.data=e,t}}class tW{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tq(e){return e.hasNext()?e.getNext():void 0}class t${constructor(e){this.fields=e,e.sort(eo.comparator)}static empty(){return new t$([])}unionWith(e){let t=new tG(eo.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new t$(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class tY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tJ{constructor(e){this.binaryString=e}static fromBase64String(e){return new tJ(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new tY("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new tJ(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tJ.EMPTY_BYTE_STRING=new tJ("");let tX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function t0(e){if(P(!!e,39018),"string"==typeof e){let t=0,n=tX.exec(e);if(P(!!n,46558,{timestamp:e}),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:t1(e.seconds),nanos:t1(e.nanos)}}function t1(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function t2(e){return"string"==typeof e?tJ.fromBase64String(e):tJ.fromUint8Array(e)}let t4="server_timestamp",t3="__type__",t5="__previous_value__",t6="__local_write_time__";function t8(e){return(e?.mapValue?.fields||{})[t3]?.stringValue===t4}function t9(e){let t=e.mapValue.fields[t5];return t8(t)?t9(t):t}function t7(e){let t=t0(e.mapValue.fields[t6].timestampValue);return new ep(t.seconds,t.nanos)}class ne{constructor(e,t,n,r,i,o,a,s,l,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=u,this.apiKey=c}}let nt="(default)";class nn{constructor(e,t){this.projectId=e,this.database=t||nt}static empty(){return new nn("","")}get isDefaultDatabase(){return this.database===nt}isEqual(e){return e instanceof nn&&e.projectId===this.projectId&&e.database===this.database}}let nr="__type__",ni="__max__",no={mapValue:{fields:{__type__:{stringValue:ni}}}},na="__vector__",ns="value",nl={nullValue:"NULL_VALUE"};function nu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?t8(e)?4:nC(e)?0x1fffffffffffff:n_(e)?10:11:L(28295,{value:e})}function nc(e,t){if(e===t)return!0;let n=nu(e);if(n!==nu(t))return!1;switch(n){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return t7(e).isEqual(t7(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=t0(e.timestampValue),i=t0(t.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return t2(e.bytesValue).isEqual(t2(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return t1(e.geoPointValue.latitude)===t1(t.geoPointValue.latitude)&&t1(e.geoPointValue.longitude)===t1(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return t1(e.integerValue)===t1(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=t1(e.doubleValue),r=t1(t.doubleValue);return n===r?eK(n)===eK(r):isNaN(n)&&isNaN(r)}return!1;case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],nc);case 10:case 11:let o=e.mapValue.fields||{},a=t.mapValue.fields||{};if(tZ(o)!==tZ(a))return!1;for(let e in o)if(o.hasOwnProperty(e)&&(void 0===a[e]||!nc(o[e],a[e])))return!1;return!0;default:return L(52216,{left:e})}}function nA(e,t){return void 0!==(e.values||[]).find(e=>nc(e,t))}function nd(e,t){var n,r,i,o,a,s;if(e===t)return 0;let l=nu(e),u=nu(t);if(l!==u)return Y(l,u);switch(l){case 0:case 0x1fffffffffffff:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:let c,A;return c=t1(e.integerValue||e.doubleValue),c<(A=t1(t.integerValue||t.doubleValue))?-1:c>A?1:c===A?0:isNaN(c)?isNaN(A)?0:-1:1;case 3:return nh(e.timestampValue,t.timestampValue);case 4:return nh(t7(e),t7(t));case 5:return J(e.stringValue,t.stringValue);case 6:let d,h;return n=e.bytesValue,r=t.bytesValue,d=t2(n),h=t2(r),d.compareTo(h);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=Y(n[e],r[e]);if(0!==t)return t}return Y(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:let f;return i=e.geoPointValue,o=t.geoPointValue,0!==(f=Y(t1(i.latitude),t1(o.latitude)))?f:Y(t1(i.longitude),t1(o.longitude));case 9:return nf(e.arrayValue,t.arrayValue);case 10:let p,g,m,v,y;return a=e.mapValue,s=t.mapValue,p=a.fields||{},g=s.fields||{},m=p[ns]?.arrayValue,v=g[ns]?.arrayValue,0!==(y=Y(m?.values?.length||0,v?.values?.length||0))?y:nf(m,v);case 11:return function(e,t){if(e===no.mapValue&&t===no.mapValue)return 0;if(e===no.mapValue)return 1;if(t===no.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){let t=J(r[e],o[e]);if(0!==t)return t;let a=nd(n[r[e]],i[o[e]]);if(0!==a)return a}return Y(r.length,o.length)}(e.mapValue,t.mapValue);default:throw L(23264,{he:l})}}function nh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y(e,t);let n=t0(e),r=t0(t),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function nf(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=nd(n[e],r[e]);if(t)return t}return Y(n.length,r.length)}function np(e){var t,n;let r;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(r=t0(e.timestampValue),`time(${r.seconds},${r.nanos})`):"stringValue"in e?e.stringValue:"bytesValue"in e?t2(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,ea.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=np(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${np(e.fields[i])}`;return n+"}"}(e.mapValue):L(61005,{value:e})}function ng(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function nm(e){return!!e&&"integerValue"in e}function nv(e){return!!e&&"arrayValue"in e}function ny(e){return!!e&&"nullValue"in e}function nb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nw(e){return!!e&&"mapValue"in e}function n_(e){return(e?.mapValue?.fields||{})[nr]?.stringValue===na}function nE(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return tQ(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=nE(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nE(e.arrayValue.values[n]);return t}return{...e}}function nC(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ni}let nB={mapValue:{fields:{[nr]:{stringValue:na},[ns]:{arrayValue:{}}}}};function nx(e,t){let n=nd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function nI(e,t){let n=nd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class nT{constructor(e){this.value=e}static empty(){return new nT({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!nw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nE(t)}setAll(e){let t=eo.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nE(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());nw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];nw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(tQ(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new nT(nE(this.value))}}class nS{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nS(e,0,eg.min(),eg.min(),eg.min(),nT.empty(),0)}static newFoundDocument(e,t,n,r){return new nS(e,1,t,eg.min(),n,r,0)}static newNoDocument(e,t){return new nS(e,2,t,eg.min(),eg.min(),nT.empty(),0)}static newUnknownDocument(e,t){return new nS(e,3,t,eg.min(),eg.min(),nT.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(eg.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nT.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nT.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=eg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nS&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nS(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nk{constructor(e,t){this.position=e,this.inclusive=t}}function nN(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ea.comparator(ea.fromName(a.referenceValue),n.key):nd(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function nD(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!nc(e.position[n],t.position[n]))return!1;return!0}class nO{constructor(e,t="asc"){this.field=e,this.dir=t}}class nR{}class nF extends nR{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nQ(e,t,n):"array-contains"===t?new nz(e,n):"in"===t?new nG(e,n):"not-in"===t?new nW(e,n):"array-contains-any"===t?new nq(e,n):new nF(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new nH(e,n):new nV(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(nd(t,this.value)):null!==t&&nu(this.value)===nu(t)&&this.matchesComparison(nd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nL extends nR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nL(e,t)}matches(e){return nU(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nU(e){return"and"===e.op}function nP(e){return"or"===e.op}function nM(e){return nj(e)&&nU(e)}function nj(e){for(let t of e.filters)if(t instanceof nL)return!1;return!0}function nZ(e,t){let n=e.filters.concat(t);return nL.create(n,e.op)}class nQ extends nF{constructor(e,t,n){super(e,t,n),this.key=ea.fromName(n.referenceValue)}matches(e){let t=ea.comparator(e.key,this.key);return this.matchesComparison(t)}}class nH extends nF{constructor(e,t){super(e,"in",t),this.keys=nK("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nV extends nF{constructor(e,t){super(e,"not-in",t),this.keys=nK("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nK(e,t){return(t.arrayValue?.values||[]).map(e=>ea.fromName(e.referenceValue))}class nz extends nF{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return nv(t)&&nA(t.arrayValue,this.value)}}class nG extends nF{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&nA(this.value.arrayValue,t)}}class nW extends nF{constructor(e,t){super(e,"not-in",t)}matches(e){if(nA(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!nA(this.value.arrayValue,t)}}class nq extends nF{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!nv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>nA(this.value.arrayValue,e))}}class n${constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function nY(e,t=null,n=[],r=[],i=null,o=null,a=null){return new n$(e,t,n,r,i,o,a)}function nJ(e){if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof nF)return t.field.canonicalString()+t.op.toString()+np(t.value);if(nM(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>np(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>np(e)).join(",")),e.Te=t}return e.Te}function nX(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof nF?n instanceof nF&&t.op===n.op&&t.field.isEqual(n.field)&&nc(t.value,n.value):t instanceof nL?n instanceof nL&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void L(19439)}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nD(e.startAt,t.startAt)&&nD(e.endAt,t.endAt)}function n0(e){return ea.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function n1(e,t){return e.filters.filter(e=>e instanceof nF&&e.field.isEqual(t))}function n2(e,t,n){let r=nl,i=!0;for(let n of n1(e,t)){let e=nl,t=!0;switch(n.op){case"<":case"<=":var o;e="nullValue"in(o=n.value)?nl:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?ng(nn.empty(),ea.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?n_(o)?nB:{mapValue:{}}:L(35942,{value:o});break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=nl}0>nx({value:r,inclusive:i},{value:e,inclusive:t})&&(r=e,i=t)}if(null!==n){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let e=n.position[o];0>nx({value:r,inclusive:i},{value:e,inclusive:n.inclusive})&&(r=e,i=n.inclusive);break}}return{value:r,inclusive:i}}function n4(e,t,n){let r=no,i=!0;for(let n of n1(e,t)){let e=no,t=!0;switch(n.op){case">=":case">":var o;e="nullValue"in(o=n.value)?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?ng(nn.empty(),ea.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?nB:"mapValue"in o?n_(o)?{mapValue:{}}:no:L(61959,{value:o}),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=no}nI({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let e=n.position[o];nI({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}}return{value:r,inclusive:i}}class n3{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function n5(e){return new n3(e)}function n6(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function n8(e){return null!==e.collectionGroup}function n9(e){if(null===e.Ie){let t;e.Ie=[];let n=new Set;for(let t of e.explicitOrderBy)e.Ie.push(t),n.add(t.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new tG(eo.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{n.has(t.canonicalString())||t.isKeyField()||e.Ie.push(new nO(t,r))}),n.has(eo.keyField().canonicalString())||e.Ie.push(new nO(eo.keyField(),r))}return e.Ie}function n7(e){return e.Ee||(e.Ee=function(e,t){if("F"===e.limitType)return nY(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new nO(e.field,t)});let n=e.endAt?new nk(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nk(e.startAt.position,e.startAt.inclusive):null;return nY(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(e,n9(e))),e.Ee}function re(e,t){let n=e.filters.concat([t]);return new n3(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rt(e,t,n){return new n3(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rn(e,t){return nX(n7(e),n7(t))&&e.limitType===t.limitType}function rr(e){return`${nJ(n7(e))}|lt:${e.limitType}`}function ri(e){var t;let n;return`Query(target=${n=(t=n7(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof nF?`${t.field.canonicalString()} ${t.op} ${np(t.value)}`:t instanceof nL?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>np(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>np(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function ro(e,t){var n,r,i,o;let a,s,l;return t.isFoundDocument()&&(a=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):ea.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a))&&function(e,t){for(let n of n9(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(n=e,r=t,(!n.startAt||(i=n.startAt,s=nN(i,n9(n),r),i.inclusive?!!(s<=0):!!(s<0)))&&(!n.endAt||(o=n.endAt,l=nN(o,n9(n),r),o.inclusive?!!(l>=0):!!(l>0))))}function ra(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rs(e){return(t,n)=>{let r=!1;for(let i of n9(e)){let e=function(e,t,n){var r;let i,o,a=e.field.isKeyField()?ea.comparator(t.key,n.key):(r=e.field,i=t.data.field(r),o=n.data.field(r),null!==i&&null!==o?nd(i,o):L(42886));switch(e.dir){case"asc":return a;case"desc":return -1*a;default:return L(19790,{direction:e.dir})}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tQ(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return tH(this.inner)}size(){return this.innerSize}}let ru=new tV(ea.comparator),rc=new tV(ea.comparator);function rA(...e){let t=rc;for(let n of e)t=t.insert(n.key,n);return t}function rd(e){let t=rc;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rh(){return new rl(e=>e.toString(),(e,t)=>e.isEqual(t))}let rf=new tV(ea.comparator),rp=new tG(ea.comparator);function rg(...e){let t=rp;for(let n of e)t=t.add(n);return t}let rm=new tG(Y);function rv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eK(t)?"-0":t}}function ry(e){return{integerValue:""+e}}class rb{constructor(){this._=void 0}}function rw(e,t){return e instanceof rI?nm(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class r_ extends rb{}class rE extends rb{constructor(e){super(),this.elements=e}}function rC(e,t){let n=rS(t);for(let t of e.elements)n.some(e=>nc(e,t))||n.push(t);return{arrayValue:{values:n}}}class rB extends rb{constructor(e){super(),this.elements=e}}function rx(e,t){let n=rS(t);for(let t of e.elements)n=n.filter(e=>!nc(e,t));return{arrayValue:{values:n}}}class rI extends rb{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function rT(e){return t1(e.integerValue||e.doubleValue)}function rS(e){return nv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class rk{constructor(e,t){this.field=e,this.transform=t}}class rN{constructor(e,t){this.version=e,this.transformResults=t}}class rD{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rD}static exists(e){return new rD(void 0,e)}static updateTime(e){return new rD(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rO(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class rR{}function rF(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new rH(e.key,rD.none()):new rP(e.key,e.data,rD.none());{let n=e.data,r=nT.empty(),i=new tG(eo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rM(e.key,r,new t$(i.toArray()),rD.none())}}function rL(e,t,n,r){return e instanceof rP?function(e,t,n,r){if(!rO(e.precondition,t))return n;let i=e.value.clone(),o=rQ(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rM?function(e,t,n,r){if(!rO(e.precondition,t))return n;let i=rQ(e.fieldTransforms,r,t),o=t.data;return(o.setAll(rj(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):rO(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function rU(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&ee(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof rE&&r instanceof rE||n instanceof rB&&r instanceof rB?ee(n.elements,r.elements,nc):n instanceof rI&&r instanceof rI?nc(n.Ae,r.Ae):n instanceof r_&&r instanceof r_)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rP extends rR{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rM extends rR{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rj(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function rZ(e,t,n){let r=new Map;P(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let o=0;o<n.length;o++){var i;let a=e[o],s=a.transform,l=t.data.field(a.field);r.set(a.field,(i=n[o],s instanceof rE?rC(s,l):s instanceof rB?rx(s,l):i))}return r}function rQ(e,t,n){let r=new Map;for(let i of e){let e=i.transform,o=n.data.field(i.field);r.set(i.field,function(e,t,n){var r;let i,o,a;return e instanceof r_?(r=t,i={fields:{[t3]:{stringValue:t4},[t6]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}},r&&t8(r)&&(r=t9(r)),r&&(i.fields[t5]=r),{mapValue:i}):e instanceof rE?rC(e,t):e instanceof rB?rx(e,t):(a=rT(o=rw(e,t))+rT(e.Ae),nm(o)&&nm(e.Ae)?ry(a):rv(e.serializer,a))}(e,o,t))}return r}class rH extends rR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rV extends rR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rK{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&function(e,t,n){let r,i;e instanceof rP?(r=e.value.clone(),i=rZ(e.fieldTransforms,t,n.transformResults),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()):e instanceof rM?function(e,t,n){if(!rO(e.precondition,t))return t.convertToUnknownDocument(n.version);let r=rZ(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rj(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=rL(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=rL(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=rh();return this.mutations.forEach(r=>{let i=e.get(r.key),o=i.overlayedDocument,a=this.applyToLocalView(o,i.mutatedFields),s=rF(o,a=t.has(r.key)?null:a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(eg.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rg())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>rU(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>rU(e,t))}}class rz{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){P(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=rf,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new rz(e,t,n,r)}}class rG{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rW{constructor(e,t){this.count=e,this.unchangedNames=t}}function rq(e){if(void 0===e)return O("GRPC error has no .code"),M.UNKNOWN;switch(e){case h.OK:return M.OK;case h.CANCELLED:return M.CANCELLED;case h.UNKNOWN:return M.UNKNOWN;case h.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case h.INTERNAL:return M.INTERNAL;case h.UNAVAILABLE:return M.UNAVAILABLE;case h.UNAUTHENTICATED:return M.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case h.NOT_FOUND:return M.NOT_FOUND;case h.ALREADY_EXISTS:return M.ALREADY_EXISTS;case h.PERMISSION_DENIED:return M.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case h.ABORTED:return M.ABORTED;case h.OUT_OF_RANGE:return M.OUT_OF_RANGE;case h.UNIMPLEMENTED:return M.UNIMPLEMENTED;case h.DATA_LOSS:return M.DATA_LOSS;default:return L(39323,{code:e})}}(f=h||(h={}))[f.OK=0]="OK",f[f.CANCELLED=1]="CANCELLED",f[f.UNKNOWN=2]="UNKNOWN",f[f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",f[f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",f[f.NOT_FOUND=5]="NOT_FOUND",f[f.ALREADY_EXISTS=6]="ALREADY_EXISTS",f[f.PERMISSION_DENIED=7]="PERMISSION_DENIED",f[f.UNAUTHENTICATED=16]="UNAUTHENTICATED",f[f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",f[f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",f[f.ABORTED=10]="ABORTED",f[f.OUT_OF_RANGE=11]="OUT_OF_RANGE",f[f.UNIMPLEMENTED=12]="UNIMPLEMENTED",f[f.INTERNAL=13]="INTERNAL",f[f.UNAVAILABLE=14]="UNAVAILABLE",f[f.DATA_LOSS=15]="DATA_LOSS";let r$=new r([0xffffffff,0xffffffff],0);function rY(e){let t=(new TextEncoder).encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function rJ(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([o,a],0)]}class rX{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new r0(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new r0(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new r0(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(r$)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;let[t,n]=rJ(rY(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(e,t,n){let r=new rX(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.ge)return;let[t,n]=rJ(rY(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.be(r)}}be(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class r0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class r1{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,r2.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new r1(eg.min(),r,new tV(Y),ru,rg())}}class r2{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new r2(n,t,rg(),rg(),rg())}}class r4{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}}class r3{constructor(e,t){this.targetId=e,this.Ce=t}}class r5{constructor(e,t,n=tJ.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class r6{constructor(){this.ve=0,this.Fe=r7(),this.Me=tJ.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rg(),t=rg(),n=rg();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:L(38017,{changeType:i})}}),new r2(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=r7()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,P(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class r8{constructor(e){this.Ge=e,this.ze=new Map,this.je=ru,this.He=r9(),this.Je=r9(),this.Ze=new tV(Y)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:L(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(n0(i))if(0===n){let e=new ea(i.path);this.et(t,e,nS.newNoDocument(e,eg.min()))}else P(1===n,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;0!==i&&(this.it(t),this.Ze=this.Ze.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ut(e){let t,n,r=e.Ce.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;try{t=t2(i).toUint8Array()}catch(e){if(e instanceof tY)return R("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new rX(t,o,a)}catch(e){return R(e instanceof r0?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.ge?null:n}ct(e,t,n){return 2*(t.Ce.count!==n-this.Pt(e,t.targetId))}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Ge.ht(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){let t=new Map;this.ze.forEach((n,r)=>{let i=this.ot(r);if(i){if(n.current&&n0(i.target)){let t=new ea(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,nS.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}});let n=rg();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));let r=new r1(e,t,this.Ze,this.je,n);return this.je=ru,this.He=r9(),this.Je=r9(),this.Ze=new tV(Y),r}Ye(e,t){if(!this.rt(e))return;let n=2*!!this.Et(e,t.key);this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new r6,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new tG(Y),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new tG(Y),this.He=this.He.insert(e,t)),t}rt(e){let t=null!==this.ot(e);return t||D("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r6),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function r9(){return new tV(ea.comparator)}function r7(){return new tV(ea.comparator)}let ie={asc:"ASCENDING",desc:"DESCENDING"},it={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ir={and:"AND",or:"OR"};class ii{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function io(e,t){return e.useProto3Json||null==t?t:{value:t}}function ia(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function is(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function il(e){let t;return P(!!e,49232),eg.fromTimestamp(new ep((t=t0(e)).seconds,t.nanos))}function iu(e,t){return ic(e,t).canonicalString()}function ic(e,t){let n=new er(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?n:n.child(t)}function iA(e){let t=er.fromString(e);return P(iI(t),10190,{key:t.toString()}),t}function id(e,t){return iu(e.databaseId,t.path)}function ih(e,t){let n=iA(t);if(n.get(1)!==e.databaseId.projectId)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ea(iv(n))}function ip(e,t){return iu(e.databaseId,t)}function ig(e){let t=iA(e);return 4===t.length?er.emptyPath():iv(t)}function im(e){return new er(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iv(e){return P(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function iy(e,t,n){return{name:id(e,t),fields:n.value.mapValue.fields}}function ib(e,t){var n,r;let i;if(t instanceof rP)i={update:iy(e,t.key,t.value)};else if(t instanceof rH)i={delete:id(e,t.key)};else if(t instanceof rM){let n;i={update:iy(e,t.key,t.data),updateMask:(r=t.fieldMask,n=[],r.fields.forEach(e=>n.push(e.canonicalString())),{fieldPaths:n})}}else{if(!(t instanceof rV))return L(16599,{dt:t.type});i={verify:id(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof r_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rB)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rI)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw L(20930,{transform:t.transform})})(0,e))),t.precondition.isNone||(i.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:ia(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:L(27497)),i}function iw(e,t){var n;let r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?rD.updateTime(il(n.updateTime)):void 0!==n.exists?rD.exists(n.exists):rD.none():rD.none(),i=t.updateTransforms?t.updateTransforms.map(t=>{let n;return n=null,"setToServerValue"in t?(P("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new r_):"appendMissingElements"in t?n=new rE(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new rB(t.removeAllFromArray.values||[]):"increment"in t?n=new rI(e,t.increment):L(16584,{proto:t}),new rk(eo.fromServerFormat(t.fieldPath),n)}):[];if(t.update){t.update.name;let n=ih(e,t.update.name),o=new nT({mapValue:{fields:t.update.fields}});return t.updateMask?new rM(n,o,new t$((t.updateMask.fieldPaths||[]).map(e=>eo.fromServerFormat(e))),r,i):new rP(n,o,r,i)}return t.delete?new rH(ih(e,t.delete),r):t.verify?new rV(ih(e,t.verify),r):L(1463,{proto:t})}function i_(e,t){return{documents:[ip(e,t.path)]}}function iE(e,t){var n,r;let i,o={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(i=a,o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),o.structuredQuery.from=[{collectionId:a.lastSegment()}]),o.parent=ip(e,i);let s=function(e){if(0!==e.length)return function e(t){var n;let r;return t instanceof nF?function(e){if("=="===e.op){if(nb(e.value))return{unaryFilter:{field:iB(e.field),op:"IS_NAN"}};if(ny(e.value))return{unaryFilter:{field:iB(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nb(e.value))return{unaryFilter:{field:iB(e.field),op:"IS_NOT_NAN"}};if(ny(e.value))return{unaryFilter:{field:iB(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iB(e.field),op:it[e.op],value:e.value}}}(t):t instanceof nL?1===(r=(n=t).getFilters().map(t=>e(t))).length?r[0]:{compositeFilter:{op:ir[n.op],filters:r}}:L(54877,{filter:t})}(nL.create(e,"and"))}(t.filters);s&&(o.structuredQuery.where=s);let l=function(e){if(0!==e.length)return e.map(e=>({field:iB(e.field),direction:ie[e.dir]}))}(t.orderBy);l&&(o.structuredQuery.orderBy=l);let u=io(e,t.limit);return null!==u&&(o.structuredQuery.limit=u),t.startAt&&(o.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(o.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{ft:o,parent:i}}function iC(e){var t,n,r;let i,o,a,s,l=ig(e.parent),u=e.structuredQuery,c=u.from?u.from.length:0,A=null;if(c>0){P(1===c,65062);let e=u.from[0];e.allDescendants?A=e.collectionId:l=l.child(e.collectionId)}let d=[];u.where&&(d=(i=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=ix(e.unaryFilter.field);return nF.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=ix(e.unaryFilter.field);return nF.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=ix(e.unaryFilter.field);return nF.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=ix(e.unaryFilter.field);return nF.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return L(61313);default:return L(60726)}}(t):void 0!==t.fieldFilter?nF.create(ix(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return L(58110);default:return L(50506)}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?nL.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return L(1026)}}(t.compositeFilter.op)):L(30097,{filter:t})}(u.where))instanceof nL&&nM(i)?i.getFilters():[i]);let h=[];u.orderBy&&(h=u.orderBy.map(e=>new nO(ix(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let f=null;u.limit&&(f=null==(o="object"==typeof(t=u.limit)?t.value:t)?null:o);let p=null;u.startAt&&(a=!!(n=u.startAt).before,p=new nk(n.values||[],a));let g=null;return u.endAt&&(s=!(r=u.endAt).before,g=new nk(r.values||[],s)),new n3(l,A,h,d,f,"F",p,g)}function iB(e){return{fieldPath:e.canonicalString()}}function ix(e){return eo.fromServerFormat(e.fieldPath)}function iI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function iT(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class iS{constructor(e,t,n,r,i=eg.min(),o=eg.min(),a=tJ.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new iS(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new iS(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new iS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new iS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ik{constructor(e){this.yt=e}}function iN(e,t){let n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:iD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument()){var i;r.document={name:id(i=e.yt,t.key),fields:t.data.value.mapValue.fields,updateTime:ia(i,t.version.toTimestamp()),createTime:ia(i,t.createTime.toTimestamp())}}else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:iO(t.version)};else{if(!t.isUnknownDocument())return L(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:iO(t.version)}}return r}function iD(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function iO(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function iR(e){let t=new ep(e.seconds,e.nanoseconds);return eg.fromTimestamp(t)}function iF(e,t){let n=(t.baseMutations||[]).map(t=>iw(e.yt,t));for(let e=0;e<t.mutations.length-1;++e){let n=t.mutations[e];e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform&&(n.updateTransforms=t.mutations[e+1].transform.fieldTransforms,t.mutations.splice(e+1,1),++e)}let r=t.mutations.map(t=>iw(e.yt,t)),i=ep.fromMillis(t.localWriteTimeMs);return new rK(t.batchId,i,n,r)}function iL(e){var t;let n,r=iR(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?iR(e.lastLimboFreeSnapshotVersion):eg.min();return new iS(void 0!==e.query.documents?(P(1===(n=(t=e.query).documents.length),1966,{count:n}),n7(n5(ig(t.documents[0])))):n7(iC(e.query)),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,tJ.fromBase64String(e.resumeToken))}function iU(e,t){let n,r=iO(t.snapshotVersion),i=iO(t.lastLimboFreeSnapshotVersion);n=n0(t.target)?i_(e.yt,t.target):iE(e.yt,t.target).ft;let o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nJ(t.target),readTime:r,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function iP(e){let t=iC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rt(t,t.limit,"L"):t}function iM(e,t){return new rG(t.largestBatchId,iw(e.yt,t.overlayMutation))}function ij(e,t){let n=t.path.lastSegment();return[e,eG(t.path.popLast()),n]}function iZ(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:iO(r.readTime),documentKey:eG(r.documentKey.path),largestBatchId:r.largestBatchId}}class iQ{getBundleMetadata(e,t){return tj(e,tp).get(t).next(e=>{if(e)return{id:e.bundleId,createTime:iR(e.createTime),version:e.version}})}saveBundleMetadata(e,t){return tj(e,tp).put({bundleId:t.id,createTime:iO(il(t.createTime)),version:t.version})}getNamedQuery(e,t){return tj(e,tg).get(t).next(e=>{if(e)return{name:e.name,query:iP(e.bundledQuery),readTime:iR(e.readTime)}})}saveNamedQuery(e,t){return tj(e,tg).put({name:t.name,readTime:iO(il(t.readTime)),bundledQuery:t.bundledQuery})}}class iH{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){return new iH(e,t.uid||"")}getOverlay(e,t){return tj(e,tI).get(ij(this.userId,t)).next(e=>e?iM(this.serializer,e):null)}getOverlays(e,t){let n=rh();return eS.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){let r=[];return n.forEach((n,i)=>{let o=new rG(t,i);r.push(this.bt(e,o))}),eS.waitFor(r)}removeOverlaysForBatchId(e,t,n){let r=new Set;t.forEach(e=>r.add(eG(e.getCollectionPath())));let i=[];return r.forEach(t=>{let r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(tj(e,tI).X(tS,r))}),eS.waitFor(i)}getOverlaysForCollection(e,t,n){let r=rh(),i=eG(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,1/0],!0);return tj(e,tI).H(tS,o).next(e=>{for(let t of e){let e=iM(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){let i,o=rh(),a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,1/0],!0);return tj(e,tI).ee({index:tN,range:a},(e,t,n)=>{let a=iM(this.serializer,t);o.size()<r||a.largestBatchId===i?(o.set(a.getKey(),a),i=a.largestBatchId):n.done()}).next(()=>o)}bt(e,t){return tj(e,tI).put(function(e,t,n){let[r,i,o]=ij(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ib(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}class iV{St(e){return tj(e,tO)}getSessionToken(e){return this.St(e).get("sessionToken").next(e=>{let t=e?.value;return t?tJ.fromUint8Array(t):tJ.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class iK{Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(+!!e.booleanValue);else if("integerValue"in e)this.Ft(t,15),t.Mt(t1(e.integerValue));else if("doubleValue"in e){let n=t1(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),eK(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=t0(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(t2(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?nC(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):n_(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):L(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let n=e.fields||{};for(let e of(this.Ft(t,55),Object.keys(n)))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=n[ns].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(t1(r)),this.Ot(ns,t),this.Ct(n[ns],t)}qt(e,t){let n=e.values||[];for(let e of(this.Ft(t,50),n))this.Ct(e,t)}Lt(e,t){this.Ft(t,37),ea.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}function iz(e){return Math.ceil((64-function(e){let t=0;for(let n=0;n<8;++n){let r=function(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}(255&e[n]);if(t+=r,8!==r)break}return t}(e))/8)}iK.Wt=new iK;class iG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){let t=e[Symbol.iterator](),n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){let t=e[Symbol.iterator](),n=t.next();for(;!n.done;)this.Ht(n.value),n=t.next();this.Jt()}Zt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{let e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Xt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Ht(e);else if(e<2048)this.Ht(960|e>>>6),this.Ht(128|63&e);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e);else{let e=t.codePointAt(0);this.Ht(240|e>>>18),this.Ht(128|63&e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e)}}this.Jt()}Yt(e){let t=this.en(e),n=iz(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}nn(e){let t=this.en(e),n=iz(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}rn(){this.sn(255),this.sn(255)}_n(){this.an(255),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){let t,n=((t=new DataView(new ArrayBuffer(8))).setFloat64(0,e,!1),new Uint8Array(t.buffer)),r=!!(128&n[0]);n[0]^=r?255:128;for(let e=1;e<n.length;++e)n[e]^=255*!!r;return n}Gt(e){let t=255&e;0===t?(this.sn(0),this.sn(255)):255===t?(this.sn(255),this.sn(0)):this.sn(t)}Ht(e){let t=255&e;0===t?(this.an(0),this.an(255)):255===t?(this.an(255),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){let t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);let r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class iW{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class iq{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class i${constructor(){this.cn=new iG,this.ascending=new iW(this.cn),this.descending=new iq(this.cn)}seed(e){this.cn.seed(e)}ln(e){return 0===e?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class iY{constructor(e,t,n,r){this.hn=e,this.Pn=t,this.Tn=n,this.In=r}En(){let e=this.In.length,t=0===e||255===this.In[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.In,0),t!==e?n.set([0],this.In.length):++n[n.length-1],new iY(this.hn,this.Pn,this.Tn,n)}Rn(e,t,n){return{indexId:this.hn,uid:e,arrayValue:i0(this.Tn),directionalValue:i0(this.In),orderedDocumentKey:i0(t),documentKey:n.path.toArray()}}An(e,t,n){let r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function iJ(e,t){let n=e.hn-t.hn;return 0!==n||0!==(n=iX(e.Tn,t.Tn))||0!==(n=iX(e.In,t.In))?n:ea.comparator(e.Pn,t.Pn)}function iX(e,t){for(let n=0;n<e.length&&n<t.length;++n){let r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function i0(e){return(0,y.WO)()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function i1(e){return"string"!=typeof e?e:function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class i2{constructor(e){for(const t of(this.Vn=new tG((e,t)=>eo.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[],e.filters))t.isInequality()?this.Vn=this.Vn.add(t):this.mn.push(t)}get fn(){return this.Vn.size>1}gn(e){if(P(e.collectionGroup===this.collectionId,49279),this.fn)return!1;let t=ev(e);if(void 0!==t&&!this.pn(t))return!1;let n=ey(e),r=new Set,i=0,o=0;for(;i<n.length&&this.pn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Vn.size>0){let e=this.Vn.getIterator().getNext();if(!r.has(e.field.canonicalString())){let t=n[i];if(!this.yn(e,t)||!this.wn(this.dn[o++],t))return!1}++i}for(;i<n.length;++i){let e=n[i];if(o>=this.dn.length||!this.wn(this.dn[o++],e))return!1}return!0}bn(){if(this.fn)return null;let e=new tG(eo.comparator),t=[];for(let n of this.mn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new eb(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new eb(n.field,0))}for(let n of this.dn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new eb(n.field,+("asc"!==n.dir))));return new em(em.UNKNOWN_ID,this.collectionId,t,ew.empty())}pn(e){for(let t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function i4(e){return e instanceof nF}function i3(e){return e instanceof nL&&nM(e)}function i5(e){return i4(e)||i3(e)||function(e){if(e instanceof nL&&nP(e)){for(let t of e.getFilters())if(!i4(t)&&!i3(t))return!1;return!0}return!1}(e)}function i6(e,t){return P(e instanceof nF||e instanceof nL,38388),P(t instanceof nF||t instanceof nL,25473),i9(e instanceof nF?t instanceof nF?nL.create([e,t],"and"):i8(e,t):t instanceof nF?i8(t,e):function(e,t){if(P(e.filters.length>0&&t.filters.length>0,48005),nU(e)&&nU(t))return nZ(e,t.getFilters());let n=nP(e)?e:t,r=nP(e)?t:e,i=n.filters.map(e=>i6(e,r));return nL.create(i,"or")}(e,t))}function i8(e,t){if(nU(t))return nZ(t,e.getFilters());{let n=t.filters.map(t=>i6(e,t));return nL.create(n,"or")}}function i9(e){if(P(e instanceof nF||e instanceof nL,11850),e instanceof nF)return e;let t=e.getFilters();if(1===t.length)return i9(t[0]);if(nj(e))return e;let n=t.map(e=>i9(e)),r=[];return n.forEach(t=>{t instanceof nF?r.push(t):t instanceof nL&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:nL.create(r,e.op)}class i7{constructor(){this.Sn=new oe}addToCollectionParentIndex(e,t){return this.Sn.add(t),eS.resolve()}getCollectionParents(e,t){return eS.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return eS.resolve()}deleteFieldIndex(e,t){return eS.resolve()}deleteAllFieldIndexes(e){return eS.resolve()}createTargetIndexes(e,t){return eS.resolve()}getDocumentsMatchingTarget(e,t){return eS.resolve(null)}getIndexType(e,t){return eS.resolve(0)}getFieldIndexes(e,t){return eS.resolve([])}getNextCollectionGroupToUpdate(e){return eS.resolve(null)}getMinOffset(e,t){return eS.resolve(eC.min())}getMinOffsetFromCollectionGroup(e,t){return eS.resolve(eC.min())}updateCollectionGroup(e,t,n){return eS.resolve()}updateIndexEntries(e,t){return eS.resolve()}}class oe{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tG(er.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new tG(er.comparator)).toArray()}}let ot="IndexedDbIndexManager",on=new Uint8Array(0);class or{constructor(e,t){this.databaseId=t,this.Dn=new oe,this.Cn=new rl(e=>nJ(e),(e,t)=>nX(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){let n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Dn.add(t)});let i={collectionId:n,parent:eG(r)};return tj(e,td).put(i)}return eS.resolve()}getCollectionParents(e,t){let n=[],r=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return tj(e,td).H(r).next(e=>{for(let r of e){if(r.collectionId!==t)break;n.push(eW(r.parent))}return n})}addFieldIndex(e,t){let n=tj(e,tm),r={indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])};delete r.indexId;let i=n.add(r);if(t.indexState){let n=tj(e,ty);return i.next(e=>{n.put(iZ(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){let n=tj(e,tm),r=tj(e,ty),i=tj(e,tE);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=tj(e,tm),n=tj(e,tE),r=tj(e,ty);return t.X().next(()=>n.X()).next(()=>r.X())}createTargetIndexes(e,t){return eS.forEach(this.vn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){let n=new i2(t).bn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){let n=tj(e,tE),r=!0,i=new Map;return eS.forEach(this.vn(t),t=>this.Fn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=rg(),r=[];return eS.forEach(i,(i,o)=>{D(ot,`Using index id=${i.indexId}|cg=${i.collectionGroup}|f=${i.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")} to execute ${nJ(t)}`);let a=function(e,t){let n=ev(t);if(void 0===n)return null;for(let t of n1(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(o,i),s=function(e,t){let n=new Map;for(let r of ey(t))for(let t of n1(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){let n=[],r=!0;for(let i of ey(t)){let t=0===i.kind?n2(e,i.fieldPath,e.startAt):n4(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new nk(n,r)}(o,i),u=function(e,t){let n=[],r=!0;for(let i of ey(t)){let t=0===i.kind?n4(e,i.fieldPath,e.endAt):n2(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new nk(n,r)}(o,i),c=this.Mn(i,o,l),A=this.Mn(i,o,u),d=this.xn(i,o,s),h=this.On(i.indexId,a,c,l.inclusive,A,u.inclusive,d);return eS.forEach(h,i=>n.Z(i,t.limit).next(t=>{t.forEach(t=>{let n=ea.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return eS.resolve(null)})}vn(e){let t=this.Cn.get(e);return t||(t=0===e.filters.length?[e]:(function(e){if(0===e.getFilters().length)return[];let t=function e(t){if(P(t instanceof nF||t instanceof nL,34018),t instanceof nF)return t;if(1===t.filters.length)return e(t.filters[0]);let n=t.filters.map(t=>e(t)),r=nL.create(n,t.op);return i5(r=i9(r))?r:(P(r instanceof nL,64498),P(nU(r),40251),P(r.filters.length>1,57927),r.filters.reduce((e,t)=>i6(e,t)))}(function e(t){if(P(t instanceof nF||t instanceof nL,20012),t instanceof nF){if(t instanceof nG){let e=t.value.arrayValue?.values?.map(e=>nF.create(t.field,"==",e))||[];return nL.create(e,"or")}return t}let n=t.filters.map(t=>e(t));return nL.create(n,t.op)}(e));return P(i5(t),7391),i4(t)||i3(t)?[t]:t.getFilters()})(nL.create(e.filters,"and")).map(t=>nY(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,t)),t}On(e,t,n,r,i,o,a){let s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),u=[];for(let c=0;c<s;++c){let s=t?this.Nn(t[c/l]):on,A=this.Bn(e,s,n[c%l],r),d=this.Ln(e,s,i[c%l],o),h=a.map(t=>this.Bn(e,s,t,!0));u.push(...this.createRange(A,d,h))}return u}Bn(e,t,n,r){let i=new iY(e,ea.empty(),t,n);return r?i:i.En()}Ln(e,t,n,r){let i=new iY(e,ea.empty(),t,n);return r?i.En():i}Fn(e,t){let n=new i2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(let r of e)n.gn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2,r=this.vn(t);return eS.forEach(r,t=>this.Fn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new tG(eo.comparator),n=!1;for(let r of e.filters)for(let e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(let n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+ +!!n}(t)&&(n=1):n=0})).next(()=>null!==t.limit&&r.length>1&&2===n?1:n)}kn(e,t){let n=new i$;for(let r of ey(e)){let e=t.data.field(r.fieldPath);if(null==e)return null;let i=n.ln(r.kind);iK.Wt.Dt(e,i)}return n.un()}Nn(e){let t=new i$;return iK.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){let n,r=new i$;return iK.Wt.Dt(ng(this.databaseId,t),r.ln(0===(n=ey(e)).length?0:n[n.length-1].kind)),r.un()}xn(e,t,n){if(null===n)return[];let r=[];r.push(new i$);let i=0;for(let o of ey(e)){let e=n[i++];for(let n of r)if(this.qn(t,o.fieldPath)&&nv(e))r=this.Un(r,o,e);else{let t=n.ln(o.kind);iK.Wt.Dt(e,t)}}return this.$n(r)}Mn(e,t,n){return this.xn(e,t,n.position)}$n(e){let t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Un(e,t,n){let r=[...e],i=[];for(let e of n.arrayValue.values||[])for(let n of r){let r=new i$;r.seed(n.un()),iK.Wt.Dt(e,r.ln(t.kind)),i.push(r)}return i}qn(e,t){return!!e.filters.find(e=>e instanceof nF&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let n=tj(e,tm),r=tj(e,ty);return(t?n.H(tv,IDBKeyRange.bound(t,t)):n.H()).next(e=>{let t=[];return eS.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{let r,i;t.push((r=n?new ew(n.sequenceNumber,new eC(iR(n.readTime),new ea(eW(n.documentKey)),n.largestBatchId)):ew.empty(),i=e.fields.map(([e,t])=>new eb(eo.fromServerFormat(e),t)),new em(e.indexId,e.collectionGroup,i,r)))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Y(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){let r=tj(e,tm),i=tj(e,ty);return this.Wn(e).next(e=>r.H(tv,IDBKeyRange.bound(t,t)).next(t=>eS.forEach(t,t=>i.put(iZ(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){let n=new Map;return eS.forEach(t,(t,r)=>{let i=n.get(t.collectionGroup);return(i?eS.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),eS.forEach(i,n=>this.Qn(e,t,n).next(t=>{let i=this.Gn(r,n);return t.isEqual(i)?eS.resolve():this.zn(e,r,n,t,i)}))))})}jn(e,t,n,r){return tj(e,tE).put(r.Rn(this.uid,this.Kn(n,t.key),t.key))}Hn(e,t,n,r){return tj(e,tE).delete(r.An(this.uid,this.Kn(n,t.key),t.key))}Qn(e,t,n){let r=tj(e,tE),i=new tG(iJ);return r.ee({index:tB,range:IDBKeyRange.only([n.indexId,this.uid,i0(this.Kn(n,t))])},(e,r)=>{i=i.add(new iY(n.indexId,t,i1(r.arrayValue),i1(r.directionalValue)))}).next(()=>i)}Gn(e,t){let n=new tG(iJ),r=this.kn(t,e);if(null==r)return n;let i=ev(t);if(null!=i){let o=e.data.field(i.fieldPath);if(nv(o))for(let i of o.arrayValue.values||[])n=n.add(new iY(t.indexId,e.key,this.Nn(i),r))}else n=n.add(new iY(t.indexId,e.key,on,r));return n}zn(e,t,n,r,i){D(ot,"Updating index entries for document '%s'",t.key);let o=[];return function(e,t,n,r,i){let o=e.getIterator(),a=t.getIterator(),s=tq(o),l=tq(a);for(;s||l;){let e=!1,t=!1;if(s&&l){let r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=tq(a)):t?(i(s),s=tq(o)):(s=tq(o),l=tq(a))}}(r,i,iJ,r=>{o.push(this.jn(e,t,n,r))},r=>{o.push(this.Hn(e,t,n,r))}),eS.waitFor(o)}Wn(e){let t=1;return tj(e,ty).ee({index:tw,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>iJ(e,t)).filter((e,t,n)=>!t||0!==iJ(e,n[t-1]));let r=[];for(let i of(r.push(e),n)){let n=iJ(i,e),o=iJ(i,t);if(0===n)r[0]=e.En();else if(n>0&&o<0)r.push(i),r.push(i.En());else if(o>0)break}r.push(t);let i=[];for(let e=0;e<r.length;e+=2){if(this.Jn(r[e],r[e+1]))return[];let t=r[e].An(this.uid,on,ea.empty()),n=r[e+1].An(this.uid,on,ea.empty());i.push(IDBKeyRange.bound(t,n))}return i}Jn(e,t){return iJ(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(oi)}getMinOffset(e,t){return eS.mapArray(this.vn(t),t=>this.Fn(e,t).next(e=>e||L(44426))).next(oi)}}function oi(e){P(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){let i=e[r].indexState.offset;0>eB(i,t)&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new eC(t.readTime,t.documentKey,n)}let oo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oa{static withCacheSize(e){return new oa(e,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function os(e,t,n){let r=e.store(eX),i=e.store(e3),o=[],a=IDBKeyRange.only(n.batchId),s=0,l=r.ee({range:a},(e,t,n)=>(s++,n.delete()));o.push(l.next(()=>{P(1===s,47070,{batchId:n.batchId})}));let u=[];for(let e of n.mutations){var c,A;let r=(c=e.key.path,A=n.batchId,[t,eG(c),A]);o.push(i.delete(r)),u.push(e.key)}return eS.waitFor(o).next(()=>u)}function ol(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw L(14731);t=e.noDocument}return JSON.stringify(t).length}oa.DEFAULT_COLLECTION_PERCENTILE=10,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oa.DEFAULT=new oa(0x2800000,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oa.DISABLED=new oa(-1,0,0);class ou{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Zn={}}static wt(e,t,n,r){return P(""!==e.uid,64387),new ou(e.isAuthenticated()?e.uid:"",t,n,r)}checkEmpty(e){let t=!0,n=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return oA(e).ee({index:e1,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){let i=tj(e,e3),o=oA(e);return o.add({}).next(a=>{var s,l,u,c;let A,d;P("number"==typeof a,49019);let h=new rK(a,t,n,r),f=(s=this.serializer,l=this.userId,A=h.baseMutations.map(e=>ib(s.yt,e)),d=h.mutations.map(e=>ib(s.yt,e)),{userId:l,batchId:h.batchId,localWriteTimeMs:h.localWriteTime.toMillis(),baseMutations:A,mutations:d}),p=[],g=new tG((e,t)=>Y(e.canonicalString(),t.canonicalString()));for(let e of r){let t=(u=this.userId,c=e.key.path,[u,eG(c),a]);g=g.add(e.key.path.popLast()),p.push(o.put(f)),p.push(i.put(t,e4))}return g.forEach(t=>{p.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Zn[a]=h.keys()}),eS.waitFor(p).next(()=>h)})}lookupMutationBatch(e,t){return oA(e).get(t).next(e=>e?(P(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),iF(this.serializer,e)):null)}Xn(e,t){return this.Zn[t]?eS.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){let n=e.keys();return this.Zn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]),i=null;return oA(e).ee({index:e1,range:r},(e,t,r)=>{t.userId===this.userId&&(P(t.batchId>=n,47524,{Yn:n}),i=iF(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,1/0]),n=-1;return oA(e).ee({index:e1,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,1/0]);return oA(e).H(e1,t).next(e=>e.map(e=>iF(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let n=[this.userId,eG(t.path)],r=IDBKeyRange.lowerBound(n),i=[];return tj(e,e3).ee({range:r},(n,r,o)=>{let[a,s,l]=n,u=eW(s);if(a===this.userId&&t.path.isEqual(u))return oA(e).get(l).next(e=>{if(!e)throw L(61480,{er:n,batchId:l});P(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(iF(this.serializer,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tG(Y),r=[];return t.forEach(t=>{let i=[this.userId,eG(t.path)],o=IDBKeyRange.lowerBound(i),a=tj(e,e3).ee({range:o},(e,r,i)=>{let[o,a,s]=e,l=eW(a);o===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()});r.push(a)}),eS.waitFor(r).next(()=>this.tr(e,n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=[this.userId,eG(n)],o=IDBKeyRange.lowerBound(i),a=new tG(Y);return tj(e,e3).ee({range:o},(e,t,i)=>{let[o,s,l]=e,u=eW(s);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(a=a.add(l)):i.done()}).next(()=>this.tr(e,a))}tr(e,t){let n=[],r=[];return t.forEach(t=>{r.push(oA(e).get(t).next(e=>{if(null===e)throw L(35274,{batchId:t});P(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(iF(this.serializer,e))}))}),eS.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return os(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.nr(t.batchId)}),eS.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return eS.resolve();let n=IDBKeyRange.lowerBound([this.userId]),r=[];return tj(e,e3).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){let t=eW(e[1]);r.push(t)}else n.done()}).next(()=>{P(0===r.length,56720,{rr:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return oc(e,this.userId,t)}ir(e){return tj(e,eJ).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oc(e,t,n){let r=[t,eG(n.path)],i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return tj(e,e3).ee({range:o,Y:!0},(e,n,r)=>{let[o,s,l]=e;o===t&&s===i&&(a=!0),r.done()}).next(()=>a)}function oA(e){return tj(e,eX)}class od{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new od(0)}static ar(){return new od(-1)}}class oh{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next(t=>{let n=new od(t.highestTargetId);return t.highestTargetId=n.next(),this.cr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.ur(e).next(e=>eg.fromTimestamp(new ep(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.ur(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.ur(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.cr(e,r)))}addTargetData(e,t){return this.lr(e,t).next(()=>this.ur(e).next(n=>(n.targetCount+=1,this.hr(t,n),this.cr(e,n))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tj(e,tr).delete(t.targetId)).next(()=>this.ur(e)).next(t=>(P(t.targetCount>0,8065),t.targetCount-=1,this.cr(e,t)))}removeTargets(e,t,n){let r=0,i=[];return tj(e,tr).ee((o,a)=>{let s=iL(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))}).next(()=>eS.waitFor(i)).next(()=>r)}forEachTarget(e,t){return tj(e,tr).ee((e,n)=>{t(iL(n))})}ur(e){return tj(e,tA).get(tc).next(e=>(P(null!==e,2888),e))}cr(e,t){return tj(e,tA).put(tc,t)}lr(e,t){return tj(e,tr).put(iU(this.serializer,t))}hr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.ur(e).next(e=>e.targetCount)}getTargetData(e,t){let n=nJ(t),r=IDBKeyRange.bound([n,-1/0],[n,1/0]),i=null;return tj(e,tr).ee({range:r,index:ti},(e,n,r)=>{let o=iL(n);nX(t,o.target)&&(i=o,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){let r=[],i=of(e);return t.forEach(t=>{let o=eG(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))}),eS.waitFor(r)}removeMatchingKeys(e,t,n){let r=of(e);return eS.forEach(t,t=>{let i=eG(t.path);return eS.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){let n=of(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){let n=IDBKeyRange.bound([t],[t+1],!1,!0),r=of(e),i=rg();return r.ee({range:n,Y:!0},(e,t,n)=>{let r=new ea(eW(e[1]));i=i.add(r)}).next(()=>i)}containsKey(e,t){let n=eG(t.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return of(e).ee({index:tl,Y:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}At(e,t){return tj(e,tr).get(t).next(e=>e?iL(e):null)}}function of(e){return tj(e,ta)}let op="LruGarbageCollector";function og([e,t],[n,r]){let i=Y(e,n);return 0===i?Y(t,r):i}class om{constructor(e){this.Pr=e,this.buffer=new tG(og),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>og(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ov{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){D(op,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){eL(e)?D(op,"Ignoring IndexedDB error during garbage collection: ",e):await eT(e)}await this.Ar(3e5)})}}class oy{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return eS.resolve(eV.ce);let n=new om(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector","Garbage collection skipped; disabled"),eS.resolve(oo)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oo):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,o,a,s,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),k()<=_.in.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${r} in `+(a-o)+"ms\n"+`	Removed ${i} targets in `+(s-a)+"ms\n"+`	Removed ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-u}ms`),eS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class ob{constructor(e,t){this.db=e,this.garbageCollector=new oy(this,t)}dr(e){let t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,(e,n)=>t(n))}addReference(e,t,n){return ow(e,n)}removeReference(e,t,n){return ow(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ow(e,t)}wr(e,t){let n;return n=!1,tj(e,eJ).te(r=>oc(e,r,t).next(e=>(e&&(n=!0),eS.resolve(!e)))).next(()=>n)}removeOrphanedDocuments(e,t){let n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],i=0;return this.yr(e,(o,a)=>{if(a<=t){let t=this.wr(e,o).next(t=>{if(!t)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,eg.min()),of(e).delete([0,eG(o.path)])))});r.push(t)}}).next(()=>eS.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ow(e,t)}yr(e,t){let n=of(e),r,i=eV.ce;return n.ee({index:tl},([e,n],{path:o,sequenceNumber:a})=>{0===e?(i!==eV.ce&&t(new ea(eW(r)),i),i=a,r=o):i=eV.ce}).next(()=>{i!==eV.ce&&t(new ea(eW(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ow(e,t){var n;return of(e).put((n=e.currentSequenceNumber,{targetId:0,path:eG(t.path),sequenceNumber:n}))}class o_{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nS.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?eS.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return tj(e,e5).put(n)}removeEntry(e,t,n){let r;return tj(e,e5).delete([(r=t.path.toArray()).slice(0,r.length-2),r[r.length-2],iD(n),r[r.length-1]])}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.br(e,n)))}getEntry(e,t){let n=nS.newInvalidDocument(t);return tj(e,e5).ee({index:e8,range:IDBKeyRange.only(oB(t))},(e,r)=>{n=this.Sr(t,r)}).next(()=>n)}Dr(e,t){let n={size:0,document:nS.newInvalidDocument(t)};return tj(e,e5).ee({index:e8,range:IDBKeyRange.only(oB(t))},(e,r)=>{n={document:this.Sr(t,r),size:ol(r)}}).next(()=>n)}getEntries(e,t){let n=ru;return this.Cr(e,t,(e,t)=>{let r=this.Sr(e,t);n=n.insert(e,r)}).next(()=>n)}vr(e,t){let n=ru,r=new tV(ea.comparator);return this.Cr(e,t,(e,t)=>{let i=this.Sr(e,t);n=n.insert(e,i),r=r.insert(e,ol(t))}).next(()=>({documents:n,Fr:r}))}Cr(e,t,n){if(t.isEmpty())return eS.resolve();let r=new tG(oI);t.forEach(e=>r=r.add(e));let i=IDBKeyRange.bound(oB(r.first()),oB(r.last())),o=r.getIterator(),a=o.getNext();return tj(e,e5).ee({index:e8,range:i},(e,t,r)=>{let i=ea.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&0>oI(a,i);)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.j(oB(a)):r.done()}).next(()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),iD(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tj(e,e5).H(IDBKeyRange.bound(a,s,!0)).next(e=>{i?.incrementDocumentReadCount(e.length);let n=ru;for(let i of e){let e=this.Sr(ea.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(ro(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=ru,o=ox(t,n),a=ox(t,eC.max());return tj(e,e5).ee({index:e7,range:IDBKeyRange.bound(o,a,!0)},(e,t,n)=>{let o=this.Sr(ea.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(o.key,o)).size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new oC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return tj(e,tt).get(tn).next(e=>(P(!!e,20021),e))}br(e,t){return tj(e,tt).put(tn,t)}Sr(e,t){if(t){let e=function(e,t){var n,r,i,o;let a,s;if(t.document){let o,s,l,u,c;n=e.yt,r=t.document,i=!!t.hasCommittedMutations,o=ih(n,r.name),s=il(r.updateTime),l=r.createTime?il(r.createTime):eg.min(),u=new nT({mapValue:{fields:r.fields}}),c=nS.newFoundDocument(o,s,l,u),i&&c.setHasCommittedMutations(),a=i?c.setHasCommittedMutations():c}else if(t.noDocument){let e=ea.fromSegments(t.noDocument.path),n=iR(t.noDocument.readTime);a=nS.newNoDocument(e,n),t.hasCommittedMutations&&a.setHasCommittedMutations()}else{if(!t.unknownDocument)return L(56709);{let e=ea.fromSegments(t.unknownDocument.path),n=iR(t.unknownDocument.version);a=nS.newUnknownDocument(e,n)}}return t.readTime&&a.setReadTime((s=new ep((o=t.readTime)[0],o[1]),eg.fromTimestamp(s))),a}(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(eg.min())))return e}return nS.newInvalidDocument(e)}}class oC extends o_{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new rl(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],n=0,r=new tG((e,t)=>Y(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{let a=this.Or.get(i);if(t.push(this.Mr.removeEntry(e,i,a.readTime)),o.isValidDocument()){let s=iN(this.Mr.serializer,o);r=r.add(i.path.popLast());let l=ol(s);n+=l-a.size,t.push(this.Mr.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){let n=iN(this.Mr.serializer,o.convertToNoDocument(eg.min()));t.push(this.Mr.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Mr.updateMetadata(e,n)),eS.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next(e=>(this.Or.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Mr.vr(e,t).next(({documents:e,Fr:t})=>(t.forEach((t,n)=>{this.Or.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function oB(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ox(e,t){let n=t.documentKey.path.toArray();return[e,iD(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function oI(e,t){let n=e.path.toArray(),r=t.path.toArray(),i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=Y(n[e],r[e]))return i;return(i=Y(n.length,r.length))||(i=Y(n[n.length-2],r[r.length-2]))||Y(n[n.length-1],r[r.length-1])}class oT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oS{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&rL(n.mutation,e,t$.empty(),ep.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,rg()).next(()=>t))}getLocalViewOfDocuments(e,t,n=rg()){let r=rh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=rA();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=rh();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,rg()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ru,o=rh(),a=rh();return t.forEach((e,t)=>{let a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof rM)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),rL(a.mutation,t,a.mutation.getFieldMask(),ep.now())):o.set(t.key,t$.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>a.set(e,new oT(t,o.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){let n=rh(),r=new tV((e,t)=>e-t),i=rg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let o=t.get(e);if(null===o)return;let a=n.get(e)||t$.empty();a=i.applyToLocalView(o,a),n.set(e,a);let s=(r.get(i.batchId)||rg()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let r=a.getNext(),s=r.key,l=r.value,u=rh();l.forEach(e=>{if(!i.has(e)){let r=rF(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return eS.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return ea.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):n8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):eS.resolve(rh()),a=-1,s=i;return o.next(t=>eS.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?eS.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,rg())).next(e=>({batchId:a,changes:rd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ea(t)).next(e=>{let t=rA();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,o=rA();return this.indexManager.getCollectionParents(e,i).next(a=>eS.forEach(a,a=>{let s=new n3(a.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,nS.newInvalidDocument(r)))});let n=rA();return e.forEach((e,r)=>{let o=i.get(e);void 0!==o&&rL(o.mutation,r,t$.empty(),ep.now()),ro(t,r)&&(n=n.insert(e,r))}),n})}}class ok{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return eS.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,{id:t.id,version:t.version,createTime:il(t.createTime)}),eS.resolve()}getNamedQuery(e,t){return eS.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,{name:t.name,query:iP(t.bundledQuery),readTime:il(t.readTime)}),eS.resolve()}}class oN{constructor(){this.overlays=new tV(ea.comparator),this.Lr=new Map}getOverlay(e,t){return eS.resolve(this.overlays.get(t))}getOverlays(e,t){let n=rh();return eS.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.bt(e,t,r)}),eS.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Lr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(n)),eS.resolve()}getOverlaysForCollection(e,t,n){let r=rh(),i=t.length+1,o=new ea(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return eS.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new tV((e,t)=>e-t),o=this.overlays.getIterator();for(;o.hasNext();){let e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=rh(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return eS.resolve(a)}bt(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new rG(t,n));let i=this.Lr.get(t);void 0===i&&(i=rg(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}}class oD{constructor(){this.sessionToken=tJ.EMPTY_BYTE_STRING}getSessionToken(e){return eS.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,eS.resolve()}}class oO{constructor(){this.kr=new tG(oR.Kr),this.qr=new tG(oR.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let n=new oR(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new oR(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){let t=new ea(new er([])),n=new oR(t,e),r=new oR(t,e+1),i=[];return this.qr.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new ea(new er([])),n=new oR(t,e),r=new oR(t,e+1),i=rg();return this.qr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new oR(e,0),n=this.kr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class oR{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ea.comparator(e.key,t.key)||Y(e.Hr,t.Hr)}static Ur(e,t){return Y(e.Hr,t.Hr)||ea.comparator(e.key,t.key)}}class oF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new tG(oR.Kr)}checkEmpty(e){return eS.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new rK(i,t,n,r);for(let t of(this.mutationQueue.push(o),r))this.Jr=this.Jr.add(new oR(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return eS.resolve(o)}lookupMutationBatch(e,t){return eS.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.Xr(t+1),r=n<0?0:n;return eS.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return eS.resolve(0===this.mutationQueue.length?-1:this.Yn-1)}getAllMutationBatches(e){return eS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new oR(t,0),r=new oR(t,1/0),i=[];return this.Jr.forEachInRange([n,r],e=>{let t=this.Zr(e.Hr);i.push(t)}),eS.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tG(Y);return t.forEach(e=>{let t=new oR(e,0),r=new oR(e,1/0);this.Jr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),eS.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;ea.isDocumentKey(i)||(i=i.child(""));let o=new oR(new ea(i),0),a=new tG(Y);return this.Jr.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},o),eS.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(e=>{let n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){P(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return eS.forEach(t.mutations,r=>{let i=new oR(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,t){let n=new oR(t,0),r=this.Jr.firstAfterOrEqual(n);return eS.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,eS.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class oL{constructor(e){this.ti=e,this.docs=new tV(ea.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return eS.resolve(n?n.document.mutableCopy():nS.newInvalidDocument(t))}getEntries(e,t){let n=ru;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():nS.newInvalidDocument(e))}),eS.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ru,o=t.path,a=new ea(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){let{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||0>=eB(eE(a),n)||(r.has(a.key)||ro(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return eS.resolve(i)}getAllFromCollectionGroup(e,t,n,r){L(9500)}ni(e,t){return eS.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new oU(this)}getSize(e){return eS.resolve(this.size)}}class oU extends o_{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)}),eS.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class oP{constructor(e){this.persistence=e,this.ri=new rl(e=>nJ(e),nX),this.lastRemoteSnapshotVersion=eg.min(),this.highestTargetId=0,this.ii=0,this.si=new oO,this.targetCount=0,this.oi=od._r()}forEachTarget(e,t){return this.ri.forEach((e,n)=>t(n)),eS.resolve()}getLastRemoteSnapshotVersion(e){return eS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return eS.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),eS.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),eS.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new od(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,eS.resolve()}updateTargetData(e,t){return this.lr(t),eS.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,eS.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),eS.waitFor(i).next(()=>r)}getTargetCount(e){return eS.resolve(this.targetCount)}getTargetData(e,t){let n=this.ri.get(t)||null;return eS.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),eS.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),eS.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),eS.resolve()}getMatchingKeysForTargetId(e,t){let n=this.si.jr(t);return eS.resolve(n)}containsKey(e,t){return eS.resolve(this.si.containsKey(t))}}class oM{constructor(e,t){this._i={},this.overlays={},this.ai=new eV(0),this.ui=!1,this.ui=!0,this.ci=new oD,this.referenceDelegate=e(this),this.li=new oP(this),this.indexManager=new i7,this.remoteDocumentCache=new oL(e=>this.referenceDelegate.hi(e)),this.serializer=new ik(t),this.Pi=new ok(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new oF(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){D("MemoryPersistence","Starting transaction:",e);let r=new oj(this.ai.next());return this.referenceDelegate.Ti(),n(r).next(e=>this.referenceDelegate.Ii(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return eS.or(Object.values(this._i).map(n=>()=>n.containsKey(e,t)))}}class oj extends eI{constructor(e){super(),this.currentSequenceNumber=e}}class oZ{constructor(e){this.persistence=e,this.Ri=new oO,this.Ai=null}static Vi(e){return new oZ(e)}get di(){if(this.Ai)return this.Ai;throw L(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),eS.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),eS.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),eS.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return eS.forEach(this.di,n=>{let r=ea.fromPath(n);return this.mi(e,r).next(e=>{e||t.removeEntry(r,eg.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return eS.or([()=>eS.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class oQ{constructor(e,t){this.persistence=e,this.fi=new rl(e=>eG(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=new oy(this,t)}static Vi(e,t){return new oQ(e,t)}Ti(){}Ii(e){return eS.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return eS.forEach(this.fi,(n,r)=>this.wr(e,n,r).next(e=>e?eS.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,r=>this.wr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,eg.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),eS.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),eS.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),eS.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),eS.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(nu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let n=t9(t);return n?16+e(n):16;case 5:return 2*t.stringValue.length;case 6:return t2(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,n)=>t+e(n),0);case 10:case 11:var r;let i;return r=t.mapValue,i=0,tQ(r.fields,(t,n)=>{i+=t.length+e(n)}),i;default:throw L(13486,{value:t})}}(e.data.value)),t}wr(e,t,n){return eS.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.fi.get(t);return eS.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class oH{constructor(e){this.serializer=e}k(e,t,n,r){let i=new eN("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(e$),e.createObjectStore(eJ,{keyPath:"userId"}),e.createObjectStore(eX,{keyPath:e0,autoIncrement:!0}).createIndex(e1,e2,{unique:!0}),e.createObjectStore(e3),oV(e),e.createObjectStore(eq));let o=eS.resolve();return n<3&&r>=3&&(0!==n&&(e.deleteObjectStore(ta),e.deleteObjectStore(tr),e.deleteObjectStore(tA),oV(e)),o=o.next(()=>{let e,t;return e=i.store(tA),t={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:eg.min().toTimestamp(),targetCount:0},e.put(tc,t)})),n<4&&r>=4&&(0!==n&&(o=o.next(()=>i.store(eX).H().next(t=>{e.deleteObjectStore(eX),e.createObjectStore(eX,{keyPath:e0,autoIncrement:!0}).createIndex(e1,e2,{unique:!0});let n=i.store(eX),r=t.map(e=>n.put(e));return eS.waitFor(r)}))),o=o.next(()=>{e.createObjectStore(tf,{keyPath:"clientId"})})),n<5&&r>=5&&(o=o.next(()=>this.gi(i))),n<6&&r>=6&&(o=o.next(()=>(e.createObjectStore(tt),this.pi(i)))),n<7&&r>=7&&(o=o.next(()=>this.yi(i))),n<8&&r>=8&&(o=o.next(()=>this.wi(e,i))),n<9&&r>=9&&(o=o.next(()=>{e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})),n<10&&r>=10&&(o=o.next(()=>this.bi(i))),n<11&&r>=11&&(o=o.next(()=>{e.createObjectStore(tp,{keyPath:"bundleId"}),e.createObjectStore(tg,{keyPath:"name"})})),n<12&&r>=12&&(o=o.next(()=>{let t;(t=e.createObjectStore(tI,{keyPath:tT})).createIndex(tS,tk,{unique:!1}),t.createIndex(tN,tD,{unique:!1})})),n<13&&r>=13&&(o=o.next(()=>{let t;(t=e.createObjectStore(e5,{keyPath:e6})).createIndex(e8,e9),t.createIndex(e7,te)}).next(()=>this.Si(e,i)).next(()=>e.deleteObjectStore(eq))),n<14&&r>=14&&(o=o.next(()=>this.Di(e,i))),n<15&&r>=15&&(o=o.next(()=>{e.createObjectStore(tm,{keyPath:"indexId",autoIncrement:!0}).createIndex(tv,"collectionGroup",{unique:!1}),e.createObjectStore(ty,{keyPath:tb}).createIndex(tw,t_,{unique:!1}),e.createObjectStore(tE,{keyPath:tC}).createIndex(tB,tx,{unique:!1})})),n<16&&r>=16&&(o=o.next(()=>{t.objectStore(ty).clear()}).next(()=>{t.objectStore(tE).clear()})),n<17&&r>=17&&(o=o.next(()=>{e.createObjectStore(tO,{keyPath:"name"})})),n<18&&r>=18&&(0,y.WO)()&&(o=o.next(()=>{t.objectStore(ty).clear()}).next(()=>{t.objectStore(tE).clear()})),o}pi(e){let t=0;return e.store(eq).ee((e,n)=>{t+=ol(n)}).next(()=>{let n={byteSize:t};return e.store(tt).put(tn,n)})}gi(e){let t=e.store(eJ),n=e.store(eX);return t.H().next(t=>eS.forEach(t,t=>{let r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.H(e1,r).next(n=>eS.forEach(n,n=>{P(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});let r=iF(this.serializer,n);return os(e,t.userId,r).next(()=>{})}))}))}yi(e){let t=e.store(ta),n=e.store(eq);return e.store(tA).get(tc).next(e=>{let r=[];return n.ee((n,i)=>{let o=new er(n),a=[0,eG(o)];r.push(t.get(a).next(n=>n?eS.resolve():t.put({targetId:0,path:eG(o),sequenceNumber:e.highestListenSequenceNumber})))}).next(()=>eS.waitFor(r))})}wi(e,t){e.createObjectStore(td,{keyPath:th});let n=t.store(td),r=new oe,i=e=>{if(r.add(e)){let t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:eG(r)})}};return t.store(eq).ee({Y:!0},(e,t)=>i(new er(e).popLast())).next(()=>t.store(e3).ee({Y:!0},([e,t,n],r)=>i(eW(t).popLast())))}bi(e){let t=e.store(tr);return t.ee((e,n)=>{let r=iL(n),i=iU(this.serializer,r);return t.put(i)})}Si(e,t){let n=t.store(eq),r=[];return n.ee((e,n)=>{let i=t.store(e5),o=(n.document?new ea(er.fromString(n.document.name).popFirst(5)):n.noDocument?ea.fromSegments(n.noDocument.path):n.unknownDocument?ea.fromSegments(n.unknownDocument.path):L(36783)).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))}).next(()=>eS.waitFor(r))}Di(e,t){let n=t.store(eX),r=new oE(this.serializer),i=new oM(oZ.Vi,this.serializer.yt);return n.H().next(e=>{let n=new Map;return e.forEach(e=>{let t=n.get(e.userId)??rg();iF(this.serializer,e).keys().forEach(e=>t=t.add(e)),n.set(e.userId,t)}),eS.forEach(n,(e,n)=>{let o=new I(n),a=iH.wt(this.serializer,o),s=i.getIndexManager(o);return new oS(r,ou.wt(o,this.serializer,s,i.referenceDelegate),a,s).recalculateAndSaveOverlaysForDocumentKeys(new tM(t,eV.ce),e).next()})})}}function oV(e){e.createObjectStore(ta,{keyPath:ts}).createIndex(tl,tu,{unique:!0}),e.createObjectStore(tr,{keyPath:"targetId"}).createIndex(ti,to,{unique:!0}),e.createObjectStore(tA)}let oK="IndexedDbPersistence",oz="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oG{constructor(e,t,n,r,i,o,a,s,l,u,c=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Ci=i,this.window=o,this.document=a,this.Fi=l,this.Mi=u,this.xi=c,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=-1/0,this.ki=e=>Promise.resolve(),!oG.v())throw new j(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ob(this,r),this.Ki=t+"main",this.serializer=new ik(s),this.qi=new eD(this.Ki,this.xi,new oH(this.serializer)),this.ci=new iV,this.li=new oh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new oE(this.serializer),this.Pi=new iQ,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,!1===u&&O(oK,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new j(M.FAILED_PRECONDITION,oz);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.li.getHighestSequenceNumber(e))}).then(e=>{this.ai=new eV(e,this.Fi)}).then(()=>{this.ui=!0}).catch(e=>(this.qi&&this.qi.close(),Promise.reject(e)))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget(async()=>{this.started&&await this.$i()}))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tj(e,tf).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ji(e).next(e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)))})}).next(()=>this.Hi(e)).next(t=>this.isPrimary&&!t?this.Ji(e).next(()=>!1):!!t&&this.Zi(e).next(()=>!0))).catch(e=>{if(eL(e))return D(oK,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return D(oK,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable(()=>this.ki(e)),this.isPrimary=e})}ji(e){return tj(e,e$).get(eY).next(e=>eS.resolve(this.Xi(e)))}Yi(e){return tj(e,tf).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,18e5)){this.Li=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=tj(e,tf);return t.H().next(e=>{let n=this.ns(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return eS.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ui)for(let t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.$i().then(()=>this.es()).then(()=>this.Gi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?eS.resolve(!0):tj(e,e$).get(eY).next(t=>{if(null!==t&&this.ts(t.leaseTimestampMs,5e3)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new j(M.FAILED_PRECONDITION,oz);return!1}}return!(!this.networkEnabled||!this.inForeground)||tj(e,tf).H().next(e=>void 0===this.ns(e,5e3).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&D(oK,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[e$,tf],e=>{let t=new tM(e,eV.ce);return this.Ji(t).next(()=>this.Yi(t))}),this.qi.close(),this.ls()}ns(e,t){return e.filter(e=>this.ts(e.updateTimeMs,t)&&!this.ss(e.clientId))}hs(){return this.runTransaction("getActiveClients","readonly",e=>tj(e,tf).H().next(e=>this.ns(e,18e5).map(e=>e.clientId)))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return ou.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new or(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return iH.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,n){var r;let i;D(oK,"Starting transaction:",e);let o=18===(r=this.xi)||17===r?tP:16===r||15===r?tU:14===r||13===r?tL:12===r?tF:11===r?tR:void L(60245);return this.qi.runTransaction(e,"readonly"===t?"readonly":"readwrite",o,r=>(i=new tM(r,this.ai?this.ai.next():eV.ce),"readwrite-primary"===t?this.ji(i).next(e=>!!e||this.Hi(i)).next(t=>{if(!t)throw O(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)),new j(M.FAILED_PRECONDITION,ex);return n(i)}).next(e=>this.Zi(i).next(()=>e)):this.Ps(i).next(()=>n(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}Ps(e){return tj(e,e$).get(eY).next(e=>{if(null!==e&&this.ts(e.leaseTimestampMs,5e3)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new j(M.FAILED_PRECONDITION,oz)})}Zi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tj(e,e$).put(eY,t)}static v(){return eD.v()}Ji(e){let t=tj(e,e$);return t.get(eY).next(e=>this.Xi(e)?(D(oK,"Releasing primary lease."),t.delete(eY)):eS.resolve())}ts(e,t){let n=Date.now();return!(e<n-t)&&(!(e>n)||(O(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Wi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ni=()=>{this.Ci.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.$i()))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground="visible"===this.document.visibilityState)}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){"function"==typeof this.window?.addEventListener&&(this.Oi=()=>{this._s();let e=/(?:Version|Mobile)\/1[456]/;(0,y.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{let t=null!==this.Ui?.getItem(this.rs(e));return D(oK,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(e){return O(oK,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){O("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch(e){}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function oW(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class oq{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(e,t){let n=rg(),r=rg();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new oq(e,t.fromCache,n,r)}}class o${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oY{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(0,y.G6)()?8:eO((0,y.z$)())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new o$;return this.ys(e,t,n).next(r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)})}).next(()=>i.result)}ws(e,t,n,r){return n.documentReadCount<this.Vs?(k()<=_.in.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",ri(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),eS.resolve()):(k()<=_.in.DEBUG&&D("QueryEngine","Query:",ri(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(k()<=_.in.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",ri(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,n7(t))):eS.resolve())}gs(e,t){if(n6(t))return eS.resolve(null);let n=n7(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=n7(t=rt(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=rg(...r);return this.fs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let o=this.bs(t,r);return this.Ss(t,o,i,n.readTime)?this.gs(e,rt(t,null,"F")):this.Ds(e,o,t,n)}))})))}ps(e,t,n,r){return n6(t)||r.isEqual(eg.min())?eS.resolve(null):this.fs.getDocuments(e,n).next(i=>{let o=this.bs(t,i);return this.Ss(t,o,n,r)?eS.resolve(null):(k()<=_.in.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ri(t)),this.Ds(e,o,t,e_(r,-1)).next(e=>e))})}bs(e,t){let n=new tG(rs(e));return t.forEach((t,r)=>{ro(e,r)&&(n=n.add(r))}),n}Ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return k()<=_.in.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",ri(t)),this.fs.getDocumentsMatchingQuery(e,t,eC.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}let oJ="LocalStore";class oX{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new tV(Y),this.Fs=new rl(e=>nJ(e),nX),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}async function o0(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.Os(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],o=[],a=rg();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(o.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(n,a).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:o}))})})}function o1(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function o2(e,t){return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.li.getTargetData(n,t).next(i=>i?(r=i,eS.resolve(r)):e.li.allocateTargetId(n).next(i=>(r=new iS(t,i,"TargetPurposeListen",n.currentSequenceNumber),e.li.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=e.vs.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.vs=e.vs.insert(n.targetId,n),e.Fs.set(t,n.targetId)),n})}async function o4(e,t,n){let r=e.vs.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!eL(e))throw e;D(oJ,`Failed to update sequence numbers for target ${t}: ${e}`)}e.vs=e.vs.remove(t),e.Fs.delete(r.target)}function o3(e,t,n){let r=eg.min(),i=rg();return e.persistence.runTransaction("Execute query","readwrite",o=>{var a;let s;return(a=n7(t),void 0!==(s=e.Fs.get(a))?eS.resolve(e.vs.get(s)):e.li.getTargetData(o,a)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.li.getMatchingKeysForTargetId(o,t.targetId).next(e=>{i=e})}).next(()=>e.Cs.getDocumentsMatchingQuery(o,t,n?r:eg.min(),n?i:rg())).next(n=>(o8(e,ra(t),n),{documents:n,ks:i}))})}function o5(e,t){let n=e.li,r=e.vs.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",e=>n.At(e,t).next(e=>e?e.target:null))}function o6(e,t){let n=e.Ms.get(t)||eg.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.xs.getAllFromCollectionGroup(r,t,e_(n,-1),Number.MAX_SAFE_INTEGER)).then(n=>(o8(e,t,n),n))}function o8(e,t,n){let r=e.Ms.get(t)||eg.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ms.set(t,r)}let o9="firestore_clients";function o7(e,t){return`${o9}_${e}_${t}`}let ae="firestore_mutations";function at(e,t,n){let r=`${ae}_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}let an="firestore_targets";function ar(e,t){return`${an}_${e}_${t}`}let ai="SharedClientState";class ao{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){let r=JSON.parse(n),i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new j(r.error.code,r.error.message)),o?new ao(e,t,r.state,i):(O(ai,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Ws(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class aa{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){let n=JSON.parse(t),r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(r=new j(n.error.code,n.error.message)),i?new aa(e,n.state,r):(O(ai,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class as{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){let n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=rm;for(let e=0;r&&e<n.activeTargetIds.length;++e)r=ez(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new as(e,i):(O(ai,`Failed to parse client data for instance '${e}': ${t}`),null)}}class al{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new al(t.clientId,t.onlineState):(O(ai,`Failed to parse online state: ${e}`),null)}}class au{constructor(){this.activeTargetIds=rm}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class ac{constructor(e,t,n,r,i){var o,a,s;this.window=e,this.Ci=t,this.persistenceKey=n,this.zs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new tV(Y),this.started=!1,this.Zs=[];const l=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Xs=o7(this.persistenceKey,this.zs),this.Ys=(o=this.persistenceKey,`firestore_sequence_number_${o}`),this.Js=this.Js.insert(this.zs,new au),this.eo=RegExp(`^${o9}_${l}_([^_]*)$`),this.no=RegExp(`^${ae}_${l}_(\\d+)(?:_(.*))?$`),this.ro=RegExp(`^${an}_${l}_(\\d+)$`),this.io=(a=this.persistenceKey,`firestore_online_state_${a}`),this.so=(s=this.persistenceKey,`firestore_bundle_loaded_v2_${s}`),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){for(let e of(await this.syncEngine.hs())){if(e===this.zs)continue;let t=this.getItem(o7(this.persistenceKey,e));if(t){let n=as.$s(e,t);n&&(this.Js=this.Js.insert(n.clientId,n))}}this.oo();let e=this.storage.getItem(this.io);if(e){let t=this._o(e);t&&this.ao(t)}for(let e of this.Zs)this.Hs(e);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,n){this.co(e,t,n),this.lo(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(ar(this.persistenceKey,e));if(t){let r=aa.$s(e,t);r&&(n=r.state)}}return t&&this.ho.Qs(e),this.oo(),n}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ar(this.persistenceKey,e))}updateQueryState(e,t,n){this.Po(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.lo(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return D(ai,"READ",e,t),t}setItem(e,t){D(ai,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){D(ai,"REMOVE",e),this.storage.removeItem(e)}Hs(e){if(e.storageArea===this.storage){if(D(ai,"EVENT",e.key,e.newValue),e.key===this.Xs)return void O("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable(async()=>{if(this.started){if(null!==e.key){if(this.eo.test(e.key)){if(null==e.newValue){let t=this.Eo(e.key);return this.Ro(t,null)}{let t=this.Ao(e.key,e.newValue);if(t)return this.Ro(t.clientId,t)}}else if(this.no.test(e.key)){if(null!==e.newValue){let t=this.Vo(e.key,e.newValue);if(t)return this.mo(t)}}else if(this.ro.test(e.key)){if(null!==e.newValue){let t=this.fo(e.key,e.newValue);if(t)return this.po(t)}}else if(e.key===this.io){if(null!==e.newValue){let t=this._o(e.newValue);if(t)return this.ao(t)}}else if(e.key===this.Ys){let t=function(e){let t=eV.ce;if(null!=e)try{let n=JSON.parse(e);P("number"==typeof n,30636,{yo:e}),t=n}catch(e){O(ai,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue);t!==eV.ce&&this.sequenceNumberHandler(t)}else if(e.key===this.so){let t=this.wo(e.newValue);await Promise.all(t.map(e=>this.syncEngine.bo(e)))}}}else this.Zs.push(e)})}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,n){let r=new ao(this.currentUser,e,t,n),i=at(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ws())}lo(e){let t=at(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){let t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,n){let r=ar(this.persistenceKey,e),i=new aa(e,t,n);this.setItem(r,i.Ws())}Io(e){let t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){let t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){let n=this.Eo(e);return as.$s(n,t)}Vo(e,t){let n=this.no.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ao.$s(new I(i),r,t)}fo(e,t){let n=Number(this.ro.exec(e)[1]);return aa.$s(n,t)}_o(e){return al.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);D(ai,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){let n=t?this.Js.insert(e,t):this.Js.remove(e),r=this.uo(this.Js),i=this.uo(n),o=[],a=[];return i.forEach(e=>{r.has(e)||o.push(e)}),r.forEach(e=>{i.has(e)||a.push(e)}),this.syncEngine.Co(o,a).then(()=>{this.Js=n})}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=rm;return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class aA{constructor(){this.vo=new au,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new au,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ad{Mo(e){}shutdown(){}}let ah="ConnectivityMonitor";class af{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){for(let e of(D(ah,"Network connectivity changed: AVAILABLE"),this.Lo))e(0)}Bo(){for(let e of(D(ah,"Network connectivity changed: UNAVAILABLE"),this.Lo))e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ap=null;function ag(){return null===ap?ap=0x10000000+Math.round(0x80000000*Math.random()):ap++,"0x"+ap.toString(16)}let am="RestConnection",av={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ay{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.$o=this.databaseId.database===nt?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){let o=ag(),a=this.Qo(e,t.toUriEncodedString());D(am,`Sending RPC '${e}' ${o}:`,a,n);let s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(s,r,i);let{host:l}=new URL(a),u=(0,y.Xx)(l);return this.zo(e,a,s,n,u).then(t=>(D(am,`Received RPC '${e}' ${o}: `,t),t),t=>{throw R(am,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}jo(e,t,n,r,i,o){return this.Wo(e,t,n,r,i)}Go(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+T,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Qo(e,t){let n=av[e],r=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class ab{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}let aw="WebChannelConnection",a_=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};class aE extends ay{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){aE.c_||(a_(A(),c.STAT_EVENT,e=>{e.stat===u.PROXY?D(aw,"STAT_EVENT: detected buffering proxy"):e.stat===u.NOPROXY&&D(aw,"STAT_EVENT: detected no buffering proxy")}),aE.c_=!0)}zo(e,t,n,r,i){let a=ag();return new Promise((i,u)=>{let c=new o;c.setWithCredentials(!0),c.listenOnce(s.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case l.NO_ERROR:let t=c.getResponseJson();D(aw,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case l.TIMEOUT:D(aw,`RPC '${e}' ${a} timed out`),u(new j(M.DEADLINE_EXCEEDED,"Request time out"));break;case l.HTTP_ERROR:let n=c.getStatus();if(D(aw,`RPC '${e}' ${a} failed with status:`,n,"response text:",c.getResponseText()),n>0){let e=c.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;if(t&&t.status&&t.message){let e,n=(e=t.status.toLowerCase().replace(/_/g,"-"),Object.values(M).indexOf(e)>=0?e:M.UNKNOWN);u(new j(n,t.message))}else u(new j(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new j(M.UNAVAILABLE,"Connection failed."));break;default:L(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{D(aw,`RPC '${e}' ${a} completed.`)}});let A=JSON.stringify(r);D(aw,`RPC '${e}' ${a} sending request:`,r),c.send(t,"POST",A,n,15)})}T_(e,t,n){let r=ag(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let u=i.join("");D(aw,`Creating RPC '${e}' stream ${r}: ${u}`,s);let c=o.createWebChannel(u,s);this.I_(c);let A=!1,d=!1,f=new ab({Ho:t=>{d?D(aw,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(A||(D(aw,`Opening RPC '${e}' stream ${r} transport.`),c.open(),A=!0),D(aw,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Jo:()=>c.close()});return a_(c,a.EventType.OPEN,()=>{d||(D(aw,`RPC '${e}' stream ${r} transport opened.`),f.i_())}),a_(c,a.EventType.CLOSE,()=>{d||(d=!0,D(aw,`RPC '${e}' stream ${r} transport closed`),f.o_(),this.E_(c))}),a_(c,a.EventType.ERROR,t=>{d||(d=!0,R(aw,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.o_(new j(M.UNAVAILABLE,"The operation could not be completed")))}),a_(c,a.EventType.MESSAGE,t=>{if(!d){let n=t.data[0];P(!!n,16349);let i=n?.error||n[0]?.error;if(i){D(aw,`RPC '${e}' stream ${r} received error:`,i);let t=i.status,n=function(e){let t=h[e];if(void 0!==t)return rq(t)}(t),o=i.message;void 0===n&&(n=M.INTERNAL,o="Unknown error status: "+t+" with message "+i.message),d=!0,f.o_(new j(n,o)),c.close()}else D(aw,`RPC '${e}' stream ${r} received:`,n),f.__(n)}}),aE.u_(),setTimeout(()=>{f.s_()},0),f}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d()}}function aC(){return"undefined"!=typeof window?window:null}function aB(){return"undefined"!=typeof document?document:null}function ax(e){return new ii(e,!0)}aE.c_=!1;class aI{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&D("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}let aT="PersistentStream";class aS{constructor(e,t,n,r,i,o,a,s){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aI(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(O(t.toString()),O("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===M.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{let e=new j(M.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){let n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return D(aT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(D(aT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ak extends aS{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let o="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:L(39313,{state:r}),a=t.targetChange.targetIds||[],s=(i=t.targetChange.resumeToken,e.useProto3Json?(P(void 0===i||"string"==typeof i,58123),tJ.fromBase64String(i||"")):(P(void 0===i||i instanceof x||i instanceof Uint8Array,16193),tJ.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;n=new r5(o,a,s,l&&new j(void 0===l.code?M.UNKNOWN:rq(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=ih(e,r.document.name),o=il(r.document.updateTime),a=r.document.createTime?il(r.document.createTime):eg.min(),s=new nT({mapValue:{fields:r.document.fields}}),l=nS.newFoundDocument(i,o,a,s);n=new r4(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=ih(e,r.document),o=r.readTime?il(r.readTime):eg.min(),a=nS.newNoDocument(i,o);n=new r4([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=ih(e,r.document);n=new r4([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return L(11601,{Vt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,o=new rW(r,i);n=new r3(e.targetId,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return eg.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?eg.min():t.readTime?il(t.readTime):eg.min()}(e);return this.listener.J_(t,n)}Z_(e){let t,n={};n.database=im(this.serializer),n.addTarget=function(e,t){let n,r=t.target;if((n=n0(r)?{documents:i_(e,r)}:{query:iE(e,r).ft}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=is(e,t.resumeToken);let r=io(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(eg.min())>0){n.readTime=ia(e,t.snapshotVersion.toTimestamp());let r=io(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let r=(this.serializer,null==(t=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L(28987,{purpose:e})}}(e.purpose))?null:{"goog-listen-tags":t});r&&(n.labels=r),this.K_(n)}X_(e){let t={};t.database=im(this.serializer),t.removeTarget=e,this.K_(t)}}class aN extends aS{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return P(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,P(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){var t,n;P(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(P(void 0!==n,14353),t.map(e=>{let t;return(t=e.updateTime?il(e.updateTime):il(n)).isEqual(eg.min())&&(t=il(n)),new rN(t,e.transformResults||[])})):[]),i=il(e.commitTime);return this.listener.na(i,r)}ra(){let e={};e.database=im(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>ib(this.serializer,e))};this.K_(t)}}class aD{}class aO extends aD{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,ic(t,n),r,i,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new j(M.UNKNOWN,e.toString())})}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,ic(t,n),r,o,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new j(M.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class aR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(O(t),this.aa=!1):D("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}let aF="RemoteStore";class aL{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{n.enqueueAndForget(async()=>{aK(this)&&(D(aF,"Restarting streams for network reachability change."),await async function(e){e.Ea.add(4),await aP(e),e.Va.set("Unknown"),e.Ea.delete(4),await aU(e)}(this))})}),this.Va=new aR(n,r)}}async function aU(e){if(aK(e))for(let t of e.Ra)await t(!0)}async function aP(e){for(let t of e.Ra)await t(!1)}function aM(e,t){e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),aV(e)?aH(e):a8(e).O_()&&aZ(e,t))}function aj(e,t){let n=a8(e);e.Ia.delete(t),n.O_()&&aQ(e,t),0===e.Ia.size&&(n.O_()?n.L_():aK(e)&&e.Va.set("Unknown"))}function aZ(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eg.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}a8(e).Z_(t)}function aQ(e,t){e.da.$e(t),a8(e).X_(t)}function aH(e){e.da=new r8({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),a8(e).start(),e.Va.ua()}function aV(e){return aK(e)&&!a8(e).x_()&&e.Ia.size>0}function aK(e){return 0===e.Ea.size}async function az(e){e.Va.set("Online")}async function aG(e){e.Ia.forEach((t,n)=>{aZ(e,t)})}async function aW(e,t){e.da=void 0,aV(e)?(e.Va.ha(t),aH(e)):e.Va.set("Unknown")}async function aq(e,t,n){if(e.Va.set("Online"),t instanceof r5&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){D(aF,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await a$(e,n)}else if(t instanceof r4?e.da.Xe(t):t instanceof r3?e.da.st(t):e.da.tt(t),!n.isEqual(eg.min()))try{let t,r=await o1(e.localStore);n.compareTo(r)>=0&&await ((t=e.da.Tt(n)).targetChanges.forEach((t,r)=>{if(t.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(t.resumeToken,n))}}),t.targetMismatches.forEach((t,n)=>{let r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(tJ.EMPTY_BYTE_STRING,r.snapshotVersion)),aQ(e,t);let i=new iS(r.target,t,n,r.sequenceNumber);aZ(e,i)}),e.remoteSyncer.applyRemoteEvent(t))}catch(t){D(aF,"Failed to raise snapshot:",t),await a$(e,t)}}async function a$(e,t,n){if(!eL(t))throw t;e.Ea.add(1),await aP(e),e.Va.set("Offline"),n||(n=()=>o1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{D(aF,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await aU(e)})}function aY(e,t){return t().catch(n=>a$(e,n,t))}async function aJ(e){var t;let n=a9(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:-1;for(;aK(t=e)&&t.Ta.length<10;)try{let t=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,r);if(null===t){0===e.Ta.length&&n.L_();break}r=t.batchId,function(e,t){e.Ta.push(t);let n=a9(e);n.O_()&&n.Y_&&n.ea(t.mutations)}(e,t)}catch(t){await a$(e,t)}aX(e)&&a0(e)}function aX(e){return aK(e)&&!a9(e).x_()&&e.Ta.length>0}function a0(e){a9(e).start()}async function a1(e){a9(e).ra()}async function a2(e){let t=a9(e);for(let n of e.Ta)t.ea(n.mutations)}async function a4(e,t,n){let r=e.Ta.shift(),i=rz.from(r,t,n);await aY(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await aJ(e)}async function a3(e,t){t&&a9(e).Y_&&await async function(e,t){var n;if(function(e){switch(e){case M.OK:return L(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return L(15467,{code:e})}}(n=t.code)&&n!==M.ABORTED){let n=e.Ta.shift();a9(e).B_(),await aY(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await aJ(e)}}(e,t),aX(e)&&a0(e)}async function a5(e,t){e.asyncQueue.verifyOperationInProgress(),D(aF,"RemoteStore received new credentials");let n=aK(e);e.Ea.add(3),await aP(e),n&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await aU(e)}async function a6(e,t){t?(e.Ea.delete(2),await aU(e)):t||(e.Ea.add(2),await aP(e),e.Va.set("Unknown"))}function a8(e){var t,n,r;return e.ma||(t=e.datastore,n=e.asyncQueue,r={Zo:az.bind(null,e),Yo:aG.bind(null,e),t_:aW.bind(null,e),J_:aq.bind(null,e)},t.sa(),e.ma=new ak(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.Ra.push(async t=>{t?(e.ma.B_(),aV(e)?aH(e):e.Va.set("Unknown")):(await e.ma.stop(),e.da=void 0)})),e.ma}function a9(e){var t,n,r;return e.fa||(t=e.datastore,n=e.asyncQueue,r={Zo:()=>Promise.resolve(),Yo:a1.bind(null,e),t_:a3.bind(null,e),ta:a2.bind(null,e),na:a4.bind(null,e)},t.sa(),e.fa=new aN(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.Ra.push(async t=>{t?(e.fa.B_(),await aJ(e)):(await e.fa.stop(),e.Ta.length>0&&(D(aF,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class a7{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Z,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let o=new a7(e,t,Date.now()+n,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new j(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function se(e,t){if(O("AsyncQueue",`${t}: ${e}`),eL(e))return new j(M.UNAVAILABLE,`${t}: ${e}`);throw e}class st{static emptySet(e){return new st(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ea.comparator(t.key,n.key):(e,t)=>ea.comparator(e.key,t.key),this.keyedMap=rA(),this.sortedSet=new tV(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new st;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class sn{constructor(){this.ga=new tV(ea.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):L(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class sr{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new sr(e,t,st.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class si{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class so{constructor(){this.queries=sa(),this.onlineState="Unknown",this.Ca=new Set}terminate(){var e;let t;e=new j(M.ABORTED,"Firestore shutting down"),t=this.queries,this.queries=sa(),t.forEach((t,n)=>{for(let t of n.ba)t.onError(e)})}}function sa(){return new rl(e=>rr(e),rn)}async function ss(e,t){let n=3,r=t.query,i=e.queries.get(r);i?!i.Sa()&&t.Da()&&(n=2):(i=new si,n=+!t.Da());try{switch(n){case 0:i.wa=await e.onListen(r,!0);break;case 1:i.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(n){let e=se(n,`Initialization of query '${ri(t.query)}' failed`);return void t.onError(e)}e.queries.set(r,i),i.ba.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&sA(e)}async function sl(e,t){let n=t.query,r=3,i=e.queries.get(n);if(i){let e=i.ba.indexOf(t);e>=0&&(i.ba.splice(e,1),0===i.ba.length?r=+!t.Da():!i.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function su(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.ba)e.Fa(r)&&(n=!0);i.wa=r}}n&&sA(e)}function sc(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.ba)e.onError(n);e.queries.delete(t)}function sA(e){e.Ca.forEach(e=>{e.next()})}(g=p||(p={})).Ma="default",g.Cache="cache";class sd{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new sr(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){return!(e.fromCache&&this.Da())||(!this.options.Ka||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=sr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==p.Cache}}class sh{constructor(e){this.key=e}}class sf{constructor(e){this.key=e}}class sp{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rg(),this.mutatedKeys=rg(),this.eu=rs(e),this.tu=new st(this.eu)}get nu(){return this.Za}ru(e,t){let n=t?t.iu:new sn,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=ro(this.query,t)?t:null,A=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),h=!1;u&&c?u.data.isEqual(c.data)?A!==d&&(n.track({type:3,doc:c}),h=!0):this.su(u,c)||(n.track({type:2,doc:c}),h=!0,(s&&this.eu(c,s)>0||l&&0>this.eu(c,l))&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),h=!0):u&&!c&&(n.track({type:1,doc:u}),h=!0,(s||l)&&(a=!0)),h&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){let e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Ss:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((e,t)=>{var n,r;let i;return n=e.type,r=t.type,(i=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L(20277,{Vt:e})}})(n)-i(r)||this.eu(e.doc,t.doc)}),this.ou(n),r=r??!1;let a=t&&!r?this._u():[],s=0===this.Ya.size&&this.current&&!r?1:0,l=s!==this.Xa;return(this.Xa=s,0!==o.length||l)?{snapshot:new sr(this.query,e.tu,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sn,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=rg(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});let t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new sf(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new sh(n))}),t}cu(e){this.Za=e.ks,this.Ya=rg();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}let sg="SyncEngine";class sm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sv{constructor(e){this.key=e,this.hu=!1}}class sy{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new rl(e=>rr(e),rn),this.Iu=new Map,this.Eu=new Set,this.Ru=new tV(ea.comparator),this.Au=new Map,this.Vu=new oO,this.du={},this.mu=new Map,this.fu=od.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function sb(e,t,n=!0){let r,i=s$(e),o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await s_(i,t,n,!0),r}async function sw(e,t){let n=s$(e);await s_(n,t,!0,!1)}async function s_(e,t,n,r){let i,o=await o2(e.localStore,n7(t)),a=o.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);return r&&(i=await sE(e,t,a,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&aM(e.remoteStore,o),i}async function sE(e,t,n,r,i){e.pu=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await o3(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));let o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return sL(e,t.targetId,s.au),s.snapshot})(e,t,n,r);let o=await o3(e.localStore,t,!0),a=new sp(t,o.ks),s=a.ru(o.documents),l=r2.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(s,e.isPrimaryClient,l);sL(e,n,u.au);let c=new sm(t,n,a);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function sC(e,t,n){let r=e.Tu.get(t),i=e.Iu.get(r.targetId);i.length>1?(e.Iu.set(r.targetId,i.filter(e=>!rn(e,t))),e.Tu.delete(t)):e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||await o4(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),n&&aj(e.remoteStore,r.targetId),sR(e,r.targetId)}).catch(eT)):(sR(e,r.targetId),await o4(e.localStore,r.targetId,!0))}async function sB(e,t){let n=e.Tu.get(t),r=e.Iu.get(n.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),aj(e.remoteStore,n.targetId))}async function sx(e,t,n){let r=sY(e);try{var i,o;let e,a,s,l,u,c=await (i=r.localStore,s=ep.now(),l=t.reduce((e,t)=>e.add(t.key),rg()),i.persistence.runTransaction("Locally write mutations","readwrite",n=>{let r=ru,o=rg();return i.xs.getEntries(n,l).next(e=>{(r=e).forEach((e,t)=>{t.isValidDocument()||(o=o.add(e))})}).next(()=>i.localDocuments.getOverlayedDocuments(n,r)).next(r=>{e=r;let o=[];for(let n of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=rw(r.transform,e||null);null!=i&&(null===n&&(n=nT.empty()),n.set(r.field,i))}return n||null}(n,e.get(n.key).overlayedDocument);null!=t&&o.push(new rM(n.key,t,function e(t){let n=[];return tQ(t.fields,(t,r)=>{let i=new eo([t]);if(nw(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new t$(n)}(t.value.mapValue),rD.exists(!0)))}return i.mutationQueue.addMutationBatch(n,s,o,t)}).next(t=>{a=t;let r=t.applyToLocalDocumentSet(e,o);return i.documentOverlayCache.saveOverlays(n,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:rd(e)})));r.sharedClientState.addPendingMutation(c.batchId),o=c.batchId,(u=r.du[r.currentUser.toKey()])||(u=new tV(Y)),u=u.insert(o,n),r.du[r.currentUser.toKey()]=u,await sP(r,c.changes),await aJ(r.remoteStore)}catch(t){let e=se(t,"Failed to persist write");n.reject(e)}}async function sI(e,t){var n;try{let r,i,o=await (n=e.localStore,r=t.snapshotVersion,i=n.vs,n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{var o,a,s;let l,u,c=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;let A=[];t.targetChanges.forEach((o,a)=>{var s;let l=i.get(a);if(!l)return;A.push(n.li.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.li.addMatchingKeys(e,o.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(tJ.EMPTY_BYTE_STRING,eg.min()).withLastLimboFreeSnapshotVersion(eg.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),s=u,(0===l.resumeToken.approximateByteSize()||s.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size>0)&&A.push(n.li.updateTargetData(e,u))});let d=ru,h=rg();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),A.push((o=e,a=c,s=t.documentUpdates,l=rg(),u=rg(),s.forEach(e=>l=l.add(e)),a.getEntries(o,l).next(e=>{let t=ru;return s.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(u=u.add(n)),r.isNoDocument()&&r.version.isEqual(eg.min())?(a.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(a.addEntry(r),t=t.insert(n,r)):D(oJ,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{Bs:t,Ls:u}})).next(e=>{d=e.Bs,h=e.Ls})),!r.isEqual(eg.min())){let t=n.li.getLastRemoteSnapshotVersion(e).next(t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r));A.push(t)}return eS.waitFor(A).next(()=>c.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,d,h)).next(()=>d)}).then(e=>(n.vs=i,e)));t.targetChanges.forEach((t,n)=>{let r=e.Au.get(n);r&&(P(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?r.hu=!0:t.modifiedDocuments.size>0?P(r.hu,14607):t.removedDocuments.size>0&&(P(r.hu,42227),r.hu=!1))}),await sP(e,o,t)}catch(e){await eT(e)}}function sT(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n,i=[];e.Tu.forEach((e,n)=>{let r=n.view.va(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.ba)e.va(t)&&(n=!0)}),n&&sA(r),i.length&&e.Pu.J_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function sS(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.Au.get(t),i=r&&r.key;if(i){let n=new tV(ea.comparator);n=n.insert(i,nS.newNoDocument(i,eg.min()));let r=rg().add(i),o=new r1(eg.min(),new Map,new tV(Y),n,r);await sI(e,o),e.Ru=e.Ru.remove(i),e.Au.delete(t),sU(e)}else await o4(e.localStore,t,!1).then(()=>sR(e,t,n)).catch(eT)}async function sk(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore,n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r,i,o,a=t.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(i=(r=t.batch).keys(),o=eS.resolve(),i.forEach(n=>{o=o.next(()=>s.getEntry(e,n)).next(e=>{let i=t.docVersions.get(n);P(null!==i,48541),0>e.version.compareTo(i)&&(r.applyToRemoteDocument(e,t),e.isValidDocument()&&(e.setReadTime(t.commitVersion),s.addEntry(e)))})}),o.next(()=>n.mutationQueue.removeMutationBatch(e,r))).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=rg();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,a))}));sO(e,r,null),sD(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await sP(e,i)}catch(e){await eT(e)}}async function sN(e,t,n){var r;try{let i=await (r=e.localStore,r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(P(null!==t,37113),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))}));sO(e,t,n),sD(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await sP(e,i)}catch(e){await eT(e)}}function sD(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function sO(e,t,n){let r=e.du[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.du[e.currentUser.toKey()]=r}}function sR(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.Iu.get(t)))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||sF(e,t)})}function sF(e,t){e.Eu.delete(t.path.canonicalString());let n=e.Ru.get(t);null!==n&&(aj(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),sU(e))}function sL(e,t,n){for(let r of n)r instanceof sh?(e.Vu.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(D(sg,"New document in limbo: "+n),e.Eu.add(r),sU(e))}(e,r)):r instanceof sf?(D(sg,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||sF(e,r.key)):L(19791,{wu:r})}function sU(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new ea(er.fromString(t)),r=e.fu.next();e.Au.set(r,new sv(n)),e.Ru=e.Ru.insert(n,r),aM(e.remoteStore,new iS(n7(n5(n.path)),r,"TargetPurposeLimboResolution",eV.ce))}}async function sP(e,t,n){let r=[],i=[],o=[];e.Tu.isEmpty()||(e.Tu.forEach((a,s)=>{o.push(e.pu(s,t,n).then(t=>{if((t||n)&&e.isPrimaryClient){let r=t?!t.fromCache:n?.targetChanges.get(s.targetId)?.current;e.sharedClientState.updateQueryState(s.targetId,r?"current":"not-current")}if(t){r.push(t);let e=oq.Es(s.targetId,t);i.push(e)}}))}),await Promise.all(o),e.Pu.J_(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>eS.forEach(t,t=>eS.forEach(t.Ts,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>eS.forEach(t.Is,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!eL(e))throw e;D(oJ,"Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.vs.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.vs=e.vs.insert(t,i)}}}(e.localStore,i))}async function sM(e,t){if(!e.currentUser.isEqual(t)){D(sg,"User change. New user:",t.toKey());let n=await o0(e.localStore,t);e.currentUser=t,e.mu.forEach(e=>{e.forEach(e=>{e.reject(new j(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await sP(e,n.Ns)}}function sj(e,t){let n=e.Au.get(t);if(n&&n.hu)return rg().add(n.key);{let n=rg(),r=e.Iu.get(t);if(!r)return n;for(let t of r){let r=e.Tu.get(t);n=n.unionWith(r.view.nu)}return n}}async function sZ(e,t){let n=await o3(e.localStore,t.query,!0),r=t.view.cu(n);return e.isPrimaryClient&&sL(e,t.targetId,r.au),r}async function sQ(e,t){return o6(e.localStore,t).then(t=>sP(e,t))}async function sH(e,t,n,r){var i,o;let a,s=await (i=e.localStore,a=i.mutationQueue,i.persistence.runTransaction("Lookup mutation documents","readonly",e=>a.Xn(e,t).next(t=>t?i.localDocuments.getDocuments(e,t):eS.resolve(null))));null!==s?("pending"===n?await aJ(e.remoteStore):"acknowledged"===n||"rejected"===n?(sO(e,t,r||null),sD(e,t),o=e.localStore,o.mutationQueue.nr(t)):L(6720,"Unknown batchState",{bu:n}),await sP(e,s)):D(sg,"Cannot apply mutation batch with id: "+t)}async function sV(e,t){if(s$(e),sY(e),!0===t&&!0!==e.gu){let t=e.sharedClientState.getAllActiveQueryTargets(),n=await sK(e,t.toArray());for(let t of(e.gu=!0,await a6(e.remoteStore,!0),n))aM(e.remoteStore,t)}else if(!1===t&&!1!==e.gu){let t=[],n=Promise.resolve();e.Iu.forEach((r,i)=>{e.sharedClientState.isLocalQueryTarget(i)?t.push(i):n=n.then(()=>(sR(e,i),o4(e.localStore,i,!0))),aj(e.remoteStore,i)}),await n,await sK(e,t),e.Au.forEach((t,n)=>{aj(e.remoteStore,n)}),e.Vu.zr(),e.Au=new Map,e.Ru=new tV(ea.comparator),e.gu=!1,await a6(e.remoteStore,!1)}}async function sK(e,t,n){let r=[],i=[];for(let n of t){let t,o=e.Iu.get(n);if(o&&0!==o.length)for(let n of(t=await o2(e.localStore,n7(o[0])),o)){let t=e.Tu.get(n),r=await sZ(e,t);r.snapshot&&i.push(r.snapshot)}else{let r=await o5(e.localStore,n);t=await o2(e.localStore,r),await sE(e,sz(r),n,!1,t.resumeToken)}r.push(t)}return e.Pu.J_(i),r}function sz(e){var t,n,r,i,o;return t=e.path,n=e.collectionGroup,r=e.orderBy,i=e.filters,o=e.limit,new n3(t,n,r,i,o,"F",e.startAt,e.endAt)}function sG(e){return e.localStore.persistence.hs()}async function sW(e,t,n,r){if(e.gu)return void D(sg,"Ignoring unexpected query state notification.");let i=e.Iu.get(t);if(i&&i.length>0)switch(n){case"current":case"not-current":{let r=await o6(e.localStore,ra(i[0])),o=r1.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,tJ.EMPTY_BYTE_STRING);await sP(e,r,o);break}case"rejected":await o4(e.localStore,t,!0),sR(e,t,r);break;default:L(64155,n)}}async function sq(e,t,n){let r=s$(e);if(r.gu){for(let e of t){if(r.Iu.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){D(sg,"Adding an already active target "+e);continue}let t=await o5(r.localStore,e),n=await o2(r.localStore,t);await sE(r,sz(t),n.targetId,!1,n.resumeToken),aM(r.remoteStore,n)}for(let e of n)r.Iu.has(e)&&await o4(r.localStore,e,!1).then(()=>{aj(r.remoteStore,e),sR(r,e)}).catch(eT)}}function s$(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=sI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sS.bind(null,e),e.Pu.J_=su.bind(null,e.eventManager),e.Pu.yu=sc.bind(null,e.eventManager),e}function sY(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=sk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sN.bind(null,e),e}class sJ{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ax(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){var t,n;return t=this.persistence,n=new oY,new oX(t,n,e.initialUser,this.serializer)}Cu(e){return new oM(oZ.Vi,this.serializer)}Du(e){return new aA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sJ.provider={build:()=>new sJ};class sX extends sJ{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){return P(this.persistence.referenceDelegate instanceof oQ,46915),new ov(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Cu(e){let t=void 0!==this.cacheSizeBytes?oa.withCacheSize(this.cacheSizeBytes):oa.DEFAULT;return new oM(e=>oQ.Vi(e,t),this.serializer)}}class s0 extends sJ{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await sY(this.xu.syncEngine),await aJ(this.xu.remoteStore),await this.persistence.zi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){var t,n;return t=this.persistence,n=new oY,new oX(t,n,e.initialUser,this.serializer)}Fu(e,t){return new ov(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Mu(e,t){let n=new eH(t,this.persistence);return new eQ(e.asyncQueue,n)}Cu(e){let t=oW(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?oa.withCacheSize(this.cacheSizeBytes):oa.DEFAULT;return new oG(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,aC(),aB(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new aA}}class s1 extends s0{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);let t=this.xu.syncEngine;this.sharedClientState instanceof ac&&(this.sharedClientState.syncEngine={So:sH.bind(null,t),Do:sW.bind(null,t),Co:sq.bind(null,t),hs:sG.bind(null,t),bo:sQ.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi(async e=>{await sV(this.xu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}Du(e){let t=aC();if(!ac.v(t))throw new j(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let n=oW(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ac(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class s2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>sT(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sM.bind(null,this.syncEngine),await a6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new so}createDatastore(e){var t;let n=ax(e.databaseInfo.databaseId),r=new aE(e.databaseInfo);return t=e.authCredentials,new aO(t,e.appCheckCredentials,r,n)}createRemoteStore(e){var t,n;return t=this.localStore,n=this.datastore,new aL(t,n,e.asyncQueue,e=>sT(this.syncEngine,e,0),af.v()?new af:new ad)}createSyncEngine(e,t){var n,r,i,o,a,s;let l;return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=e.initialUser,s=e.maxConcurrentLimboResolutions,l=new sy(n,r,i,o,a,s),t&&(l.gu=!0),l}async terminate(){await async function(e){D(aF,"RemoteStore shutting down."),e.Ea.add(5),await aP(e),e.Aa.shutdown(),e.Va.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}s2.provider={build:()=>new s2};class s4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):O("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}let s3="FirestoreClient";class s5{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=I.UNAUTHENTICATED,this.clientId=$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{D(s3,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(D(s3,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Z;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=se(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function s6(e,t){e.asyncQueue.verifyOperationInProgress(),D(s3,"Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await o0(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function s8(e,t){e.asyncQueue.verifyOperationInProgress();let n=await s9(e);D(s3,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>a5(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>a5(t.remoteStore,n)),e._onlineComponents=t}async function s9(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){D(s3,"Using user provided OfflineComponentProvider");try{await s6(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;R("Error using user provided cache. Falling back to memory cache: "+t),await s6(e,new sJ)}}else D(s3,"Using default OfflineComponentProvider"),await s6(e,new sX(void 0));return e._offlineComponents}async function s7(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(D(s3,"Using user provided OnlineComponentProvider"),await s8(e,e._uninitializedComponentsProvider._online)):(D(s3,"Using default OnlineComponentProvider"),await s8(e,new s2))),e._onlineComponents}async function le(e){let t=await s7(e),n=t.eventManager;return n.onListen=sb.bind(null,t.syncEngine),n.onUnlisten=sC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sB.bind(null,t.syncEngine),n}function lt(e,t,n={}){let r=new Z;return e.asyncQueue.enqueueAndForget(async()=>{var i,o;let a,s;return i=await le(e),o=e.asyncQueue,s=new sd(t,a=new s4({next:e=>{a.Nu(),o.enqueueAndForget(()=>sl(i,s)),e.fromCache&&"server"===n.source?r.reject(new j(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(e)},error:e=>r.reject(e)}),{includeMetadataChanges:!0,Ka:!0}),ss(i,s)}),r.promise}function ln(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let lr=new Map,li="firestore.googleapis.com";class lo{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new j(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=li,this.ssl=!0}else this.host=e.host,this.ssl=e.ssl??!0;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new j(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new j(M.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ln(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class la{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new j(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new H;switch(e.type){case"firstParty":return new G(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new j(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){let e;return(e=lr.get(this))&&(D("ComponentProvider","Removing Datastore"),lr.delete(this),e.terminate()),Promise.resolve()}}function ls(e,t,n,r={}){e=ed(e,la);let i=(0,y.Xx)(t),o=e._getSettings(),a={...o,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&((0,y.Uo)(`https://${s}`),(0,y.dp)("Firestore",!0)),o.host!==li&&o.host!==s&&R("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l={...o,host:s,ssl:i,emulatorOptions:r};if(!(0,y.vZ)(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=I.MOCK_USER;else{t=(0,y.Sg)(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new j(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new I(i)}e._authCredentials=new V(new Q(t,n))}}class ll{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ll(this.firestore,e,this._query)}}class lu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lu(this.firestore,e,this._key)}toJSON(){return{type:lu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ef(t,lu._jsonSchema))return new lu(e,n||null,new ea(er.fromString(t.referencePath)))}}lu._jsonSchemaVersion="firestore/documentReference/1.0",lu._jsonSchema={type:eh("string",lu._jsonSchemaVersion),referencePath:eh("string")};class lc extends ll{constructor(e,t,n){super(e,t,n5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lu(this.firestore,null,new ea(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function lA(e,t,...n){if(e=(0,y.m9)(e),es("collection","path",t),e instanceof la){let r=er.fromString(t,...n);return eu(r),new lc(e,null,r)}{if(!(e instanceof lu||e instanceof lc))throw new j(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(er.fromString(t,...n));return eu(r),new lc(e.firestore,null,r)}}function ld(e,t,...n){if(e=(0,y.m9)(e),1==arguments.length&&(t=$.newId()),es("doc","path",t),e instanceof la){let r=er.fromString(t,...n);return el(r),new lu(e,null,new ea(r))}{if(!(e instanceof lu||e instanceof lc))throw new j(M.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(er.fromString(t,...n));return el(r),new lu(e.firestore,e instanceof lc?e.converter:null,new ea(r))}}let lh="AsyncQueue";class lf{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aI(this,"async_queue_retry"),this._c=()=>{let e=aB();e&&D(lh,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=aB();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=aB();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Z;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!eL(e))throw e;D(lh,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,O("INTERNAL UNHANDLED ERROR: ",lp(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=a7.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&L(47125,{Pc:lp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{for(let t of(this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.tc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}}function lp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class lg extends la{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new lf,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new lf(e),this._firestoreClient=void 0,await e}}}function lm(e,t,n){n||(n=nt);let r=(0,m.qX)(e,"firestore");if(r.isInitialized(n)){let e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,y.vZ)(i,t))return e;throw new j(M.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new j(M.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new j(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&(0,y.Xx)(t.host)&&(0,y.Uo)(t.host),r.initialize({options:t,instanceIdentifier:n})}function lv(e,t){let n="object"==typeof e?e:(0,m.Mq)(),r="string"==typeof e?e:t||nt,i=(0,m.qX)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let e=(0,y.P0)("firestore");e&&ls(i,...e)}return i}function ly(e){if(e._terminated)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r,i,o;let a,s=e._freezeSettings(),l=(t=e._databaseId,n=e._app?.options.appId||"",r=e._persistenceKey,i=e._app?.options.apiKey,new ne(t,n,r,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,ln(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i));e._componentsProvider||s.localCache?._offlineComponentProvider&&s.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new s5(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&(o=e._componentsProvider,a=o?._online.build(),{_offline:o?._offline.build(a),_online:a}))}(e),e._firestoreClient}class lb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lb(tJ.fromBase64String(e))}catch(e){throw new j(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new lb(tJ.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lb._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ef(e,lb._jsonSchema))return lb.fromBase64String(e.bytes)}}lb._jsonSchemaVersion="firestore/bytes/1.0",lb._jsonSchema={type:eh("string",lb._jsonSchemaVersion),bytes:eh("string")};class lw{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new j(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class l_{constructor(e){this._methodName=e}}class lE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lE._jsonSchemaVersion}}static fromJSON(e){if(ef(e,lE._jsonSchema))return new lE(e.latitude,e.longitude)}}lE._jsonSchemaVersion="firestore/geoPoint/1.0",lE._jsonSchema={type:eh("string",lE._jsonSchemaVersion),latitude:eh("number"),longitude:eh("number")};class lC{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:lC._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ef(e,lC._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new lC(e.vectorValues);throw new j(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lC._jsonSchemaVersion="firestore/vectorValue/1.0",lC._jsonSchema={type:eh("string",lC._jsonSchemaVersion),vectorValues:eh("object")};let lB=/^__.*__$/;class lx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rM(e,this.data,this.fieldMask,t,this.fieldTransforms):new rP(e,this.data,t,this.fieldTransforms)}}class lI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rM(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L(40011,{dataSource:e})}}class lS{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return lV(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(lT(this.dataSource)&&lB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class lk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ax(e)}createContext(e,t,n,r=!1){return new lS({dataSource:e,methodName:t,targetDoc:n,path:eo.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lN(e){let t=e._freezeSettings(),n=ax(e._databaseId);return new lk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lD(e,t,n,r,i,o={}){let a,s,l=e.createContext(o.merge||o.mergeFields?2:0,t,n,i);lj("Data must be an object, but it was:",l,r);let u=lP(r,l);if(o.merge)a=new t$(l.fieldMask),s=l.fieldTransforms;else if(o.mergeFields){let e=[];for(let r of o.mergeFields){let i=lZ(t,r,n);if(!l.contains(i))throw new j(M.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);lK(e,i)||e.push(i)}a=new t$(e),s=l.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,s=l.fieldTransforms;return new lx(new nT(u),a,s)}class lO extends l_{_toFieldTransform(e){if(2!==e.dataSource)throw 1===e.dataSource?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lO}}class lR extends l_{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){let t=new lS({dataSource:3,targetDoc:e.settings.targetDoc,methodName:this._methodName,arrayElement:!0},e.databaseId,e.serializer,e.ignoreUndefinedProperties),n=new rE(this.Ac.map(e=>lU(e,t)));return new rk(e.path,n)}isEqual(e){return e instanceof lR&&(0,y.vZ)(this.Ac,e.Ac)}}function lF(e,t,n,r){let i=e.createContext(1,t,n);lj("Data must be an object, but it was:",i,r);let o=[],a=nT.empty();return tQ(r,(e,r)=>{let s=lH(t,e,n);r=(0,y.m9)(r);let l=i.childContextForFieldPath(s);if(r instanceof lO)o.push(s);else{let e=lU(r,l);null!=e&&(o.push(s),a.set(s,e))}}),new lI(a,new t$(o),i.fieldTransforms)}function lL(e,t,n,r,i,o){let a=e.createContext(1,t,n),s=[lZ(t,r,n)],l=[i];if(o.length%2!=0)throw new j(M.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)s.push(lZ(t,o[e])),l.push(o[e+1]);let u=[],c=nT.empty();for(let e=s.length-1;e>=0;--e)if(!lK(u,s[e])){let t=s[e],n=l[e];n=(0,y.m9)(n);let r=a.childContextForFieldPath(t);if(n instanceof lO)u.push(t);else{let e=lU(n,r);null!=e&&(u.push(t),c.set(t,e))}}return new lI(c,new t$(u),a.fieldTransforms)}function lU(e,t){if(lM(e=(0,y.m9)(e)))return lj("Unsupported field value:",t,e),lP(e,t);if(e instanceof l_)return function(e,t){if(!lT(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");let n=[],r=0;for(let i of e){let e=lU(i,t.childContextForArray(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}return function(e,t){var n,r,i;if(null===(e=(0,y.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return n=t.serializer,ez(r=e)?ry(r):rv(n,r);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=ep.fromDate(e);return{timestampValue:ia(t.serializer,n)}}if(e instanceof ep){let n=new ep(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ia(t.serializer,n)}}if(e instanceof lE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lb)return{bytesValue:is(t.serializer,e._byteString)};if(e instanceof lu){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:iu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof lC)return{mapValue:{fields:{[nr]:{stringValue:na},[ns]:{arrayValue:{values:((i=e)instanceof lC?i.toArray():i).map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return rv(t.serializer,e)})}}}}};if(iT(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${eA(e)}`)}(e,t)}function lP(e,t){let n={};return tH(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tQ(e,(e,r)=>{let i=lU(r,t.childContextForField(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function lM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ep||e instanceof lE||e instanceof lb||e instanceof lu||e instanceof l_||e instanceof lC||iT(e))}function lj(e,t,n){if(!lM(n)||!ec(n)){let r=eA(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function lZ(e,t,n){if((t=(0,y.m9)(t))instanceof lw)return t._internalPath;if("string"==typeof t)return lH(e,t);throw lV("Field path arguments must be of type string or ",e,!1,void 0,n)}let lQ=RegExp("[~\\*/\\[\\]]");function lH(e,t,n){if(t.search(lQ)>=0)throw lV(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new lw(...t.split("."))._internalPath}catch(r){throw lV(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function lV(e,t,n,r,i){let o=r&&!r.isEmpty(),a=void 0!==i,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new j(M.INVALID_ARGUMENT,s+e+l)}function lK(e,t){return e.some(e=>e.isEqual(t))}class lz{convertValue(e,t="none"){switch(nu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return t1(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(t2(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw L(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return tQ(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){return new lC(e.fields?.[ns].arrayValue?.values?.map(e=>t1(e.doubleValue)))}convertGeoPoint(e){return new lE(t1(e.latitude),t1(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=t9(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(t7(e));default:return null}}convertTimestamp(e){let t=t0(e);return new ep(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=er.fromString(e);P(iI(n),9688,{name:e});let r=new nn(n.get(1),n.get(3)),i=new ea(n.popFirst(5));return r.isEqual(t)||O(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class lG extends lz{constructor(e){super(),this.firestore=e}convertBytes(e){return new lb(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new lu(this.firestore,null,t)}}function lW(...e){return new lR("arrayUnion",e)}let lq="@firebase/firestore",l$="4.10.0";function lY(e){if("object"!=typeof e||null===e)return!1;for(let t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}class lJ{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new lX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(lZ("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lX extends lJ{data(){return super.data()}}function l0(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new j(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l1{}class l2 extends l1{}function l4(e,t,...n){let r=[];for(let i of(t instanceof l1&&r.push(t),function(e){let t=e.filter(e=>e instanceof l6).length,n=e.filter(e=>e instanceof l3).length;if(t>1||t>0&&n>0)throw new j(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r=r.concat(n)),r))e=i._apply(e);return e}class l3 extends l2{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new l3(e,t,n)}_apply(e){let t=this._parse(e);return ur(e._query,t),new ll(e.firestore,e.converter,re(e._query,t))}_parse(e){let t=lN(e.firestore);return function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new j(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){un(a,o);let t=[];for(let n of a)t.push(ut(r,e,n));s={arrayValue:{values:t}}}else s=ut(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||un(a,o),s=function(e,t,n,r=!1){return lU(n,e.createContext(r?4:3,t))}(n,t,a,"in"===o||"not-in"===o);return nF.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function l5(e,t,n){let r=lZ("where",e);return l3._create(r,t,n)}class l6 extends l1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new l6(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:nL.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;for(let e of t.getFlattenedFilters())ur(n,e),n=re(n,e)}(e._query,t),new ll(e.firestore,e.converter,re(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class l8 extends l2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new l8(e,t)}_apply(e){var t;let n,r=function(e,t,n){if(null!==e.startAt)throw new j(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new j(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nO(t,n)}(e._query,this._field,this._direction);return new ll(e.firestore,e.converter,(t=e._query,n=t.explicitOrderBy.concat([r]),new n3(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}function l9(e,t="asc"){let n=lZ("orderBy",e);return l8._create(n,t)}class l7 extends l2{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new l7(e,t,n)}_apply(e){return new ll(e.firestore,e.converter,rt(e._query,this._limit,this._limitType))}}function ue(e){return function(e,t){if(t<=0)throw new j(M.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limit",e),l7._create("limit",e,"F")}function ut(e,t,n){if("string"==typeof(n=(0,y.m9)(n))){if(""===n)throw new j(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n8(t)&&-1!==n.indexOf("/"))throw new j(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(er.fromString(n));if(!ea.isDocumentKey(r))throw new j(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ng(e,new ea(r))}if(n instanceof lu)return ng(e,n._key);throw new j(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eA(n)}.`)}function un(e,t){if(!Array.isArray(e)||0===e.length)throw new j(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ur(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new j(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new j(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function ui(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}class uo{constructor(e){this.kind="memory",this._onlineComponentProvider=s2.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new sX(void 0)}}toJSON(){return{kind:this.kind}}}class ua{constructor(e){var t;let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(t=void 0,n=new uu(t?.forceOwnership))._initialize(e),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function us(e){return new uo(e)}function ul(e){return new ua(e)}class uu{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=s2.provider,this._offlineComponentProvider={build:t=>new s0(t,e?.cacheSizeBytes,this.forceOwnership)}}}class uc{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=s2.provider,this._offlineComponentProvider={build:t=>new s1(t,e?.cacheSizeBytes)}}}function uA(){return new uc}class ud{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uh extends lJ{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(lZ("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=uh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()&&(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),this._firestore,this.ref.path,t.bundle="NOT SUPPORTED"),t}}uh._jsonSchemaVersion="firestore/documentSnapshot/1.0",uh._jsonSchema={type:eh("string",uh._jsonSchemaVersion),bundleSource:eh("string","DocumentSnapshot"),bundleName:eh("string"),bundle:eh("string")};class uf extends uh{data(e={}){return super.data(e)}}class up{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ud(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new uf(this._firestore,this._userDataWriter,n.key,n,new ud(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new uf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ud(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new uf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ud(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(o=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L(61501,{type:e})}}(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=up._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),this._firestore,this.query._query,e.bundleName,e.bundle="NOT SUPPORTED",e}}up._jsonSchemaVersion="firestore/querySnapshot/1.0",up._jsonSchema={type:eh("string",up._jsonSchemaVersion),bundleSource:eh("string","QuerySnapshot"),bundleName:eh("string"),bundle:eh("string")};class ug{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lN(e)}set(e,t,n){this._verifyNotCommitted();let r=um(e,this._firestore),i=ui(r.converter,t,n),o=lD(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,rD.none())),this}update(e,t,n,...r){let i;this._verifyNotCommitted();let o=um(e,this._firestore);return i="string"==typeof(t=(0,y.m9)(t))||t instanceof lw?lL(this._dataReader,"WriteBatch.update",o._key,t,n,r):lF(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(i.toMutation(o._key,rD.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=um(e,this._firestore);return this._mutations=this._mutations.concat(new rH(t._key,rD.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new j(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function um(e,t){if((e=(0,y.m9)(e)).firestore!==t)throw new j(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function uv(e){e=ed(e,lu);let t=ed(e.firestore,lg);return(function(e,t,n={}){let r=new Z;return e.asyncQueue.enqueueAndForget(async()=>{var i,o;let a,s;return i=await le(e),o=e.asyncQueue,a=new s4({next:e=>{a.Nu(),o.enqueueAndForget(()=>sl(i,s));let l=e.docs.has(t);!l&&e.fromCache?r.reject(new j(M.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&e.fromCache&&n&&"server"===n.source?r.reject(new j(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(e)},error:e=>r.reject(e)}),ss(i,s=new sd(n5(t.path),a,{includeMetadataChanges:!0,Ka:!0}))}),r.promise})(ly(t),e._key).then(n=>uI(t,e,n))}function uy(e){var t;let n;e=ed(e,lu);let r=ed(e.firestore,lg),i=ly(r),o=new lG(r);return(t=e._key,n=new Z,i.asyncQueue.enqueueAndForget(async()=>(async function(e,t,n){try{let r=await e.persistence.runTransaction("read document","readonly",n=>e.localDocuments.getDocument(n,t));r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new j(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){let e=se(r,`Failed to get document '${t} from cache`);n.reject(e)}})(await s9(i).then(e=>e.localStore),t,n)),n.promise).then(t=>new uh(r,o,e._key,t,new ud(null!==t&&t.hasLocalMutations,!0),e.converter))}function ub(e){e=ed(e,ll);let t=ed(e.firestore,lg),n=ly(t),r=new lG(t);return l0(e._query),lt(n,e._query).then(n=>new up(t,r,e,n))}function uw(e){e=ed(e,ll);let t=ed(e.firestore,lg),n=ly(t),r=new lG(t);return lt(n,e._query,{source:"server"}).then(n=>new up(t,r,e,n))}function u_(e,t,n){e=ed(e,lu);let r=ed(e.firestore,lg),i=ui(e.converter,t,n),o=lN(r);return ux(r,[lD(o,"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rD.none())])}function uE(e,t,n,...r){e=ed(e,lu);let i=ed(e.firestore,lg),o=lN(i);return ux(i,[("string"==typeof(t=(0,y.m9)(t))||t instanceof lw?lL(o,"updateDoc",e._key,t,n,r):lF(o,"updateDoc",e._key,t)).toMutation(e._key,rD.exists(!0))])}function uC(e){return ux(ed(e.firestore,lg),[new rH(e._key,rD.none())])}function uB(e,...t){var n;let r,i,o,a,s;e=(0,y.m9)(e);let l={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof t[0]||lY(t[u])||(l=t[u++]);let c={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(lY(t[u])){let e=t[u];t[u]=e.next?.bind(e),t[u+1]=e.error?.bind(e),t[u+2]=e.complete?.bind(e)}if(e instanceof lu)i=ed(e.firestore,lg),o=n5(e._key.path),r={next:n=>{t[u]&&t[u](uI(i,e,n))},error:t[u+1],complete:t[u+2]};else{let n=ed(e,ll);i=ed(n.firestore,lg),o=n._query;let a=new lG(i);r={next:e=>{t[u]&&t[u](new up(i,a,n,e))},error:t[u+1],complete:t[u+2]},l0(e._query)}return n=ly(i),s=new sd(o,a=new s4(r),c),n.asyncQueue.enqueueAndForget(async()=>ss(await le(n),s)),()=>{a.Nu(),n.asyncQueue.enqueueAndForget(async()=>sl(await le(n),s))}}function ux(e,t){var n;let r;return n=ly(e),r=new Z,n.asyncQueue.enqueueAndForget(async()=>sx(await s7(n).then(e=>e.syncEngine),t,r)),r.promise}function uI(e,t,n){let r=n.docs.get(t._key),i=new lG(e);return new uh(e,i,t._key,r,new ud(n.hasPendingWrites,n.fromCache),t.converter)}function uT(e){return ly(e=ed(e,lg)),new ug(e,t=>ux(e,t))}new WeakMap,function(e=!0){T=m.Jn,(0,m.Xd)(new v.wA("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),o=new lg(new K(t.getProvider("auth-internal")),new q(i,t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new j(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nn(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:e,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),(0,m.KN)(lq,l$,void 0),(0,m.KN)(lq,l$,"esm2020")}()},89325:function(e,t,n){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===c(e)}n.d(t,{Z:function(){return j}});let i=1/0;function o(e){return"string"==typeof e}function a(e){return"number"==typeof e}function s(e){return"object"==typeof e}function l(e){return null!=e}function u(e){return!e.trim().length}function c(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let A=Object.prototype.hasOwnProperty;class d{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=h(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function h(e){let t=null,n=null,i=null,a=1,s=null;if(o(e)||r(e))i=e,t=f(e),n=p(e);else{if(!A.call(e,"name"))throw Error("Missing name property in key");let r=e.name;if(i=r,A.call(e,"weight")&&(a=e.weight)<=0)throw Error(`Property 'weight' in key '${r}' must be a positive integer`);t=f(r),n=p(r),s=e.getFn}return{path:t,id:n,weight:a,src:i,getFn:s}}function f(e){return r(e)?e:e.split(".")}function p(e){return r(e)?e.join("."):e}var g={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],u=!1,A=(e,t,d)=>{if(l(e))if(t[d]){var h,f;let p=e[t[d]];if(!l(p))return;if(d===t.length-1&&(o(p)||a(p)||!0===(h=p)||!1===h||s(f=h)&&null!==f&&"[object Boolean]"==c(h)))n.push(null==p?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-i?"-0":t}(p));else if(r(p)){u=!0;for(let e=0,n=p.length;e<n;e+=1)A(p[e],t,d+1)}else t.length&&A(p,t,d+1)}else n.push(e)};return A(e,o(t)?t.split("."):t,0),u?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};let m=/[^ ]+/g;class v{constructor({getFn:e=g.getFn,fieldNormWeight:t=g.fieldNormWeight}={}){this.norm=function(e=1,t=3){let n=new Map,r=Math.pow(10,t);return{get(t){let i=t.match(m).length;if(n.has(i))return n.get(i);let o=parseFloat(Math.round(1/Math.pow(i,.5*e)*r)/r);return n.set(i,o),o},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,o(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();o(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!l(e)||u(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,i)=>{let a=t.getFn?t.getFn(e):this.getFn(e,t.path);if(l(a)){if(r(a)){let e=[],t=[{nestedArrIndex:-1,value:a}];for(;t.length;){let{nestedArrIndex:n,value:i}=t.pop();if(l(i))if(o(i)&&!u(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else r(i)&&i.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}n.$[i]=e}else if(o(a)&&!u(a)){let e={v:a,n:this.norm.get(a)};n.$[i]=e}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function y(e,t,{getFn:n=g.getFn,fieldNormWeight:r=g.fieldNormWeight}={}){let i=new v({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(h)),i.setSources(t),i.create(),i}function b(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=g.distance,ignoreLocation:o=g.ignoreLocation}={}){let a=t/e.length;if(o)return a;let s=Math.abs(r-n);return i?a+s/i:s?1:a}let w=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class _{constructor(e,{location:t=g.location,threshold:n=g.threshold,distance:r=g.distance,includeMatches:i=g.includeMatches,findAllMatches:o=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,isCaseSensitive:s=g.isCaseSensitive,ignoreDiacritics:l=g.ignoreDiacritics,ignoreLocation:u=g.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreDiacritics:l,ignoreLocation:u},e=s?e:e.toLowerCase(),e=l?w(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:function(e){let t={};for(let n=0,r=e.length;n<r;n+=1){let i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}(e),startIndex:t})},A=this.pattern.length;if(A>32){let e=0;const t=A%32,n=A-t;for(;e<n;)c(this.pattern.substr(e,32),e),e+=32;if(t){const e=A-32;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r}=this.options;if(e=t?e:e.toLowerCase(),e=n?w(e):e,this.pattern===e){let t={isMatch:!0,score:0};return r&&(t.indices=[[0,e.length-1]]),t}let{location:i,distance:o,threshold:a,findAllMatches:s,minMatchCharLength:l,ignoreLocation:u}=this.options,c=[],A=0,d=!1;this.chunks.forEach(({pattern:t,alphabet:n,startIndex:h})=>{let{isMatch:f,score:p,indices:m}=function(e,t,n,{location:r=g.location,distance:i=g.distance,threshold:o=g.threshold,findAllMatches:a=g.findAllMatches,minMatchCharLength:s=g.minMatchCharLength,includeMatches:l=g.includeMatches,ignoreLocation:u=g.ignoreLocation}={}){let c;if(t.length>32)throw Error("Pattern length exceeds max of 32.");let A=t.length,d=e.length,h=Math.max(0,Math.min(r,d)),f=o,p=h,m=s>1||l,v=m?Array(d):[];for(;(c=e.indexOf(t,p))>-1;)if(f=Math.min(b(t,{currentLocation:c,expectedLocation:h,distance:i,ignoreLocation:u}),f),p=c+A,m){let e=0;for(;e<A;)v[c+e]=1,e+=1}p=-1;let y=[],w=1,_=A+d,E=1<<A-1;for(let r=0;r<A;r+=1){let o=0,s=_;for(;o<s;)b(t,{errors:r,currentLocation:h+s,expectedLocation:h,distance:i,ignoreLocation:u})<=f?o=s:_=s,s=Math.floor((_-o)/2+o);_=s;let l=Math.max(1,h-s+1),c=a?d:Math.min(h+s,d)+A,g=Array(c+2);g[c+1]=(1<<r)-1;for(let o=c;o>=l;o-=1){let a=o-1,s=n[e.charAt(a)];if(m&&(v[a]=+!!s),g[o]=(g[o+1]<<1|1)&s,r&&(g[o]|=(y[o+1]|y[o])<<1|1|y[o+1]),g[o]&E&&(w=b(t,{errors:r,currentLocation:a,expectedLocation:h,distance:i,ignoreLocation:u}))<=f){if(f=w,(p=a)<=h)break;l=Math.max(1,2*h-p)}}if(b(t,{errors:r+1,currentLocation:h,expectedLocation:h,distance:i,ignoreLocation:u})>f)break;y=g}let C={isMatch:p>=0,score:Math.max(.001,w)};if(m){let e=function(e=[],t=g.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let a=e[o];a&&-1===r?r=o:a||-1===r||((i=o-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(v,s);e.length?l&&(C.indices=e):C.isMatch=!1}return C}(e,t,n,{location:i+h,distance:o,threshold:a,findAllMatches:s,minMatchCharLength:l,includeMatches:r,ignoreLocation:u});f&&(d=!0),A+=p,f&&m&&(c=[...c,...m])});let h={isMatch:d,score:d?A/this.chunks.length:1};return d&&r&&(h.indices=c),h}}class E{constructor(e){this.pattern=e}static isMultiMatch(e){return C(e,this.multiRegex)}static isSingleMatch(e){return C(e,this.singleRegex)}search(){}}function C(e,t){let n=e.match(t);return n?n[1]:null}class B extends E{constructor(e,{location:t=g.location,threshold:n=g.threshold,distance:r=g.distance,includeMatches:i=g.includeMatches,findAllMatches:o=g.findAllMatches,minMatchCharLength:a=g.minMatchCharLength,isCaseSensitive:s=g.isCaseSensitive,ignoreDiacritics:l=g.ignoreDiacritics,ignoreLocation:u=g.ignoreLocation}={}){super(e),this._bitapSearch=new _(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreDiacritics:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class x extends E{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0,r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);let o=!!r.length;return{isMatch:o,score:+!o,indices:r}}}let I=[class extends E{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:+!t,indices:[0,this.pattern.length-1]}}},x,class extends E{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:+!t,indices:[0,this.pattern.length-1]}}},class extends E{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:+!t,indices:[0,e.length-1]}}},class extends E{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:+!t,indices:[0,e.length-1]}}},class extends E{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:+!t,indices:[e.length-this.pattern.length,e.length-1]}}},class extends E{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let t=-1===e.indexOf(this.pattern);return{isMatch:t,score:+!t,indices:[0,e.length-1]}}},B],T=I.length,S=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,k=new Set([B.type,x.type]),N=[];function D(e,t){for(let n=0,r=N.length;n<r;n+=1){let r=N[n];if(r.condition(e,t))return new r(e,t)}return new _(e,t)}let O="$and",R="$path",F=e=>!!(e[O]||e.$or),L=e=>({[O]:Object.keys(e).map(t=>({[t]:e[t]}))});function U(e,t,{auto:n=!0}={}){let i=e=>{let a=Object.keys(e),l=!!e[R];if(!l&&a.length>1&&!F(e))return i(L(e));if(!r(e)&&s(e)&&!F(e)){let r=l?e[R]:a[0],i=l?e.$val:e[r];if(!o(i))throw Error(`Invalid value for key ${r}`);let s={keyId:p(r),pattern:i};return n&&(s.searcher=D(i,t)),s}let u={children:[],operator:a[0]};return a.forEach(t=>{let n=e[t];r(n)&&n.forEach(e=>{u.children.push(i(e))})}),u};return F(e)||(e=L(e)),i(e)}function P(e,t){let n=e.matches;t.matches=[],l(n)&&n.forEach(e=>{if(!l(e.indices)||!e.indices.length)return;let{indices:n,value:r}=e,i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)})}function M(e,t){t.score=e.score}class j{constructor(e,t={},n){this.options={...g,...t},this.options.useExtendedSearch,this._keyStore=new d(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof v))throw Error("Incorrect 'index' type");this._myIndex=t||y(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){l(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let n=0,r=this._docs.length;n<r;n+=1){let i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:n,includeScore:r,shouldSort:i,sortFn:s,ignoreFieldNorm:l}=this.options,u=o(e)?o(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return!function(e,{ignoreFieldNorm:t=g.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:i})=>{let o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))}),e.score=n})}(u,{ignoreFieldNorm:l}),i&&u.sort(s),a(t)&&t>-1&&(u=u.slice(0,t)),function(e,t,{includeMatches:n=g.includeMatches,includeScore:r=g.includeScore}={}){let i=[];return n&&i.push(P),r&&i.push(M),e.map(e=>{let{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach(t=>{t(e,r)}),r})}(u,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){let t=D(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:i})=>{if(!l(e))return;let{isMatch:o,score:a,indices:s}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:i,indices:s}]})}),r}_searchLogical(e){let t=U(e,this.options),n=(e,t,r)=>{if(!e.children){let{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}let i=[];for(let o=0,a=e.children.length;o<a;o+=1){let a=n(e.children[o],t,r);if(a.length)i.push(...a);else if(e.operator===O)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach(({$:e,i:r})=>{if(l(e)){let a=n(t,e,r);a.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),a.forEach(({matches:e})=>{i[r].matches.push(...e)}))}}),o}_searchObjectList(e){let t=D(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach(({$:e,i:r})=>{if(!l(e))return;let o=[];n.forEach((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),o.length&&i.push({idx:r,item:e,matches:o})}),i}_findMatches({key:e,value:t,searcher:n}){if(!l(t))return[];let i=[];if(r(t))t.forEach(({v:t,i:r,n:o})=>{if(!l(t))return;let{isMatch:a,score:s,indices:u}=n.searchIn(t);a&&i.push({score:s,key:e,value:t,idx:r,norm:o,indices:u})});else{let{v:r,n:o}=t,{isMatch:a,score:s,indices:l}=n.searchIn(r);a&&i.push({score:s,key:e,value:r,norm:o,indices:l})}return i}}j.version="7.1.0",j.createIndex=y,j.parseIndex=function(e,{getFn:t=g.getFn,fieldNormWeight:n=g.fieldNormWeight}={}){let{keys:r,records:i}=e,o=new v({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},j.config=g,j.parseQuery=U,function(...e){N.push(...e)}(class{constructor(e,{isCaseSensitive:t=g.isCaseSensitive,ignoreDiacritics:n=g.ignoreDiacritics,includeMatches:r=g.includeMatches,minMatchCharLength:i=g.minMatchCharLength,ignoreLocation:o=g.ignoreLocation,findAllMatches:a=g.findAllMatches,location:s=g.location,threshold:l=g.threshold,distance:u=g.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:r,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:s,threshold:l,distance:u},e=t?e:e.toLowerCase(),e=n?w(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map(e=>{let n=e.trim().split(S).filter(e=>e&&!!e.trim()),r=[];for(let e=0,i=n.length;e<i;e+=1){let i=n[e],o=!1,a=-1;for(;!o&&++a<T;){let e=I[a],n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),o=!0)}if(!o)for(a=-1;++a<T;){let e=I[a],n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?w(e):e;let o=0,a=[],s=0;for(let r=0,i=t.length;r<i;r+=1){let i=t[r];a.length=0,o=0;for(let t=0,r=i.length;t<r;t+=1){let r=i[t],{isMatch:l,indices:u,score:c}=r.search(e);if(l){if(o+=1,s+=c,n){let e=r.constructor.type;k.has(e)?a=[...a,...u]:a.push(u)}}else{s=0,o=0,a.length=0;break}}if(o){let e={isMatch:!0,score:s/o};return n&&(e.indices=a),e}}return{isMatch:!1,score:1}}})},66439:function(e,t,n){"use strict";function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t,n;return!1!==r(e)&&(void 0===(t=e.constructor)||!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}n.d(t,{P:function(){return i}})},187:function(e,t,n){"use strict";t.Z=n(93221).Z.Symbol},98147:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(187),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.Z?r.Z.toStringTag:void 0,l=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i},u=Object.prototype.toString,c=r.Z?r.Z.toStringTag:void 0,A=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?l(e):u.call(e)}},92168:function(e,t){"use strict";t.Z="object"==typeof global&&global&&global.Object===Object&&global},93221:function(e,t,n){"use strict";var r=n(92168),i="object"==typeof self&&self&&self.Object===Object&&self;t.Z=r.Z||i||Function("return this")()},93122:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43391:function(e,t){"use strict";t.Z=function(e){return null!=e&&"object"==typeof e}},22758:function(e,t,n){"use strict";var r=n(98147),i=n(43391);t.Z=function(e){return"symbol"==typeof e||(0,i.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}},62875:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=/\s/,i=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t},o=/^\s+/,a=n(93122),s=n(22758),l=0/0,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,A=/^0o[0-7]+$/i,d=parseInt,h=function(e){if("number"==typeof e)return e;if((0,s.Z)(e))return l;if((0,a.Z)(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=(0,a.Z)(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,i(t)+1).replace(o,""):t;var r=c.test(e);return r||A.test(e)?d(e.slice(2),r?2:8):u.test(e)?l:+e}},37164:function(e,t,n){"use strict";n.d(t,{kP:function(){return i},x0:function(){return o}});let r=e=>crypto.getRandomValues(new Uint8Array(e)),i=(e,t=21)=>{var n;let i,o;return n=t,o=-~(1.6*(i=(2<<Math.log(e.length-1)/Math.LN2)-1)*n/e.length),(t=n)=>{let a="";for(;;){let n=r(o),s=0|o;for(;s--;)if((a+=e[n[s]&i]||"").length===t)return a}}},o=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")},63955:function(e,t,n){"use strict";n.d(t,{Qr:function(){return D},cI:function(){return el},cl:function(){return k}});var r=n(2784),i=e=>e instanceof Date,o=e=>null==e,a=e=>!o(e)&&!Array.isArray(e)&&"object"==typeof e&&!i(e),s=e=>a(e)&&e.target?"checkbox"===e.target.type?e.target.checked:e.target.value:e,l=(e,t)=>e.has(t.substring(0,t.search(/\.\d+(\.|$)/))||t),u="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function c(e){let t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{let r;if(!(!(u&&(e instanceof Blob||e instanceof FileList))&&(n||a(e))))return e;if(t=n?[]:{},n||a(r=e.constructor&&e.constructor.prototype)&&r.hasOwnProperty("isPrototypeOf"))for(let n in e)e.hasOwnProperty(n)&&(t[n]=c(e[n]));else t=e}return t}var A=e=>Array.isArray(e)?e.filter(Boolean):[],d=e=>void 0===e,h=(e,t,n)=>{if(!t||!a(e))return n;let r=A(t.split(/[,[\].]+?/)).reduce((e,t)=>o(e)?e:e[t],e);return d(r)||r===e?d(e[t])?n:e[t]:r},f=e=>A(e.replace(/["|']|\]/g,"").split(/\.|\[/)),p=(e,t,n)=>{let r=-1,i=/^\w*$/.test(t)?[t]:f(t),o=i.length,s=o-1;for(;++r<o;){let t=i[r],o=n;if(r!==s){let n=e[t];o=a(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t)return;e[t]=o,e=e[t]}return e};let g="blur",m="onChange",v="onSubmit",y="maxLength",b="minLength",w="pattern",_="required",E=r.createContext(null);var C=(e,t,n,r=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>("all"!==t._proxyFormState[o]&&(t._proxyFormState[o]=!r||"all"),n&&(n[o]=!0),e[o])});return i},B=e=>a(e)&&!Object.keys(e).length,x=(e,t,n,r)=>{n(e);let{name:i,...o}=e;return B(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!r||"all"))},I=e=>Array.isArray(e)?e:[e],T=(e,t,n)=>!e||!t||e===t||I(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e)));function S(e){let t=r.useRef(e);t.current=e,r.useEffect(()=>{let n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function k(e){let t=r.useContext(E),{control:n=t.control,disabled:i,name:o,exact:a}=e||{},[s,l]=r.useState(n._formState),u=r.useRef(!0),c=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=r.useRef(o);return A.current=o,S({disabled:i,next:e=>u.current&&T(A.current,e.name,a)&&x(e,c.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),r.useEffect(()=>(u.current=!0,c.current.isValid&&n._updateValid(!0),()=>{u.current=!1}),[n]),C(s,n,c.current,!1)}var N=(e,t,n,r,i)=>"string"==typeof e?(r&&t.watch.add(e),h(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),h(n,e))):(r&&(t.watchAll=!0),n);let D=e=>e.render(function(e){let t=r.useContext(E),{name:n,disabled:i,control:o=t.control,shouldUnregister:a}=e,u=l(o._names.array,n),A=function(e){let t=r.useContext(E),{control:n=t.control,name:i,defaultValue:o,disabled:a,exact:s}=e||{},l=r.useRef(i);l.current=i,S({disabled:a,subject:n._subjects.values,next:e=>{T(l.current,e.name,s)&&A(c(N(l.current,n._names,e.values||n._formValues,!1,o)))}});let[u,A]=r.useState(n._getWatch(i,o));return r.useEffect(()=>n._removeUnmounted()),u}({control:o,name:n,defaultValue:h(o._formValues,n,h(o._defaultValues,n,e.defaultValue)),exact:!0}),f=k({control:o,name:n}),m=r.useRef(o.register(n,{...e.rules,value:A,..."boolean"==typeof e.disabled?{disabled:e.disabled}:{}}));return r.useEffect(()=>{let e=o._options.shouldUnregister||a,t=(e,t)=>{let n=h(o._fields,e);n&&(n._f.mount=t)};if(t(n,!0),e){let e=c(h(o._options.defaultValues,n));p(o._defaultValues,n,e),d(h(o._formValues,n))&&p(o._formValues,n,e)}return()=>{(u?e&&!o._state.action:e)?o.unregister(n):t(n,!1)}},[n,o,u,a]),r.useEffect(()=>{h(o._fields,n)&&o._updateDisabledField({disabled:i,fields:o._fields,name:n,value:h(o._fields,n)._f.value})},[i,n,o]),{field:{name:n,value:A,..."boolean"==typeof i||f.disabled?{disabled:f.disabled||i}:{},onChange:r.useCallback(e=>m.current.onChange({target:{value:s(e),name:n},type:"change"}),[n]),onBlur:r.useCallback(()=>m.current.onBlur({target:{value:h(o._formValues,n),name:n},type:g}),[n,o]),ref:e=>{let t=h(o._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:f,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!h(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!h(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!h(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!h(f.validatingFields,n)},error:{enumerable:!0,get:()=>h(f.errors,n)}})}}(e));var O=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},R=e=>({isOnSubmit:!e||e===v,isOnBlur:"onBlur"===e,isOnChange:e===m,isOnAll:"all"===e,isOnTouch:"onTouched"===e}),F=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let L=(e,t,n,r)=>{for(let i of n||Object.keys(e)){let n=h(e,i);if(n){let{_f:e,...o}=n;if(e)if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)break;else if(e.ref&&t(e.ref,e.name)&&!r)break;else L(o,t);else a(o)&&L(o,t)}}};var U=(e,t,n)=>{let r=A(h(e,n));return p(r,"root",t[n]),p(e,n,r),e},P=e=>"function"==typeof e,M=e=>{if(!u)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},j=e=>"string"==typeof e;let Z={value:!1,isValid:!1},Q={value:!0,isValid:!0};var H=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!d(e[0].attributes.value)?d(e[0].value)||""===e[0].value?Q:{value:e[0].value,isValid:!0}:Q:Z}return Z};let V={isValid:!1,value:null};var K=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,V):V;function z(e,t,n="validate"){if(j(e)||Array.isArray(e)&&e.every(j)||"boolean"==typeof e&&!e)return{type:n,message:j(e)?e:"",ref:t}}var G=e=>!a(e)||e instanceof RegExp?{value:e,message:""}:e,W=async(e,t,n,r,i)=>{let{ref:s,refs:l,required:u,maxLength:c,minLength:A,min:f,max:p,pattern:g,validate:m,name:v,valueAsNumber:E,mount:C,disabled:x}=e._f,I=h(t,v);if(!C||x)return{};let T=l?l[0]:s,S=e=>{r&&T.reportValidity&&(T.setCustomValidity("boolean"==typeof e?"":e||""),T.reportValidity())},k={},N="radio"===s.type,D="checkbox"===s.type,R=(E||"file"===s.type)&&d(s.value)&&d(I)||M(s)&&""===s.value||""===I||Array.isArray(I)&&!I.length,F=O.bind(null,v,n,k),L=(e,t,n,r=y,i=b)=>{let o=e?t:n;k[v]={type:e?r:i,message:o,ref:s,...F(e?r:i,o)}};if(i?!Array.isArray(I)||!I.length:u&&(!(N||D)&&(R||o(I))||"boolean"==typeof I&&!I||D&&!H(l).isValid||N&&!K(l).isValid)){let{value:e,message:t}=j(u)?{value:!!u,message:u}:G(u);if(e&&(k[v]={type:_,message:t,ref:T,...F(_,t)},!n))return S(t),k}if(!R&&(!o(f)||!o(p))){let e,t,r=G(p),i=G(f);if(o(I)||isNaN(I)){let n=s.valueAsDate||new Date(I),o=e=>new Date(new Date().toDateString()+" "+e),a="time"==s.type,l="week"==s.type;"string"==typeof r.value&&I&&(e=a?o(I)>o(r.value):l?I>r.value:n>new Date(r.value)),"string"==typeof i.value&&I&&(t=a?o(I)<o(i.value):l?I<i.value:n<new Date(i.value))}else{let n=s.valueAsNumber||(I?+I:I);o(r.value)||(e=n>r.value),o(i.value)||(t=n<i.value)}if((e||t)&&(L(!!e,r.message,i.message,"max","min"),!n))return S(k[v].message),k}if((c||A)&&!R&&("string"==typeof I||i&&Array.isArray(I))){let e=G(c),t=G(A),r=!o(e.value)&&I.length>+e.value,i=!o(t.value)&&I.length<+t.value;if((r||i)&&(L(r,e.message,t.message),!n))return S(k[v].message),k}if(g&&!R&&"string"==typeof I){let{value:e,message:t}=G(g);if(e instanceof RegExp&&!I.match(e)&&(k[v]={type:w,message:t,ref:s,...F(w,t)},!n))return S(t),k}if(m){if(P(m)){let e=z(await m(I,t),T);if(e&&(k[v]={...e,...F("validate",e.message)},!n))return S(e.message),k}else if(a(m)){let e={};for(let r in m){if(!B(e)&&!n)break;let i=z(await m[r](I,t),T,r);i&&(e={...i,...F(r,i.message)},S(i.message),n&&(k[v]=e))}if(!B(e)&&(k[v]={ref:T,...e},!n))return k}}return S(!0),k};function q(e,t){let n=Array.isArray(t)?t:/^\w*$/.test(t)?[t]:f(t),r=1===n.length?e:function(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=d(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(a(r)&&B(r)||Array.isArray(r)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!d(e[t]))return!1;return!0}(r))&&q(e,n.slice(0,-1)),e}var $=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},Y=e=>o(e)||"object"!=typeof e;function J(e,t){if(Y(e)||Y(t))return e===t;if(i(e)&&i(t))return e.getTime()===t.getTime();let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o of n){let n=e[o];if(!r.includes(o))return!1;if("ref"!==o){let e=t[o];if(i(n)&&i(e)||a(n)&&a(e)||Array.isArray(n)&&Array.isArray(e)?!J(n,e):n!==e)return!1}}return!0}var X=e=>M(e)&&e.isConnected,ee=e=>{for(let t in e)if(P(e[t]))return!0;return!1};function et(e,t={}){let n=Array.isArray(e);if(a(e)||n)for(let n in e)Array.isArray(e[n])||a(e[n])&&!ee(e[n])?(t[n]=Array.isArray(e[n])?[]:{},et(e[n],t[n])):o(e[n])||(t[n]=!0);return t}var en=(e,t)=>(function e(t,n,r){let i=Array.isArray(t);if(a(t)||i)for(let i in t)Array.isArray(t[i])||a(t[i])&&!ee(t[i])?d(n)||Y(r[i])?r[i]=Array.isArray(t[i])?et(t[i],[]):{...et(t[i])}:e(t[i],o(n)?{}:n[i],r[i]):r[i]=!J(t[i],n[i]);return r})(e,t,et(t)),er=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>d(e)?e:t?""===e?NaN:e?+e:e:n&&"string"==typeof e?new Date(e):r?r(e):e;function ei(e){let t=e.ref;if(e.refs?!e.refs.every(e=>e.disabled):!t.disabled)return"file"===t.type?t.files:"radio"===t.type?K(e.refs).value:"select-multiple"===t.type?[...t.selectedOptions].map(({value:e})=>e):"checkbox"===t.type?H(e.refs).value:er(d(t.value)?e.ref.value:t.value,e)}var eo=e=>d(e)?e:e instanceof RegExp?e.source:a(e)?e.value instanceof RegExp?e.value.source:e.value:e;function ea(e,t,n){let r=h(e,n);if(r||/^\w*$/.test(n))return{error:r,name:n};let i=n.split(".");for(;i.length;){let r=i.join("."),o=h(t,r),a=h(e,r);if(o&&!Array.isArray(o)&&n!==r)break;if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}let es={mode:v,reValidateMode:m,shouldFocusError:!0};function el(e={}){let t=r.useRef(),n=r.useRef(),[f,m]=r.useState({isDirty:!1,isValidating:!1,isLoading:P(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:P(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...function(e={}){let t,n={...es,...e},r={submitCount:0,isDirty:!1,isLoading:P(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},f={},m=(a(n.defaultValues)||a(n.values))&&c(n.defaultValues||n.values)||{},v=n.shouldUnregister?{}:c(m),y={action:!1,mount:!1,watch:!1},b={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w=0,_={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={values:$(),array:$(),state:$()},C=R(n.mode),x=R(n.reValidateMode),T="all"===n.criteriaMode,S=async e=>{if(_.isValid||e){let e=n.resolver?B((await j()).errors):await Q(f,!0);e!==r.isValid&&E.state.next({isValid:e})}},k=(e,t)=>{(_.isValidating||_.validatingFields)&&((e||Array.from(b.mount)).forEach(e=>{e&&(t?p(r.validatingFields,e,t):q(r.validatingFields,e))}),E.state.next({validatingFields:r.validatingFields,isValidating:!B(r.validatingFields)}))},D=(e,t,n,r)=>{let i=h(f,e);if(i){let o=h(v,e,d(n)?h(m,e):n);d(o)||r&&r.defaultChecked||t?p(v,e,t?o:ei(i._f)):K(e,o),y.mount&&S()}},O=(e,t,n,i,o)=>{let a=!1,s=!1,l={name:e},u=!!(h(f,e)&&h(f,e)._f.disabled);if(!n||i){_.isDirty&&(s=r.isDirty,r.isDirty=l.isDirty=H(),a=s!==l.isDirty);let n=u||J(h(m,e),t);s=!!(!u&&h(r.dirtyFields,e)),n||u?q(r.dirtyFields,e):p(r.dirtyFields,e,!0),l.dirtyFields=r.dirtyFields,a=a||_.dirtyFields&&!n!==s}if(n){let t=h(r.touchedFields,e);t||(p(r.touchedFields,e,n),l.touchedFields=r.touchedFields,a=a||_.touchedFields&&t!==n)}return a&&o&&E.state.next(l),a?l:{}},j=async e=>{k(e,!0);let t=await n.resolver(v,n.context,((e,t,n,r)=>{let i={};for(let n of e){let e=h(t,n);e&&p(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||b.mount,f,n.criteriaMode,n.shouldUseNativeValidation));return k(e),t},Z=async e=>{let{errors:t}=await j(e);if(e)for(let n of e){let e=h(t,n);e?p(r.errors,n,e):q(r.errors,n)}else r.errors=t;return t},Q=async(e,t,i={valid:!0})=>{for(let o in e){let a=e[o];if(a){let{_f:e,...s}=a;if(e){let s=b.array.has(e.name);k([o],!0);let l=await W(a,v,T,n.shouldUseNativeValidation&&!t,s);if(k([o]),l[e.name]&&(i.valid=!1,t))break;t||(h(l,e.name)?s?U(r.errors,l,e.name):p(r.errors,e.name,l[e.name]):q(r.errors,e.name))}s&&await Q(s,t,i)}}return i.valid},H=(e,t)=>(e&&t&&p(v,e,t),!J(eu(),m)),V=(e,t,n)=>N(e,b,{...y.mount?v:d(t)?m:"string"==typeof e?{[e]:t}:t},n,t),K=(e,t,n={})=>{let r=h(f,e),i=t;if(r){let n=r._f;n&&(n.disabled||p(v,e,er(t,n)),i=M(n.ref)&&o(t)?"":t,"select-multiple"===n.ref.type?[...n.ref.options].forEach(e=>e.selected=i.includes(e.value)):n.refs?"checkbox"===n.ref.type?n.refs.length>1?n.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find(t=>t===e.value):i===e.value)):n.refs[0]&&(n.refs[0].checked=!!i):n.refs.forEach(e=>e.checked=e.value===i):"file"===n.ref.type?n.ref.value="":(n.ref.value=i,n.ref.type||E.values.next({name:e,values:{...v}})))}(n.shouldDirty||n.shouldTouch)&&O(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&el(e)},z=(e,t,n)=>{for(let r in t){let o=t[r],a=`${e}.${r}`,s=h(f,a);!b.array.has(e)&&Y(o)&&(!s||s._f)||i(o)?K(a,o,n):z(a,o,n)}},G=(e,t,n={})=>{let i=h(f,e),a=b.array.has(e),s=c(t);p(v,e,s),a?(E.array.next({name:e,values:{...v}}),(_.isDirty||_.dirtyFields)&&n.shouldDirty&&E.state.next({name:e,dirtyFields:en(m,v),isDirty:H(e,s)})):!i||i._f||o(s)?K(e,s,n):z(e,s,n),F(e,b)&&E.state.next({...r}),E.values.next({name:y.mount?e:void 0,values:{...v}})},ee=async i=>{y.mount=!0;let o=i.target,a=o.name,l=!0,u=h(f,a),c=e=>{l=Number.isNaN(e)||e===h(v,a,e)};if(u){var A,d,m,I,N;let y,U,P,M=o.type?ei(u._f):s(i),Z=i.type===g||"focusout"===i.type,H=!((P=u._f).mount&&(P.required||P.min||P.max||P.maxLength||P.minLength||P.pattern||P.validate))&&!n.resolver&&!h(r.errors,a)&&!u._f.deps||(A=Z,d=h(r.touchedFields,a),m=r.isSubmitted,I=x,!(N=C).isOnAll&&(!m&&N.isOnTouch?!(d||A):(m?I.isOnBlur:N.isOnBlur)?!A:(m?!I.isOnChange:!N.isOnChange)||A)),V=F(a,b,Z);p(v,a,M),Z?(u._f.onBlur&&u._f.onBlur(i),t&&t(0)):u._f.onChange&&u._f.onChange(i);let K=O(a,M,Z,!1),z=!B(K)||V;if(Z||E.values.next({name:a,type:i.type,values:{...v}}),H)return _.isValid&&S(),z&&E.state.next({name:a,...V?{}:K});if(!Z&&V&&E.state.next({...r}),n.resolver){let{errors:e}=await j([a]);if(c(M),l){let t=ea(r.errors,f,a),n=ea(e,f,t.name||a);y=n.error,a=n.name,U=B(e)}}else k([a],!0),y=(await W(u,v,T,n.shouldUseNativeValidation))[a],k([a]),c(M),l&&(y?U=!1:_.isValid&&(U=await Q(f,!0)));if(l){u._f.deps&&el(u._f.deps);var D=a,R=U,L=y;let n=h(r.errors,D),i=_.isValid&&"boolean"==typeof R&&r.isValid!==R;if(e.delayError&&L){let n;n=()=>{p(r.errors,D,L),E.state.next({errors:r.errors})},(t=e=>{clearTimeout(w),w=setTimeout(n,e)})(e.delayError)}else clearTimeout(w),t=null,L?p(r.errors,D,L):q(r.errors,D);if((L?!J(n,L):n)||!B(K)||i){let e={...K,...i&&"boolean"==typeof R?{isValid:R}:{},errors:r.errors,name:D};r={...r,...e},E.state.next(e)}}}},et=(e,t)=>{if(h(r.errors,t)&&e.focus)return e.focus(),1},el=async(e,t={})=>{let i,o,a=I(e);if(n.resolver){let t=await Z(d(e)?e:a);i=B(t),o=e?!a.some(e=>h(t,e)):i}else e?((o=(await Promise.all(a.map(async e=>{let t=h(f,e);return await Q(t&&t._f?{[e]:t}:t)}))).every(Boolean))||r.isValid)&&S():o=i=await Q(f);return E.state.next({..."string"!=typeof e||_.isValid&&i!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:i}:{},errors:r.errors}),t.shouldFocus&&!o&&L(f,et,e?a:b.mount),o},eu=e=>{let t={...y.mount?v:m};return d(e)?t:"string"==typeof e?h(t,e):e.map(e=>h(t,e))},ec=(e,t)=>({invalid:!!h((t||r).errors,e),isDirty:!!h((t||r).dirtyFields,e),isTouched:!!h((t||r).touchedFields,e),isValidating:!!h((t||r).validatingFields,e),error:h((t||r).errors,e)}),eA=(e,t,n)=>{let i=(h(f,e,{_f:{}})._f||{}).ref,{ref:o,message:a,type:s,...l}=h(r.errors,e)||{};p(r.errors,e,{...l,...t,ref:i}),E.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},ed=(e,t={})=>{for(let i of e?I(e):b.mount)b.mount.delete(i),b.array.delete(i),t.keepValue||(q(f,i),q(v,i)),t.keepError||q(r.errors,i),t.keepDirty||q(r.dirtyFields,i),t.keepTouched||q(r.touchedFields,i),t.keepIsValidating||q(r.validatingFields,i),n.shouldUnregister||t.keepDefaultValue||q(m,i);E.values.next({values:{...v}}),E.state.next({...r,...!t.keepDirty?{}:{isDirty:H()}}),t.keepIsValid||S()},eh=({disabled:e,name:t,field:n,fields:r,value:i})=>{if("boolean"==typeof e&&y.mount||e){let o=e?void 0:d(i)?ei(n?n._f:h(r,t)._f):i;p(v,t,o),O(t,o,!1,!1,!0)}},ef=(e,t={})=>{let r=h(f,e),i="boolean"==typeof t.disabled;return p(f,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),b.mount.add(e),r?eh({field:r,disabled:t.disabled,name:e,value:t.value}):D(e,!0,t.value),{...i?{disabled:t.disabled}:{},...n.progressive?{required:!!t.required,min:eo(t.min),max:eo(t.max),minLength:eo(t.minLength),maxLength:eo(t.maxLength),pattern:eo(t.pattern)}:{},name:e,onChange:ee,onBlur:ee,ref:i=>{if(i){let n;ef(e,t),r=h(f,e);let o=d(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,a="radio"===(n=o).type||"checkbox"===n.type,s=r._f.refs||[];(a?s.find(e=>e===o):o===r._f.ref)||(p(f,e,{_f:{...r._f,...a?{refs:[...s.filter(X),o,...Array.isArray(h(m,e))?[{}]:[]],ref:{type:o.type,name:e}}:{ref:o}}}),D(e,!1,void 0,o))}else(r=h(f,e,{}))._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&!(l(b.array,e)&&y.action)&&b.unMount.add(e)}}},ep=()=>n.shouldFocusError&&L(f,et,b.mount),eg=(e,t)=>async i=>{let o;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let a=c(v);if(E.state.next({isSubmitting:!0}),n.resolver){let{errors:e,values:t}=await j();r.errors=e,a=t}else await Q(f);if(q(r.errors,"root"),B(r.errors)){E.state.next({errors:{}});try{await e(a,i)}catch(e){o=e}}else t&&await t({...r.errors},i),ep(),setTimeout(ep);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},em=(t,n={})=>{let i=t?c(t):m,o=c(i),a=B(t),s=a?m:o;if(n.keepDefaultValues||(m=i),!n.keepValues){if(n.keepDirtyValues)for(let e of b.mount)h(r.dirtyFields,e)?p(s,e,h(v,e)):G(e,h(s,e));else{if(u&&d(t))for(let e of b.mount){let t=h(f,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(M(e)){let t=e.closest("form");if(t){t.reset();break}}}}f={}}v=e.shouldUnregister?n.keepDefaultValues?c(m):{}:c(s),E.array.next({values:{...s}}),E.values.next({values:{...s}})}b={mount:n.keepDirtyValues?b.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!_.isValid||!!n.keepIsValid||!!n.keepDirtyValues,y.watch=!!e.shouldUnregister,E.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!a&&(n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!J(t,m))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:a?[]:n.keepDirtyValues?n.keepDefaultValues&&v?en(m,v):r.dirtyFields:n.keepDefaultValues&&t?en(m,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},ev=(e,t)=>em(P(e)?e(v):e,t);return{control:{register:ef,unregister:ed,getFieldState:ec,handleSubmit:eg,setError:eA,_executeSchema:j,_getWatch:V,_getDirty:H,_updateValid:S,_removeUnmounted:()=>{for(let e of b.unMount){let t=h(f,e);t&&(t._f.refs?t._f.refs.every(e=>!X(e)):!X(t._f.ref))&&ed(e)}b.unMount=new Set},_updateFieldArray:(e,t=[],n,i,o=!0,a=!0)=>{if(i&&n){if(y.action=!0,a&&Array.isArray(h(f,e))){let t=n(h(f,e),i.argA,i.argB);o&&p(f,e,t)}if(a&&Array.isArray(h(r.errors,e))){let t,a=n(h(r.errors,e),i.argA,i.argB);o&&p(r.errors,e,a),A(h(t=r.errors,e)).length||q(t,e)}if(_.touchedFields&&a&&Array.isArray(h(r.touchedFields,e))){let t=n(h(r.touchedFields,e),i.argA,i.argB);o&&p(r.touchedFields,e,t)}_.dirtyFields&&(r.dirtyFields=en(m,v)),E.state.next({name:e,isDirty:H(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else p(v,e,t)},_updateDisabledField:eh,_getFieldArray:t=>A(h(y.mount?v:m,t,e.shouldUnregister?h(m,t,[]):[])),_reset:em,_resetDefaultValues:()=>P(n.defaultValues)&&n.defaultValues().then(e=>{ev(e,n.resetOptions),E.state.next({isLoading:!1})}),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{"boolean"==typeof e&&(E.state.next({disabled:e}),L(f,(t,n)=>{let r=h(f,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:E,_proxyFormState:_,_setErrors:e=>{r.errors=e,E.state.next({errors:r.errors,isValid:!1})},get _fields(){return f},get _formValues(){return v},get _state(){return y},set _state(value){y=value},get _defaultValues(){return m},get _names(){return b},set _names(value){b=value},get _formState(){return r},set _formState(value){r=value},get _options(){return n},set _options(value){n={...n,...value}}},trigger:el,register:ef,handleSubmit:eg,watch:(e,t)=>P(e)?E.values.subscribe({next:n=>e(V(void 0,t),n)}):V(e,t,!0),setValue:G,getValues:eu,reset:ev,resetField:(e,t={})=>{h(f,e)&&(d(t.defaultValue)?G(e,c(h(m,e))):(G(e,t.defaultValue),p(m,e,c(t.defaultValue))),t.keepTouched||q(r.touchedFields,e),t.keepDirty||(q(r.dirtyFields,e),r.isDirty=t.defaultValue?H(e,c(h(m,e))):H()),!t.keepError&&(q(r.errors,e),_.isValid&&S()),E.state.next({...r}))},clearErrors:e=>{e&&I(e).forEach(e=>q(r.errors,e)),E.state.next({errors:e?r.errors:{}})},unregister:ed,setError:eA,setFocus:(e,t={})=>{let n=h(f,e),r=n&&n._f;if(r){let e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:ec}}(e),formState:f});let v=t.current.control;return v._options=e,S({subject:v._subjects.state,next:e=>{x(e,v._proxyFormState,v._updateFormState,!0)&&m({...v._formState})}}),r.useEffect(()=>v._disableForm(e.disabled),[v,e.disabled]),r.useEffect(()=>{if(v._proxyFormState.isDirty){let e=v._getDirty();e!==f.isDirty&&v._subjects.state.next({isDirty:e})}},[v,f.isDirty]),r.useEffect(()=>{e.values&&!J(e.values,n.current)?(v._reset(e.values,v._options.resetOptions),n.current=e.values,m(e=>({...e}))):v._resetDefaultValues()},[e.values,v]),r.useEffect(()=>{e.errors&&v._setErrors(e.errors)},[e.errors,v]),r.useEffect(()=>{v._state.mount||(v._updateValid(),v._state.mount=!0),v._state.watch&&(v._state.watch=!1,v._subjects.state.next({...v._formState})),v._removeUnmounted()}),r.useEffect(()=>{e.shouldUnregister&&v._subjects.values.next({values:v._getWatch()})},[e.shouldUnregister,v]),t.current.formState=C(f,v),t.current}},62202:function(e,t,n){"use strict";let r,i;n.d(t,{x7:function(){return $},ZP:function(){return Y},Am:function(){return N}});var o,a=n(2784);let s={data:""},l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,u=/\/\*[^]*?\*\/|  +/g,c=/\n+/g,A=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?A(a,o):o+"{"+A(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=A(a,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=A.p?A.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},d={},h=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+h(e[n]);return t}return e};function f(e){let t,n,r=this||{},i=e.call?e(r.p):e;return((e,t,n,r,i)=>{var o;let a=h(e),s=d[a]||(d[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!d[s]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=l.exec(e.replace(u,""));)t[4]?r.shift():t[3]?(n=t[3].replace(c," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(c," ").trim();return r[0]})(e);d[s]=A(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let f=n&&d.g?d.g:null;return n&&(d.g=d[s]),o=d[s],f?t.data=t.data.replace(f,o):-1===t.data.indexOf(o)&&(t.data=r?o+t.data:t.data+o),s})(i.unshift?i.raw?(t=[].slice.call(arguments,1),n=r.p,i.reduce((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":A(e,""):!1===e?"":e}return e+r+(null==o?"":o)},"")):i.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):i,(e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||s})(r.target),r.g,r.o,r.k)}f.bind({g:1});let p,g,m,v=f.bind({k:1});function y(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:g&&g()},s),n.o=/ *go\d+/.test(l),s.className=f.apply(n,r)+(l?" "+l:""),t&&(s.ref=a);let u=e;return e[0]&&(u=s.as||e,delete s.as),m&&u[0]&&m(s),p(u,s)}return t?t(i):i}}var b=(e,t)=>"function"==typeof e?e(t):e,w=(r=0,()=>(++r).toString()),_=()=>{if(void 0===i&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i},E=new Map,C=e=>{if(E.has(e))return;let t=setTimeout(()=>{E.delete(e),T({type:4,toastId:e})},1e3);E.set(e,t)},B=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:var n;let r;return t.toast.id&&(n=t.toast.id,(r=E.get(n))&&clearTimeout(r)),{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:i}=t;return e.toasts.find(e=>e.id===i.id)?B(e,{type:1,toast:i}):B(e,{type:0,toast:i});case 3:let{toastId:o}=t;return o?C(o):e.toasts.forEach(e=>{C(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===o||void 0===o?{...e,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},x=[],I={toasts:[],pausedAt:void 0},T=e=>{I=B(I,e),x.forEach(e=>{e(I)})},S={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},k=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||w()}))(t,e,n);return T({type:2,toast:r}),r.id},N=(e,t)=>k("blank")(e,t);N.error=k("error"),N.success=k("success"),N.loading=k("loading"),N.custom=k("custom"),N.dismiss=e=>{T({type:3,toastId:e})},N.remove=e=>T({type:4,toastId:e}),N.promise=(e,t,n)=>{let r=N.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then(e=>(N.success(b(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e)).catch(e=>{N.error(b(t.error,e),{id:r,...n,...null==n?void 0:n.error})}),e};var D=v`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,O=v`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R=v`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,F=y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${O} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${R} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,L=v`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,U=y("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${L} 1s linear infinite;
`,P=v`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,M=v`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,j=y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${M} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Z=y("div")`
  position: absolute;
`,Q=y("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,H=v`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,V=y("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${H} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,K=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?a.createElement(V,null,t):t:"blank"===n?null:a.createElement(Q,null,a.createElement(U,{...r}),"loading"!==n&&a.createElement(Z,null,"error"===n?a.createElement(F,{...r}):a.createElement(j,{...r})))},z=y("div",a.forwardRef)`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,G=y("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,W=a.memo(({toast:e,position:t,style:n,children:r})=>{let i=null!=e&&e.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=_()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[`
0% {transform: translate3d(0,${-200*n}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*n}%,-1px) scale(.6); opacity:0;}
`];return{animation:t?`${v(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${v(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},o=a.createElement(K,{toast:e}),s=a.createElement(G,{...e.ariaProps},b(e.message,e));return a.createElement(z,{className:e.className,style:{...i,...n,...e.style}},"function"==typeof r?r({icon:o,message:s}):a.createElement(a.Fragment,null,o,s))});o=a.createElement,A.p=void 0,p=o,g=void 0,m=void 0;var q=f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:l,handlers:u}=(e=>{let{toasts:t,pausedAt:n}=((e={})=>{let[t,n]=(0,a.useState)(I);(0,a.useEffect)(()=>(x.push(n),()=>{let e=x.indexOf(n);e>-1&&x.splice(e,1)}),[t]);let r=t.toasts.map(t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||S[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}});return{...t,toasts:r}})(e);(0,a.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(n<0){t.visible&&N.dismiss(t.id);return}return setTimeout(()=>N.dismiss(t.id),n)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,a.useMemo)(()=>({startPause:()=>{T({type:5,time:Date.now()})},endPause:()=>{n&&T({type:6,time:Date.now()})},updateHeight:(e,t)=>T({type:1,toast:{id:e,height:t}}),calculateOffset:(e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},a=t.filter(t=>(t.position||o)===(e.position||o)&&t.height),s=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<s&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)}}),[t,n]);return{toasts:t,handlers:r}})(n);return a.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(n=>{let o,s,l,c=n.position||t,A=u.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t}),d=(o=c.includes("top"),s=c.includes("center")?{justifyContent:"center"}:c.includes("right")?{justifyContent:"flex-end"}:{},{left:0,right:0,display:"flex",position:"absolute",transition:_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${A*(o?1:-1)}px)`,...o?{top:0}:{bottom:0},...s}),h=n.height?void 0:(l=e=>{u.updateHeight(n.id,e.height)},e=>{e&&setTimeout(()=>{l(e.getBoundingClientRect())})});return a.createElement("div",{ref:h,className:n.visible?q:"",key:n.id,style:d},"custom"===n.type?b(n.message,n):i?i(n):a.createElement(W,{toast:n,position:c}))}))},Y=N},87583:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(2784),i=n(93122),o=n(93221),a=function(){return o.Z.Date.now()},s=n(62875),l=Math.max,u=Math.min,c=function(e,t,n){var r,o,c,A,d,h,f=0,p=!1,g=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=r,i=o;return r=o=void 0,f=t,A=e.apply(i,n)}function y(e){var n=e-h,r=e-f;return void 0===h||n>=t||n<0||g&&r>=c}function b(){var e,n,r,i=a();if(y(i))return w(i);d=setTimeout(b,(e=i-h,n=i-f,r=t-e,g?u(r,c-n):r))}function w(e){return(d=void 0,m&&r)?v(e):(r=o=void 0,A)}function _(){var e,n=a(),i=y(n);if(r=arguments,o=this,h=n,i){if(void 0===d)return f=e=h,d=setTimeout(b,t),p?v(e):A;if(g)return clearTimeout(d),d=setTimeout(b,t),v(h)}return void 0===d&&(d=setTimeout(b,t)),A}return t=(0,s.Z)(t)||0,(0,i.Z)(n)&&(p=!!n.leading,c=(g="maxWait"in n)?l((0,s.Z)(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==d&&clearTimeout(d),f=0,r=h=o=d=void 0},_.flush=function(){return void 0===d?A:w(a())},_},A=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw TypeError("Expected a function");return(0,i.Z)(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),c(e,t,{leading:r,maxWait:t,trailing:o})},d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function h(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function f(e){return e&&e.ownerDocument?e.ownerDocument:document}var p=function(e){return Array.prototype.reduce.call(e,function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,function(e,t){return t.toUpperCase()});switch(t.value){case"true":case void 0:e[r]=!0;break;case"false":e[r]=!1;break;default:e[r]=t.value}}return e},{})};function g(e,t){var n;e&&(n=e.classList).add.apply(n,t.split(" "))}function m(e,t){e&&t.split(" ").forEach(function(t){e.classList.remove(t)})}function v(e){return".".concat(e.split(" ").join("."))}var y=!!("undefined"!=typeof window&&window.document&&window.document.createElement),b=Object.freeze({__proto__:null,addClasses:g,canUseDOM:y,classNamesToQuery:v,getElementDocument:f,getElementWindow:h,getOptions:p,removeClasses:m}),w=null,_=null;function E(){if(null===w){if("undefined"==typeof document)return w=0;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var n=t.getBoundingClientRect().right;e.removeChild(t),w=n}return w}y&&window.addEventListener("resize",function(){_!==window.devicePixelRatio&&(_=window.devicePixelRatio,w=null)});var C=function(){function e(t,n){void 0===n&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var e=h(r.el);r.scrollXTicking||(e.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(e.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,g(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){m(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(g(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){m(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(e){var t,n;r.axis.x.track.el&&r.axis.y.track.el&&r.axis.x.scrollbar.el&&r.axis.y.scrollbar.el&&(r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(t=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(n=r.isWithinBounds(r.axis.y.track.rect)),(t||n)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(t&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(e,"x"):r.onTrackClick(e,"x")),n&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(e,"y"):r.onTrackClick(e,"y")))))},this.drag=function(t){if(r.draggedAxis&&r.contentWrapperEl){var n,i,o,a,s,l,u,c,A,d,h,f=r.axis[r.draggedAxis].track,p=null!=(i=null==(n=f.rect)?void 0:n[r.axis[r.draggedAxis].sizeAttr])?i:0,g=r.axis[r.draggedAxis].scrollbar,m=null!=(a=null==(o=r.contentWrapperEl)?void 0:o[r.axis[r.draggedAxis].scrollSizeAttr])?a:0,v=parseInt(null!=(l=null==(s=r.elStyles)?void 0:s[r.axis[r.draggedAxis].sizeAttr])?l:"0px",10);t.preventDefault(),t.stopPropagation();var y=("y"===r.draggedAxis?t.pageY:t.pageX)-(null!=(c=null==(u=f.rect)?void 0:u[r.axis[r.draggedAxis].offsetAttr])?c:0)-r.axis[r.draggedAxis].dragOffset,b=(y="x"===r.draggedAxis&&r.isRtl?(null!=(d=null==(A=f.rect)?void 0:A[r.axis[r.draggedAxis].sizeAttr])?d:0)-g.size-y:y)/(p-g.size)*(m-v);"x"===r.draggedAxis&&r.isRtl&&(b=(null==(h=e.getRtlHelpers())?void 0:h.isScrollingToNegative)?-b:b),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=b}},this.onEndDrag=function(e){r.isDragging=!1;var t=f(r.el),n=h(r.el);e.preventDefault(),e.stopPropagation(),m(r.el,r.classNames.dragging),r.onStopScrolling(),t.removeEventListener("mousemove",r.drag,!0),t.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=n.setTimeout(function(){t.removeEventListener("click",r.preventClick,!0),t.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=d(d({},e.defaultOptions),n),this.classNames=d(d({},e.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=A(this._onMouseMove,64),this.onWindowResize=c(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=c(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=c(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=t.firstElementChild,r=null==n?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var i=e.getOffset(n),o=e.getOffset(r);n.scrollLeft=-999;var a=e.getOffset(r);return document.body.removeChild(n),e.rtlHelpers={isScrollOriginAtZero:i.left!==o.left,isScrollingToNegative:o.left!==a.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{if(this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style)return 0;return E()}catch(e){return E()}},e.getOffset=function(e){var t=e.getBoundingClientRect(),n=f(e),r=h(e);return{top:t.top+(r.pageYOffset||n.documentElement.scrollTop),left:t.left+(r.pageXOffset||n.documentElement.scrollLeft)}},e.prototype.init=function(){y&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var e,t;this.wrapperEl=this.el.querySelector(v(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(v(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(v(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(v(this.classNames.offset)),this.maskEl=this.el.querySelector(v(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,v(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(v(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(v(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(v(this.classNames.track)).concat(v(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(v(this.classNames.track)).concat(v(this.classNames.vertical))),this.axis.x.scrollbar.el=(null==(e=this.axis.x.track.el)?void 0:e.querySelector(v(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null==(t=this.axis.y.track.el)?void 0:t.querySelector(v(this.classNames.scrollbar)))||null,this.options.autoHide||(g(this.axis.x.scrollbar.el,this.classNames.visible),g(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var e,t=this,n=h(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null==(e=this.contentWrapperEl)||e.addEventListener("scroll",this.onScroll),n.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var r=!1,i=n.ResizeObserver||ResizeObserver;this.resizeObserver=new i(function(){r&&n.requestAnimationFrame(function(){t.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),n.requestAnimationFrame(function(){r=!0})}this.mutationObserver=new n.MutationObserver(function(){n.requestAnimationFrame(function(){t.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var e=h(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.contentEl.offsetWidth,n=this.heightAutoObserverEl.offsetHeight<=1,r=this.heightAutoObserverEl.offsetWidth<=1||t>0,i=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,a=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var s=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=n?"auto":"100%",this.placeholderEl.style.width=r?"".concat(t||l,"px"):"auto",this.placeholderEl.style.height="".concat(s,"px");var u=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==t&&l>t,this.axis.y.isOverflowing=s>u,this.axis.x.isOverflowing="hidden"!==o&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==a&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var c=this.axis.x.isOverflowing?this.scrollbarWidth:0,A=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>i-A,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&s>u-c,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(e){if(void 0===e&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var t,n,r,i=this.contentEl[this.axis[e].scrollSizeAttr],o=null!=(n=null==(t=this.axis[e].track.el)?void 0:t[this.axis[e].offsetSizeAttr])?n:0;return r=Math.max(~~(o/i*o),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(r=Math.min(r,this.options.scrollbarMaxSize)),r},e.prototype.positionScrollbar=function(t){void 0===t&&(t="y");var n,r,i,o=this.axis[t].scrollbar;if(this.axis[t].isOverflowing&&this.contentWrapperEl&&o.el&&this.elStyles){var a=this.contentWrapperEl[this.axis[t].scrollSizeAttr],s=(null==(n=this.axis[t].track.el)?void 0:n[this.axis[t].offsetSizeAttr])||0,l=parseInt(this.elStyles[this.axis[t].sizeAttr],10),u=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];u="x"===t&&this.isRtl&&(null==(r=e.getRtlHelpers())?void 0:r.isScrollOriginAtZero)?-u:u,"x"===t&&this.isRtl&&(u=(null==(i=e.getRtlHelpers())?void 0:i.isScrollingToNegative)?u:-u);var c=u/(a-l),A=~~((s-o.size)*c);A="x"===t&&this.isRtl?-A+(s-o.size):A,o.el.style.transform="x"===t?"translate3d(".concat(A,"px, 0, 0)"):"translate3d(0, ".concat(A,"px, 0)")}},e.prototype.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,n=this.axis[e].scrollbar.el;t&&n&&this.contentWrapperEl&&(this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none")},e.prototype.showScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(g(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(e){void 0===e&&(e="y"),!this.isDragging&&this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(m(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(e){void 0===e&&(e="y");var t=this.axis[e];t.track.el&&t.scrollbar.el&&(t.track.rect=t.track.el.getBoundingClientRect(),t.scrollbar.rect=t.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(t.track.rect)?(this.showScrollbar(e),g(t.track.el,this.classNames.hover),this.isWithinBounds(t.scrollbar.rect)?g(t.scrollbar.el,this.classNames.hover):m(t.scrollbar.el,this.classNames.hover)):(m(t.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),m(this.axis[e].track.el,this.classNames.hover),m(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},e.prototype.onDragStart=function(e,t){void 0===t&&(t="y"),this.isDragging=!0;var n,r=f(this.el),i=h(this.el),o=this.axis[t].scrollbar,a="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=a-((null==(n=o.rect)?void 0:n[this.axis[t].offsetAttr])||0),this.draggedAxis=t,g(this.el,this.classNames.dragging),r.addEventListener("mousemove",this.drag,!0),r.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(r.addEventListener("click",this.preventClick,!0),r.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(e,t){var n,r,i,o,a=this;void 0===t&&(t="y");var s=this.axis[t];if(this.options.clickOnTrack&&s.scrollbar.el&&this.contentWrapperEl){e.preventDefault();var l=h(this.el);this.axis[t].scrollbar.rect=s.scrollbar.el.getBoundingClientRect();var u=null!=(r=null==(n=this.axis[t].scrollbar.rect)?void 0:n[this.axis[t].offsetAttr])?r:0,c=parseInt(null!=(o=null==(i=this.elStyles)?void 0:i[this.axis[t].sizeAttr])?o:"0px",10),A=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],d=("y"===t?this.mouseY-u:this.mouseX-u)<0?-1:1,f=-1===d?A-c:A+c,p=function(){a.contentWrapperEl&&(-1===d?A>f&&(A-=40,a.contentWrapperEl[a.axis[t].scrollOffsetAttr]=A,l.requestAnimationFrame(p)):A<f&&(A+=40,a.contentWrapperEl[a.axis[t].scrollOffsetAttr]=A,l.requestAnimationFrame(p)))};p()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=h(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.prototype.findChild=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(e){return n.call(e,t)})[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=p,e.helpers=b,e}(),B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},x=r.forwardRef(function(e,t){var n=e.children,i=e.scrollableNodeProps,o=void 0===i?{}:i,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(e,["children","scrollableNodeProps"]),s=r.useRef(),l=r.useRef(),u=r.useRef(),c={},A={};Object.keys(a).forEach(function(e){Object.prototype.hasOwnProperty.call(C.defaultOptions,e)?c[e]=a[e]:A[e]=a[e]});var d=B(B({},C.defaultOptions.classNames),c.classNames),h=B(B({},o),{className:"".concat(d.contentWrapper).concat(o.className?" ".concat(o.className):""),tabIndex:c.tabIndex||C.defaultOptions.tabIndex,role:"region","aria-label":c.ariaLabel||C.defaultOptions.ariaLabel});return r.useEffect(function(){var e;return l.current=h.ref?h.ref.current:l.current,s.current&&(e=new C(s.current,B(B(B({},c),l.current&&{scrollableNode:l.current}),u.current&&{contentNode:u.current})),"function"==typeof t?t(e):t&&(t.current=e)),function(){null==e||e.unMount(),e=null,"function"==typeof t&&t(null)}},[]),r.createElement("div",B({"data-simplebar":"init",ref:s},A),r.createElement("div",{className:d.wrapper},r.createElement("div",{className:d.heightAutoObserverWrapperEl},r.createElement("div",{className:d.heightAutoObserverEl})),r.createElement("div",{className:d.mask},r.createElement("div",{className:d.offset},"function"==typeof n?n({scrollableNodeRef:l,scrollableNodeProps:B(B({},h),{ref:l}),contentNodeRef:u,contentNodeProps:{className:d.contentEl,ref:u}}):r.createElement("div",B({},h),r.createElement("div",{className:d.contentEl},n)))),r.createElement("div",{className:d.placeholder})),r.createElement("div",{className:"".concat(d.track," ").concat(d.horizontal)},r.createElement("div",{className:d.scrollbar})),r.createElement("div",{className:"".concat(d.track," ").concat(d.vertical)},r.createElement("div",{className:d.scrollbar})))});x.displayName="SimpleBar"},21987:function(e,t,n){"use strict";n.d(t,{Sz:function(){return d},kr:function(){return A},qp:function(){return h}});var r=n(2784),i=n(14616),o=n(28316);n(34406);let a=Symbol(),s=Symbol(),l="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,u=i.unstable_runWithPriority?e=>{try{(0,i.unstable_runWithPriority)(i.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),c=e=>e;function A(e){var t;let n=(0,r.createContext)({[a]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return n[s]=n.Provider,t=n.Provider,n.Provider=({value:e,children:n})=>{let i=(0,r.useRef)(e),s=(0,r.useRef)(0),[c,A]=(0,r.useState)(null);c&&(c(e),A(null));let d=(0,r.useRef)();if(!d.current){let e=new Set;d.current={[a]:{v:i,n:s,l:e,u:(t,n)=>{(0,o.unstable_batchedUpdates)(()=>{s.current+=1;let r={n:s.current};null!=n&&n.suspense&&(r.n*=-1,r.p=new Promise(e=>{A(()=>t=>{r.v=t,delete r.p,e(t)})})),e.forEach(e=>e(r)),t()})}}}}return l(()=>{i.current=e,s.current+=1,u(()=>{d.current[a].l.forEach(t=>{t({n:s.current,v:e})})})},[e]),(0,r.createElement)(t,{value:d.current},n)},delete n.Consumer,n}function d(e,t){let{v:{current:n},n:{current:i},l:o}=(0,r.useContext)(e)[a],s=t(n),[u,c]=(0,r.useReducer)((e,r)=>{if(!r)return[n,s];if("p"in r)throw r.p;if(r.n===i)return Object.is(e[1],s)?e:[n,s];try{if("v"in r){if(Object.is(e[0],r.v))return e;let n=t(r.v);if(Object.is(e[1],n))return e;return[r.v,n]}}catch(e){}return[...e]},[n,s]);return Object.is(u[1],s)||c(),l(()=>(o.add(c),()=>{o.delete(c)}),[o]),u[1]}function h(e){return d(e,c)}},96603:function(e){"use strict";e.exports=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":{"4":"#ced4da","8":"#343a40"},"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')}},function(e){var t=function(t){return e(e.s=t)};_N_E=(t(86570),t(93642))}]);